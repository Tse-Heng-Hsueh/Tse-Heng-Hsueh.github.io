(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function e(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=e(i);fetch(i.href,s)}})();function Nm(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var aM={exports:{}},n0={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kT;function IO(){if(kT)return n0;kT=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(n,i,s){var l=null;if(s!==void 0&&(l=""+s),i.key!==void 0&&(l=""+i.key),"key"in i){s={};for(var u in i)u!=="key"&&(s[u]=i[u])}else s=i;return i=s.ref,{$$typeof:r,type:n,key:l,ref:i!==void 0?i:null,props:s}}return n0.Fragment=t,n0.jsx=e,n0.jsxs=e,n0}var YT;function PO(){return YT||(YT=1,aM.exports=IO()),aM.exports}var fe=PO(),sM={exports:{}},pn={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qT;function FO(){if(qT)return pn;qT=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),_=Symbol.iterator;function y(I){return I===null||typeof I!="object"?null:(I=_&&I[_]||I["@@iterator"],typeof I=="function"?I:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,T={};function E(I,nt,gt){this.props=I,this.context=nt,this.refs=T,this.updater=gt||x}E.prototype.isReactComponent={},E.prototype.setState=function(I,nt){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,nt,"setState")},E.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function b(){}b.prototype=E.prototype;function w(I,nt,gt){this.props=I,this.context=nt,this.refs=T,this.updater=gt||x}var D=w.prototype=new b;D.constructor=w,M(D,E.prototype),D.isPureReactComponent=!0;var B=Array.isArray,L={H:null,A:null,T:null,S:null,V:null},P=Object.prototype.hasOwnProperty;function H(I,nt,gt,bt,St,ft){return gt=ft.ref,{$$typeof:r,type:I,key:nt,ref:gt!==void 0?gt:null,props:ft}}function F(I,nt){return H(I.type,nt,void 0,void 0,void 0,I.props)}function O(I){return typeof I=="object"&&I!==null&&I.$$typeof===r}function U(I){var nt={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(gt){return nt[gt]})}var V=/\/+/g;function Q(I,nt){return typeof I=="object"&&I!==null&&I.key!=null?U(""+I.key):nt.toString(36)}function et(){}function rt(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(et,et):(I.status="pending",I.then(function(nt){I.status==="pending"&&(I.status="fulfilled",I.value=nt)},function(nt){I.status==="pending"&&(I.status="rejected",I.reason=nt)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function ut(I,nt,gt,bt,St){var ft=typeof I;(ft==="undefined"||ft==="boolean")&&(I=null);var Mt=!1;if(I===null)Mt=!0;else switch(ft){case"bigint":case"string":case"number":Mt=!0;break;case"object":switch(I.$$typeof){case r:case t:Mt=!0;break;case g:return Mt=I._init,ut(Mt(I._payload),nt,gt,bt,St)}}if(Mt)return St=St(I),Mt=bt===""?"."+Q(I,0):bt,B(St)?(gt="",Mt!=null&&(gt=Mt.replace(V,"$&/")+"/"),ut(St,nt,gt,"",function($t){return $t})):St!=null&&(O(St)&&(St=F(St,gt+(St.key==null||I&&I.key===St.key?"":(""+St.key).replace(V,"$&/")+"/")+Mt)),nt.push(St)),1;Mt=0;var Lt=bt===""?".":bt+":";if(B(I))for(var Yt=0;Yt<I.length;Yt++)bt=I[Yt],ft=Lt+Q(bt,Yt),Mt+=ut(bt,nt,gt,ft,St);else if(Yt=y(I),typeof Yt=="function")for(I=Yt.call(I),Yt=0;!(bt=I.next()).done;)bt=bt.value,ft=Lt+Q(bt,Yt++),Mt+=ut(bt,nt,gt,ft,St);else if(ft==="object"){if(typeof I.then=="function")return ut(rt(I),nt,gt,bt,St);throw nt=String(I),Error("Objects are not valid as a React child (found: "+(nt==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":nt)+"). If you meant to render a collection of children, use an array instead.")}return Mt}function G(I,nt,gt){if(I==null)return I;var bt=[],St=0;return ut(I,bt,"","",function(ft){return nt.call(gt,ft,St++)}),bt}function q(I){if(I._status===-1){var nt=I._result;nt=nt(),nt.then(function(gt){(I._status===0||I._status===-1)&&(I._status=1,I._result=gt)},function(gt){(I._status===0||I._status===-1)&&(I._status=2,I._result=gt)}),I._status===-1&&(I._status=0,I._result=nt)}if(I._status===1)return I._result.default;throw I._result}var K=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var nt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(nt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)};function lt(){}return pn.Children={map:G,forEach:function(I,nt,gt){G(I,function(){nt.apply(this,arguments)},gt)},count:function(I){var nt=0;return G(I,function(){nt++}),nt},toArray:function(I){return G(I,function(nt){return nt})||[]},only:function(I){if(!O(I))throw Error("React.Children.only expected to receive a single React element child.");return I}},pn.Component=E,pn.Fragment=e,pn.Profiler=i,pn.PureComponent=w,pn.StrictMode=n,pn.Suspense=d,pn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=L,pn.__COMPILER_RUNTIME={__proto__:null,c:function(I){return L.H.useMemoCache(I)}},pn.cache=function(I){return function(){return I.apply(null,arguments)}},pn.cloneElement=function(I,nt,gt){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var bt=M({},I.props),St=I.key,ft=void 0;if(nt!=null)for(Mt in nt.ref!==void 0&&(ft=void 0),nt.key!==void 0&&(St=""+nt.key),nt)!P.call(nt,Mt)||Mt==="key"||Mt==="__self"||Mt==="__source"||Mt==="ref"&&nt.ref===void 0||(bt[Mt]=nt[Mt]);var Mt=arguments.length-2;if(Mt===1)bt.children=gt;else if(1<Mt){for(var Lt=Array(Mt),Yt=0;Yt<Mt;Yt++)Lt[Yt]=arguments[Yt+2];bt.children=Lt}return H(I.type,St,void 0,void 0,ft,bt)},pn.createContext=function(I){return I={$$typeof:l,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:s,_context:I},I},pn.createElement=function(I,nt,gt){var bt,St={},ft=null;if(nt!=null)for(bt in nt.key!==void 0&&(ft=""+nt.key),nt)P.call(nt,bt)&&bt!=="key"&&bt!=="__self"&&bt!=="__source"&&(St[bt]=nt[bt]);var Mt=arguments.length-2;if(Mt===1)St.children=gt;else if(1<Mt){for(var Lt=Array(Mt),Yt=0;Yt<Mt;Yt++)Lt[Yt]=arguments[Yt+2];St.children=Lt}if(I&&I.defaultProps)for(bt in Mt=I.defaultProps,Mt)St[bt]===void 0&&(St[bt]=Mt[bt]);return H(I,ft,void 0,void 0,null,St)},pn.createRef=function(){return{current:null}},pn.forwardRef=function(I){return{$$typeof:u,render:I}},pn.isValidElement=O,pn.lazy=function(I){return{$$typeof:g,_payload:{_status:-1,_result:I},_init:q}},pn.memo=function(I,nt){return{$$typeof:p,type:I,compare:nt===void 0?null:nt}},pn.startTransition=function(I){var nt=L.T,gt={};L.T=gt;try{var bt=I(),St=L.S;St!==null&&St(gt,bt),typeof bt=="object"&&bt!==null&&typeof bt.then=="function"&&bt.then(lt,K)}catch(ft){K(ft)}finally{L.T=nt}},pn.unstable_useCacheRefresh=function(){return L.H.useCacheRefresh()},pn.use=function(I){return L.H.use(I)},pn.useActionState=function(I,nt,gt){return L.H.useActionState(I,nt,gt)},pn.useCallback=function(I,nt){return L.H.useCallback(I,nt)},pn.useContext=function(I){return L.H.useContext(I)},pn.useDebugValue=function(){},pn.useDeferredValue=function(I,nt){return L.H.useDeferredValue(I,nt)},pn.useEffect=function(I,nt,gt){var bt=L.H;if(typeof gt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return bt.useEffect(I,nt)},pn.useId=function(){return L.H.useId()},pn.useImperativeHandle=function(I,nt,gt){return L.H.useImperativeHandle(I,nt,gt)},pn.useInsertionEffect=function(I,nt){return L.H.useInsertionEffect(I,nt)},pn.useLayoutEffect=function(I,nt){return L.H.useLayoutEffect(I,nt)},pn.useMemo=function(I,nt){return L.H.useMemo(I,nt)},pn.useOptimistic=function(I,nt){return L.H.useOptimistic(I,nt)},pn.useReducer=function(I,nt,gt){return L.H.useReducer(I,nt,gt)},pn.useRef=function(I){return L.H.useRef(I)},pn.useState=function(I){return L.H.useState(I)},pn.useSyncExternalStore=function(I,nt,gt){return L.H.useSyncExternalStore(I,nt,gt)},pn.useTransition=function(){return L.H.useTransition()},pn.version="19.1.1",pn}var JT;function md(){return JT||(JT=1,sM.exports=FO()),sM.exports}var xe=md();const zO=Nm(xe);var rM={exports:{}},i0={},oM={exports:{}},lM={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KT;function HO(){return KT||(KT=1,function(r){function t(G,q){var K=G.length;G.push(q);t:for(;0<K;){var lt=K-1>>>1,I=G[lt];if(0<i(I,q))G[lt]=q,G[K]=I,K=lt;else break t}}function e(G){return G.length===0?null:G[0]}function n(G){if(G.length===0)return null;var q=G[0],K=G.pop();if(K!==q){G[0]=K;t:for(var lt=0,I=G.length,nt=I>>>1;lt<nt;){var gt=2*(lt+1)-1,bt=G[gt],St=gt+1,ft=G[St];if(0>i(bt,K))St<I&&0>i(ft,bt)?(G[lt]=ft,G[St]=K,lt=St):(G[lt]=bt,G[gt]=K,lt=gt);else if(St<I&&0>i(ft,K))G[lt]=ft,G[St]=K,lt=St;else break t}}return q}function i(G,q){var K=G.sortIndex-q.sortIndex;return K!==0?K:G.id-q.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;r.unstable_now=function(){return s.now()}}else{var l=Date,u=l.now();r.unstable_now=function(){return l.now()-u}}var d=[],p=[],g=1,_=null,y=3,x=!1,M=!1,T=!1,E=!1,b=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function B(G){for(var q=e(p);q!==null;){if(q.callback===null)n(p);else if(q.startTime<=G)n(p),q.sortIndex=q.expirationTime,t(d,q);else break;q=e(p)}}function L(G){if(T=!1,B(G),!M)if(e(d)!==null)M=!0,P||(P=!0,Q());else{var q=e(p);q!==null&&ut(L,q.startTime-G)}}var P=!1,H=-1,F=5,O=-1;function U(){return E?!0:!(r.unstable_now()-O<F)}function V(){if(E=!1,P){var G=r.unstable_now();O=G;var q=!0;try{t:{M=!1,T&&(T=!1,w(H),H=-1),x=!0;var K=y;try{e:{for(B(G),_=e(d);_!==null&&!(_.expirationTime>G&&U());){var lt=_.callback;if(typeof lt=="function"){_.callback=null,y=_.priorityLevel;var I=lt(_.expirationTime<=G);if(G=r.unstable_now(),typeof I=="function"){_.callback=I,B(G),q=!0;break e}_===e(d)&&n(d),B(G)}else n(d);_=e(d)}if(_!==null)q=!0;else{var nt=e(p);nt!==null&&ut(L,nt.startTime-G),q=!1}}break t}finally{_=null,y=K,x=!1}q=void 0}}finally{q?Q():P=!1}}}var Q;if(typeof D=="function")Q=function(){D(V)};else if(typeof MessageChannel<"u"){var et=new MessageChannel,rt=et.port2;et.port1.onmessage=V,Q=function(){rt.postMessage(null)}}else Q=function(){b(V,0)};function ut(G,q){H=b(function(){G(r.unstable_now())},q)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(G){G.callback=null},r.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<G?Math.floor(1e3/G):5},r.unstable_getCurrentPriorityLevel=function(){return y},r.unstable_next=function(G){switch(y){case 1:case 2:case 3:var q=3;break;default:q=y}var K=y;y=q;try{return G()}finally{y=K}},r.unstable_requestPaint=function(){E=!0},r.unstable_runWithPriority=function(G,q){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var K=y;y=G;try{return q()}finally{y=K}},r.unstable_scheduleCallback=function(G,q,K){var lt=r.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?lt+K:lt):K=lt,G){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=K+I,G={id:g++,callback:q,priorityLevel:G,startTime:K,expirationTime:I,sortIndex:-1},K>lt?(G.sortIndex=K,t(p,G),e(d)===null&&G===e(p)&&(T?(w(H),H=-1):T=!0,ut(L,K-lt))):(G.sortIndex=I,t(d,G),M||x||(M=!0,P||(P=!0,Q()))),G},r.unstable_shouldYield=U,r.unstable_wrapCallback=function(G){var q=y;return function(){var K=y;y=q;try{return G.apply(this,arguments)}finally{y=K}}}}(lM)),lM}var WT;function GO(){return WT||(WT=1,oM.exports=HO()),oM.exports}var uM={exports:{}},ls={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jT;function VO(){if(jT)return ls;jT=1;var r=md();function t(d){var p="https://react.dev/errors/"+d;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)p+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+d+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var n={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(d,p,g){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:_==null?null:""+_,children:d,containerInfo:p,implementation:g}}var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(d,p){if(d==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return ls.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,ls.createPortal=function(d,p){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return s(d,p,null,g)},ls.flushSync=function(d){var p=l.T,g=n.p;try{if(l.T=null,n.p=2,d)return d()}finally{l.T=p,n.p=g,n.d.f()}},ls.preconnect=function(d,p){typeof d=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,n.d.C(d,p))},ls.prefetchDNS=function(d){typeof d=="string"&&n.d.D(d)},ls.preinit=function(d,p){if(typeof d=="string"&&p&&typeof p.as=="string"){var g=p.as,_=u(g,p.crossOrigin),y=typeof p.integrity=="string"?p.integrity:void 0,x=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;g==="style"?n.d.S(d,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:_,integrity:y,fetchPriority:x}):g==="script"&&n.d.X(d,{crossOrigin:_,integrity:y,fetchPriority:x,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},ls.preinitModule=function(d,p){if(typeof d=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var g=u(p.as,p.crossOrigin);n.d.M(d,{crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&n.d.M(d)},ls.preload=function(d,p){if(typeof d=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var g=p.as,_=u(g,p.crossOrigin);n.d.L(d,g,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},ls.preloadModule=function(d,p){if(typeof d=="string")if(p){var g=u(p.as,p.crossOrigin);n.d.m(d,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else n.d.m(d)},ls.requestFormReset=function(d){n.d.r(d)},ls.unstable_batchedUpdates=function(d,p){return d(p)},ls.useFormState=function(d,p,g){return l.H.useFormState(d,p,g)},ls.useFormStatus=function(){return l.H.useHostTransitionStatus()},ls.version="19.1.1",ls}var QT;function XO(){if(QT)return uM.exports;QT=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),uM.exports=VO(),uM.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZT;function kO(){if(ZT)return i0;ZT=1;var r=GO(),t=md(),e=XO();function n(a){var o="https://react.dev/errors/"+a;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)o+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+a+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var o=a,h=a;if(a.alternate)for(;o.return;)o=o.return;else{a=o;do o=a,(o.flags&4098)!==0&&(h=o.return),a=o.return;while(a)}return o.tag===3?h:null}function l(a){if(a.tag===13){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function u(a){if(s(a)!==a)throw Error(n(188))}function d(a){var o=a.alternate;if(!o){if(o=s(a),o===null)throw Error(n(188));return o!==a?null:a}for(var h=a,m=o;;){var A=h.return;if(A===null)break;var C=A.alternate;if(C===null){if(m=A.return,m!==null){h=m;continue}break}if(A.child===C.child){for(C=A.child;C;){if(C===h)return u(A),a;if(C===m)return u(A),o;C=C.sibling}throw Error(n(188))}if(h.return!==m.return)h=A,m=C;else{for(var z=!1,Y=A.child;Y;){if(Y===h){z=!0,h=A,m=C;break}if(Y===m){z=!0,m=A,h=C;break}Y=Y.sibling}if(!z){for(Y=C.child;Y;){if(Y===h){z=!0,h=C,m=A;break}if(Y===m){z=!0,m=C,h=A;break}Y=Y.sibling}if(!z)throw Error(n(189))}}if(h.alternate!==m)throw Error(n(190))}if(h.tag!==3)throw Error(n(188));return h.stateNode.current===h?a:o}function p(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a;for(a=a.child;a!==null;){if(o=p(a),o!==null)return o;a=a.sibling}return null}var g=Object.assign,_=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),w=Symbol.for("react.consumer"),D=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),F=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function Q(a){return a===null||typeof a!="object"?null:(a=V&&a[V]||a["@@iterator"],typeof a=="function"?a:null)}var et=Symbol.for("react.client.reference");function rt(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===et?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case M:return"Fragment";case E:return"Profiler";case T:return"StrictMode";case L:return"Suspense";case P:return"SuspenseList";case O:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case x:return"Portal";case D:return(a.displayName||"Context")+".Provider";case w:return(a._context.displayName||"Context")+".Consumer";case B:var o=a.render;return a=a.displayName,a||(a=o.displayName||o.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case H:return o=a.displayName||null,o!==null?o:rt(a.type)||"Memo";case F:o=a._payload,a=a._init;try{return rt(a(o))}catch{}}return null}var ut=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K={pending:!1,data:null,method:null,action:null},lt=[],I=-1;function nt(a){return{current:a}}function gt(a){0>I||(a.current=lt[I],lt[I]=null,I--)}function bt(a,o){I++,lt[I]=a.current,a.current=o}var St=nt(null),ft=nt(null),Mt=nt(null),Lt=nt(null);function Yt(a,o){switch(bt(Mt,o),bt(ft,a),bt(St,null),o.nodeType){case 9:case 11:a=(a=o.documentElement)&&(a=a.namespaceURI)?vT(a):0;break;default:if(a=o.tagName,o=o.namespaceURI)o=vT(o),a=yT(o,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}gt(St),bt(St,a)}function $t(){gt(St),gt(ft),gt(Mt)}function Me(a){a.memoizedState!==null&&bt(Lt,a);var o=St.current,h=yT(o,a.type);o!==h&&(bt(ft,a),bt(St,h))}function Pe(a){ft.current===a&&(gt(St),gt(ft)),Lt.current===a&&(gt(Lt),Qg._currentValue=K)}var _e=Object.prototype.hasOwnProperty,Z=r.unstable_scheduleCallback,Ut=r.unstable_cancelCallback,Ot=r.unstable_shouldYield,Gt=r.unstable_requestPaint,tt=r.unstable_now,Zt=r.unstable_getCurrentPriorityLevel,Xt=r.unstable_ImmediatePriority,jt=r.unstable_UserBlockingPriority,de=r.unstable_NormalPriority,Ne=r.unstable_LowPriority,j=r.unstable_IdlePriority,X=r.log,pt=r.unstable_setDisableYieldValue,wt=null,Nt=null;function Ct(a){if(typeof X=="function"&&pt(a),Nt&&typeof Nt.setStrictMode=="function")try{Nt.setStrictMode(wt,a)}catch{}}var re=Math.clz32?Math.clz32:le,te=Math.log,ve=Math.LN2;function le(a){return a>>>=0,a===0?32:31-(te(a)/ve|0)|0}var qt=256,ee=4194304;function Ae(a){var o=a&42;if(o!==0)return o;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function it(a,o,h){var m=a.pendingLanes;if(m===0)return 0;var A=0,C=a.suspendedLanes,z=a.pingedLanes;a=a.warmLanes;var Y=m&134217727;return Y!==0?(m=Y&~C,m!==0?A=Ae(m):(z&=Y,z!==0?A=Ae(z):h||(h=Y&~a,h!==0&&(A=Ae(h))))):(Y=m&~C,Y!==0?A=Ae(Y):z!==0?A=Ae(z):h||(h=m&~a,h!==0&&(A=Ae(h)))),A===0?0:o!==0&&o!==A&&(o&C)===0&&(C=A&-A,h=o&-o,C>=h||C===32&&(h&4194048)!==0)?o:A}function vt(a,o){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&o)===0}function Qt(a,o){switch(a){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $(){var a=qt;return qt<<=1,(qt&4194048)===0&&(qt=256),a}function zt(){var a=ee;return ee<<=1,(ee&62914560)===0&&(ee=4194304),a}function Wt(a){for(var o=[],h=0;31>h;h++)o.push(a);return o}function se(a,o){a.pendingLanes|=o,o!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function Kt(a,o,h,m,A,C){var z=a.pendingLanes;a.pendingLanes=h,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=h,a.entangledLanes&=h,a.errorRecoveryDisabledLanes&=h,a.shellSuspendCounter=0;var Y=a.entanglements,at=a.expirationTimes,At=a.hiddenUpdates;for(h=z&~h;0<h;){var Ft=31-re(h),Jt=1<<Ft;Y[Ft]=0,at[Ft]=-1;var Rt=At[Ft];if(Rt!==null)for(At[Ft]=null,Ft=0;Ft<Rt.length;Ft++){var Bt=Rt[Ft];Bt!==null&&(Bt.lane&=-536870913)}h&=~Jt}m!==0&&It(a,m,0),C!==0&&A===0&&a.tag!==0&&(a.suspendedLanes|=C&~(z&~o))}function It(a,o,h){a.pendingLanes|=o,a.suspendedLanes&=~o;var m=31-re(o);a.entangledLanes|=o,a.entanglements[m]=a.entanglements[m]|1073741824|h&4194090}function ce(a,o){var h=a.entangledLanes|=o;for(a=a.entanglements;h;){var m=31-re(h),A=1<<m;A&o|a[m]&o&&(a[m]|=o),h&=~A}}function be(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function $e(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function ue(){var a=q.p;return a!==0?a:(a=window.event,a===void 0?32:FT(a.type))}function Ee(a,o){var h=q.p;try{return q.p=a,o()}finally{q.p=h}}var Le=Math.random().toString(36).slice(2),ie="__reactFiber$"+Le,Te="__reactProps$"+Le,Re="__reactContainer$"+Le,Ie="__reactEvents$"+Le,gi="__reactListeners$"+Le,qe="__reactHandles$"+Le,Tn="__reactResources$"+Le,Xn="__reactMarker$"+Le;function Je(a){delete a[ie],delete a[Te],delete a[Ie],delete a[gi],delete a[qe]}function An(a){var o=a[ie];if(o)return o;for(var h=a.parentNode;h;){if(o=h[Re]||h[ie]){if(h=o.alternate,o.child!==null||h!==null&&h.child!==null)for(a=MT(a);a!==null;){if(h=a[ie])return h;a=MT(a)}return o}a=h,h=a.parentNode}return null}function gn(a){if(a=a[ie]||a[Re]){var o=a.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return a}return null}function Fi(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a.stateNode;throw Error(n(33))}function On(a){var o=a[Tn];return o||(o=a[Tn]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Bn(a){a[Xn]=!0}var fa=new Set,_i={};function k(a,o){ot(a,o),ot(a+"Capture",o)}function ot(a,o){for(_i[a]=o,a=0;a<o.length;a++)fa.add(o[a])}var yt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Tt={},dt={};function kt(a){return _e.call(dt,a)?!0:_e.call(Tt,a)?!1:yt.test(a)?dt[a]=!0:(Tt[a]=!0,!1)}function ne(a,o,h){if(kt(o))if(h===null)a.removeAttribute(o);else{switch(typeof h){case"undefined":case"function":case"symbol":a.removeAttribute(o);return;case"boolean":var m=o.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){a.removeAttribute(o);return}}a.setAttribute(o,""+h)}}function ye(a,o,h){if(h===null)a.removeAttribute(o);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(o);return}a.setAttribute(o,""+h)}}function he(a,o,h,m){if(m===null)a.removeAttribute(h);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(h);return}a.setAttributeNS(o,h,""+m)}}var Ue,Be;function Ce(a){if(Ue===void 0)try{throw Error()}catch(h){var o=h.stack.trim().match(/\n( *(at )?)/);Ue=o&&o[1]||"",Be=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ue+a+Be}var tn=!1;function sn(a,o){if(!a||tn)return"";tn=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(o){var Jt=function(){throw Error()};if(Object.defineProperty(Jt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Jt,[])}catch(Bt){var Rt=Bt}Reflect.construct(a,[],Jt)}else{try{Jt.call()}catch(Bt){Rt=Bt}a.call(Jt.prototype)}}else{try{throw Error()}catch(Bt){Rt=Bt}(Jt=a())&&typeof Jt.catch=="function"&&Jt.catch(function(){})}}catch(Bt){if(Bt&&Rt&&typeof Bt.stack=="string")return[Bt.stack,Rt.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var A=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");A&&A.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var C=m.DetermineComponentFrameRoot(),z=C[0],Y=C[1];if(z&&Y){var at=z.split(`
`),At=Y.split(`
`);for(A=m=0;m<at.length&&!at[m].includes("DetermineComponentFrameRoot");)m++;for(;A<At.length&&!At[A].includes("DetermineComponentFrameRoot");)A++;if(m===at.length||A===At.length)for(m=at.length-1,A=At.length-1;1<=m&&0<=A&&at[m]!==At[A];)A--;for(;1<=m&&0<=A;m--,A--)if(at[m]!==At[A]){if(m!==1||A!==1)do if(m--,A--,0>A||at[m]!==At[A]){var Ft=`
`+at[m].replace(" at new "," at ");return a.displayName&&Ft.includes("<anonymous>")&&(Ft=Ft.replace("<anonymous>",a.displayName)),Ft}while(1<=m&&0<=A);break}}}finally{tn=!1,Error.prepareStackTrace=h}return(h=a?a.displayName||a.name:"")?Ce(h):""}function ci(a){switch(a.tag){case 26:case 27:case 5:return Ce(a.type);case 16:return Ce("Lazy");case 13:return Ce("Suspense");case 19:return Ce("SuspenseList");case 0:case 15:return sn(a.type,!1);case 11:return sn(a.type.render,!1);case 1:return sn(a.type,!0);case 31:return Ce("Activity");default:return""}}function Kn(a){try{var o="";do o+=ci(a),a=a.return;while(a);return o}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}function rn(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function ze(a){var o=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function fi(a){var o=ze(a)?"checked":"value",h=Object.getOwnPropertyDescriptor(a.constructor.prototype,o),m=""+a[o];if(!a.hasOwnProperty(o)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var A=h.get,C=h.set;return Object.defineProperty(a,o,{configurable:!0,get:function(){return A.call(this)},set:function(z){m=""+z,C.call(this,z)}}),Object.defineProperty(a,o,{enumerable:h.enumerable}),{getValue:function(){return m},setValue:function(z){m=""+z},stopTracking:function(){a._valueTracker=null,delete a[o]}}}}function _n(a){a._valueTracker||(a._valueTracker=fi(a))}function ha(a){if(!a)return!1;var o=a._valueTracker;if(!o)return!0;var h=o.getValue(),m="";return a&&(m=ze(a)?a.checked?"true":"false":a.value),a=m,a!==h?(o.setValue(a),!0):!1}function Ws(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var da=/[\n"\\]/g;function Yi(a){return a.replace(da,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Qn(a,o,h,m,A,C,z,Y){a.name="",z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"?a.type=z:a.removeAttribute("type"),o!=null?z==="number"?(o===0&&a.value===""||a.value!=o)&&(a.value=""+rn(o)):a.value!==""+rn(o)&&(a.value=""+rn(o)):z!=="submit"&&z!=="reset"||a.removeAttribute("value"),o!=null?pa(a,z,rn(o)):h!=null?pa(a,z,rn(h)):m!=null&&a.removeAttribute("value"),A==null&&C!=null&&(a.defaultChecked=!!C),A!=null&&(a.checked=A&&typeof A!="function"&&typeof A!="symbol"),Y!=null&&typeof Y!="function"&&typeof Y!="symbol"&&typeof Y!="boolean"?a.name=""+rn(Y):a.removeAttribute("name")}function wa(a,o,h,m,A,C,z,Y){if(C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(a.type=C),o!=null||h!=null){if(!(C!=="submit"&&C!=="reset"||o!=null))return;h=h!=null?""+rn(h):"",o=o!=null?""+rn(o):h,Y||o===a.value||(a.value=o),a.defaultValue=o}m=m??A,m=typeof m!="function"&&typeof m!="symbol"&&!!m,a.checked=Y?a.checked:!!m,a.defaultChecked=!!m,z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"&&(a.name=z)}function pa(a,o,h){o==="number"&&Ws(a.ownerDocument)===a||a.defaultValue===""+h||(a.defaultValue=""+h)}function xi(a,o,h,m){if(a=a.options,o){o={};for(var A=0;A<h.length;A++)o["$"+h[A]]=!0;for(h=0;h<a.length;h++)A=o.hasOwnProperty("$"+a[h].value),a[h].selected!==A&&(a[h].selected=A),A&&m&&(a[h].defaultSelected=!0)}else{for(h=""+rn(h),o=null,A=0;A<a.length;A++){if(a[A].value===h){a[A].selected=!0,m&&(a[A].defaultSelected=!0);return}o!==null||a[A].disabled||(o=a[A])}o!==null&&(o.selected=!0)}}function ma(a,o,h){if(o!=null&&(o=""+rn(o),o!==a.value&&(a.value=o),h==null)){a.defaultValue!==o&&(a.defaultValue=o);return}a.defaultValue=h!=null?""+rn(h):""}function iu(a,o,h,m){if(o==null){if(m!=null){if(h!=null)throw Error(n(92));if(ut(m)){if(1<m.length)throw Error(n(93));m=m[0]}h=m}h==null&&(h=""),o=h}h=rn(o),a.defaultValue=h,m=a.textContent,m===h&&m!==""&&m!==null&&(a.value=m)}function qi(a,o){if(o){var h=a.firstChild;if(h&&h===a.lastChild&&h.nodeType===3){h.nodeValue=o;return}}a.textContent=o}var N_=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function bf(a,o,h){var m=o.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?m?a.setProperty(o,""):o==="float"?a.cssFloat="":a[o]="":m?a.setProperty(o,h):typeof h!="number"||h===0||N_.has(o)?o==="float"?a.cssFloat=h:a[o]=(""+h).trim():a[o]=h+"px"}function Ef(a,o,h){if(o!=null&&typeof o!="object")throw Error(n(62));if(a=a.style,h!=null){for(var m in h)!h.hasOwnProperty(m)||o!=null&&o.hasOwnProperty(m)||(m.indexOf("--")===0?a.setProperty(m,""):m==="float"?a.cssFloat="":a[m]="");for(var A in o)m=o[A],o.hasOwnProperty(A)&&h[A]!==m&&bf(a,A,m)}else for(var C in o)o.hasOwnProperty(C)&&bf(a,C,o[C])}function Ad(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),L_=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Tf(a){return L_.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}var Sd=null;function Md(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var ll=null,au=null;function km(a){var o=gn(a);if(o&&(a=o.stateNode)){var h=a[Te]||null;t:switch(a=o.stateNode,o.type){case"input":if(Qn(a,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),o=h.name,h.type==="radio"&&o!=null){for(h=a;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+Yi(""+o)+'"][type="radio"]'),o=0;o<h.length;o++){var m=h[o];if(m!==a&&m.form===a.form){var A=m[Te]||null;if(!A)throw Error(n(90));Qn(m,A.value,A.defaultValue,A.defaultValue,A.checked,A.defaultChecked,A.type,A.name)}}for(o=0;o<h.length;o++)m=h[o],m.form===a.form&&ha(m)}break t;case"textarea":ma(a,h.value,h.defaultValue);break t;case"select":o=h.value,o!=null&&xi(a,!!h.multiple,o,!1)}}}var Cf=!1;function Ym(a,o,h){if(Cf)return a(o,h);Cf=!0;try{var m=a(o);return m}finally{if(Cf=!1,(ll!==null||au!==null)&&(co(),ll&&(o=ll,a=au,au=ll=null,km(o),a)))for(o=0;o<a.length;o++)km(a[o])}}function $u(a,o){var h=a.stateNode;if(h===null)return null;var m=h[Te]||null;if(m===null)return null;h=m[o];t:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(a=a.type,m=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!m;break t;default:a=!1}if(a)return null;if(h&&typeof h!="function")throw Error(n(231,o,typeof h));return h}var Wr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rf=!1;if(Wr)try{var tc={};Object.defineProperty(tc,"passive",{get:function(){Rf=!0}}),window.addEventListener("test",tc,tc),window.removeEventListener("test",tc,tc)}catch{Rf=!1}var Co=null,qm=null,bd=null;function Jm(){if(bd)return bd;var a,o=qm,h=o.length,m,A="value"in Co?Co.value:Co.textContent,C=A.length;for(a=0;a<h&&o[a]===A[a];a++);var z=h-a;for(m=1;m<=z&&o[h-m]===A[C-m];m++);return bd=A.slice(a,1<m?1-m:void 0)}function ul(a){var o=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&o===13&&(a=13)):a=o,a===10&&(a=13),32<=a||a===13?a:0}function ec(){return!0}function wf(){return!1}function Va(a){function o(h,m,A,C,z){this._reactName=h,this._targetInst=A,this.type=m,this.nativeEvent=C,this.target=z,this.currentTarget=null;for(var Y in a)a.hasOwnProperty(Y)&&(h=a[Y],this[Y]=h?h(C):C[Y]);return this.isDefaultPrevented=(C.defaultPrevented!=null?C.defaultPrevented:C.returnValue===!1)?ec:wf,this.isPropagationStopped=wf,this}return g(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=ec)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=ec)},persist:function(){},isPersistent:ec}),o}var cl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nc=Va(cl),ic=g({},cl,{view:0,detail:0}),I_=Va(ic),Ro,ac,sc,rc=g({},ic,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Df,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==sc&&(sc&&a.type==="mousemove"?(Ro=a.screenX-sc.screenX,ac=a.screenY-sc.screenY):ac=Ro=0,sc=a),Ro)},movementY:function(a){return"movementY"in a?a.movementY:ac}}),Km=Va(rc),P_=g({},rc,{dataTransfer:0}),SS=Va(P_),ga=g({},ic,{relatedTarget:0}),Ed=Va(ga),F_=g({},cl,{animationName:0,elapsedTime:0,pseudoElement:0}),z_=Va(F_),H_=g({},cl,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),G_=Va(H_),Bf=g({},cl,{data:0}),Td=Va(Bf),V_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},X_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},k_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wm(a){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(a):(a=k_[a])?!!o[a]:!1}function Df(){return Wm}var Y_=g({},ic,{key:function(a){if(a.key){var o=V_[a.key]||a.key;if(o!=="Unidentified")return o}return a.type==="keypress"?(a=ul(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?X_[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Df,charCode:function(a){return a.type==="keypress"?ul(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?ul(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),jm=Va(Y_),Qm=g({},rc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Cd=Va(Qm),q_=g({},ic,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Df}),Zm=Va(q_),J_=g({},cl,{propertyName:0,elapsedTime:0,pseudoElement:0}),wo=Va(J_),$m=g({},rc,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),MS=Va($m),K_=g({},cl,{newState:0,oldState:0}),fl=Va(K_),Bo=[9,13,27,32],Of=Wr&&"CompositionEvent"in window,su=null;Wr&&"documentMode"in document&&(su=document.documentMode);var Uf=Wr&&"TextEvent"in window&&!su,Nf=Wr&&(!Of||su&&8<su&&11>=su),hl=" ",_a=!1;function Lf(a,o){switch(a){case"keyup":return Bo.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tg(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var dl=!1;function If(a,o){switch(a){case"compositionend":return tg(o);case"keypress":return o.which!==32?null:(_a=!0,hl);case"textInput":return a=o.data,a===hl&&_a?null:a;default:return null}}function eg(a,o){if(dl)return a==="compositionend"||!Of&&Lf(a,o)?(a=Jm(),bd=qm=Co=null,dl=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Nf&&o.locale!=="ko"?null:o.data;default:return null}}var Rd={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ng(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o==="input"?!!Rd[a.type]:o==="textarea"}function ts(a,o,h,m){ll?au?au.push(m):au=[m]:ll=m,o=Jv(o,"onChange"),0<o.length&&(h=new nc("onChange","change",null,h,m),a.push({event:h,listeners:o}))}var oc=null,ru=null;function W_(a){dT(a,0)}function Pf(a){var o=Fi(a);if(ha(o))return a}function wd(a,o){if(a==="change")return o}var Bd=!1;if(Wr){var Dd;if(Wr){var lc="oninput"in document;if(!lc){var uc=document.createElement("div");uc.setAttribute("oninput","return;"),lc=typeof uc.oninput=="function"}Dd=lc}else Dd=!1;Bd=Dd&&(!document.documentMode||9<document.documentMode)}function vi(){oc&&(oc.detachEvent("onpropertychange",j_),ru=oc=null)}function j_(a){if(a.propertyName==="value"&&Pf(ru)){var o=[];ts(o,ru,a,Md(a)),Ym(W_,o)}}function bS(a,o,h){a==="focusin"?(vi(),oc=o,ru=h,oc.attachEvent("onpropertychange",j_)):a==="focusout"&&vi()}function Q_(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Pf(ru)}function Ff(a,o){if(a==="click")return Pf(o)}function pl(a,o){if(a==="input"||a==="change")return Pf(o)}function Z_(a,o){return a===o&&(a!==0||1/a===1/o)||a!==a&&o!==o}var es=typeof Object.is=="function"?Object.is:Z_;function yr(a,o){if(es(a,o))return!0;if(typeof a!="object"||a===null||typeof o!="object"||o===null)return!1;var h=Object.keys(a),m=Object.keys(o);if(h.length!==m.length)return!1;for(m=0;m<h.length;m++){var A=h[m];if(!_e.call(o,A)||!es(a[A],o[A]))return!1}return!0}function ns(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function ig(a,o){var h=ns(a);a=0;for(var m;h;){if(h.nodeType===3){if(m=a+h.textContent.length,a<=o&&m>=o)return{node:h,offset:o-a};a=m}t:{for(;h;){if(h.nextSibling){h=h.nextSibling;break t}h=h.parentNode}h=void 0}h=ns(h)}}function ag(a,o){return a&&o?a===o?!0:a&&a.nodeType===3?!1:o&&o.nodeType===3?ag(a,o.parentNode):"contains"in a?a.contains(o):a.compareDocumentPosition?!!(a.compareDocumentPosition(o)&16):!1:!1}function sg(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var o=Ws(a.document);o instanceof a.HTMLIFrameElement;){try{var h=typeof o.contentWindow.location.href=="string"}catch{h=!1}if(h)a=o.contentWindow;else break;o=Ws(a.document)}return o}function zf(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o&&(o==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||o==="textarea"||a.contentEditable==="true")}var rg=Wr&&"documentMode"in document&&11>=document.documentMode,Do=null,Od=null,Hf=null,Ud=!1;function og(a,o,h){var m=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;Ud||Do==null||Do!==Ws(m)||(m=Do,"selectionStart"in m&&zf(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Hf&&yr(Hf,m)||(Hf=m,m=Jv(Od,"onSelect"),0<m.length&&(o=new nc("onSelect","select",null,o,h),a.push({event:o,listeners:m}),o.target=Do)))}function va(a,o){var h={};return h[a.toLowerCase()]=o.toLowerCase(),h["Webkit"+a]="webkit"+o,h["Moz"+a]="moz"+o,h}var ml={animationend:va("Animation","AnimationEnd"),animationiteration:va("Animation","AnimationIteration"),animationstart:va("Animation","AnimationStart"),transitionrun:va("Transition","TransitionRun"),transitionstart:va("Transition","TransitionStart"),transitioncancel:va("Transition","TransitionCancel"),transitionend:va("Transition","TransitionEnd")},Nd={},$_={};Wr&&($_=document.createElement("div").style,"AnimationEvent"in window||(delete ml.animationend.animation,delete ml.animationiteration.animation,delete ml.animationstart.animation),"TransitionEvent"in window||delete ml.transitionend.transition);function Oo(a){if(Nd[a])return Nd[a];if(!ml[a])return a;var o=ml[a],h;for(h in o)if(o.hasOwnProperty(h)&&h in $_)return Nd[a]=o[h];return a}var Xa=Oo("animationend"),lg=Oo("animationiteration"),is=Oo("animationstart"),tv=Oo("transitionrun"),Uo=Oo("transitionstart"),cc=Oo("transitioncancel"),No=Oo("transitionend"),Ld=new Map,Gf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Gf.push("scrollEnd");function na(a,o){Ld.set(a,o),k(o,[a])}var ug=new WeakMap;function ya(a,o){if(typeof a=="object"&&a!==null){var h=ug.get(a);return h!==void 0?h:(o={value:a,source:o,stack:Kn(o)},ug.set(a,o),o)}return{value:a,source:o,stack:Kn(o)}}var Ba=[],js=0,Id=0;function Vf(){for(var a=js,o=Id=js=0;o<a;){var h=Ba[o];Ba[o++]=null;var m=Ba[o];Ba[o++]=null;var A=Ba[o];Ba[o++]=null;var C=Ba[o];if(Ba[o++]=null,m!==null&&A!==null){var z=m.pending;z===null?A.next=A:(A.next=z.next,z.next=A),m.pending=A}C!==0&&cg(h,A,C)}}function gl(a,o,h,m){Ba[js++]=a,Ba[js++]=o,Ba[js++]=h,Ba[js++]=m,Id|=m,a.lanes|=m,a=a.alternate,a!==null&&(a.lanes|=m)}function Pd(a,o,h,m){return gl(a,o,h,m),fc(a)}function Lo(a,o){return gl(a,null,null,o),fc(a)}function cg(a,o,h){a.lanes|=h;var m=a.alternate;m!==null&&(m.lanes|=h);for(var A=!1,C=a.return;C!==null;)C.childLanes|=h,m=C.alternate,m!==null&&(m.childLanes|=h),C.tag===22&&(a=C.stateNode,a===null||a._visibility&1||(A=!0)),a=C,C=C.return;return a.tag===3?(C=a.stateNode,A&&o!==null&&(A=31-re(h),a=C.hiddenUpdates,m=a[A],m===null?a[A]=[o]:m.push(o),o.lane=h|536870912),C):null}function fc(a){if(50<uo)throw uo=0,bu=null,Error(n(185));for(var o=a.return;o!==null;)a=o,o=a.return;return a.tag===3?a.stateNode:null}var _l={};function fg(a,o,h,m){this.tag=a,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function as(a,o,h,m){return new fg(a,o,h,m)}function Xf(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Bi(a,o){var h=a.alternate;return h===null?(h=as(a.tag,o,a.key,a.mode),h.elementType=a.elementType,h.type=a.type,h.stateNode=a.stateNode,h.alternate=a,a.alternate=h):(h.pendingProps=o,h.type=a.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=a.flags&65011712,h.childLanes=a.childLanes,h.lanes=a.lanes,h.child=a.child,h.memoizedProps=a.memoizedProps,h.memoizedState=a.memoizedState,h.updateQueue=a.updateQueue,o=a.dependencies,h.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},h.sibling=a.sibling,h.index=a.index,h.ref=a.ref,h.refCleanup=a.refCleanup,h}function hg(a,o){a.flags&=65011714;var h=a.alternate;return h===null?(a.childLanes=0,a.lanes=o,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=h.childLanes,a.lanes=h.lanes,a.child=h.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=h.memoizedProps,a.memoizedState=h.memoizedState,a.updateQueue=h.updateQueue,a.type=h.type,o=h.dependencies,a.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),a}function ia(a,o,h,m,A,C){var z=0;if(m=a,typeof a=="function")Xf(a)&&(z=1);else if(typeof a=="string")z=MO(a,h,St.current)?26:a==="html"||a==="head"||a==="body"?27:5;else t:switch(a){case O:return a=as(31,h,o,A),a.elementType=O,a.lanes=C,a;case M:return vl(h.children,A,C,o);case T:z=8,A|=24;break;case E:return a=as(12,h,o,A|2),a.elementType=E,a.lanes=C,a;case L:return a=as(13,h,o,A),a.elementType=L,a.lanes=C,a;case P:return a=as(19,h,o,A),a.elementType=P,a.lanes=C,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case b:case D:z=10;break t;case w:z=9;break t;case B:z=11;break t;case H:z=14;break t;case F:z=16,m=null;break t}z=29,h=Error(n(130,a===null?"null":typeof a,"")),m=null}return o=as(z,h,o,A),o.elementType=a,o.type=m,o.lanes=C,o}function vl(a,o,h,m){return a=as(7,a,m,o),a.lanes=h,a}function kf(a,o,h){return a=as(6,a,null,o),a.lanes=h,a}function Fd(a,o,h){return o=as(4,a.children!==null?a.children:[],a.key,o),o.lanes=h,o.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},o}var hc=[],ss=0,Yf=null,dc=0,xa=[],As=0,yl=null,jr=1,Qr="";function Io(a,o){hc[ss++]=dc,hc[ss++]=Yf,Yf=a,dc=o}function zd(a,o,h){xa[As++]=jr,xa[As++]=Qr,xa[As++]=yl,yl=a;var m=jr;a=Qr;var A=32-re(m)-1;m&=~(1<<A),h+=1;var C=32-re(o)+A;if(30<C){var z=A-A%5;C=(m&(1<<z)-1).toString(32),m>>=z,A-=z,jr=1<<32-re(o)+A|h<<A|m,Qr=C+a}else jr=1<<C|h<<A|m,Qr=a}function dg(a){a.return!==null&&(Io(a,1),zd(a,1,0))}function pg(a){for(;a===Yf;)Yf=hc[--ss],hc[ss]=null,dc=hc[--ss],hc[ss]=null;for(;a===yl;)yl=xa[--As],xa[As]=null,Qr=xa[--As],xa[As]=null,jr=xa[--As],xa[As]=null}var ka=null,Ai=null,Fn=!1,Qs=null,Ss=!1,Hd=Error(n(519));function xl(a){var o=Error(n(418,""));throw ou(ya(o,a)),Hd}function ev(a){var o=a.stateNode,h=a.type,m=a.memoizedProps;switch(o[ie]=a,o[Te]=m,h){case"dialog":Cn("cancel",o),Cn("close",o);break;case"iframe":case"object":case"embed":Cn("load",o);break;case"video":case"audio":for(h=0;h<Yg.length;h++)Cn(Yg[h],o);break;case"source":Cn("error",o);break;case"img":case"image":case"link":Cn("error",o),Cn("load",o);break;case"details":Cn("toggle",o);break;case"input":Cn("invalid",o),wa(o,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0),_n(o);break;case"select":Cn("invalid",o);break;case"textarea":Cn("invalid",o),iu(o,m.value,m.defaultValue,m.children),_n(o)}h=m.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||o.textContent===""+h||m.suppressHydrationWarning===!0||_T(o.textContent,h)?(m.popover!=null&&(Cn("beforetoggle",o),Cn("toggle",o)),m.onScroll!=null&&Cn("scroll",o),m.onScrollEnd!=null&&Cn("scrollend",o),m.onClick!=null&&(o.onclick=Kv),o=!0):o=!1,o||xl(a)}function mg(a){for(ka=a.return;ka;)switch(ka.tag){case 5:case 13:Ss=!1;return;case 27:case 3:Ss=!0;return;default:ka=ka.return}}function xr(a){if(a!==ka)return!1;if(!Fn)return mg(a),Fn=!0,!1;var o=a.tag,h;if((h=o!==3&&o!==27)&&((h=o===5)&&(h=a.type,h=!(h!=="form"&&h!=="button")||kS(a.type,a.memoizedProps)),h=!h),h&&Ai&&xl(a),mg(a),o===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));t:{for(a=a.nextSibling,o=0;a;){if(a.nodeType===8)if(h=a.data,h==="/$"){if(o===0){Ai=jo(a.nextSibling);break t}o--}else h!=="$"&&h!=="$!"&&h!=="$?"||o++;a=a.nextSibling}Ai=null}}else o===27?(o=Ai,Fc(a.type)?(a=KS,KS=null,Ai=a):Ai=o):Ai=ka?jo(a.stateNode.nextSibling):null;return!0}function pc(){Ai=ka=null,Fn=!1}function kn(){var a=Qs;return a!==null&&(Xe===null?Xe=a:Xe.push.apply(Xe,a),Qs=null),a}function ou(a){Qs===null?Qs=[a]:Qs.push(a)}var gg=nt(null),Al=null,Po=null;function Sl(a,o,h){bt(gg,o._currentValue),o._currentValue=h}function Fo(a){a._currentValue=gg.current,gt(gg)}function _g(a,o,h){for(;a!==null;){var m=a.alternate;if((a.childLanes&o)!==o?(a.childLanes|=o,m!==null&&(m.childLanes|=o)):m!==null&&(m.childLanes&o)!==o&&(m.childLanes|=o),a===h)break;a=a.return}}function qf(a,o,h,m){var A=a.child;for(A!==null&&(A.return=a);A!==null;){var C=A.dependencies;if(C!==null){var z=A.child;C=C.firstContext;t:for(;C!==null;){var Y=C;C=A;for(var at=0;at<o.length;at++)if(Y.context===o[at]){C.lanes|=h,Y=C.alternate,Y!==null&&(Y.lanes|=h),_g(C.return,h,a),m||(z=null);break t}C=Y.next}}else if(A.tag===18){if(z=A.return,z===null)throw Error(n(341));z.lanes|=h,C=z.alternate,C!==null&&(C.lanes|=h),_g(z,h,a),z=null}else z=A.child;if(z!==null)z.return=A;else for(z=A;z!==null;){if(z===a){z=null;break}if(A=z.sibling,A!==null){A.return=z.return,z=A;break}z=z.return}A=z}}function Zs(a,o,h,m){a=null;for(var A=o,C=!1;A!==null;){if(!C){if((A.flags&524288)!==0)C=!0;else if((A.flags&262144)!==0)break}if(A.tag===10){var z=A.alternate;if(z===null)throw Error(n(387));if(z=z.memoizedProps,z!==null){var Y=A.type;es(A.pendingProps.value,z.value)||(a!==null?a.push(Y):a=[Y])}}else if(A===Lt.current){if(z=A.alternate,z===null)throw Error(n(387));z.memoizedState.memoizedState!==A.memoizedState.memoizedState&&(a!==null?a.push(Qg):a=[Qg])}A=A.return}a!==null&&qf(o,a,h,m),o.flags|=262144}function Jf(a){for(a=a.firstContext;a!==null;){if(!es(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Zr(a){Al=a,Po=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Mi(a){return Gd(Al,a)}function Kf(a,o){return Al===null&&Zr(a),Gd(a,o)}function Gd(a,o){var h=o._currentValue;if(o={context:o,memoizedValue:h,next:null},Po===null){if(a===null)throw Error(n(308));Po=o,a.dependencies={lanes:0,firstContext:o},a.flags|=524288}else Po=Po.next=o;return h}var vg=typeof AbortController<"u"?AbortController:function(){var a=[],o=this.signal={aborted:!1,addEventListener:function(h,m){a.push(m)}};this.abort=function(){o.aborted=!0,a.forEach(function(h){return h()})}},ES=r.unstable_scheduleCallback,nv=r.unstable_NormalPriority,zi={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Vd(){return{controller:new vg,data:new Map,refCount:0}}function mc(a){a.refCount--,a.refCount===0&&ES(nv,function(){a.controller.abort()})}var gc=null,Wf=0,on=0,_c=null;function Ms(a,o){if(gc===null){var h=gc=[];Wf=0,on=LS(),_c={status:"pending",value:void 0,then:function(m){h.push(m)}}}return Wf++,o.then(Xd,Xd),o}function Xd(){if(--Wf===0&&gc!==null){_c!==null&&(_c.status="fulfilled");var a=gc;gc=null,on=0,_c=null;for(var o=0;o<a.length;o++)(0,a[o])()}}function TS(a,o){var h=[],m={status:"pending",value:null,reason:null,then:function(A){h.push(A)}};return a.then(function(){m.status="fulfilled",m.value=o;for(var A=0;A<h.length;A++)(0,h[A])(o)},function(A){for(m.status="rejected",m.reason=A,A=0;A<h.length;A++)(0,h[A])(void 0)}),m}var jf=G.S;G.S=function(a,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&Ms(a,o),jf!==null&&jf(a,o)};var $s=nt(null);function Ml(){var a=$s.current;return a!==null?a:nn.pooledCache}function Qf(a,o){o===null?bt($s,$s.current):bt($s,o.pool)}function kd(){var a=Ml();return a===null?null:{parent:zi._currentValue,pool:a}}var Zf=Error(n(460)),yg=Error(n(474)),Ar=Error(n(542)),$f={then:function(){}};function Yd(a){return a=a.status,a==="fulfilled"||a==="rejected"}function vc(){}function qd(a,o,h){switch(h=a[h],h===void 0?a.push(o):h!==o&&(o.then(vc,vc),o=h),o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,iv(a),a;default:if(typeof o.status=="string")o.then(vc,vc);else{if(a=nn,a!==null&&100<a.shellSuspendCounter)throw Error(n(482));a=o,a.status="pending",a.then(function(m){if(o.status==="pending"){var A=o;A.status="fulfilled",A.value=m}},function(m){if(o.status==="pending"){var A=o;A.status="rejected",A.reason=m}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,iv(a),a}throw tr=o,Zf}}var tr=null;function xg(){if(tr===null)throw Error(n(459));var a=tr;return tr=null,a}function iv(a){if(a===Zf||a===Ar)throw Error(n(483))}var zo=!1;function Ag(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function je(a,o){a=a.updateQueue,o.updateQueue===a&&(o.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function $r(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Ho(a,o,h){var m=a.updateQueue;if(m===null)return null;if(m=m.shared,(Yn&2)!==0){var A=m.pending;return A===null?o.next=o:(o.next=A.next,A.next=o),m.pending=o,o=fc(a),cg(a,null,h),o}return gl(a,m,o,h),fc(a)}function lu(a,o,h){if(o=o.updateQueue,o!==null&&(o=o.shared,(h&4194048)!==0)){var m=o.lanes;m&=a.pendingLanes,h|=m,o.lanes=h,ce(a,h)}}function yc(a,o){var h=a.updateQueue,m=a.alternate;if(m!==null&&(m=m.updateQueue,h===m)){var A=null,C=null;if(h=h.firstBaseUpdate,h!==null){do{var z={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};C===null?A=C=z:C=C.next=z,h=h.next}while(h!==null);C===null?A=C=o:C=C.next=o}else A=C=o;h={baseState:m.baseState,firstBaseUpdate:A,lastBaseUpdate:C,shared:m.shared,callbacks:m.callbacks},a.updateQueue=h;return}a=h.lastBaseUpdate,a===null?h.firstBaseUpdate=o:a.next=o,h.lastBaseUpdate=o}var Sg=!1;function th(){if(Sg){var a=_c;if(a!==null)throw a}}function xc(a,o,h,m){Sg=!1;var A=a.updateQueue;zo=!1;var C=A.firstBaseUpdate,z=A.lastBaseUpdate,Y=A.shared.pending;if(Y!==null){A.shared.pending=null;var at=Y,At=at.next;at.next=null,z===null?C=At:z.next=At,z=at;var Ft=a.alternate;Ft!==null&&(Ft=Ft.updateQueue,Y=Ft.lastBaseUpdate,Y!==z&&(Y===null?Ft.firstBaseUpdate=At:Y.next=At,Ft.lastBaseUpdate=at))}if(C!==null){var Jt=A.baseState;z=0,Ft=At=at=null,Y=C;do{var Rt=Y.lane&-536870913,Bt=Rt!==Y.lane;if(Bt?(Ge&Rt)===Rt:(m&Rt)===Rt){Rt!==0&&Rt===on&&(Sg=!0),Ft!==null&&(Ft=Ft.next={lane:0,tag:Y.tag,payload:Y.payload,callback:null,next:null});t:{var en=a,Ke=Y;Rt=o;var ui=h;switch(Ke.tag){case 1:if(en=Ke.payload,typeof en=="function"){Jt=en.call(ui,Jt,Rt);break t}Jt=en;break t;case 3:en.flags=en.flags&-65537|128;case 0:if(en=Ke.payload,Rt=typeof en=="function"?en.call(ui,Jt,Rt):en,Rt==null)break t;Jt=g({},Jt,Rt);break t;case 2:zo=!0}}Rt=Y.callback,Rt!==null&&(a.flags|=64,Bt&&(a.flags|=8192),Bt=A.callbacks,Bt===null?A.callbacks=[Rt]:Bt.push(Rt))}else Bt={lane:Rt,tag:Y.tag,payload:Y.payload,callback:Y.callback,next:null},Ft===null?(At=Ft=Bt,at=Jt):Ft=Ft.next=Bt,z|=Rt;if(Y=Y.next,Y===null){if(Y=A.shared.pending,Y===null)break;Bt=Y,Y=Bt.next,Bt.next=null,A.lastBaseUpdate=Bt,A.shared.pending=null}}while(!0);Ft===null&&(at=Jt),A.baseState=at,A.firstBaseUpdate=At,A.lastBaseUpdate=Ft,C===null&&(A.shared.lanes=0),wr|=z,a.lanes=z,a.memoizedState=Jt}}function Ac(a,o){if(typeof a!="function")throw Error(n(191,a));a.call(o)}function av(a,o){var h=a.callbacks;if(h!==null)for(a.callbacks=null,a=0;a<h.length;a++)Ac(h[a],o)}var Sc=nt(null),Jd=nt(0);function sv(a,o){a=rr,bt(Jd,a),bt(Sc,o),rr=a|o.baseLanes}function Mg(){bt(Jd,rr),bt(Sc,Sc.current)}function eh(){rr=Jd.current,gt(Sc),gt(Jd)}var Go=0,ln=null,Wn=null,Hi=null,Kd=!1,bl=!1,Ya=!1,Ji=0,er=0,Aa=null,rv=0;function Di(){throw Error(n(321))}function Da(a,o){if(o===null)return!1;for(var h=0;h<o.length&&h<a.length;h++)if(!es(a[h],o[h]))return!1;return!0}function Vo(a,o,h,m,A,C){return Go=C,ln=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,G.H=a===null||a.memoizedState===null?ip:zg,Ya=!1,C=h(m,A),Ya=!1,bl&&(C=lv(o,h,m,A)),ov(a),C}function ov(a){G.H=ah;var o=Wn!==null&&Wn.next!==null;if(Go=0,Hi=Wn=ln=null,Kd=!1,er=0,Aa=null,o)throw Error(n(300));a===null||aa||(a=a.dependencies,a!==null&&Jf(a)&&(aa=!0))}function lv(a,o,h,m){ln=a;var A=0;do{if(bl&&(Aa=null),er=0,bl=!1,25<=A)throw Error(n(301));if(A+=1,Hi=Wn=null,a.updateQueue!=null){var C=a.updateQueue;C.lastEffect=null,C.events=null,C.stores=null,C.memoCache!=null&&(C.memoCache.index=0)}G.H=Nv,C=o(h,m)}while(bl);return C}function CS(){var a=G.H,o=a.useState()[0];return o=typeof o.then=="function"?Sr(o):o,a=a.useState()[0],(Wn!==null?Wn.memoizedState:null)!==a&&(ln.flags|=1024),o}function bg(){var a=Ji!==0;return Ji=0,a}function Wd(a,o,h){o.updateQueue=a.updateQueue,o.flags&=-2053,a.lanes&=~h}function Eg(a){if(Kd){for(a=a.memoizedState;a!==null;){var o=a.queue;o!==null&&(o.pending=null),a=a.next}Kd=!1}Go=0,Hi=Wn=ln=null,bl=!1,er=Ji=0,Aa=null}function qa(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Hi===null?ln.memoizedState=Hi=a:Hi=Hi.next=a,Hi}function Gi(){if(Wn===null){var a=ln.alternate;a=a!==null?a.memoizedState:null}else a=Wn.next;var o=Hi===null?ln.memoizedState:Hi.next;if(o!==null)Hi=o,Wn=a;else{if(a===null)throw ln.alternate===null?Error(n(467)):Error(n(310));Wn=a,a={memoizedState:Wn.memoizedState,baseState:Wn.baseState,baseQueue:Wn.baseQueue,queue:Wn.queue,next:null},Hi===null?ln.memoizedState=Hi=a:Hi=Hi.next=a}return Hi}function El(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Sr(a){var o=er;return er+=1,Aa===null&&(Aa=[]),a=qd(Aa,a,o),o=ln,(Hi===null?o.memoizedState:Hi.next)===null&&(o=o.alternate,G.H=o===null||o.memoizedState===null?ip:zg),a}function jd(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Sr(a);if(a.$$typeof===D)return Mi(a)}throw Error(n(438,String(a)))}function Tg(a){var o=null,h=ln.updateQueue;if(h!==null&&(o=h.memoCache),o==null){var m=ln.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(o={data:m.data.map(function(A){return A.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),h===null&&(h=El(),ln.updateQueue=h),h.memoCache=o,h=o.data[o.index],h===void 0)for(h=o.data[o.index]=Array(a),m=0;m<a;m++)h[m]=U;return o.index++,h}function Xo(a,o){return typeof o=="function"?o(a):o}function Tl(a){var o=Gi();return Cg(o,Wn,a)}function Cg(a,o,h){var m=a.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=h;var A=a.baseQueue,C=m.pending;if(C!==null){if(A!==null){var z=A.next;A.next=C.next,C.next=z}o.baseQueue=A=C,m.pending=null}if(C=a.baseState,A===null)a.memoizedState=C;else{o=A.next;var Y=z=null,at=null,At=o,Ft=!1;do{var Jt=At.lane&-536870913;if(Jt!==At.lane?(Ge&Jt)===Jt:(Go&Jt)===Jt){var Rt=At.revertLane;if(Rt===0)at!==null&&(at=at.next={lane:0,revertLane:0,action:At.action,hasEagerState:At.hasEagerState,eagerState:At.eagerState,next:null}),Jt===on&&(Ft=!0);else if((Go&Rt)===Rt){At=At.next,Rt===on&&(Ft=!0);continue}else Jt={lane:0,revertLane:At.revertLane,action:At.action,hasEagerState:At.hasEagerState,eagerState:At.eagerState,next:null},at===null?(Y=at=Jt,z=C):at=at.next=Jt,ln.lanes|=Rt,wr|=Rt;Jt=At.action,Ya&&h(C,Jt),C=At.hasEagerState?At.eagerState:h(C,Jt)}else Rt={lane:Jt,revertLane:At.revertLane,action:At.action,hasEagerState:At.hasEagerState,eagerState:At.eagerState,next:null},at===null?(Y=at=Rt,z=C):at=at.next=Rt,ln.lanes|=Jt,wr|=Jt;At=At.next}while(At!==null&&At!==o);if(at===null?z=C:at.next=Y,!es(C,a.memoizedState)&&(aa=!0,Ft&&(h=_c,h!==null)))throw h;a.memoizedState=C,a.baseState=z,a.baseQueue=at,m.lastRenderedState=C}return A===null&&(m.lanes=0),[a.memoizedState,m.dispatch]}function Rg(a){var o=Gi(),h=o.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=a;var m=h.dispatch,A=h.pending,C=o.memoizedState;if(A!==null){h.pending=null;var z=A=A.next;do C=a(C,z.action),z=z.next;while(z!==A);es(C,o.memoizedState)||(aa=!0),o.memoizedState=C,o.baseQueue===null&&(o.baseState=C),h.lastRenderedState=C}return[C,m]}function uv(a,o,h){var m=ln,A=Gi(),C=Fn;if(C){if(h===void 0)throw Error(n(407));h=h()}else h=o();var z=!es((Wn||A).memoizedState,h);z&&(A.memoizedState=h,aa=!0),A=A.queue;var Y=fv.bind(null,m,A,a);if(Ec(2048,8,Y,[a]),A.getSnapshot!==o||z||Hi!==null&&Hi.memoizedState.tag&1){if(m.flags|=2048,bc(9,nh(),cv.bind(null,m,A,h,o),null),nn===null)throw Error(n(349));C||(Go&124)!==0||Mc(m,o,h)}return h}function Mc(a,o,h){a.flags|=16384,a={getSnapshot:o,value:h},o=ln.updateQueue,o===null?(o=El(),ln.updateQueue=o,o.stores=[a]):(h=o.stores,h===null?o.stores=[a]:h.push(a))}function cv(a,o,h,m){o.value=h,o.getSnapshot=m,hv(o)&&dv(a)}function fv(a,o,h){return h(function(){hv(o)&&dv(a)})}function hv(a){var o=a.getSnapshot;a=a.value;try{var h=o();return!es(a,h)}catch{return!0}}function dv(a){var o=Lo(a,2);o!==null&&Wa(o,a,2)}function wg(a){var o=qa();if(typeof a=="function"){var h=a;if(a=h(),Ya){Ct(!0);try{h()}finally{Ct(!1)}}}return o.memoizedState=o.baseState=a,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xo,lastRenderedState:a},o}function pv(a,o,h,m){return a.baseState=h,Cg(a,Wn,typeof m=="function"?m:Xo)}function RS(a,o,h,m,A){if(np(a))throw Error(n(485));if(a=o.action,a!==null){var C={payload:A,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(z){C.listeners.push(z)}};G.T!==null?h(!0):C.isTransition=!1,m(C),h=o.pending,h===null?(C.next=o.pending=C,mv(o,C)):(C.next=h.next,o.pending=h.next=C)}}function mv(a,o){var h=o.action,m=o.payload,A=a.state;if(o.isTransition){var C=G.T,z={};G.T=z;try{var Y=h(A,m),at=G.S;at!==null&&at(z,Y),gv(a,o,Y)}catch(At){Bg(a,o,At)}finally{G.T=C}}else try{C=h(A,m),gv(a,o,C)}catch(At){Bg(a,o,At)}}function gv(a,o,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(m){_v(a,o,m)},function(m){return Bg(a,o,m)}):_v(a,o,h)}function _v(a,o,h){o.status="fulfilled",o.value=h,vv(o),a.state=h,o=a.pending,o!==null&&(h=o.next,h===o?a.pending=null:(h=h.next,o.next=h,mv(a,h)))}function Bg(a,o,h){var m=a.pending;if(a.pending=null,m!==null){m=m.next;do o.status="rejected",o.reason=h,vv(o),o=o.next;while(o!==m)}a.action=null}function vv(a){a=a.listeners;for(var o=0;o<a.length;o++)(0,a[o])()}function Dg(a,o){return o}function yv(a,o){if(Fn){var h=nn.formState;if(h!==null){t:{var m=ln;if(Fn){if(Ai){e:{for(var A=Ai,C=Ss;A.nodeType!==8;){if(!C){A=null;break e}if(A=jo(A.nextSibling),A===null){A=null;break e}}C=A.data,A=C==="F!"||C==="F"?A:null}if(A){Ai=jo(A.nextSibling),m=A.data==="F!";break t}}xl(m)}m=!1}m&&(o=h[0])}}return h=qa(),h.memoizedState=h.baseState=o,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dg,lastRenderedState:o},h.queue=m,h=Ov.bind(null,ln,m),m.dispatch=h,m=wg(!1),C=ep.bind(null,ln,!1,m.queue),m=qa(),A={state:o,dispatch:null,action:a,pending:null},m.queue=A,h=RS.bind(null,ln,A,C,h),A.dispatch=h,m.memoizedState=a,[o,h,!1]}function xv(a){var o=Gi();return Av(o,Wn,a)}function Av(a,o,h){if(o=Cg(a,o,Dg)[0],a=Tl(Xo)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var m=Sr(o)}catch(z){throw z===Zf?Ar:z}else m=o;o=Gi();var A=o.queue,C=A.dispatch;return h!==o.memoizedState&&(ln.flags|=2048,bc(9,nh(),wS.bind(null,A,h),null)),[m,C,a]}function wS(a,o){a.action=o}function Sv(a){var o=Gi(),h=Wn;if(h!==null)return Av(o,h,a);Gi(),o=o.memoizedState,h=Gi();var m=h.queue.dispatch;return h.memoizedState=a,[o,m,!1]}function bc(a,o,h,m){return a={tag:a,create:h,deps:m,inst:o,next:null},o=ln.updateQueue,o===null&&(o=El(),ln.updateQueue=o),h=o.lastEffect,h===null?o.lastEffect=a.next=a:(m=h.next,h.next=a,a.next=m,o.lastEffect=a),a}function nh(){return{destroy:void 0,resource:void 0}}function Og(){return Gi().memoizedState}function Qd(a,o,h,m){var A=qa();m=m===void 0?null:m,ln.flags|=a,A.memoizedState=bc(1|o,nh(),h,m)}function Ec(a,o,h,m){var A=Gi();m=m===void 0?null:m;var C=A.memoizedState.inst;Wn!==null&&m!==null&&Da(m,Wn.memoizedState.deps)?A.memoizedState=bc(o,C,h,m):(ln.flags|=a,A.memoizedState=bc(1|o,C,h,m))}function Ug(a,o){Qd(8390656,8,a,o)}function Ng(a,o){Ec(2048,8,a,o)}function Zd(a,o){return Ec(4,2,a,o)}function $d(a,o){return Ec(4,4,a,o)}function Mv(a,o){if(typeof o=="function"){a=a();var h=o(a);return function(){typeof h=="function"?h():o(null)}}if(o!=null)return a=a(),o.current=a,function(){o.current=null}}function bv(a,o,h){h=h!=null?h.concat([a]):null,Ec(4,4,Mv.bind(null,o,a),h)}function Lg(){}function Ev(a,o){var h=Gi();o=o===void 0?null:o;var m=h.memoizedState;return o!==null&&Da(o,m[1])?m[0]:(h.memoizedState=[a,o],a)}function Ig(a,o){var h=Gi();o=o===void 0?null:o;var m=h.memoizedState;if(o!==null&&Da(o,m[1]))return m[0];if(m=a(),Ya){Ct(!0);try{a()}finally{Ct(!1)}}return h.memoizedState=[m,o],m}function tp(a,o,h){return h===void 0||(Go&1073741824)!==0?a.memoizedState=o:(a.memoizedState=h,a=pp(),ln.lanes|=a,wr|=a,h)}function Tv(a,o,h,m){return es(h,o)?h:Sc.current!==null?(a=tp(a,h,m),es(a,o)||(aa=!0),a):(Go&42)===0?(aa=!0,a.memoizedState=h):(a=pp(),ln.lanes|=a,wr|=a,o)}function Cv(a,o,h,m,A){var C=q.p;q.p=C!==0&&8>C?C:8;var z=G.T,Y={};G.T=Y,ep(a,!1,o,h);try{var at=A(),At=G.S;if(At!==null&&At(Y,at),at!==null&&typeof at=="object"&&typeof at.then=="function"){var Ft=TS(at,m);ih(a,o,Ft,Ti(a))}else ih(a,o,m,Ti(a))}catch(Jt){ih(a,o,{then:function(){},status:"rejected",reason:Jt},Ti())}finally{q.p=C,G.T=z}}function BS(){}function Pg(a,o,h,m){if(a.tag!==5)throw Error(n(476));var A=Rv(a).queue;Cv(a,A,o,K,h===null?BS:function(){return wv(a),h(m)})}function Rv(a){var o=a.memoizedState;if(o!==null)return o;o={memoizedState:K,baseState:K,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xo,lastRenderedState:K},next:null};var h={};return o.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xo,lastRenderedState:h},next:null},a.memoizedState=o,a=a.alternate,a!==null&&(a.memoizedState=o),o}function wv(a){var o=Rv(a).next.queue;ih(a,o,{},Ti())}function Fg(){return Mi(Qg)}function Bv(){return Gi().memoizedState}function Dv(){return Gi().memoizedState}function DS(a){for(var o=a.return;o!==null;){switch(o.tag){case 24:case 3:var h=Ti();a=$r(h);var m=Ho(o,a,h);m!==null&&(Wa(m,o,h),lu(m,o,h)),o={cache:Vd()},a.payload=o;return}o=o.return}}function OS(a,o,h){var m=Ti();h={lane:m,revertLane:0,action:h,hasEagerState:!1,eagerState:null,next:null},np(a)?Uv(o,h):(h=Pd(a,o,h,m),h!==null&&(Wa(h,a,m),bs(h,o,m)))}function Ov(a,o,h){var m=Ti();ih(a,o,h,m)}function ih(a,o,h,m){var A={lane:m,revertLane:0,action:h,hasEagerState:!1,eagerState:null,next:null};if(np(a))Uv(o,A);else{var C=a.alternate;if(a.lanes===0&&(C===null||C.lanes===0)&&(C=o.lastRenderedReducer,C!==null))try{var z=o.lastRenderedState,Y=C(z,h);if(A.hasEagerState=!0,A.eagerState=Y,es(Y,z))return gl(a,o,A,0),nn===null&&Vf(),!1}catch{}finally{}if(h=Pd(a,o,A,m),h!==null)return Wa(h,a,m),bs(h,o,m),!0}return!1}function ep(a,o,h,m){if(m={lane:2,revertLane:LS(),action:m,hasEagerState:!1,eagerState:null,next:null},np(a)){if(o)throw Error(n(479))}else o=Pd(a,h,m,2),o!==null&&Wa(o,a,2)}function np(a){var o=a.alternate;return a===ln||o!==null&&o===ln}function Uv(a,o){bl=Kd=!0;var h=a.pending;h===null?o.next=o:(o.next=h.next,h.next=o),a.pending=o}function bs(a,o,h){if((h&4194048)!==0){var m=o.lanes;m&=a.pendingLanes,h|=m,o.lanes=h,ce(a,h)}}var ah={readContext:Mi,use:jd,useCallback:Di,useContext:Di,useEffect:Di,useImperativeHandle:Di,useLayoutEffect:Di,useInsertionEffect:Di,useMemo:Di,useReducer:Di,useRef:Di,useState:Di,useDebugValue:Di,useDeferredValue:Di,useTransition:Di,useSyncExternalStore:Di,useId:Di,useHostTransitionStatus:Di,useFormState:Di,useActionState:Di,useOptimistic:Di,useMemoCache:Di,useCacheRefresh:Di},ip={readContext:Mi,use:jd,useCallback:function(a,o){return qa().memoizedState=[a,o===void 0?null:o],a},useContext:Mi,useEffect:Ug,useImperativeHandle:function(a,o,h){h=h!=null?h.concat([a]):null,Qd(4194308,4,Mv.bind(null,o,a),h)},useLayoutEffect:function(a,o){return Qd(4194308,4,a,o)},useInsertionEffect:function(a,o){Qd(4,2,a,o)},useMemo:function(a,o){var h=qa();o=o===void 0?null:o;var m=a();if(Ya){Ct(!0);try{a()}finally{Ct(!1)}}return h.memoizedState=[m,o],m},useReducer:function(a,o,h){var m=qa();if(h!==void 0){var A=h(o);if(Ya){Ct(!0);try{h(o)}finally{Ct(!1)}}}else A=o;return m.memoizedState=m.baseState=A,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:A},m.queue=a,a=a.dispatch=OS.bind(null,ln,a),[m.memoizedState,a]},useRef:function(a){var o=qa();return a={current:a},o.memoizedState=a},useState:function(a){a=wg(a);var o=a.queue,h=Ov.bind(null,ln,o);return o.dispatch=h,[a.memoizedState,h]},useDebugValue:Lg,useDeferredValue:function(a,o){var h=qa();return tp(h,a,o)},useTransition:function(){var a=wg(!1);return a=Cv.bind(null,ln,a.queue,!0,!1),qa().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,o,h){var m=ln,A=qa();if(Fn){if(h===void 0)throw Error(n(407));h=h()}else{if(h=o(),nn===null)throw Error(n(349));(Ge&124)!==0||Mc(m,o,h)}A.memoizedState=h;var C={value:h,getSnapshot:o};return A.queue=C,Ug(fv.bind(null,m,C,a),[a]),m.flags|=2048,bc(9,nh(),cv.bind(null,m,C,h,o),null),h},useId:function(){var a=qa(),o=nn.identifierPrefix;if(Fn){var h=Qr,m=jr;h=(m&~(1<<32-re(m)-1)).toString(32)+h,o=""+o+"R"+h,h=Ji++,0<h&&(o+="H"+h.toString(32)),o+=""}else h=rv++,o=""+o+"r"+h.toString(32)+"";return a.memoizedState=o},useHostTransitionStatus:Fg,useFormState:yv,useActionState:yv,useOptimistic:function(a){var o=qa();o.memoizedState=o.baseState=a;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=h,o=ep.bind(null,ln,!0,h),h.dispatch=o,[a,o]},useMemoCache:Tg,useCacheRefresh:function(){return qa().memoizedState=DS.bind(null,ln)}},zg={readContext:Mi,use:jd,useCallback:Ev,useContext:Mi,useEffect:Ng,useImperativeHandle:bv,useInsertionEffect:Zd,useLayoutEffect:$d,useMemo:Ig,useReducer:Tl,useRef:Og,useState:function(){return Tl(Xo)},useDebugValue:Lg,useDeferredValue:function(a,o){var h=Gi();return Tv(h,Wn.memoizedState,a,o)},useTransition:function(){var a=Tl(Xo)[0],o=Gi().memoizedState;return[typeof a=="boolean"?a:Sr(a),o]},useSyncExternalStore:uv,useId:Bv,useHostTransitionStatus:Fg,useFormState:xv,useActionState:xv,useOptimistic:function(a,o){var h=Gi();return pv(h,Wn,a,o)},useMemoCache:Tg,useCacheRefresh:Dv},Nv={readContext:Mi,use:jd,useCallback:Ev,useContext:Mi,useEffect:Ng,useImperativeHandle:bv,useInsertionEffect:Zd,useLayoutEffect:$d,useMemo:Ig,useReducer:Rg,useRef:Og,useState:function(){return Rg(Xo)},useDebugValue:Lg,useDeferredValue:function(a,o){var h=Gi();return Wn===null?tp(h,a,o):Tv(h,Wn.memoizedState,a,o)},useTransition:function(){var a=Rg(Xo)[0],o=Gi().memoizedState;return[typeof a=="boolean"?a:Sr(a),o]},useSyncExternalStore:uv,useId:Bv,useHostTransitionStatus:Fg,useFormState:Sv,useActionState:Sv,useOptimistic:function(a,o){var h=Gi();return Wn!==null?pv(h,Wn,a,o):(h.baseState=a,[a,h.queue.dispatch])},useMemoCache:Tg,useCacheRefresh:Dv},uu=null,sh=0;function rh(a){var o=sh;return sh+=1,uu===null&&(uu=[]),qd(uu,a,o)}function Tc(a,o){o=o.props.ref,a.ref=o!==void 0?o:null}function ap(a,o){throw o.$$typeof===_?Error(n(525)):(a=Object.prototype.toString.call(o),Error(n(31,a==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":a)))}function Lv(a){var o=a._init;return o(a._payload)}function Iv(a){function o(mt,ht){if(a){var xt=mt.deletions;xt===null?(mt.deletions=[ht],mt.flags|=16):xt.push(ht)}}function h(mt,ht){if(!a)return null;for(;ht!==null;)o(mt,ht),ht=ht.sibling;return null}function m(mt){for(var ht=new Map;mt!==null;)mt.key!==null?ht.set(mt.key,mt):ht.set(mt.index,mt),mt=mt.sibling;return ht}function A(mt,ht){return mt=Bi(mt,ht),mt.index=0,mt.sibling=null,mt}function C(mt,ht,xt){return mt.index=xt,a?(xt=mt.alternate,xt!==null?(xt=xt.index,xt<ht?(mt.flags|=67108866,ht):xt):(mt.flags|=67108866,ht)):(mt.flags|=1048576,ht)}function z(mt){return a&&mt.alternate===null&&(mt.flags|=67108866),mt}function Y(mt,ht,xt,Vt){return ht===null||ht.tag!==6?(ht=kf(xt,mt.mode,Vt),ht.return=mt,ht):(ht=A(ht,xt),ht.return=mt,ht)}function at(mt,ht,xt,Vt){var De=xt.type;return De===M?Ft(mt,ht,xt.props.children,Vt,xt.key):ht!==null&&(ht.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===F&&Lv(De)===ht.type)?(ht=A(ht,xt.props),Tc(ht,xt),ht.return=mt,ht):(ht=ia(xt.type,xt.key,xt.props,null,mt.mode,Vt),Tc(ht,xt),ht.return=mt,ht)}function At(mt,ht,xt,Vt){return ht===null||ht.tag!==4||ht.stateNode.containerInfo!==xt.containerInfo||ht.stateNode.implementation!==xt.implementation?(ht=Fd(xt,mt.mode,Vt),ht.return=mt,ht):(ht=A(ht,xt.children||[]),ht.return=mt,ht)}function Ft(mt,ht,xt,Vt,De){return ht===null||ht.tag!==7?(ht=vl(xt,mt.mode,Vt,De),ht.return=mt,ht):(ht=A(ht,xt),ht.return=mt,ht)}function Jt(mt,ht,xt){if(typeof ht=="string"&&ht!==""||typeof ht=="number"||typeof ht=="bigint")return ht=kf(""+ht,mt.mode,xt),ht.return=mt,ht;if(typeof ht=="object"&&ht!==null){switch(ht.$$typeof){case y:return xt=ia(ht.type,ht.key,ht.props,null,mt.mode,xt),Tc(xt,ht),xt.return=mt,xt;case x:return ht=Fd(ht,mt.mode,xt),ht.return=mt,ht;case F:var Vt=ht._init;return ht=Vt(ht._payload),Jt(mt,ht,xt)}if(ut(ht)||Q(ht))return ht=vl(ht,mt.mode,xt,null),ht.return=mt,ht;if(typeof ht.then=="function")return Jt(mt,rh(ht),xt);if(ht.$$typeof===D)return Jt(mt,Kf(mt,ht),xt);ap(mt,ht)}return null}function Rt(mt,ht,xt,Vt){var De=ht!==null?ht.key:null;if(typeof xt=="string"&&xt!==""||typeof xt=="number"||typeof xt=="bigint")return De!==null?null:Y(mt,ht,""+xt,Vt);if(typeof xt=="object"&&xt!==null){switch(xt.$$typeof){case y:return xt.key===De?at(mt,ht,xt,Vt):null;case x:return xt.key===De?At(mt,ht,xt,Vt):null;case F:return De=xt._init,xt=De(xt._payload),Rt(mt,ht,xt,Vt)}if(ut(xt)||Q(xt))return De!==null?null:Ft(mt,ht,xt,Vt,null);if(typeof xt.then=="function")return Rt(mt,ht,rh(xt),Vt);if(xt.$$typeof===D)return Rt(mt,ht,Kf(mt,xt),Vt);ap(mt,xt)}return null}function Bt(mt,ht,xt,Vt,De){if(typeof Vt=="string"&&Vt!==""||typeof Vt=="number"||typeof Vt=="bigint")return mt=mt.get(xt)||null,Y(ht,mt,""+Vt,De);if(typeof Vt=="object"&&Vt!==null){switch(Vt.$$typeof){case y:return mt=mt.get(Vt.key===null?xt:Vt.key)||null,at(ht,mt,Vt,De);case x:return mt=mt.get(Vt.key===null?xt:Vt.key)||null,At(ht,mt,Vt,De);case F:var Mn=Vt._init;return Vt=Mn(Vt._payload),Bt(mt,ht,xt,Vt,De)}if(ut(Vt)||Q(Vt))return mt=mt.get(xt)||null,Ft(ht,mt,Vt,De,null);if(typeof Vt.then=="function")return Bt(mt,ht,xt,rh(Vt),De);if(Vt.$$typeof===D)return Bt(mt,ht,xt,Kf(ht,Vt),De);ap(ht,Vt)}return null}function en(mt,ht,xt,Vt){for(var De=null,Mn=null,He=ht,We=ht=0,Na=null;He!==null&&We<xt.length;We++){He.index>We?(Na=He,He=null):Na=He.sibling;var Jn=Rt(mt,He,xt[We],Vt);if(Jn===null){He===null&&(He=Na);break}a&&He&&Jn.alternate===null&&o(mt,He),ht=C(Jn,ht,We),Mn===null?De=Jn:Mn.sibling=Jn,Mn=Jn,He=Na}if(We===xt.length)return h(mt,He),Fn&&Io(mt,We),De;if(He===null){for(;We<xt.length;We++)He=Jt(mt,xt[We],Vt),He!==null&&(ht=C(He,ht,We),Mn===null?De=He:Mn.sibling=He,Mn=He);return Fn&&Io(mt,We),De}for(He=m(He);We<xt.length;We++)Na=Bt(He,mt,We,xt[We],Vt),Na!==null&&(a&&Na.alternate!==null&&He.delete(Na.key===null?We:Na.key),ht=C(Na,ht,We),Mn===null?De=Na:Mn.sibling=Na,Mn=Na);return a&&He.forEach(function(Xc){return o(mt,Xc)}),Fn&&Io(mt,We),De}function Ke(mt,ht,xt,Vt){if(xt==null)throw Error(n(151));for(var De=null,Mn=null,He=ht,We=ht=0,Na=null,Jn=xt.next();He!==null&&!Jn.done;We++,Jn=xt.next()){He.index>We?(Na=He,He=null):Na=He.sibling;var Xc=Rt(mt,He,Jn.value,Vt);if(Xc===null){He===null&&(He=Na);break}a&&He&&Xc.alternate===null&&o(mt,He),ht=C(Xc,ht,We),Mn===null?De=Xc:Mn.sibling=Xc,Mn=Xc,He=Na}if(Jn.done)return h(mt,He),Fn&&Io(mt,We),De;if(He===null){for(;!Jn.done;We++,Jn=xt.next())Jn=Jt(mt,Jn.value,Vt),Jn!==null&&(ht=C(Jn,ht,We),Mn===null?De=Jn:Mn.sibling=Jn,Mn=Jn);return Fn&&Io(mt,We),De}for(He=m(He);!Jn.done;We++,Jn=xt.next())Jn=Bt(He,mt,We,Jn.value,Vt),Jn!==null&&(a&&Jn.alternate!==null&&He.delete(Jn.key===null?We:Jn.key),ht=C(Jn,ht,We),Mn===null?De=Jn:Mn.sibling=Jn,Mn=Jn);return a&&He.forEach(function(LO){return o(mt,LO)}),Fn&&Io(mt,We),De}function ui(mt,ht,xt,Vt){if(typeof xt=="object"&&xt!==null&&xt.type===M&&xt.key===null&&(xt=xt.props.children),typeof xt=="object"&&xt!==null){switch(xt.$$typeof){case y:t:{for(var De=xt.key;ht!==null;){if(ht.key===De){if(De=xt.type,De===M){if(ht.tag===7){h(mt,ht.sibling),Vt=A(ht,xt.props.children),Vt.return=mt,mt=Vt;break t}}else if(ht.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===F&&Lv(De)===ht.type){h(mt,ht.sibling),Vt=A(ht,xt.props),Tc(Vt,xt),Vt.return=mt,mt=Vt;break t}h(mt,ht);break}else o(mt,ht);ht=ht.sibling}xt.type===M?(Vt=vl(xt.props.children,mt.mode,Vt,xt.key),Vt.return=mt,mt=Vt):(Vt=ia(xt.type,xt.key,xt.props,null,mt.mode,Vt),Tc(Vt,xt),Vt.return=mt,mt=Vt)}return z(mt);case x:t:{for(De=xt.key;ht!==null;){if(ht.key===De)if(ht.tag===4&&ht.stateNode.containerInfo===xt.containerInfo&&ht.stateNode.implementation===xt.implementation){h(mt,ht.sibling),Vt=A(ht,xt.children||[]),Vt.return=mt,mt=Vt;break t}else{h(mt,ht);break}else o(mt,ht);ht=ht.sibling}Vt=Fd(xt,mt.mode,Vt),Vt.return=mt,mt=Vt}return z(mt);case F:return De=xt._init,xt=De(xt._payload),ui(mt,ht,xt,Vt)}if(ut(xt))return en(mt,ht,xt,Vt);if(Q(xt)){if(De=Q(xt),typeof De!="function")throw Error(n(150));return xt=De.call(xt),Ke(mt,ht,xt,Vt)}if(typeof xt.then=="function")return ui(mt,ht,rh(xt),Vt);if(xt.$$typeof===D)return ui(mt,ht,Kf(mt,xt),Vt);ap(mt,xt)}return typeof xt=="string"&&xt!==""||typeof xt=="number"||typeof xt=="bigint"?(xt=""+xt,ht!==null&&ht.tag===6?(h(mt,ht.sibling),Vt=A(ht,xt),Vt.return=mt,mt=Vt):(h(mt,ht),Vt=kf(xt,mt.mode,Vt),Vt.return=mt,mt=Vt),z(mt)):h(mt,ht)}return function(mt,ht,xt,Vt){try{sh=0;var De=ui(mt,ht,xt,Vt);return uu=null,De}catch(He){if(He===Zf||He===Ar)throw He;var Mn=as(29,He,null,mt.mode);return Mn.lanes=Vt,Mn.return=mt,Mn}finally{}}}var cu=Iv(!0),Pv=Iv(!1),ti=nt(null),Mr=null;function Cl(a){var o=a.alternate;bt(Oi,Oi.current&1),bt(ti,a),Mr===null&&(o===null||Sc.current!==null||o.memoizedState!==null)&&(Mr=a)}function Fv(a){if(a.tag===22){if(bt(Oi,Oi.current),bt(ti,a),Mr===null){var o=a.alternate;o!==null&&o.memoizedState!==null&&(Mr=a)}}else Rl()}function Rl(){bt(Oi,Oi.current),bt(ti,ti.current)}function to(a){gt(ti),Mr===a&&(Mr=null),gt(Oi)}var Oi=nt(0);function ko(a){for(var o=a;o!==null;){if(o.tag===13){var h=o.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||JS(h)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function wl(a,o,h,m){o=a.memoizedState,h=h(m,o),h=h==null?o:g({},o,h),a.memoizedState=h,a.lanes===0&&(a.updateQueue.baseState=h)}var Ja={enqueueSetState:function(a,o,h){a=a._reactInternals;var m=Ti(),A=$r(m);A.payload=o,h!=null&&(A.callback=h),o=Ho(a,A,m),o!==null&&(Wa(o,a,m),lu(o,a,m))},enqueueReplaceState:function(a,o,h){a=a._reactInternals;var m=Ti(),A=$r(m);A.tag=1,A.payload=o,h!=null&&(A.callback=h),o=Ho(a,A,m),o!==null&&(Wa(o,a,m),lu(o,a,m))},enqueueForceUpdate:function(a,o){a=a._reactInternals;var h=Ti(),m=$r(h);m.tag=2,o!=null&&(m.callback=o),o=Ho(a,m,h),o!==null&&(Wa(o,a,h),lu(o,a,h))}};function zv(a,o,h,m,A,C,z){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(m,C,z):o.prototype&&o.prototype.isPureReactComponent?!yr(h,m)||!yr(A,C):!0}function Hv(a,o,h,m){a=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(h,m),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(h,m),o.state!==a&&Ja.enqueueReplaceState(o,o.state,null)}function eo(a,o){var h=o;if("ref"in o){h={};for(var m in o)m!=="ref"&&(h[m]=o[m])}if(a=a.defaultProps){h===o&&(h=g({},h));for(var A in a)h[A]===void 0&&(h[A]=a[A])}return h}var fu=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)};function oh(a){fu(a)}function sp(a){console.error(a)}function Gv(a){fu(a)}function rp(a,o){try{var h=a.onUncaughtError;h(o.value,{componentStack:o.stack})}catch(m){setTimeout(function(){throw m})}}function nr(a,o,h){try{var m=a.onCaughtError;m(h.value,{componentStack:h.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(A){setTimeout(function(){throw A})}}function op(a,o,h){return h=$r(h),h.tag=3,h.payload={element:null},h.callback=function(){rp(a,o)},h}function Vv(a){return a=$r(a),a.tag=3,a}function lp(a,o,h,m){var A=h.type.getDerivedStateFromError;if(typeof A=="function"){var C=m.value;a.payload=function(){return A(C)},a.callback=function(){nr(o,h,m)}}var z=h.stateNode;z!==null&&typeof z.componentDidCatch=="function"&&(a.callback=function(){nr(o,h,m),typeof A!="function"&&(Os===null?Os=new Set([this]):Os.add(this));var Y=m.stack;this.componentDidCatch(m.value,{componentStack:Y!==null?Y:""})})}function US(a,o,h,m,A){if(h.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(o=h.alternate,o!==null&&Zs(o,h,A,!0),h=ti.current,h!==null){switch(h.tag){case 13:return Mr===null?c():h.alternate===null&&hi===0&&(hi=3),h.flags&=-257,h.flags|=65536,h.lanes=A,m===$f?h.flags|=16384:(o=h.updateQueue,o===null?h.updateQueue=new Set([m]):o.add(m),Dt(a,m,A)),!1;case 22:return h.flags|=65536,m===$f?h.flags|=16384:(o=h.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([m])},h.updateQueue=o):(h=o.retryQueue,h===null?o.retryQueue=new Set([m]):h.add(m)),Dt(a,m,A)),!1}throw Error(n(435,h.tag))}return Dt(a,m,A),c(),!1}if(Fn)return o=ti.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=A,m!==Hd&&(a=Error(n(422),{cause:m}),ou(ya(a,h)))):(m!==Hd&&(o=Error(n(423),{cause:m}),ou(ya(o,h))),a=a.current.alternate,a.flags|=65536,A&=-A,a.lanes|=A,m=ya(m,h),A=op(a.stateNode,m,A),yc(a,A),hi!==4&&(hi=2)),!1;var C=Error(n(520),{cause:m});if(C=ya(C,h),qn===null?qn=[C]:qn.push(C),hi!==4&&(hi=2),o===null)return!0;m=ya(m,h),h=o;do{switch(h.tag){case 3:return h.flags|=65536,a=A&-A,h.lanes|=a,a=op(h.stateNode,m,a),yc(h,a),!1;case 1:if(o=h.type,C=h.stateNode,(h.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(Os===null||!Os.has(C))))return h.flags|=65536,A&=-A,h.lanes|=A,A=Vv(A),lp(A,a,h,m),yc(h,A),!1}h=h.return}while(h!==null);return!1}var Xv=Error(n(461)),aa=!1;function Ui(a,o,h,m){o.child=a===null?Pv(o,null,h,m):cu(o,a.child,h,m)}function rs(a,o,h,m,A){h=h.render;var C=o.ref;if("ref"in m){var z={};for(var Y in m)Y!=="ref"&&(z[Y]=m[Y])}else z=m;return Zr(o),m=Vo(a,o,h,z,C,A),Y=bg(),a!==null&&!aa?(Wd(a,o,A),sa(a,o,A)):(Fn&&Y&&dg(o),o.flags|=1,Ui(a,o,m,A),o.child)}function os(a,o,h,m,A){if(a===null){var C=h.type;return typeof C=="function"&&!Xf(C)&&C.defaultProps===void 0&&h.compare===null?(o.tag=15,o.type=C,Hg(a,o,C,m,A)):(a=ia(h.type,null,m,o,o.mode,A),a.ref=o.ref,a.return=o,o.child=a)}if(C=a.child,!lh(a,A)){var z=C.memoizedProps;if(h=h.compare,h=h!==null?h:yr,h(z,m)&&a.ref===o.ref)return sa(a,o,A)}return o.flags|=1,a=Bi(C,m),a.ref=o.ref,a.return=o,o.child=a}function Hg(a,o,h,m,A){if(a!==null){var C=a.memoizedProps;if(yr(C,m)&&a.ref===o.ref)if(aa=!1,o.pendingProps=m=C,lh(a,A))(a.flags&131072)!==0&&(aa=!0);else return o.lanes=a.lanes,sa(a,o,A)}return Cc(a,o,h,m,A)}function hu(a,o,h){var m=o.pendingProps,A=m.children,C=a!==null?a.memoizedState:null;if(m.mode==="hidden"){if((o.flags&128)!==0){if(m=C!==null?C.baseLanes|h:h,a!==null){for(A=o.child=a.child,C=0;A!==null;)C=C|A.lanes|A.childLanes,A=A.sibling;o.childLanes=C&~m}else o.childLanes=0,o.child=null;return du(a,o,m,h)}if((h&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},a!==null&&Qf(o,C!==null?C.cachePool:null),C!==null?sv(o,C):Mg(),Fv(o);else return o.lanes=o.childLanes=536870912,du(a,o,C!==null?C.baseLanes|h:h,h)}else C!==null?(Qf(o,C.cachePool),sv(o,C),Rl(),o.memoizedState=null):(a!==null&&Qf(o,null),Mg(),Rl());return Ui(a,o,A,h),o.child}function du(a,o,h,m){var A=Ml();return A=A===null?null:{parent:zi._currentValue,pool:A},o.memoizedState={baseLanes:h,cachePool:A},a!==null&&Qf(o,null),Mg(),Fv(o),a!==null&&Zs(a,o,m,!0),null}function pu(a,o){var h=o.ref;if(h===null)a!==null&&a.ref!==null&&(o.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(n(284));(a===null||a.ref!==h)&&(o.flags|=4194816)}}function Cc(a,o,h,m,A){return Zr(o),h=Vo(a,o,h,m,void 0,A),m=bg(),a!==null&&!aa?(Wd(a,o,A),sa(a,o,A)):(Fn&&m&&dg(o),o.flags|=1,Ui(a,o,h,A),o.child)}function Es(a,o,h,m,A,C){return Zr(o),o.updateQueue=null,h=lv(o,m,h,A),ov(a),m=bg(),a!==null&&!aa?(Wd(a,o,C),sa(a,o,C)):(Fn&&m&&dg(o),o.flags|=1,Ui(a,o,h,C),o.child)}function Ts(a,o,h,m,A){if(Zr(o),o.stateNode===null){var C=_l,z=h.contextType;typeof z=="object"&&z!==null&&(C=Mi(z)),C=new h(m,C),o.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,C.updater=Ja,o.stateNode=C,C._reactInternals=o,C=o.stateNode,C.props=m,C.state=o.memoizedState,C.refs={},Ag(o),z=h.contextType,C.context=typeof z=="object"&&z!==null?Mi(z):_l,C.state=o.memoizedState,z=h.getDerivedStateFromProps,typeof z=="function"&&(wl(o,h,z,m),C.state=o.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(z=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),z!==C.state&&Ja.enqueueReplaceState(C,C.state,null),xc(o,m,C,A),th(),C.state=o.memoizedState),typeof C.componentDidMount=="function"&&(o.flags|=4194308),m=!0}else if(a===null){C=o.stateNode;var Y=o.memoizedProps,at=eo(h,Y);C.props=at;var At=C.context,Ft=h.contextType;z=_l,typeof Ft=="object"&&Ft!==null&&(z=Mi(Ft));var Jt=h.getDerivedStateFromProps;Ft=typeof Jt=="function"||typeof C.getSnapshotBeforeUpdate=="function",Y=o.pendingProps!==Y,Ft||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(Y||At!==z)&&Hv(o,C,m,z),zo=!1;var Rt=o.memoizedState;C.state=Rt,xc(o,m,C,A),th(),At=o.memoizedState,Y||Rt!==At||zo?(typeof Jt=="function"&&(wl(o,h,Jt,m),At=o.memoizedState),(at=zo||zv(o,h,at,m,Rt,At,z))?(Ft||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(o.flags|=4194308)):(typeof C.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=m,o.memoizedState=At),C.props=m,C.state=At,C.context=z,m=at):(typeof C.componentDidMount=="function"&&(o.flags|=4194308),m=!1)}else{C=o.stateNode,je(a,o),z=o.memoizedProps,Ft=eo(h,z),C.props=Ft,Jt=o.pendingProps,Rt=C.context,At=h.contextType,at=_l,typeof At=="object"&&At!==null&&(at=Mi(At)),Y=h.getDerivedStateFromProps,(At=typeof Y=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(z!==Jt||Rt!==at)&&Hv(o,C,m,at),zo=!1,Rt=o.memoizedState,C.state=Rt,xc(o,m,C,A),th();var Bt=o.memoizedState;z!==Jt||Rt!==Bt||zo||a!==null&&a.dependencies!==null&&Jf(a.dependencies)?(typeof Y=="function"&&(wl(o,h,Y,m),Bt=o.memoizedState),(Ft=zo||zv(o,h,Ft,m,Rt,Bt,at)||a!==null&&a.dependencies!==null&&Jf(a.dependencies))?(At||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(m,Bt,at),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(m,Bt,at)),typeof C.componentDidUpdate=="function"&&(o.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof C.componentDidUpdate!="function"||z===a.memoizedProps&&Rt===a.memoizedState||(o.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||z===a.memoizedProps&&Rt===a.memoizedState||(o.flags|=1024),o.memoizedProps=m,o.memoizedState=Bt),C.props=m,C.state=Bt,C.context=at,m=Ft):(typeof C.componentDidUpdate!="function"||z===a.memoizedProps&&Rt===a.memoizedState||(o.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||z===a.memoizedProps&&Rt===a.memoizedState||(o.flags|=1024),m=!1)}return C=m,pu(a,o),m=(o.flags&128)!==0,C||m?(C=o.stateNode,h=m&&typeof h.getDerivedStateFromError!="function"?null:C.render(),o.flags|=1,a!==null&&m?(o.child=cu(o,a.child,null,A),o.child=cu(o,null,h,A)):Ui(a,o,h,A),o.memoizedState=C.state,a=o.child):a=sa(a,o,A),a}function Bl(a,o,h,m){return pc(),o.flags|=256,Ui(a,o,h,m),o.child}var br={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Er(a){return{baseLanes:a,cachePool:kd()}}function Ki(a,o,h){return a=a!==null?a.childLanes&~h:0,o&&(a|=or),a}function Rc(a,o,h){var m=o.pendingProps,A=!1,C=(o.flags&128)!==0,z;if((z=C)||(z=a!==null&&a.memoizedState===null?!1:(Oi.current&2)!==0),z&&(A=!0,o.flags&=-129),z=(o.flags&32)!==0,o.flags&=-33,a===null){if(Fn){if(A?Cl(o):Rl(),Fn){var Y=Ai,at;if(at=Y){t:{for(at=Y,Y=Ss;at.nodeType!==8;){if(!Y){Y=null;break t}if(at=jo(at.nextSibling),at===null){Y=null;break t}}Y=at}Y!==null?(o.memoizedState={dehydrated:Y,treeContext:yl!==null?{id:jr,overflow:Qr}:null,retryLane:536870912,hydrationErrors:null},at=as(18,null,null,0),at.stateNode=Y,at.return=o,o.child=at,ka=o,Ai=null,at=!0):at=!1}at||xl(o)}if(Y=o.memoizedState,Y!==null&&(Y=Y.dehydrated,Y!==null))return JS(Y)?o.lanes=32:o.lanes=536870912,null;to(o)}return Y=m.children,m=m.fallback,A?(Rl(),A=o.mode,Y=mu({mode:"hidden",children:Y},A),m=vl(m,A,h,null),Y.return=o,m.return=o,Y.sibling=m,o.child=Y,A=o.child,A.memoizedState=Er(h),A.childLanes=Ki(a,z,h),o.memoizedState=br,m):(Cl(o),no(o,Y))}if(at=a.memoizedState,at!==null&&(Y=at.dehydrated,Y!==null)){if(C)o.flags&256?(Cl(o),o.flags&=-257,o=Sa(a,o,h)):o.memoizedState!==null?(Rl(),o.child=a.child,o.flags|=128,o=null):(Rl(),A=m.fallback,Y=o.mode,m=mu({mode:"visible",children:m.children},Y),A=vl(A,Y,h,null),A.flags|=2,m.return=o,A.return=o,m.sibling=A,o.child=m,cu(o,a.child,null,h),m=o.child,m.memoizedState=Er(h),m.childLanes=Ki(a,z,h),o.memoizedState=br,o=A);else if(Cl(o),JS(Y)){if(z=Y.nextSibling&&Y.nextSibling.dataset,z)var At=z.dgst;z=At,m=Error(n(419)),m.stack="",m.digest=z,ou({value:m,source:null,stack:null}),o=Sa(a,o,h)}else if(aa||Zs(a,o,h,!1),z=(h&a.childLanes)!==0,aa||z){if(z=nn,z!==null&&(m=h&-h,m=(m&42)!==0?1:be(m),m=(m&(z.suspendedLanes|h))!==0?0:m,m!==0&&m!==at.retryLane))throw at.retryLane=m,Lo(a,m),Wa(z,a,m),Xv;Y.data==="$?"||c(),o=Sa(a,o,h)}else Y.data==="$?"?(o.flags|=192,o.child=a.child,o=null):(a=at.treeContext,Ai=jo(Y.nextSibling),ka=o,Fn=!0,Qs=null,Ss=!1,a!==null&&(xa[As++]=jr,xa[As++]=Qr,xa[As++]=yl,jr=a.id,Qr=a.overflow,yl=o),o=no(o,m.children),o.flags|=4096);return o}return A?(Rl(),A=m.fallback,Y=o.mode,at=a.child,At=at.sibling,m=Bi(at,{mode:"hidden",children:m.children}),m.subtreeFlags=at.subtreeFlags&65011712,At!==null?A=Bi(At,A):(A=vl(A,Y,h,null),A.flags|=2),A.return=o,m.return=o,m.sibling=A,o.child=m,m=A,A=o.child,Y=a.child.memoizedState,Y===null?Y=Er(h):(at=Y.cachePool,at!==null?(At=zi._currentValue,at=at.parent!==At?{parent:At,pool:At}:at):at=kd(),Y={baseLanes:Y.baseLanes|h,cachePool:at}),A.memoizedState=Y,A.childLanes=Ki(a,z,h),o.memoizedState=br,m):(Cl(o),h=a.child,a=h.sibling,h=Bi(h,{mode:"visible",children:m.children}),h.return=o,h.sibling=null,a!==null&&(z=o.deletions,z===null?(o.deletions=[a],o.flags|=16):z.push(a)),o.child=h,o.memoizedState=null,h)}function no(a,o){return o=mu({mode:"visible",children:o},a.mode),o.return=a,a.child=o}function mu(a,o){return a=as(22,a,null,o),a.lanes=0,a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},a}function Sa(a,o,h){return cu(o,a.child,null,h),a=no(o,o.pendingProps.children),a.flags|=2,o.memoizedState=null,a}function Ma(a,o,h){a.lanes|=o;var m=a.alternate;m!==null&&(m.lanes|=o),_g(a.return,o,h)}function Dn(a,o,h,m,A){var C=a.memoizedState;C===null?a.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:m,tail:h,tailMode:A}:(C.isBackwards=o,C.rendering=null,C.renderingStartTime=0,C.last=m,C.tail=h,C.tailMode=A)}function ir(a,o,h){var m=o.pendingProps,A=m.revealOrder,C=m.tail;if(Ui(a,o,m.children,h),m=Oi.current,(m&2)!==0)m=m&1|2,o.flags|=128;else{if(a!==null&&(a.flags&128)!==0)t:for(a=o.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&Ma(a,h,o);else if(a.tag===19)Ma(a,h,o);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break t;for(;a.sibling===null;){if(a.return===null||a.return===o)break t;a=a.return}a.sibling.return=a.return,a=a.sibling}m&=1}switch(bt(Oi,m),A){case"forwards":for(h=o.child,A=null;h!==null;)a=h.alternate,a!==null&&ko(a)===null&&(A=h),h=h.sibling;h=A,h===null?(A=o.child,o.child=null):(A=h.sibling,h.sibling=null),Dn(o,!1,A,h,C);break;case"backwards":for(h=null,A=o.child,o.child=null;A!==null;){if(a=A.alternate,a!==null&&ko(a)===null){o.child=A;break}a=A.sibling,A.sibling=h,h=A,A=a}Dn(o,!0,h,null,C);break;case"together":Dn(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function sa(a,o,h){if(a!==null&&(o.dependencies=a.dependencies),wr|=o.lanes,(h&o.childLanes)===0)if(a!==null){if(Zs(a,o,h,!1),(h&o.childLanes)===0)return null}else return null;if(a!==null&&o.child!==a.child)throw Error(n(153));if(o.child!==null){for(a=o.child,h=Bi(a,a.pendingProps),o.child=h,h.return=o;a.sibling!==null;)a=a.sibling,h=h.sibling=Bi(a,a.pendingProps),h.return=o;h.sibling=null}return o.child}function lh(a,o){return(a.lanes&o)!==0?!0:(a=a.dependencies,!!(a!==null&&Jf(a)))}function ar(a,o,h){switch(o.tag){case 3:Yt(o,o.stateNode.containerInfo),Sl(o,zi,a.memoizedState.cache),pc();break;case 27:case 5:Me(o);break;case 4:Yt(o,o.stateNode.containerInfo);break;case 10:Sl(o,o.type,o.memoizedProps.value);break;case 13:var m=o.memoizedState;if(m!==null)return m.dehydrated!==null?(Cl(o),o.flags|=128,null):(h&o.child.childLanes)!==0?Rc(a,o,h):(Cl(o),a=sa(a,o,h),a!==null?a.sibling:null);Cl(o);break;case 19:var A=(a.flags&128)!==0;if(m=(h&o.childLanes)!==0,m||(Zs(a,o,h,!1),m=(h&o.childLanes)!==0),A){if(m)return ir(a,o,h);o.flags|=128}if(A=o.memoizedState,A!==null&&(A.rendering=null,A.tail=null,A.lastEffect=null),bt(Oi,Oi.current),m)break;return null;case 22:case 23:return o.lanes=0,hu(a,o,h);case 24:Sl(o,zi,a.memoizedState.cache)}return sa(a,o,h)}function gu(a,o,h){if(a!==null)if(a.memoizedProps!==o.pendingProps)aa=!0;else{if(!lh(a,h)&&(o.flags&128)===0)return aa=!1,ar(a,o,h);aa=(a.flags&131072)!==0}else aa=!1,Fn&&(o.flags&1048576)!==0&&zd(o,dc,o.index);switch(o.lanes=0,o.tag){case 16:t:{a=o.pendingProps;var m=o.elementType,A=m._init;if(m=A(m._payload),o.type=m,typeof m=="function")Xf(m)?(a=eo(m,a),o.tag=1,o=Ts(null,o,m,a,h)):(o.tag=0,o=Cc(null,o,m,a,h));else{if(m!=null){if(A=m.$$typeof,A===B){o.tag=11,o=rs(null,o,m,a,h);break t}else if(A===H){o.tag=14,o=os(null,o,m,a,h);break t}}throw o=rt(m)||m,Error(n(306,o,""))}}return o;case 0:return Cc(a,o,o.type,o.pendingProps,h);case 1:return m=o.type,A=eo(m,o.pendingProps),Ts(a,o,m,A,h);case 3:t:{if(Yt(o,o.stateNode.containerInfo),a===null)throw Error(n(387));m=o.pendingProps;var C=o.memoizedState;A=C.element,je(a,o),xc(o,m,null,h);var z=o.memoizedState;if(m=z.cache,Sl(o,zi,m),m!==C.cache&&qf(o,[zi],h,!0),th(),m=z.element,C.isDehydrated)if(C={element:m,isDehydrated:!1,cache:z.cache},o.updateQueue.baseState=C,o.memoizedState=C,o.flags&256){o=Bl(a,o,m,h);break t}else if(m!==A){A=ya(Error(n(424)),o),ou(A),o=Bl(a,o,m,h);break t}else{switch(a=o.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(Ai=jo(a.firstChild),ka=o,Fn=!0,Qs=null,Ss=!0,h=Pv(o,null,m,h),o.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling}else{if(pc(),m===A){o=sa(a,o,h);break t}Ui(a,o,m,h)}o=o.child}return o;case 26:return pu(a,o),a===null?(h=CT(o.type,null,o.pendingProps,null))?o.memoizedState=h:Fn||(h=o.type,a=o.pendingProps,m=Wv(Mt.current).createElement(h),m[ie]=o,m[Te]=a,ja(m,h,a),Bn(m),o.stateNode=m):o.memoizedState=CT(o.type,a.memoizedProps,o.pendingProps,a.memoizedState),null;case 27:return Me(o),a===null&&Fn&&(m=o.stateNode=bT(o.type,o.pendingProps,Mt.current),ka=o,Ss=!0,A=Ai,Fc(o.type)?(KS=A,Ai=jo(m.firstChild)):Ai=A),Ui(a,o,o.pendingProps.children,h),pu(a,o),a===null&&(o.flags|=4194304),o.child;case 5:return a===null&&Fn&&((A=m=Ai)&&(m=cO(m,o.type,o.pendingProps,Ss),m!==null?(o.stateNode=m,ka=o,Ai=jo(m.firstChild),Ss=!1,A=!0):A=!1),A||xl(o)),Me(o),A=o.type,C=o.pendingProps,z=a!==null?a.memoizedProps:null,m=C.children,kS(A,C)?m=null:z!==null&&kS(A,z)&&(o.flags|=32),o.memoizedState!==null&&(A=Vo(a,o,CS,null,null,h),Qg._currentValue=A),pu(a,o),Ui(a,o,m,h),o.child;case 6:return a===null&&Fn&&((a=h=Ai)&&(h=fO(h,o.pendingProps,Ss),h!==null?(o.stateNode=h,ka=o,Ai=null,a=!0):a=!1),a||xl(o)),null;case 13:return Rc(a,o,h);case 4:return Yt(o,o.stateNode.containerInfo),m=o.pendingProps,a===null?o.child=cu(o,null,m,h):Ui(a,o,m,h),o.child;case 11:return rs(a,o,o.type,o.pendingProps,h);case 7:return Ui(a,o,o.pendingProps,h),o.child;case 8:return Ui(a,o,o.pendingProps.children,h),o.child;case 12:return Ui(a,o,o.pendingProps.children,h),o.child;case 10:return m=o.pendingProps,Sl(o,o.type,m.value),Ui(a,o,m.children,h),o.child;case 9:return A=o.type._context,m=o.pendingProps.children,Zr(o),A=Mi(A),m=m(A),o.flags|=1,Ui(a,o,m,h),o.child;case 14:return os(a,o,o.type,o.pendingProps,h);case 15:return Hg(a,o,o.type,o.pendingProps,h);case 19:return ir(a,o,h);case 31:return m=o.pendingProps,h=o.mode,m={mode:m.mode,children:m.children},a===null?(h=mu(m,h),h.ref=o.ref,o.child=h,h.return=o,o=h):(h=Bi(a.child,m),h.ref=o.ref,o.child=h,h.return=o,o=h),o;case 22:return hu(a,o,h);case 24:return Zr(o),m=Mi(zi),a===null?(A=Ml(),A===null&&(A=nn,C=Vd(),A.pooledCache=C,C.refCount++,C!==null&&(A.pooledCacheLanes|=h),A=C),o.memoizedState={parent:m,cache:A},Ag(o),Sl(o,zi,A)):((a.lanes&h)!==0&&(je(a,o),xc(o,null,null,h),th()),A=a.memoizedState,C=o.memoizedState,A.parent!==m?(A={parent:m,cache:m},o.memoizedState=A,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=A),Sl(o,zi,m)):(m=C.cache,Sl(o,zi,m),m!==A.cache&&qf(o,[zi],h,!0))),Ui(a,o,o.pendingProps.children,h),o.child;case 29:throw o.pendingProps}throw Error(n(156,o.tag))}function Tr(a){a.flags|=4}function uh(a,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!OT(o)){if(o=ti.current,o!==null&&((Ge&4194048)===Ge?Mr!==null:(Ge&62914560)!==Ge&&(Ge&536870912)===0||o!==Mr))throw tr=$f,yg;a.flags|=8192}}function Yo(a,o){o!==null&&(a.flags|=4),a.flags&16384&&(o=a.tag!==22?zt():536870912,a.lanes|=o,Nn|=o)}function _u(a,o){if(!Fn)switch(a.tailMode){case"hidden":o=a.tail;for(var h=null;o!==null;)o.alternate!==null&&(h=o),o=o.sibling;h===null?a.tail=null:h.sibling=null;break;case"collapsed":h=a.tail;for(var m=null;h!==null;)h.alternate!==null&&(m=h),h=h.sibling;m===null?o||a.tail===null?a.tail=null:a.tail.sibling=null:m.sibling=null}}function si(a){var o=a.alternate!==null&&a.alternate.child===a.child,h=0,m=0;if(o)for(var A=a.child;A!==null;)h|=A.lanes|A.childLanes,m|=A.subtreeFlags&65011712,m|=A.flags&65011712,A.return=a,A=A.sibling;else for(A=a.child;A!==null;)h|=A.lanes|A.childLanes,m|=A.subtreeFlags,m|=A.flags,A.return=a,A=A.sibling;return a.subtreeFlags|=m,a.childLanes=h,o}function Gg(a,o,h){var m=o.pendingProps;switch(pg(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return si(o),null;case 1:return si(o),null;case 3:return h=o.stateNode,m=null,a!==null&&(m=a.memoizedState.cache),o.memoizedState.cache!==m&&(o.flags|=2048),Fo(zi),$t(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(a===null||a.child===null)&&(xr(o)?Tr(o):a===null||a.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,kn())),si(o),null;case 26:return h=o.memoizedState,a===null?(Tr(o),h!==null?(si(o),uh(o,h)):(si(o),o.flags&=-16777217)):h?h!==a.memoizedState?(Tr(o),si(o),uh(o,h)):(si(o),o.flags&=-16777217):(a.memoizedProps!==m&&Tr(o),si(o),o.flags&=-16777217),null;case 27:Pe(o),h=Mt.current;var A=o.type;if(a!==null&&o.stateNode!=null)a.memoizedProps!==m&&Tr(o);else{if(!m){if(o.stateNode===null)throw Error(n(166));return si(o),null}a=St.current,xr(o)?ev(o):(a=bT(A,m,h),o.stateNode=a,Tr(o))}return si(o),null;case 5:if(Pe(o),h=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==m&&Tr(o);else{if(!m){if(o.stateNode===null)throw Error(n(166));return si(o),null}if(a=St.current,xr(o))ev(o);else{switch(A=Wv(Mt.current),a){case 1:a=A.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:a=A.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":a=A.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":a=A.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":a=A.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof m.is=="string"?A.createElement("select",{is:m.is}):A.createElement("select"),m.multiple?a.multiple=!0:m.size&&(a.size=m.size);break;default:a=typeof m.is=="string"?A.createElement(h,{is:m.is}):A.createElement(h)}}a[ie]=o,a[Te]=m;t:for(A=o.child;A!==null;){if(A.tag===5||A.tag===6)a.appendChild(A.stateNode);else if(A.tag!==4&&A.tag!==27&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===o)break t;for(;A.sibling===null;){if(A.return===null||A.return===o)break t;A=A.return}A.sibling.return=A.return,A=A.sibling}o.stateNode=a;t:switch(ja(a,h,m),h){case"button":case"input":case"select":case"textarea":a=!!m.autoFocus;break t;case"img":a=!0;break t;default:a=!1}a&&Tr(o)}}return si(o),o.flags&=-16777217,null;case 6:if(a&&o.stateNode!=null)a.memoizedProps!==m&&Tr(o);else{if(typeof m!="string"&&o.stateNode===null)throw Error(n(166));if(a=Mt.current,xr(o)){if(a=o.stateNode,h=o.memoizedProps,m=null,A=ka,A!==null)switch(A.tag){case 27:case 5:m=A.memoizedProps}a[ie]=o,a=!!(a.nodeValue===h||m!==null&&m.suppressHydrationWarning===!0||_T(a.nodeValue,h)),a||xl(o)}else a=Wv(a).createTextNode(m),a[ie]=o,o.stateNode=a}return si(o),null;case 13:if(m=o.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(A=xr(o),m!==null&&m.dehydrated!==null){if(a===null){if(!A)throw Error(n(318));if(A=o.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(n(317));A[ie]=o}else pc(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;si(o),A=!1}else A=kn(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=A),A=!0;if(!A)return o.flags&256?(to(o),o):(to(o),null)}if(to(o),(o.flags&128)!==0)return o.lanes=h,o;if(h=m!==null,a=a!==null&&a.memoizedState!==null,h){m=o.child,A=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(A=m.alternate.memoizedState.cachePool.pool);var C=null;m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(C=m.memoizedState.cachePool.pool),C!==A&&(m.flags|=2048)}return h!==a&&h&&(o.child.flags|=8192),Yo(o,o.updateQueue),si(o),null;case 4:return $t(),a===null&&zS(o.stateNode.containerInfo),si(o),null;case 10:return Fo(o.type),si(o),null;case 19:if(gt(Oi),A=o.memoizedState,A===null)return si(o),null;if(m=(o.flags&128)!==0,C=A.rendering,C===null)if(m)_u(A,!1);else{if(hi!==0||a!==null&&(a.flags&128)!==0)for(a=o.child;a!==null;){if(C=ko(a),C!==null){for(o.flags|=128,_u(A,!1),a=C.updateQueue,o.updateQueue=a,Yo(o,a),o.subtreeFlags=0,a=h,h=o.child;h!==null;)hg(h,a),h=h.sibling;return bt(Oi,Oi.current&1|2),o.child}a=a.sibling}A.tail!==null&&tt()>Oa&&(o.flags|=128,m=!0,_u(A,!1),o.lanes=4194304)}else{if(!m)if(a=ko(C),a!==null){if(o.flags|=128,m=!0,a=a.updateQueue,o.updateQueue=a,Yo(o,a),_u(A,!0),A.tail===null&&A.tailMode==="hidden"&&!C.alternate&&!Fn)return si(o),null}else 2*tt()-A.renderingStartTime>Oa&&h!==536870912&&(o.flags|=128,m=!0,_u(A,!1),o.lanes=4194304);A.isBackwards?(C.sibling=o.child,o.child=C):(a=A.last,a!==null?a.sibling=C:o.child=C,A.last=C)}return A.tail!==null?(o=A.tail,A.rendering=o,A.tail=o.sibling,A.renderingStartTime=tt(),o.sibling=null,a=Oi.current,bt(Oi,m?a&1|2:a&1),o):(si(o),null);case 22:case 23:return to(o),eh(),m=o.memoizedState!==null,a!==null?a.memoizedState!==null!==m&&(o.flags|=8192):m&&(o.flags|=8192),m?(h&536870912)!==0&&(o.flags&128)===0&&(si(o),o.subtreeFlags&6&&(o.flags|=8192)):si(o),h=o.updateQueue,h!==null&&Yo(o,h.retryQueue),h=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),m=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==h&&(o.flags|=2048),a!==null&&gt($s),null;case 24:return h=null,a!==null&&(h=a.memoizedState.cache),o.memoizedState.cache!==h&&(o.flags|=2048),Fo(zi),si(o),null;case 25:return null;case 30:return null}throw Error(n(156,o.tag))}function wc(a,o){switch(pg(o),o.tag){case 1:return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 3:return Fo(zi),$t(),a=o.flags,(a&65536)!==0&&(a&128)===0?(o.flags=a&-65537|128,o):null;case 26:case 27:case 5:return Pe(o),null;case 13:if(to(o),a=o.memoizedState,a!==null&&a.dehydrated!==null){if(o.alternate===null)throw Error(n(340));pc()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 19:return gt(Oi),null;case 4:return $t(),null;case 10:return Fo(o.type),null;case 22:case 23:return to(o),eh(),a!==null&&gt($s),a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 24:return Fo(zi),null;case 25:return null;default:return null}}function Bc(a,o){switch(pg(o),o.tag){case 3:Fo(zi),$t();break;case 26:case 27:case 5:Pe(o);break;case 4:$t();break;case 13:to(o);break;case 19:gt(Oi);break;case 10:Fo(o.type);break;case 22:case 23:to(o),eh(),a!==null&&gt($s);break;case 24:Fo(zi)}}function vu(a,o){try{var h=o.updateQueue,m=h!==null?h.lastEffect:null;if(m!==null){var A=m.next;h=A;do{if((h.tag&a)===a){m=void 0;var C=h.create,z=h.inst;m=C(),z.destroy=m}h=h.next}while(h!==A)}}catch(Y){ct(o,o.return,Y)}}function Cs(a,o,h){try{var m=o.updateQueue,A=m!==null?m.lastEffect:null;if(A!==null){var C=A.next;m=C;do{if((m.tag&a)===a){var z=m.inst,Y=z.destroy;if(Y!==void 0){z.destroy=void 0,A=o;var at=h,At=Y;try{At()}catch(Ft){ct(A,at,Ft)}}}m=m.next}while(m!==C)}}catch(Ft){ct(o,o.return,Ft)}}function yu(a){var o=a.updateQueue;if(o!==null){var h=a.stateNode;try{av(o,h)}catch(m){ct(a,a.return,m)}}}function qo(a,o,h){h.props=eo(a.type,a.memoizedProps),h.state=a.memoizedState;try{h.componentWillUnmount()}catch(m){ct(a,o,m)}}function xu(a,o){try{var h=a.ref;if(h!==null){switch(a.tag){case 26:case 27:case 5:var m=a.stateNode;break;case 30:m=a.stateNode;break;default:m=a.stateNode}typeof h=="function"?a.refCleanup=h(m):h.current=m}}catch(A){ct(a,o,A)}}function io(a,o){var h=a.ref,m=a.refCleanup;if(h!==null)if(typeof m=="function")try{m()}catch(A){ct(a,o,A)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(A){ct(a,o,A)}else h.current=null}function Dc(a){var o=a.type,h=a.memoizedProps,m=a.stateNode;try{t:switch(o){case"button":case"input":case"select":case"textarea":h.autoFocus&&m.focus();break t;case"img":h.src?m.src=h.src:h.srcSet&&(m.srcset=h.srcSet)}}catch(A){ct(a,a.return,A)}}function ch(a,o,h){try{var m=a.stateNode;sO(m,a.type,h,o),m[Te]=o}catch(A){ct(a,a.return,A)}}function fh(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Fc(a.type)||a.tag===4}function Dl(a){t:for(;;){for(;a.sibling===null;){if(a.return===null||fh(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Fc(a.type)||a.flags&2||a.child===null||a.tag===4)continue t;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Ol(a,o,h){var m=a.tag;if(m===5||m===6)a=a.stateNode,o?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(a,o):(o=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,o.appendChild(a),h=h._reactRootContainer,h!=null||o.onclick!==null||(o.onclick=Kv));else if(m!==4&&(m===27&&Fc(a.type)&&(h=a.stateNode,o=null),a=a.child,a!==null))for(Ol(a,o,h),a=a.sibling;a!==null;)Ol(a,o,h),a=a.sibling}function Ul(a,o,h){var m=a.tag;if(m===5||m===6)a=a.stateNode,o?h.insertBefore(a,o):h.appendChild(a);else if(m!==4&&(m===27&&Fc(a.type)&&(h=a.stateNode),a=a.child,a!==null))for(Ul(a,o,h),a=a.sibling;a!==null;)Ul(a,o,h),a=a.sibling}function Nl(a){var o=a.stateNode,h=a.memoizedProps;try{for(var m=a.type,A=o.attributes;A.length;)o.removeAttributeNode(A[0]);ja(o,m,h),o[ie]=a,o[Te]=h}catch(C){ct(a,a.return,C)}}var ao=!1,ri=!1,Oc=!1,Rs=typeof WeakSet=="function"?WeakSet:Set,ei=null;function Wi(a,o){if(a=a.containerInfo,VS=ey,a=sg(a),zf(a)){if("selectionStart"in a)var h={start:a.selectionStart,end:a.selectionEnd};else t:{h=(h=a.ownerDocument)&&h.defaultView||window;var m=h.getSelection&&h.getSelection();if(m&&m.rangeCount!==0){h=m.anchorNode;var A=m.anchorOffset,C=m.focusNode;m=m.focusOffset;try{h.nodeType,C.nodeType}catch{h=null;break t}var z=0,Y=-1,at=-1,At=0,Ft=0,Jt=a,Rt=null;e:for(;;){for(var Bt;Jt!==h||A!==0&&Jt.nodeType!==3||(Y=z+A),Jt!==C||m!==0&&Jt.nodeType!==3||(at=z+m),Jt.nodeType===3&&(z+=Jt.nodeValue.length),(Bt=Jt.firstChild)!==null;)Rt=Jt,Jt=Bt;for(;;){if(Jt===a)break e;if(Rt===h&&++At===A&&(Y=z),Rt===C&&++Ft===m&&(at=z),(Bt=Jt.nextSibling)!==null)break;Jt=Rt,Rt=Jt.parentNode}Jt=Bt}h=Y===-1||at===-1?null:{start:Y,end:at}}else h=null}h=h||{start:0,end:0}}else h=null;for(XS={focusedElem:a,selectionRange:h},ey=!1,ei=o;ei!==null;)if(o=ei,a=o.child,(o.subtreeFlags&1024)!==0&&a!==null)a.return=o,ei=a;else for(;ei!==null;){switch(o=ei,C=o.alternate,a=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((a&1024)!==0&&C!==null){a=void 0,h=o,A=C.memoizedProps,C=C.memoizedState,m=h.stateNode;try{var en=eo(h.type,A,h.elementType===h.type);a=m.getSnapshotBeforeUpdate(en,C),m.__reactInternalSnapshotBeforeUpdate=a}catch(Ke){ct(h,h.return,Ke)}}break;case 3:if((a&1024)!==0){if(a=o.stateNode.containerInfo,h=a.nodeType,h===9)qS(a);else if(h===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":qS(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(n(163))}if(a=o.sibling,a!==null){a.return=o.return,ei=a;break}ei=o.return}}function Jo(a,o,h){var m=h.flags;switch(h.tag){case 0:case 11:case 15:Ka(a,h),m&4&&vu(5,h);break;case 1:if(Ka(a,h),m&4)if(a=h.stateNode,o===null)try{a.componentDidMount()}catch(z){ct(h,h.return,z)}else{var A=eo(h.type,o.memoizedProps);o=o.memoizedState;try{a.componentDidUpdate(A,o,a.__reactInternalSnapshotBeforeUpdate)}catch(z){ct(h,h.return,z)}}m&64&&yu(h),m&512&&xu(h,h.return);break;case 3:if(Ka(a,h),m&64&&(a=h.updateQueue,a!==null)){if(o=null,h.child!==null)switch(h.child.tag){case 27:case 5:o=h.child.stateNode;break;case 1:o=h.child.stateNode}try{av(a,o)}catch(z){ct(h,h.return,z)}}break;case 27:o===null&&m&4&&Nl(h);case 26:case 5:Ka(a,h),o===null&&m&4&&Dc(h),m&512&&xu(h,h.return);break;case 12:Ka(a,h);break;case 13:Ka(a,h),m&4&&Ll(a,h),m&64&&(a=h.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(h=di.bind(null,h),hO(a,h))));break;case 22:if(m=h.memoizedState!==null||ao,!m){o=o!==null&&o.memoizedState!==null||ri,A=ao;var C=ri;ao=m,(ri=o)&&!C?so(a,h,(h.subtreeFlags&8772)!==0):Ka(a,h),ao=A,ri=C}break;case 30:break;default:Ka(a,h)}}function hn(a){var o=a.alternate;o!==null&&(a.alternate=null,hn(o)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(o=a.stateNode,o!==null&&Je(o)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Ve=null,Un=!1;function sr(a,o,h){for(h=h.child;h!==null;)Au(a,o,h),h=h.sibling}function Au(a,o,h){if(Nt&&typeof Nt.onCommitFiberUnmount=="function")try{Nt.onCommitFiberUnmount(wt,h)}catch{}switch(h.tag){case 26:ri||io(h,o),sr(a,o,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:ri||io(h,o);var m=Ve,A=Un;Fc(h.type)&&(Ve=h.stateNode,Un=!1),sr(a,o,h),Jg(h.stateNode),Ve=m,Un=A;break;case 5:ri||io(h,o);case 6:if(m=Ve,A=Un,Ve=null,sr(a,o,h),Ve=m,Un=A,Ve!==null)if(Un)try{(Ve.nodeType===9?Ve.body:Ve.nodeName==="HTML"?Ve.ownerDocument.body:Ve).removeChild(h.stateNode)}catch(C){ct(h,o,C)}else try{Ve.removeChild(h.stateNode)}catch(C){ct(h,o,C)}break;case 18:Ve!==null&&(Un?(a=Ve,ST(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,h.stateNode),e0(a)):ST(Ve,h.stateNode));break;case 4:m=Ve,A=Un,Ve=h.stateNode.containerInfo,Un=!0,sr(a,o,h),Ve=m,Un=A;break;case 0:case 11:case 14:case 15:ri||Cs(2,h,o),ri||Cs(4,h,o),sr(a,o,h);break;case 1:ri||(io(h,o),m=h.stateNode,typeof m.componentWillUnmount=="function"&&qo(h,o,m)),sr(a,o,h);break;case 21:sr(a,o,h);break;case 22:ri=(m=ri)||h.memoizedState!==null,sr(a,o,h),ri=m;break;default:sr(a,o,h)}}function Ll(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{e0(a)}catch(h){ct(o,o.return,h)}}function up(a){switch(a.tag){case 13:case 19:var o=a.stateNode;return o===null&&(o=a.stateNode=new Rs),o;case 22:return a=a.stateNode,o=a._retryCache,o===null&&(o=a._retryCache=new Rs),o;default:throw Error(n(435,a.tag))}}function Su(a,o){var h=up(a);o.forEach(function(m){var A=Qe.bind(null,a,m);h.has(m)||(h.add(m),m.then(A,A))})}function ra(a,o){var h=o.deletions;if(h!==null)for(var m=0;m<h.length;m++){var A=h[m],C=a,z=o,Y=z;t:for(;Y!==null;){switch(Y.tag){case 27:if(Fc(Y.type)){Ve=Y.stateNode,Un=!1;break t}break;case 5:Ve=Y.stateNode,Un=!1;break t;case 3:case 4:Ve=Y.stateNode.containerInfo,Un=!0;break t}Y=Y.return}if(Ve===null)throw Error(n(160));Au(C,z,A),Ve=null,Un=!1,C=A.alternate,C!==null&&(C.return=null),A.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)cp(o,a),o=o.sibling}var Cr=null;function cp(a,o){var h=a.alternate,m=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:ra(o,a),bi(a),m&4&&(Cs(3,a,a.return),vu(3,a),Cs(5,a,a.return));break;case 1:ra(o,a),bi(a),m&512&&(ri||h===null||io(h,h.return)),m&64&&ao&&(a=a.updateQueue,a!==null&&(m=a.callbacks,m!==null&&(h=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=h===null?m:h.concat(m))));break;case 26:var A=Cr;if(ra(o,a),bi(a),m&512&&(ri||h===null||io(h,h.return)),m&4){var C=h!==null?h.memoizedState:null;if(m=a.memoizedState,h===null)if(m===null)if(a.stateNode===null){t:{m=a.type,h=a.memoizedProps,A=A.ownerDocument||A;e:switch(m){case"title":C=A.getElementsByTagName("title")[0],(!C||C[Xn]||C[ie]||C.namespaceURI==="http://www.w3.org/2000/svg"||C.hasAttribute("itemprop"))&&(C=A.createElement(m),A.head.insertBefore(C,A.querySelector("head > title"))),ja(C,m,h),C[ie]=a,Bn(C),m=C;break t;case"link":var z=BT("link","href",A).get(m+(h.href||""));if(z){for(var Y=0;Y<z.length;Y++)if(C=z[Y],C.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&C.getAttribute("rel")===(h.rel==null?null:h.rel)&&C.getAttribute("title")===(h.title==null?null:h.title)&&C.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){z.splice(Y,1);break e}}C=A.createElement(m),ja(C,m,h),A.head.appendChild(C);break;case"meta":if(z=BT("meta","content",A).get(m+(h.content||""))){for(Y=0;Y<z.length;Y++)if(C=z[Y],C.getAttribute("content")===(h.content==null?null:""+h.content)&&C.getAttribute("name")===(h.name==null?null:h.name)&&C.getAttribute("property")===(h.property==null?null:h.property)&&C.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&C.getAttribute("charset")===(h.charSet==null?null:h.charSet)){z.splice(Y,1);break e}}C=A.createElement(m),ja(C,m,h),A.head.appendChild(C);break;default:throw Error(n(468,m))}C[ie]=a,Bn(C),m=C}a.stateNode=m}else DT(A,a.type,a.stateNode);else a.stateNode=wT(A,m,a.memoizedProps);else C!==m?(C===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):C.count--,m===null?DT(A,a.type,a.stateNode):wT(A,m,a.memoizedProps)):m===null&&a.stateNode!==null&&ch(a,a.memoizedProps,h.memoizedProps)}break;case 27:ra(o,a),bi(a),m&512&&(ri||h===null||io(h,h.return)),h!==null&&m&4&&ch(a,a.memoizedProps,h.memoizedProps);break;case 5:if(ra(o,a),bi(a),m&512&&(ri||h===null||io(h,h.return)),a.flags&32){A=a.stateNode;try{qi(A,"")}catch(Bt){ct(a,a.return,Bt)}}m&4&&a.stateNode!=null&&(A=a.memoizedProps,ch(a,A,h!==null?h.memoizedProps:A)),m&1024&&(Oc=!0);break;case 6:if(ra(o,a),bi(a),m&4){if(a.stateNode===null)throw Error(n(162));m=a.memoizedProps,h=a.stateNode;try{h.nodeValue=m}catch(Bt){ct(a,a.return,Bt)}}break;case 3:if(Zv=null,A=Cr,Cr=jv(o.containerInfo),ra(o,a),Cr=A,bi(a),m&4&&h!==null&&h.memoizedState.isDehydrated)try{e0(o.containerInfo)}catch(Bt){ct(a,a.return,Bt)}Oc&&(Oc=!1,Il(a));break;case 4:m=Cr,Cr=jv(a.stateNode.containerInfo),ra(o,a),bi(a),Cr=m;break;case 12:ra(o,a),bi(a);break;case 13:ra(o,a),bi(a),a.child.flags&8192&&a.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(Zn=tt()),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,Su(a,m)));break;case 22:A=a.memoizedState!==null;var at=h!==null&&h.memoizedState!==null,At=ao,Ft=ri;if(ao=At||A,ri=Ft||at,ra(o,a),ri=Ft,ao=At,bi(a),m&8192)t:for(o=a.stateNode,o._visibility=A?o._visibility&-2:o._visibility|1,A&&(h===null||at||ao||ri||ws(a)),h=null,o=a;;){if(o.tag===5||o.tag===26){if(h===null){at=h=o;try{if(C=at.stateNode,A)z=C.style,typeof z.setProperty=="function"?z.setProperty("display","none","important"):z.display="none";else{Y=at.stateNode;var Jt=at.memoizedProps.style,Rt=Jt!=null&&Jt.hasOwnProperty("display")?Jt.display:null;Y.style.display=Rt==null||typeof Rt=="boolean"?"":(""+Rt).trim()}}catch(Bt){ct(at,at.return,Bt)}}}else if(o.tag===6){if(h===null){at=o;try{at.stateNode.nodeValue=A?"":at.memoizedProps}catch(Bt){ct(at,at.return,Bt)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===a)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break t;for(;o.sibling===null;){if(o.return===null||o.return===a)break t;h===o&&(h=null),o=o.return}h===o&&(h=null),o.sibling.return=o.return,o=o.sibling}m&4&&(m=a.updateQueue,m!==null&&(h=m.retryQueue,h!==null&&(m.retryQueue=null,Su(a,h))));break;case 19:ra(o,a),bi(a),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,Su(a,m)));break;case 30:break;case 21:break;default:ra(o,a),bi(a)}}function bi(a){var o=a.flags;if(o&2){try{for(var h,m=a.return;m!==null;){if(fh(m)){h=m;break}m=m.return}if(h==null)throw Error(n(160));switch(h.tag){case 27:var A=h.stateNode,C=Dl(a);Ul(a,C,A);break;case 5:var z=h.stateNode;h.flags&32&&(qi(z,""),h.flags&=-33);var Y=Dl(a);Ul(a,Y,z);break;case 3:case 4:var at=h.stateNode.containerInfo,At=Dl(a);Ol(a,At,at);break;default:throw Error(n(161))}}catch(Ft){ct(a,a.return,Ft)}a.flags&=-3}o&4096&&(a.flags&=-4097)}function Il(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var o=a;Il(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),a=a.sibling}}function Ka(a,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)Jo(a,o.alternate,o),o=o.sibling}function ws(a){for(a=a.child;a!==null;){var o=a;switch(o.tag){case 0:case 11:case 14:case 15:Cs(4,o,o.return),ws(o);break;case 1:io(o,o.return);var h=o.stateNode;typeof h.componentWillUnmount=="function"&&qo(o,o.return,h),ws(o);break;case 27:Jg(o.stateNode);case 26:case 5:io(o,o.return),ws(o);break;case 22:o.memoizedState===null&&ws(o);break;case 30:ws(o);break;default:ws(o)}a=a.sibling}}function so(a,o,h){for(h=h&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var m=o.alternate,A=a,C=o,z=C.flags;switch(C.tag){case 0:case 11:case 15:so(A,C,h),vu(4,C);break;case 1:if(so(A,C,h),m=C,A=m.stateNode,typeof A.componentDidMount=="function")try{A.componentDidMount()}catch(At){ct(m,m.return,At)}if(m=C,A=m.updateQueue,A!==null){var Y=m.stateNode;try{var at=A.shared.hiddenCallbacks;if(at!==null)for(A.shared.hiddenCallbacks=null,A=0;A<at.length;A++)Ac(at[A],Y)}catch(At){ct(m,m.return,At)}}h&&z&64&&yu(C),xu(C,C.return);break;case 27:Nl(C);case 26:case 5:so(A,C,h),h&&m===null&&z&4&&Dc(C),xu(C,C.return);break;case 12:so(A,C,h);break;case 13:so(A,C,h),h&&z&4&&Ll(A,C);break;case 22:C.memoizedState===null&&so(A,C,h),xu(C,C.return);break;case 30:break;default:so(A,C,h)}o=o.sibling}}function fp(a,o){var h=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),a=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(a=o.memoizedState.cachePool.pool),a!==h&&(a!=null&&a.refCount++,h!=null&&mc(h))}function hp(a,o){a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&mc(a))}function ni(a,o,h,m){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)dp(a,o,h,m),o=o.sibling}function dp(a,o,h,m){var A=o.flags;switch(o.tag){case 0:case 11:case 15:ni(a,o,h,m),A&2048&&vu(9,o);break;case 1:ni(a,o,h,m);break;case 3:ni(a,o,h,m),A&2048&&(a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&mc(a)));break;case 12:if(A&2048){ni(a,o,h,m),a=o.stateNode;try{var C=o.memoizedProps,z=C.id,Y=C.onPostCommit;typeof Y=="function"&&Y(z,o.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(at){ct(o,o.return,at)}}else ni(a,o,h,m);break;case 13:ni(a,o,h,m);break;case 23:break;case 22:C=o.stateNode,z=o.alternate,o.memoizedState!==null?C._visibility&2?ni(a,o,h,m):Rr(a,o):C._visibility&2?ni(a,o,h,m):(C._visibility|=2,Ko(a,o,h,m,(o.subtreeFlags&10256)!==0)),A&2048&&fp(z,o);break;case 24:ni(a,o,h,m),A&2048&&hp(o.alternate,o);break;default:ni(a,o,h,m)}}function Ko(a,o,h,m,A){for(A=A&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var C=a,z=o,Y=h,at=m,At=z.flags;switch(z.tag){case 0:case 11:case 15:Ko(C,z,Y,at,A),vu(8,z);break;case 23:break;case 22:var Ft=z.stateNode;z.memoizedState!==null?Ft._visibility&2?Ko(C,z,Y,at,A):Rr(C,z):(Ft._visibility|=2,Ko(C,z,Y,at,A)),A&&At&2048&&fp(z.alternate,z);break;case 24:Ko(C,z,Y,at,A),A&&At&2048&&hp(z.alternate,z);break;default:Ko(C,z,Y,at,A)}o=o.sibling}}function Rr(a,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var h=a,m=o,A=m.flags;switch(m.tag){case 22:Rr(h,m),A&2048&&fp(m.alternate,m);break;case 24:Rr(h,m),A&2048&&hp(m.alternate,m);break;default:Rr(h,m)}o=o.sibling}}var Bs=8192;function Uc(a){if(a.subtreeFlags&Bs)for(a=a.child;a!==null;)kv(a),a=a.sibling}function kv(a){switch(a.tag){case 26:Uc(a),a.flags&Bs&&a.memoizedState!==null&&EO(Cr,a.memoizedState,a.memoizedProps);break;case 5:Uc(a);break;case 3:case 4:var o=Cr;Cr=jv(a.stateNode.containerInfo),Uc(a),Cr=o;break;case 22:a.memoizedState===null&&(o=a.alternate,o!==null&&o.memoizedState!==null?(o=Bs,Bs=16777216,Uc(a),Bs=o):Uc(a));break;default:Uc(a)}}function Yv(a){var o=a.alternate;if(o!==null&&(a=o.child,a!==null)){o.child=null;do o=a.sibling,a.sibling=null,a=o;while(a!==null)}}function oi(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var h=0;h<o.length;h++){var m=o[h];ei=m,oo(m,a)}Yv(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Vg(a),a=a.sibling}function Vg(a){switch(a.tag){case 0:case 11:case 15:oi(a),a.flags&2048&&Cs(9,a,a.return);break;case 3:oi(a);break;case 12:oi(a);break;case 22:var o=a.stateNode;a.memoizedState!==null&&o._visibility&2&&(a.return===null||a.return.tag!==13)?(o._visibility&=-3,ro(a)):oi(a);break;default:oi(a)}}function ro(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var h=0;h<o.length;h++){var m=o[h];ei=m,oo(m,a)}Yv(a)}for(a=a.child;a!==null;){switch(o=a,o.tag){case 0:case 11:case 15:Cs(8,o,o.return),ro(o);break;case 22:h=o.stateNode,h._visibility&2&&(h._visibility&=-3,ro(o));break;default:ro(o)}a=a.sibling}}function oo(a,o){for(;ei!==null;){var h=ei;switch(h.tag){case 0:case 11:case 15:Cs(8,h,o);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var m=h.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:mc(h.memoizedState.cache)}if(m=h.child,m!==null)m.return=h,ei=m;else t:for(h=a;ei!==null;){m=ei;var A=m.sibling,C=m.return;if(hn(m),m===h){ei=null;break t}if(A!==null){A.return=C,ei=A;break t}ei=C}}}var Ei={getCacheForType:function(a){var o=Mi(zi),h=o.data.get(a);return h===void 0&&(h=a(),o.data.set(a,h)),h}},Xg=typeof WeakMap=="function"?WeakMap:Map,Yn=0,nn=null,vn=null,Ge=0,cn=0,Si=null,Ds=!1,Nc=!1,Lc=!1,rr=0,hi=0,wr=0,lo=0,Mu=0,or=0,Nn=0,qn=null,Xe=null,Sn=!1,Zn=0,Oa=1/0,lr=null,Os=null,ji=0,Ua=null,ii=null,Us=0,Wo=0,hh=null,Ns=null,uo=0,bu=null;function Ti(){if((Yn&2)!==0&&Ge!==0)return Ge&-Ge;if(G.T!==null){var a=on;return a!==0?a:LS()}return ue()}function pp(){or===0&&(or=(Ge&536870912)===0||Fn?$():536870912);var a=ti.current;return a!==null&&(a.flags|=32),or}function Wa(a,o,h){(a===nn&&(cn===2||cn===9)||a.cancelPendingCommit!==null)&&(Fl(a,0),Br(a,Ge,or,!1)),se(a,h),((Yn&2)===0||a!==nn)&&(a===nn&&((Yn&2)===0&&(lo|=h),hi===4&&Br(a,Ge,or,!1)),Gl(a))}function Ic(a,o,h){if((Yn&6)!==0)throw Error(n(327));var m=!h&&(o&124)===0&&(o&a.expiredLanes)===0||vt(a,o),A=m?S(a,o):f(a,o,!0),C=m;do{if(A===0){Nc&&!m&&Br(a,o,0,!1);break}else{if(h=a.current.alternate,C&&!Pl(h)){A=f(a,o,!1),C=!1;continue}if(A===2){if(C=o,a.errorRecoveryDisabledLanes&C)var z=0;else z=a.pendingLanes&-536870913,z=z!==0?z:z&536870912?536870912:0;if(z!==0){o=z;t:{var Y=a;A=qn;var at=Y.current.memoizedState.isDehydrated;if(at&&(Fl(Y,z).flags|=256),z=f(Y,z,!1),z!==2){if(Lc&&!at){Y.errorRecoveryDisabledLanes|=C,lo|=C,A=4;break t}C=Xe,Xe=A,C!==null&&(Xe===null?Xe=C:Xe.push.apply(Xe,C))}A=z}if(C=!1,A!==2)continue}}if(A===1){Fl(a,0),Br(a,o,0,!0);break}t:{switch(m=a,C=A,C){case 0:case 1:throw Error(n(345));case 4:if((o&4194048)!==o)break;case 6:Br(m,o,or,!Ds);break t;case 2:Xe=null;break;case 3:case 5:break;default:throw Error(n(329))}if((o&62914560)===o&&(A=Zn+300-tt(),10<A)){if(Br(m,o,or,!Ds),it(m,0,!0)!==0)break t;m.timeoutHandle=xT(dh.bind(null,m,h,Xe,lr,Sn,o,or,lo,Nn,Ds,C,2,-0,0),A);break t}dh(m,h,Xe,lr,Sn,o,or,lo,Nn,Ds,C,0,-0,0)}}break}while(!0);Gl(a)}function dh(a,o,h,m,A,C,z,Y,at,At,Ft,Jt,Rt,Bt){if(a.timeoutHandle=-1,Jt=o.subtreeFlags,(Jt&8192||(Jt&16785408)===16785408)&&(jg={stylesheets:null,count:0,unsuspend:bO},kv(o),Jt=TO(),Jt!==null)){a.cancelPendingCommit=Jt(oe.bind(null,a,o,C,h,m,A,z,Y,at,Ft,1,Rt,Bt)),Br(a,C,z,!At);return}oe(a,o,C,h,m,A,z,Y,at)}function Pl(a){for(var o=a;;){var h=o.tag;if((h===0||h===11||h===15)&&o.flags&16384&&(h=o.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var m=0;m<h.length;m++){var A=h[m],C=A.getSnapshot;A=A.value;try{if(!es(C(),A))return!1}catch{return!1}}if(h=o.child,o.subtreeFlags&16384&&h!==null)h.return=o,o=h;else{if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Br(a,o,h,m){o&=~Mu,o&=~lo,a.suspendedLanes|=o,a.pingedLanes&=~o,m&&(a.warmLanes|=o),m=a.expirationTimes;for(var A=o;0<A;){var C=31-re(A),z=1<<C;m[C]=-1,A&=~z}h!==0&&It(a,h,o)}function co(){return(Yn&6)===0?(kg(0),!1):!0}function Eu(){if(vn!==null){if(cn===0)var a=vn.return;else a=vn,Po=Al=null,Eg(a),uu=null,sh=0,a=vn;for(;a!==null;)Bc(a.alternate,a),a=a.return;vn=null}}function Fl(a,o){var h=a.timeoutHandle;h!==-1&&(a.timeoutHandle=-1,oO(h)),h=a.cancelPendingCommit,h!==null&&(a.cancelPendingCommit=null,h()),Eu(),nn=a,vn=h=Bi(a.current,null),Ge=o,cn=0,Si=null,Ds=!1,Nc=vt(a,o),Lc=!1,Nn=or=Mu=lo=wr=hi=0,Xe=qn=null,Sn=!1,(o&8)!==0&&(o|=o&32);var m=a.entangledLanes;if(m!==0)for(a=a.entanglements,m&=o;0<m;){var A=31-re(m),C=1<<A;o|=a[A],m&=~C}return rr=o,Vf(),h}function mp(a,o){ln=null,G.H=ah,o===Zf||o===Ar?(o=xg(),cn=3):o===yg?(o=xg(),cn=4):cn=o===Xv?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Si=o,vn===null&&(hi=1,rp(a,ya(o,a.current)))}function Pc(){var a=G.H;return G.H=ah,a===null?ah:a}function gp(){var a=G.A;return G.A=Ei,a}function c(){hi=4,Ds||(Ge&4194048)!==Ge&&ti.current!==null||(Nc=!0),(wr&134217727)===0&&(lo&134217727)===0||nn===null||Br(nn,Ge,or,!1)}function f(a,o,h){var m=Yn;Yn|=2;var A=Pc(),C=gp();(nn!==a||Ge!==o)&&(lr=null,Fl(a,o)),o=!1;var z=hi;t:do try{if(cn!==0&&vn!==null){var Y=vn,at=Si;switch(cn){case 8:Eu(),z=6;break t;case 3:case 2:case 9:case 6:ti.current===null&&(o=!0);var At=cn;if(cn=0,Si=null,st(a,Y,at,At),h&&Nc){z=0;break t}break;default:At=cn,cn=0,Si=null,st(a,Y,at,At)}}v(),z=hi;break}catch(Ft){mp(a,Ft)}while(!0);return o&&a.shellSuspendCounter++,Po=Al=null,Yn=m,G.H=A,G.A=C,vn===null&&(nn=null,Ge=0,Vf()),z}function v(){for(;vn!==null;)N(vn)}function S(a,o){var h=Yn;Yn|=2;var m=Pc(),A=gp();nn!==a||Ge!==o?(lr=null,Oa=tt()+500,Fl(a,o)):Nc=vt(a,o);t:do try{if(cn!==0&&vn!==null){o=vn;var C=Si;e:switch(cn){case 1:cn=0,Si=null,st(a,o,C,1);break;case 2:case 9:if(Yd(C)){cn=0,Si=null,J(o);break}o=function(){cn!==2&&cn!==9||nn!==a||(cn=7),Gl(a)},C.then(o,o);break t;case 3:cn=7;break t;case 4:cn=5;break t;case 7:Yd(C)?(cn=0,Si=null,J(o)):(cn=0,Si=null,st(a,o,C,7));break;case 5:var z=null;switch(vn.tag){case 26:z=vn.memoizedState;case 5:case 27:var Y=vn;if(!z||OT(z)){cn=0,Si=null;var at=Y.sibling;if(at!==null)vn=at;else{var At=Y.return;At!==null?(vn=At,_t(At)):vn=null}break e}}cn=0,Si=null,st(a,o,C,5);break;case 6:cn=0,Si=null,st(a,o,C,6);break;case 8:Eu(),hi=6;break t;default:throw Error(n(462))}}R();break}catch(Ft){mp(a,Ft)}while(!0);return Po=Al=null,G.H=m,G.A=A,Yn=h,vn!==null?0:(nn=null,Ge=0,Vf(),hi)}function R(){for(;vn!==null&&!Ot();)N(vn)}function N(a){var o=gu(a.alternate,a,rr);a.memoizedProps=a.pendingProps,o===null?_t(a):vn=o}function J(a){var o=a,h=o.alternate;switch(o.tag){case 15:case 0:o=Es(h,o,o.pendingProps,o.type,void 0,Ge);break;case 11:o=Es(h,o,o.pendingProps,o.type.render,o.ref,Ge);break;case 5:Eg(o);default:Bc(h,o),o=vn=hg(o,rr),o=gu(h,o,rr)}a.memoizedProps=a.pendingProps,o===null?_t(a):vn=o}function st(a,o,h,m){Po=Al=null,Eg(o),uu=null,sh=0;var A=o.return;try{if(US(a,A,o,h,Ge)){hi=1,rp(a,ya(h,a.current)),vn=null;return}}catch(C){if(A!==null)throw vn=A,C;hi=1,rp(a,ya(h,a.current)),vn=null;return}o.flags&32768?(Fn||m===1?a=!0:Nc||(Ge&536870912)!==0?a=!1:(Ds=a=!0,(m===2||m===9||m===3||m===6)&&(m=ti.current,m!==null&&m.tag===13&&(m.flags|=16384))),Pt(o,a)):_t(o)}function _t(a){var o=a;do{if((o.flags&32768)!==0){Pt(o,Ds);return}a=o.return;var h=Gg(o.alternate,o,rr);if(h!==null){vn=h;return}if(o=o.sibling,o!==null){vn=o;return}vn=o=a}while(o!==null);hi===0&&(hi=5)}function Pt(a,o){do{var h=wc(a.alternate,a);if(h!==null){h.flags&=32767,vn=h;return}if(h=a.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!o&&(a=a.sibling,a!==null)){vn=a;return}vn=a=h}while(a!==null);hi=6,vn=null}function oe(a,o,h,m,A,C,z,Y,at){a.cancelPendingCommit=null;do zl();while(ji!==0);if((Yn&6)!==0)throw Error(n(327));if(o!==null){if(o===a.current)throw Error(n(177));if(C=o.lanes|o.childLanes,C|=Id,Kt(a,h,C,z,Y,at),a===nn&&(vn=nn=null,Ge=0),ii=o,Ua=a,Us=h,Wo=C,hh=A,Ns=m,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,zn(de,function(){return Hl(),null})):(a.callbackNode=null,a.callbackPriority=0),m=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||m){m=G.T,G.T=null,A=q.p,q.p=2,z=Yn,Yn|=4;try{Wi(a,o,h)}finally{Yn=z,q.p=A,G.T=m}}ji=1,me(),Se(),an()}}function me(){if(ji===1){ji=0;var a=Ua,o=ii,h=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||h){h=G.T,G.T=null;var m=q.p;q.p=2;var A=Yn;Yn|=4;try{cp(o,a);var C=XS,z=sg(a.containerInfo),Y=C.focusedElem,at=C.selectionRange;if(z!==Y&&Y&&Y.ownerDocument&&ag(Y.ownerDocument.documentElement,Y)){if(at!==null&&zf(Y)){var At=at.start,Ft=at.end;if(Ft===void 0&&(Ft=At),"selectionStart"in Y)Y.selectionStart=At,Y.selectionEnd=Math.min(Ft,Y.value.length);else{var Jt=Y.ownerDocument||document,Rt=Jt&&Jt.defaultView||window;if(Rt.getSelection){var Bt=Rt.getSelection(),en=Y.textContent.length,Ke=Math.min(at.start,en),ui=at.end===void 0?Ke:Math.min(at.end,en);!Bt.extend&&Ke>ui&&(z=ui,ui=Ke,Ke=z);var mt=ig(Y,Ke),ht=ig(Y,ui);if(mt&&ht&&(Bt.rangeCount!==1||Bt.anchorNode!==mt.node||Bt.anchorOffset!==mt.offset||Bt.focusNode!==ht.node||Bt.focusOffset!==ht.offset)){var xt=Jt.createRange();xt.setStart(mt.node,mt.offset),Bt.removeAllRanges(),Ke>ui?(Bt.addRange(xt),Bt.extend(ht.node,ht.offset)):(xt.setEnd(ht.node,ht.offset),Bt.addRange(xt))}}}}for(Jt=[],Bt=Y;Bt=Bt.parentNode;)Bt.nodeType===1&&Jt.push({element:Bt,left:Bt.scrollLeft,top:Bt.scrollTop});for(typeof Y.focus=="function"&&Y.focus(),Y=0;Y<Jt.length;Y++){var Vt=Jt[Y];Vt.element.scrollLeft=Vt.left,Vt.element.scrollTop=Vt.top}}ey=!!VS,XS=VS=null}finally{Yn=A,q.p=m,G.T=h}}a.current=o,ji=2}}function Se(){if(ji===2){ji=0;var a=Ua,o=ii,h=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||h){h=G.T,G.T=null;var m=q.p;q.p=2;var A=Yn;Yn|=4;try{Jo(a,o.alternate,o)}finally{Yn=A,q.p=m,G.T=h}}ji=3}}function an(){if(ji===4||ji===3){ji=0,Gt();var a=Ua,o=ii,h=Us,m=Ns;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?ji=5:(ji=0,ii=Ua=null,Ls(a,a.pendingLanes));var A=a.pendingLanes;if(A===0&&(Os=null),$e(h),o=o.stateNode,Nt&&typeof Nt.onCommitFiberRoot=="function")try{Nt.onCommitFiberRoot(wt,o,void 0,(o.current.flags&128)===128)}catch{}if(m!==null){o=G.T,A=q.p,q.p=2,G.T=null;try{for(var C=a.onRecoverableError,z=0;z<m.length;z++){var Y=m[z];C(Y.value,{componentStack:Y.stack})}}finally{G.T=o,q.p=A}}(Us&3)!==0&&zl(),Gl(a),A=a.pendingLanes,(h&4194090)!==0&&(A&42)!==0?a===bu?uo++:(uo=0,bu=a):uo=0,kg(0)}}function Ls(a,o){(a.pooledCacheLanes&=o)===0&&(o=a.pooledCache,o!=null&&(a.pooledCache=null,mc(o)))}function zl(a){return me(),Se(),an(),Hl()}function Hl(){if(ji!==5)return!1;var a=Ua,o=Wo;Wo=0;var h=$e(Us),m=G.T,A=q.p;try{q.p=32>h?32:h,G.T=null,h=hh,hh=null;var C=Ua,z=Us;if(ji=0,ii=Ua=null,Us=0,(Yn&6)!==0)throw Error(n(331));var Y=Yn;if(Yn|=4,Vg(C.current),dp(C,C.current,z,h),Yn=Y,kg(0,!1),Nt&&typeof Nt.onPostCommitFiberRoot=="function")try{Nt.onPostCommitFiberRoot(wt,C)}catch{}return!0}finally{q.p=A,G.T=m,Ls(a,o)}}function Et(a,o,h){o=ya(h,o),o=op(a.stateNode,o,2),a=Ho(a,o,2),a!==null&&(se(a,2),Gl(a))}function ct(a,o,h){if(a.tag===3)Et(a,a,h);else for(;o!==null;){if(o.tag===3){Et(o,a,h);break}else if(o.tag===1){var m=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Os===null||!Os.has(m))){a=ya(h,a),h=Vv(2),m=Ho(o,h,2),m!==null&&(lp(h,m,o,a),se(m,2),Gl(m));break}}o=o.return}}function Dt(a,o,h){var m=a.pingCache;if(m===null){m=a.pingCache=new Xg;var A=new Set;m.set(o,A)}else A=m.get(o),A===void 0&&(A=new Set,m.set(o,A));A.has(h)||(Lc=!0,A.add(h),a=ae.bind(null,a,o,h),o.then(a,a))}function ae(a,o,h){var m=a.pingCache;m!==null&&m.delete(o),a.pingedLanes|=a.suspendedLanes&h,a.warmLanes&=~h,nn===a&&(Ge&h)===h&&(hi===4||hi===3&&(Ge&62914560)===Ge&&300>tt()-Zn?(Yn&2)===0&&Fl(a,0):Mu|=h,Nn===Ge&&(Nn=0)),Gl(a)}function Fe(a,o){o===0&&(o=zt()),a=Lo(a,o),a!==null&&(se(a,o),Gl(a))}function di(a){var o=a.memoizedState,h=0;o!==null&&(h=o.retryLane),Fe(a,h)}function Qe(a,o){var h=0;switch(a.tag){case 13:var m=a.stateNode,A=a.memoizedState;A!==null&&(h=A.retryLane);break;case 19:m=a.stateNode;break;case 22:m=a.stateNode._retryCache;break;default:throw Error(n(314))}m!==null&&m.delete(o),Fe(a,h)}function zn(a,o){return Z(a,o)}var Ni=null,yn=null,fo=!1,_p=!1,NS=!1,ph=0;function Gl(a){a!==yn&&a.next===null&&(yn===null?Ni=yn=a:yn=yn.next=a),_p=!0,fo||(fo=!0,Z3())}function kg(a,o){if(!NS&&_p){NS=!0;do for(var h=!1,m=Ni;m!==null;){if(a!==0){var A=m.pendingLanes;if(A===0)var C=0;else{var z=m.suspendedLanes,Y=m.pingedLanes;C=(1<<31-re(42|a)+1)-1,C&=A&~(z&~Y),C=C&201326741?C&201326741|1:C?C|2:0}C!==0&&(h=!0,cT(m,C))}else C=Ge,C=it(m,m===nn?C:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(C&3)===0||vt(m,C)||(h=!0,cT(m,C));m=m.next}while(h);NS=!1}}function Q3(){oT()}function oT(){_p=fo=!1;var a=0;ph!==0&&(rO()&&(a=ph),ph=0);for(var o=tt(),h=null,m=Ni;m!==null;){var A=m.next,C=lT(m,o);C===0?(m.next=null,h===null?Ni=A:h.next=A,A===null&&(yn=h)):(h=m,(a!==0||(C&3)!==0)&&(_p=!0)),m=A}kg(a)}function lT(a,o){for(var h=a.suspendedLanes,m=a.pingedLanes,A=a.expirationTimes,C=a.pendingLanes&-62914561;0<C;){var z=31-re(C),Y=1<<z,at=A[z];at===-1?((Y&h)===0||(Y&m)!==0)&&(A[z]=Qt(Y,o)):at<=o&&(a.expiredLanes|=Y),C&=~Y}if(o=nn,h=Ge,h=it(a,a===o?h:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),m=a.callbackNode,h===0||a===o&&(cn===2||cn===9)||a.cancelPendingCommit!==null)return m!==null&&m!==null&&Ut(m),a.callbackNode=null,a.callbackPriority=0;if((h&3)===0||vt(a,h)){if(o=h&-h,o===a.callbackPriority)return o;switch(m!==null&&Ut(m),$e(h)){case 2:case 8:h=jt;break;case 32:h=de;break;case 268435456:h=j;break;default:h=de}return m=uT.bind(null,a),h=Z(h,m),a.callbackPriority=o,a.callbackNode=h,o}return m!==null&&m!==null&&Ut(m),a.callbackPriority=2,a.callbackNode=null,2}function uT(a,o){if(ji!==0&&ji!==5)return a.callbackNode=null,a.callbackPriority=0,null;var h=a.callbackNode;if(zl()&&a.callbackNode!==h)return null;var m=Ge;return m=it(a,a===nn?m:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),m===0?null:(Ic(a,m,o),lT(a,tt()),a.callbackNode!=null&&a.callbackNode===h?uT.bind(null,a):null)}function cT(a,o){if(zl())return null;Ic(a,o,!0)}function Z3(){lO(function(){(Yn&6)!==0?Z(Xt,Q3):oT()})}function LS(){return ph===0&&(ph=$()),ph}function fT(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Tf(""+a)}function hT(a,o){var h=o.ownerDocument.createElement("input");return h.name=o.name,h.value=o.value,a.id&&h.setAttribute("form",a.id),o.parentNode.insertBefore(h,o),a=new FormData(a),h.parentNode.removeChild(h),a}function $3(a,o,h,m,A){if(o==="submit"&&h&&h.stateNode===A){var C=fT((A[Te]||null).action),z=m.submitter;z&&(o=(o=z[Te]||null)?fT(o.formAction):z.getAttribute("formAction"),o!==null&&(C=o,z=null));var Y=new nc("action","action",null,m,A);a.push({event:Y,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(ph!==0){var at=z?hT(A,z):new FormData(A);Pg(h,{pending:!0,data:at,method:A.method,action:C},null,at)}}else typeof C=="function"&&(Y.preventDefault(),at=z?hT(A,z):new FormData(A),Pg(h,{pending:!0,data:at,method:A.method,action:C},C,at))},currentTarget:A}]})}}for(var IS=0;IS<Gf.length;IS++){var PS=Gf[IS],tO=PS.toLowerCase(),eO=PS[0].toUpperCase()+PS.slice(1);na(tO,"on"+eO)}na(Xa,"onAnimationEnd"),na(lg,"onAnimationIteration"),na(is,"onAnimationStart"),na("dblclick","onDoubleClick"),na("focusin","onFocus"),na("focusout","onBlur"),na(tv,"onTransitionRun"),na(Uo,"onTransitionStart"),na(cc,"onTransitionCancel"),na(No,"onTransitionEnd"),ot("onMouseEnter",["mouseout","mouseover"]),ot("onMouseLeave",["mouseout","mouseover"]),ot("onPointerEnter",["pointerout","pointerover"]),ot("onPointerLeave",["pointerout","pointerover"]),k("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),k("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),k("onBeforeInput",["compositionend","keypress","textInput","paste"]),k("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),k("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),k("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yg="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nO=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Yg));function dT(a,o){o=(o&4)!==0;for(var h=0;h<a.length;h++){var m=a[h],A=m.event;m=m.listeners;t:{var C=void 0;if(o)for(var z=m.length-1;0<=z;z--){var Y=m[z],at=Y.instance,At=Y.currentTarget;if(Y=Y.listener,at!==C&&A.isPropagationStopped())break t;C=Y,A.currentTarget=At;try{C(A)}catch(Ft){fu(Ft)}A.currentTarget=null,C=at}else for(z=0;z<m.length;z++){if(Y=m[z],at=Y.instance,At=Y.currentTarget,Y=Y.listener,at!==C&&A.isPropagationStopped())break t;C=Y,A.currentTarget=At;try{C(A)}catch(Ft){fu(Ft)}A.currentTarget=null,C=at}}}}function Cn(a,o){var h=o[Ie];h===void 0&&(h=o[Ie]=new Set);var m=a+"__bubble";h.has(m)||(pT(o,a,2,!1),h.add(m))}function FS(a,o,h){var m=0;o&&(m|=4),pT(h,a,m,o)}var qv="_reactListening"+Math.random().toString(36).slice(2);function zS(a){if(!a[qv]){a[qv]=!0,fa.forEach(function(h){h!=="selectionchange"&&(nO.has(h)||FS(h,!1,a),FS(h,!0,a))});var o=a.nodeType===9?a:a.ownerDocument;o===null||o[qv]||(o[qv]=!0,FS("selectionchange",!1,o))}}function pT(a,o,h,m){switch(FT(o)){case 2:var A=wO;break;case 8:A=BO;break;default:A=$S}h=A.bind(null,o,h,a),A=void 0,!Rf||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(A=!0),m?A!==void 0?a.addEventListener(o,h,{capture:!0,passive:A}):a.addEventListener(o,h,!0):A!==void 0?a.addEventListener(o,h,{passive:A}):a.addEventListener(o,h,!1)}function HS(a,o,h,m,A){var C=m;if((o&1)===0&&(o&2)===0&&m!==null)t:for(;;){if(m===null)return;var z=m.tag;if(z===3||z===4){var Y=m.stateNode.containerInfo;if(Y===A)break;if(z===4)for(z=m.return;z!==null;){var at=z.tag;if((at===3||at===4)&&z.stateNode.containerInfo===A)return;z=z.return}for(;Y!==null;){if(z=An(Y),z===null)return;if(at=z.tag,at===5||at===6||at===26||at===27){m=C=z;continue t}Y=Y.parentNode}}m=m.return}Ym(function(){var At=C,Ft=Md(h),Jt=[];t:{var Rt=Ld.get(a);if(Rt!==void 0){var Bt=nc,en=a;switch(a){case"keypress":if(ul(h)===0)break t;case"keydown":case"keyup":Bt=jm;break;case"focusin":en="focus",Bt=Ed;break;case"focusout":en="blur",Bt=Ed;break;case"beforeblur":case"afterblur":Bt=Ed;break;case"click":if(h.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Bt=Km;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Bt=SS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Bt=Zm;break;case Xa:case lg:case is:Bt=z_;break;case No:Bt=wo;break;case"scroll":case"scrollend":Bt=I_;break;case"wheel":Bt=MS;break;case"copy":case"cut":case"paste":Bt=G_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Bt=Cd;break;case"toggle":case"beforetoggle":Bt=fl}var Ke=(o&4)!==0,ui=!Ke&&(a==="scroll"||a==="scrollend"),mt=Ke?Rt!==null?Rt+"Capture":null:Rt;Ke=[];for(var ht=At,xt;ht!==null;){var Vt=ht;if(xt=Vt.stateNode,Vt=Vt.tag,Vt!==5&&Vt!==26&&Vt!==27||xt===null||mt===null||(Vt=$u(ht,mt),Vt!=null&&Ke.push(qg(ht,Vt,xt))),ui)break;ht=ht.return}0<Ke.length&&(Rt=new Bt(Rt,en,null,h,Ft),Jt.push({event:Rt,listeners:Ke}))}}if((o&7)===0){t:{if(Rt=a==="mouseover"||a==="pointerover",Bt=a==="mouseout"||a==="pointerout",Rt&&h!==Sd&&(en=h.relatedTarget||h.fromElement)&&(An(en)||en[Re]))break t;if((Bt||Rt)&&(Rt=Ft.window===Ft?Ft:(Rt=Ft.ownerDocument)?Rt.defaultView||Rt.parentWindow:window,Bt?(en=h.relatedTarget||h.toElement,Bt=At,en=en?An(en):null,en!==null&&(ui=s(en),Ke=en.tag,en!==ui||Ke!==5&&Ke!==27&&Ke!==6)&&(en=null)):(Bt=null,en=At),Bt!==en)){if(Ke=Km,Vt="onMouseLeave",mt="onMouseEnter",ht="mouse",(a==="pointerout"||a==="pointerover")&&(Ke=Cd,Vt="onPointerLeave",mt="onPointerEnter",ht="pointer"),ui=Bt==null?Rt:Fi(Bt),xt=en==null?Rt:Fi(en),Rt=new Ke(Vt,ht+"leave",Bt,h,Ft),Rt.target=ui,Rt.relatedTarget=xt,Vt=null,An(Ft)===At&&(Ke=new Ke(mt,ht+"enter",en,h,Ft),Ke.target=xt,Ke.relatedTarget=ui,Vt=Ke),ui=Vt,Bt&&en)e:{for(Ke=Bt,mt=en,ht=0,xt=Ke;xt;xt=vp(xt))ht++;for(xt=0,Vt=mt;Vt;Vt=vp(Vt))xt++;for(;0<ht-xt;)Ke=vp(Ke),ht--;for(;0<xt-ht;)mt=vp(mt),xt--;for(;ht--;){if(Ke===mt||mt!==null&&Ke===mt.alternate)break e;Ke=vp(Ke),mt=vp(mt)}Ke=null}else Ke=null;Bt!==null&&mT(Jt,Rt,Bt,Ke,!1),en!==null&&ui!==null&&mT(Jt,ui,en,Ke,!0)}}t:{if(Rt=At?Fi(At):window,Bt=Rt.nodeName&&Rt.nodeName.toLowerCase(),Bt==="select"||Bt==="input"&&Rt.type==="file")var De=wd;else if(ng(Rt))if(Bd)De=pl;else{De=Q_;var Mn=bS}else Bt=Rt.nodeName,!Bt||Bt.toLowerCase()!=="input"||Rt.type!=="checkbox"&&Rt.type!=="radio"?At&&Ad(At.elementType)&&(De=wd):De=Ff;if(De&&(De=De(a,At))){ts(Jt,De,h,Ft);break t}Mn&&Mn(a,Rt,At),a==="focusout"&&At&&Rt.type==="number"&&At.memoizedProps.value!=null&&pa(Rt,"number",Rt.value)}switch(Mn=At?Fi(At):window,a){case"focusin":(ng(Mn)||Mn.contentEditable==="true")&&(Do=Mn,Od=At,Hf=null);break;case"focusout":Hf=Od=Do=null;break;case"mousedown":Ud=!0;break;case"contextmenu":case"mouseup":case"dragend":Ud=!1,og(Jt,h,Ft);break;case"selectionchange":if(rg)break;case"keydown":case"keyup":og(Jt,h,Ft)}var He;if(Of)t:{switch(a){case"compositionstart":var We="onCompositionStart";break t;case"compositionend":We="onCompositionEnd";break t;case"compositionupdate":We="onCompositionUpdate";break t}We=void 0}else dl?Lf(a,h)&&(We="onCompositionEnd"):a==="keydown"&&h.keyCode===229&&(We="onCompositionStart");We&&(Nf&&h.locale!=="ko"&&(dl||We!=="onCompositionStart"?We==="onCompositionEnd"&&dl&&(He=Jm()):(Co=Ft,qm="value"in Co?Co.value:Co.textContent,dl=!0)),Mn=Jv(At,We),0<Mn.length&&(We=new Td(We,a,null,h,Ft),Jt.push({event:We,listeners:Mn}),He?We.data=He:(He=tg(h),He!==null&&(We.data=He)))),(He=Uf?If(a,h):eg(a,h))&&(We=Jv(At,"onBeforeInput"),0<We.length&&(Mn=new Td("onBeforeInput","beforeinput",null,h,Ft),Jt.push({event:Mn,listeners:We}),Mn.data=He)),$3(Jt,a,At,h,Ft)}dT(Jt,o)})}function qg(a,o,h){return{instance:a,listener:o,currentTarget:h}}function Jv(a,o){for(var h=o+"Capture",m=[];a!==null;){var A=a,C=A.stateNode;if(A=A.tag,A!==5&&A!==26&&A!==27||C===null||(A=$u(a,h),A!=null&&m.unshift(qg(a,A,C)),A=$u(a,o),A!=null&&m.push(qg(a,A,C))),a.tag===3)return m;a=a.return}return[]}function vp(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function mT(a,o,h,m,A){for(var C=o._reactName,z=[];h!==null&&h!==m;){var Y=h,at=Y.alternate,At=Y.stateNode;if(Y=Y.tag,at!==null&&at===m)break;Y!==5&&Y!==26&&Y!==27||At===null||(at=At,A?(At=$u(h,C),At!=null&&z.unshift(qg(h,At,at))):A||(At=$u(h,C),At!=null&&z.push(qg(h,At,at)))),h=h.return}z.length!==0&&a.push({event:o,listeners:z})}var iO=/\r\n?/g,aO=/\u0000|\uFFFD/g;function gT(a){return(typeof a=="string"?a:""+a).replace(iO,`
`).replace(aO,"")}function _T(a,o){return o=gT(o),gT(a)===o}function Kv(){}function li(a,o,h,m,A,C){switch(h){case"children":typeof m=="string"?o==="body"||o==="textarea"&&m===""||qi(a,m):(typeof m=="number"||typeof m=="bigint")&&o!=="body"&&qi(a,""+m);break;case"className":ye(a,"class",m);break;case"tabIndex":ye(a,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":ye(a,h,m);break;case"style":Ef(a,m,C);break;case"data":if(o!=="object"){ye(a,"data",m);break}case"src":case"href":if(m===""&&(o!=="a"||h!=="href")){a.removeAttribute(h);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){a.removeAttribute(h);break}m=Tf(""+m),a.setAttribute(h,m);break;case"action":case"formAction":if(typeof m=="function"){a.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof C=="function"&&(h==="formAction"?(o!=="input"&&li(a,o,"name",A.name,A,null),li(a,o,"formEncType",A.formEncType,A,null),li(a,o,"formMethod",A.formMethod,A,null),li(a,o,"formTarget",A.formTarget,A,null)):(li(a,o,"encType",A.encType,A,null),li(a,o,"method",A.method,A,null),li(a,o,"target",A.target,A,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){a.removeAttribute(h);break}m=Tf(""+m),a.setAttribute(h,m);break;case"onClick":m!=null&&(a.onclick=Kv);break;case"onScroll":m!=null&&Cn("scroll",a);break;case"onScrollEnd":m!=null&&Cn("scrollend",a);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(n(61));if(h=m.__html,h!=null){if(A.children!=null)throw Error(n(60));a.innerHTML=h}}break;case"multiple":a.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":a.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){a.removeAttribute("xlink:href");break}h=Tf(""+m),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(h,""+m):a.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(h,""):a.removeAttribute(h);break;case"capture":case"download":m===!0?a.setAttribute(h,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(h,m):a.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?a.setAttribute(h,m):a.removeAttribute(h);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?a.removeAttribute(h):a.setAttribute(h,m);break;case"popover":Cn("beforetoggle",a),Cn("toggle",a),ne(a,"popover",m);break;case"xlinkActuate":he(a,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":he(a,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":he(a,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":he(a,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":he(a,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":he(a,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":he(a,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":he(a,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":he(a,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":ne(a,"is",m);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=Xm.get(h)||h,ne(a,h,m))}}function GS(a,o,h,m,A,C){switch(h){case"style":Ef(a,m,C);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(n(61));if(h=m.__html,h!=null){if(A.children!=null)throw Error(n(60));a.innerHTML=h}}break;case"children":typeof m=="string"?qi(a,m):(typeof m=="number"||typeof m=="bigint")&&qi(a,""+m);break;case"onScroll":m!=null&&Cn("scroll",a);break;case"onScrollEnd":m!=null&&Cn("scrollend",a);break;case"onClick":m!=null&&(a.onclick=Kv);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!_i.hasOwnProperty(h))t:{if(h[0]==="o"&&h[1]==="n"&&(A=h.endsWith("Capture"),o=h.slice(2,A?h.length-7:void 0),C=a[Te]||null,C=C!=null?C[h]:null,typeof C=="function"&&a.removeEventListener(o,C,A),typeof m=="function")){typeof C!="function"&&C!==null&&(h in a?a[h]=null:a.hasAttribute(h)&&a.removeAttribute(h)),a.addEventListener(o,m,A);break t}h in a?a[h]=m:m===!0?a.setAttribute(h,""):ne(a,h,m)}}}function ja(a,o,h){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Cn("error",a),Cn("load",a);var m=!1,A=!1,C;for(C in h)if(h.hasOwnProperty(C)){var z=h[C];if(z!=null)switch(C){case"src":m=!0;break;case"srcSet":A=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:li(a,o,C,z,h,null)}}A&&li(a,o,"srcSet",h.srcSet,h,null),m&&li(a,o,"src",h.src,h,null);return;case"input":Cn("invalid",a);var Y=C=z=A=null,at=null,At=null;for(m in h)if(h.hasOwnProperty(m)){var Ft=h[m];if(Ft!=null)switch(m){case"name":A=Ft;break;case"type":z=Ft;break;case"checked":at=Ft;break;case"defaultChecked":At=Ft;break;case"value":C=Ft;break;case"defaultValue":Y=Ft;break;case"children":case"dangerouslySetInnerHTML":if(Ft!=null)throw Error(n(137,o));break;default:li(a,o,m,Ft,h,null)}}wa(a,C,Y,at,At,z,A,!1),_n(a);return;case"select":Cn("invalid",a),m=z=C=null;for(A in h)if(h.hasOwnProperty(A)&&(Y=h[A],Y!=null))switch(A){case"value":C=Y;break;case"defaultValue":z=Y;break;case"multiple":m=Y;default:li(a,o,A,Y,h,null)}o=C,h=z,a.multiple=!!m,o!=null?xi(a,!!m,o,!1):h!=null&&xi(a,!!m,h,!0);return;case"textarea":Cn("invalid",a),C=A=m=null;for(z in h)if(h.hasOwnProperty(z)&&(Y=h[z],Y!=null))switch(z){case"value":m=Y;break;case"defaultValue":A=Y;break;case"children":C=Y;break;case"dangerouslySetInnerHTML":if(Y!=null)throw Error(n(91));break;default:li(a,o,z,Y,h,null)}iu(a,m,A,C),_n(a);return;case"option":for(at in h)if(h.hasOwnProperty(at)&&(m=h[at],m!=null))switch(at){case"selected":a.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:li(a,o,at,m,h,null)}return;case"dialog":Cn("beforetoggle",a),Cn("toggle",a),Cn("cancel",a),Cn("close",a);break;case"iframe":case"object":Cn("load",a);break;case"video":case"audio":for(m=0;m<Yg.length;m++)Cn(Yg[m],a);break;case"image":Cn("error",a),Cn("load",a);break;case"details":Cn("toggle",a);break;case"embed":case"source":case"link":Cn("error",a),Cn("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(At in h)if(h.hasOwnProperty(At)&&(m=h[At],m!=null))switch(At){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:li(a,o,At,m,h,null)}return;default:if(Ad(o)){for(Ft in h)h.hasOwnProperty(Ft)&&(m=h[Ft],m!==void 0&&GS(a,o,Ft,m,h,void 0));return}}for(Y in h)h.hasOwnProperty(Y)&&(m=h[Y],m!=null&&li(a,o,Y,m,h,null))}function sO(a,o,h,m){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var A=null,C=null,z=null,Y=null,at=null,At=null,Ft=null;for(Bt in h){var Jt=h[Bt];if(h.hasOwnProperty(Bt)&&Jt!=null)switch(Bt){case"checked":break;case"value":break;case"defaultValue":at=Jt;default:m.hasOwnProperty(Bt)||li(a,o,Bt,null,m,Jt)}}for(var Rt in m){var Bt=m[Rt];if(Jt=h[Rt],m.hasOwnProperty(Rt)&&(Bt!=null||Jt!=null))switch(Rt){case"type":C=Bt;break;case"name":A=Bt;break;case"checked":At=Bt;break;case"defaultChecked":Ft=Bt;break;case"value":z=Bt;break;case"defaultValue":Y=Bt;break;case"children":case"dangerouslySetInnerHTML":if(Bt!=null)throw Error(n(137,o));break;default:Bt!==Jt&&li(a,o,Rt,Bt,m,Jt)}}Qn(a,z,Y,at,At,Ft,C,A);return;case"select":Bt=z=Y=Rt=null;for(C in h)if(at=h[C],h.hasOwnProperty(C)&&at!=null)switch(C){case"value":break;case"multiple":Bt=at;default:m.hasOwnProperty(C)||li(a,o,C,null,m,at)}for(A in m)if(C=m[A],at=h[A],m.hasOwnProperty(A)&&(C!=null||at!=null))switch(A){case"value":Rt=C;break;case"defaultValue":Y=C;break;case"multiple":z=C;default:C!==at&&li(a,o,A,C,m,at)}o=Y,h=z,m=Bt,Rt!=null?xi(a,!!h,Rt,!1):!!m!=!!h&&(o!=null?xi(a,!!h,o,!0):xi(a,!!h,h?[]:"",!1));return;case"textarea":Bt=Rt=null;for(Y in h)if(A=h[Y],h.hasOwnProperty(Y)&&A!=null&&!m.hasOwnProperty(Y))switch(Y){case"value":break;case"children":break;default:li(a,o,Y,null,m,A)}for(z in m)if(A=m[z],C=h[z],m.hasOwnProperty(z)&&(A!=null||C!=null))switch(z){case"value":Rt=A;break;case"defaultValue":Bt=A;break;case"children":break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(n(91));break;default:A!==C&&li(a,o,z,A,m,C)}ma(a,Rt,Bt);return;case"option":for(var en in h)if(Rt=h[en],h.hasOwnProperty(en)&&Rt!=null&&!m.hasOwnProperty(en))switch(en){case"selected":a.selected=!1;break;default:li(a,o,en,null,m,Rt)}for(at in m)if(Rt=m[at],Bt=h[at],m.hasOwnProperty(at)&&Rt!==Bt&&(Rt!=null||Bt!=null))switch(at){case"selected":a.selected=Rt&&typeof Rt!="function"&&typeof Rt!="symbol";break;default:li(a,o,at,Rt,m,Bt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ke in h)Rt=h[Ke],h.hasOwnProperty(Ke)&&Rt!=null&&!m.hasOwnProperty(Ke)&&li(a,o,Ke,null,m,Rt);for(At in m)if(Rt=m[At],Bt=h[At],m.hasOwnProperty(At)&&Rt!==Bt&&(Rt!=null||Bt!=null))switch(At){case"children":case"dangerouslySetInnerHTML":if(Rt!=null)throw Error(n(137,o));break;default:li(a,o,At,Rt,m,Bt)}return;default:if(Ad(o)){for(var ui in h)Rt=h[ui],h.hasOwnProperty(ui)&&Rt!==void 0&&!m.hasOwnProperty(ui)&&GS(a,o,ui,void 0,m,Rt);for(Ft in m)Rt=m[Ft],Bt=h[Ft],!m.hasOwnProperty(Ft)||Rt===Bt||Rt===void 0&&Bt===void 0||GS(a,o,Ft,Rt,m,Bt);return}}for(var mt in h)Rt=h[mt],h.hasOwnProperty(mt)&&Rt!=null&&!m.hasOwnProperty(mt)&&li(a,o,mt,null,m,Rt);for(Jt in m)Rt=m[Jt],Bt=h[Jt],!m.hasOwnProperty(Jt)||Rt===Bt||Rt==null&&Bt==null||li(a,o,Jt,Rt,m,Bt)}var VS=null,XS=null;function Wv(a){return a.nodeType===9?a:a.ownerDocument}function vT(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function yT(a,o){if(a===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&o==="foreignObject"?0:a}function kS(a,o){return a==="textarea"||a==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var YS=null;function rO(){var a=window.event;return a&&a.type==="popstate"?a===YS?!1:(YS=a,!0):(YS=null,!1)}var xT=typeof setTimeout=="function"?setTimeout:void 0,oO=typeof clearTimeout=="function"?clearTimeout:void 0,AT=typeof Promise=="function"?Promise:void 0,lO=typeof queueMicrotask=="function"?queueMicrotask:typeof AT<"u"?function(a){return AT.resolve(null).then(a).catch(uO)}:xT;function uO(a){setTimeout(function(){throw a})}function Fc(a){return a==="head"}function ST(a,o){var h=o,m=0,A=0;do{var C=h.nextSibling;if(a.removeChild(h),C&&C.nodeType===8)if(h=C.data,h==="/$"){if(0<m&&8>m){h=m;var z=a.ownerDocument;if(h&1&&Jg(z.documentElement),h&2&&Jg(z.body),h&4)for(h=z.head,Jg(h),z=h.firstChild;z;){var Y=z.nextSibling,at=z.nodeName;z[Xn]||at==="SCRIPT"||at==="STYLE"||at==="LINK"&&z.rel.toLowerCase()==="stylesheet"||h.removeChild(z),z=Y}}if(A===0){a.removeChild(C),e0(o);return}A--}else h==="$"||h==="$?"||h==="$!"?A++:m=h.charCodeAt(0)-48;else m=0;h=C}while(h);e0(o)}function qS(a){var o=a.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var h=o;switch(o=o.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":qS(h),Je(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}a.removeChild(h)}}function cO(a,o,h,m){for(;a.nodeType===1;){var A=h;if(a.nodeName.toLowerCase()!==o.toLowerCase()){if(!m&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(m){if(!a[Xn])switch(o){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(C=a.getAttribute("rel"),C==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(C!==A.rel||a.getAttribute("href")!==(A.href==null||A.href===""?null:A.href)||a.getAttribute("crossorigin")!==(A.crossOrigin==null?null:A.crossOrigin)||a.getAttribute("title")!==(A.title==null?null:A.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(C=a.getAttribute("src"),(C!==(A.src==null?null:A.src)||a.getAttribute("type")!==(A.type==null?null:A.type)||a.getAttribute("crossorigin")!==(A.crossOrigin==null?null:A.crossOrigin))&&C&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(o==="input"&&a.type==="hidden"){var C=A.name==null?null:""+A.name;if(A.type==="hidden"&&a.getAttribute("name")===C)return a}else return a;if(a=jo(a.nextSibling),a===null)break}return null}function fO(a,o,h){if(o==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!h||(a=jo(a.nextSibling),a===null))return null;return a}function JS(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState==="complete"}function hO(a,o){var h=a.ownerDocument;if(a.data!=="$?"||h.readyState==="complete")o();else{var m=function(){o(),h.removeEventListener("DOMContentLoaded",m)};h.addEventListener("DOMContentLoaded",m),a._reactRetry=m}}function jo(a){for(;a!=null;a=a.nextSibling){var o=a.nodeType;if(o===1||o===3)break;if(o===8){if(o=a.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return a}var KS=null;function MT(a){a=a.previousSibling;for(var o=0;a;){if(a.nodeType===8){var h=a.data;if(h==="$"||h==="$!"||h==="$?"){if(o===0)return a;o--}else h==="/$"&&o++}a=a.previousSibling}return null}function bT(a,o,h){switch(o=Wv(h),a){case"html":if(a=o.documentElement,!a)throw Error(n(452));return a;case"head":if(a=o.head,!a)throw Error(n(453));return a;case"body":if(a=o.body,!a)throw Error(n(454));return a;default:throw Error(n(451))}}function Jg(a){for(var o=a.attributes;o.length;)a.removeAttributeNode(o[0]);Je(a)}var ho=new Map,ET=new Set;function jv(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var Tu=q.d;q.d={f:dO,r:pO,D:mO,C:gO,L:_O,m:vO,X:xO,S:yO,M:AO};function dO(){var a=Tu.f(),o=co();return a||o}function pO(a){var o=gn(a);o!==null&&o.tag===5&&o.type==="form"?wv(o):Tu.r(a)}var yp=typeof document>"u"?null:document;function TT(a,o,h){var m=yp;if(m&&typeof o=="string"&&o){var A=Yi(o);A='link[rel="'+a+'"][href="'+A+'"]',typeof h=="string"&&(A+='[crossorigin="'+h+'"]'),ET.has(A)||(ET.add(A),a={rel:a,crossOrigin:h,href:o},m.querySelector(A)===null&&(o=m.createElement("link"),ja(o,"link",a),Bn(o),m.head.appendChild(o)))}}function mO(a){Tu.D(a),TT("dns-prefetch",a,null)}function gO(a,o){Tu.C(a,o),TT("preconnect",a,o)}function _O(a,o,h){Tu.L(a,o,h);var m=yp;if(m&&a&&o){var A='link[rel="preload"][as="'+Yi(o)+'"]';o==="image"&&h&&h.imageSrcSet?(A+='[imagesrcset="'+Yi(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(A+='[imagesizes="'+Yi(h.imageSizes)+'"]')):A+='[href="'+Yi(a)+'"]';var C=A;switch(o){case"style":C=xp(a);break;case"script":C=Ap(a)}ho.has(C)||(a=g({rel:"preload",href:o==="image"&&h&&h.imageSrcSet?void 0:a,as:o},h),ho.set(C,a),m.querySelector(A)!==null||o==="style"&&m.querySelector(Kg(C))||o==="script"&&m.querySelector(Wg(C))||(o=m.createElement("link"),ja(o,"link",a),Bn(o),m.head.appendChild(o)))}}function vO(a,o){Tu.m(a,o);var h=yp;if(h&&a){var m=o&&typeof o.as=="string"?o.as:"script",A='link[rel="modulepreload"][as="'+Yi(m)+'"][href="'+Yi(a)+'"]',C=A;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":C=Ap(a)}if(!ho.has(C)&&(a=g({rel:"modulepreload",href:a},o),ho.set(C,a),h.querySelector(A)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(Wg(C)))return}m=h.createElement("link"),ja(m,"link",a),Bn(m),h.head.appendChild(m)}}}function yO(a,o,h){Tu.S(a,o,h);var m=yp;if(m&&a){var A=On(m).hoistableStyles,C=xp(a);o=o||"default";var z=A.get(C);if(!z){var Y={loading:0,preload:null};if(z=m.querySelector(Kg(C)))Y.loading=5;else{a=g({rel:"stylesheet",href:a,"data-precedence":o},h),(h=ho.get(C))&&WS(a,h);var at=z=m.createElement("link");Bn(at),ja(at,"link",a),at._p=new Promise(function(At,Ft){at.onload=At,at.onerror=Ft}),at.addEventListener("load",function(){Y.loading|=1}),at.addEventListener("error",function(){Y.loading|=2}),Y.loading|=4,Qv(z,o,m)}z={type:"stylesheet",instance:z,count:1,state:Y},A.set(C,z)}}}function xO(a,o){Tu.X(a,o);var h=yp;if(h&&a){var m=On(h).hoistableScripts,A=Ap(a),C=m.get(A);C||(C=h.querySelector(Wg(A)),C||(a=g({src:a,async:!0},o),(o=ho.get(A))&&jS(a,o),C=h.createElement("script"),Bn(C),ja(C,"link",a),h.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},m.set(A,C))}}function AO(a,o){Tu.M(a,o);var h=yp;if(h&&a){var m=On(h).hoistableScripts,A=Ap(a),C=m.get(A);C||(C=h.querySelector(Wg(A)),C||(a=g({src:a,async:!0,type:"module"},o),(o=ho.get(A))&&jS(a,o),C=h.createElement("script"),Bn(C),ja(C,"link",a),h.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},m.set(A,C))}}function CT(a,o,h,m){var A=(A=Mt.current)?jv(A):null;if(!A)throw Error(n(446));switch(a){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(o=xp(h.href),h=On(A).hoistableStyles,m=h.get(o),m||(m={type:"style",instance:null,count:0,state:null},h.set(o,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){a=xp(h.href);var C=On(A).hoistableStyles,z=C.get(a);if(z||(A=A.ownerDocument||A,z={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},C.set(a,z),(C=A.querySelector(Kg(a)))&&!C._p&&(z.instance=C,z.state.loading=5),ho.has(a)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},ho.set(a,h),C||SO(A,a,h,z.state))),o&&m===null)throw Error(n(528,""));return z}if(o&&m!==null)throw Error(n(529,""));return null;case"script":return o=h.async,h=h.src,typeof h=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Ap(h),h=On(A).hoistableScripts,m=h.get(o),m||(m={type:"script",instance:null,count:0,state:null},h.set(o,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,a))}}function xp(a){return'href="'+Yi(a)+'"'}function Kg(a){return'link[rel="stylesheet"]['+a+"]"}function RT(a){return g({},a,{"data-precedence":a.precedence,precedence:null})}function SO(a,o,h,m){a.querySelector('link[rel="preload"][as="style"]['+o+"]")?m.loading=1:(o=a.createElement("link"),m.preload=o,o.addEventListener("load",function(){return m.loading|=1}),o.addEventListener("error",function(){return m.loading|=2}),ja(o,"link",h),Bn(o),a.head.appendChild(o))}function Ap(a){return'[src="'+Yi(a)+'"]'}function Wg(a){return"script[async]"+a}function wT(a,o,h){if(o.count++,o.instance===null)switch(o.type){case"style":var m=a.querySelector('style[data-href~="'+Yi(h.href)+'"]');if(m)return o.instance=m,Bn(m),m;var A=g({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return m=(a.ownerDocument||a).createElement("style"),Bn(m),ja(m,"style",A),Qv(m,h.precedence,a),o.instance=m;case"stylesheet":A=xp(h.href);var C=a.querySelector(Kg(A));if(C)return o.state.loading|=4,o.instance=C,Bn(C),C;m=RT(h),(A=ho.get(A))&&WS(m,A),C=(a.ownerDocument||a).createElement("link"),Bn(C);var z=C;return z._p=new Promise(function(Y,at){z.onload=Y,z.onerror=at}),ja(C,"link",m),o.state.loading|=4,Qv(C,h.precedence,a),o.instance=C;case"script":return C=Ap(h.src),(A=a.querySelector(Wg(C)))?(o.instance=A,Bn(A),A):(m=h,(A=ho.get(C))&&(m=g({},h),jS(m,A)),a=a.ownerDocument||a,A=a.createElement("script"),Bn(A),ja(A,"link",m),a.head.appendChild(A),o.instance=A);case"void":return null;default:throw Error(n(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(m=o.instance,o.state.loading|=4,Qv(m,h.precedence,a));return o.instance}function Qv(a,o,h){for(var m=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),A=m.length?m[m.length-1]:null,C=A,z=0;z<m.length;z++){var Y=m[z];if(Y.dataset.precedence===o)C=Y;else if(C!==A)break}C?C.parentNode.insertBefore(a,C.nextSibling):(o=h.nodeType===9?h.head:h,o.insertBefore(a,o.firstChild))}function WS(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.title==null&&(a.title=o.title)}function jS(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.integrity==null&&(a.integrity=o.integrity)}var Zv=null;function BT(a,o,h){if(Zv===null){var m=new Map,A=Zv=new Map;A.set(h,m)}else A=Zv,m=A.get(h),m||(m=new Map,A.set(h,m));if(m.has(a))return m;for(m.set(a,null),h=h.getElementsByTagName(a),A=0;A<h.length;A++){var C=h[A];if(!(C[Xn]||C[ie]||a==="link"&&C.getAttribute("rel")==="stylesheet")&&C.namespaceURI!=="http://www.w3.org/2000/svg"){var z=C.getAttribute(o)||"";z=a+z;var Y=m.get(z);Y?Y.push(C):m.set(z,[C])}}return m}function DT(a,o,h){a=a.ownerDocument||a,a.head.insertBefore(h,o==="title"?a.querySelector("head > title"):null)}function MO(a,o,h){if(h===1||o.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return a=o.disabled,typeof o.precedence=="string"&&a==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function OT(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}var jg=null;function bO(){}function EO(a,o,h){if(jg===null)throw Error(n(475));var m=jg;if(o.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var A=xp(h.href),C=a.querySelector(Kg(A));if(C){a=C._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(m.count++,m=$v.bind(m),a.then(m,m)),o.state.loading|=4,o.instance=C,Bn(C);return}C=a.ownerDocument||a,h=RT(h),(A=ho.get(A))&&WS(h,A),C=C.createElement("link"),Bn(C);var z=C;z._p=new Promise(function(Y,at){z.onload=Y,z.onerror=at}),ja(C,"link",h),o.instance=C}m.stylesheets===null&&(m.stylesheets=new Map),m.stylesheets.set(o,a),(a=o.state.preload)&&(o.state.loading&3)===0&&(m.count++,o=$v.bind(m),a.addEventListener("load",o),a.addEventListener("error",o))}}function TO(){if(jg===null)throw Error(n(475));var a=jg;return a.stylesheets&&a.count===0&&QS(a,a.stylesheets),0<a.count?function(o){var h=setTimeout(function(){if(a.stylesheets&&QS(a,a.stylesheets),a.unsuspend){var m=a.unsuspend;a.unsuspend=null,m()}},6e4);return a.unsuspend=o,function(){a.unsuspend=null,clearTimeout(h)}}:null}function $v(){if(this.count--,this.count===0){if(this.stylesheets)QS(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var ty=null;function QS(a,o){a.stylesheets=null,a.unsuspend!==null&&(a.count++,ty=new Map,o.forEach(CO,a),ty=null,$v.call(a))}function CO(a,o){if(!(o.state.loading&4)){var h=ty.get(a);if(h)var m=h.get(null);else{h=new Map,ty.set(a,h);for(var A=a.querySelectorAll("link[data-precedence],style[data-precedence]"),C=0;C<A.length;C++){var z=A[C];(z.nodeName==="LINK"||z.getAttribute("media")!=="not all")&&(h.set(z.dataset.precedence,z),m=z)}m&&h.set(null,m)}A=o.instance,z=A.getAttribute("data-precedence"),C=h.get(z)||m,C===m&&h.set(null,A),h.set(z,A),this.count++,m=$v.bind(this),A.addEventListener("load",m),A.addEventListener("error",m),C?C.parentNode.insertBefore(A,C.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(A,a.firstChild)),o.state.loading|=4}}var Qg={$$typeof:D,Provider:null,Consumer:null,_currentValue:K,_currentValue2:K,_threadCount:0};function RO(a,o,h,m,A,C,z,Y){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Wt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wt(0),this.hiddenUpdates=Wt(null),this.identifierPrefix=m,this.onUncaughtError=A,this.onCaughtError=C,this.onRecoverableError=z,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Y,this.incompleteTransitions=new Map}function UT(a,o,h,m,A,C,z,Y,at,At,Ft,Jt){return a=new RO(a,o,h,z,Y,at,At,Jt),o=1,C===!0&&(o|=24),C=as(3,null,null,o),a.current=C,C.stateNode=a,o=Vd(),o.refCount++,a.pooledCache=o,o.refCount++,C.memoizedState={element:m,isDehydrated:h,cache:o},Ag(C),a}function NT(a){return a?(a=_l,a):_l}function LT(a,o,h,m,A,C){A=NT(A),m.context===null?m.context=A:m.pendingContext=A,m=$r(o),m.payload={element:h},C=C===void 0?null:C,C!==null&&(m.callback=C),h=Ho(a,m,o),h!==null&&(Wa(h,a,o),lu(h,a,o))}function IT(a,o){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var h=a.retryLane;a.retryLane=h!==0&&h<o?h:o}}function ZS(a,o){IT(a,o),(a=a.alternate)&&IT(a,o)}function PT(a){if(a.tag===13){var o=Lo(a,67108864);o!==null&&Wa(o,a,67108864),ZS(a,67108864)}}var ey=!0;function wO(a,o,h,m){var A=G.T;G.T=null;var C=q.p;try{q.p=2,$S(a,o,h,m)}finally{q.p=C,G.T=A}}function BO(a,o,h,m){var A=G.T;G.T=null;var C=q.p;try{q.p=8,$S(a,o,h,m)}finally{q.p=C,G.T=A}}function $S(a,o,h,m){if(ey){var A=tM(m);if(A===null)HS(a,o,m,ny,h),zT(a,m);else if(OO(A,a,o,h,m))m.stopPropagation();else if(zT(a,m),o&4&&-1<DO.indexOf(a)){for(;A!==null;){var C=gn(A);if(C!==null)switch(C.tag){case 3:if(C=C.stateNode,C.current.memoizedState.isDehydrated){var z=Ae(C.pendingLanes);if(z!==0){var Y=C;for(Y.pendingLanes|=2,Y.entangledLanes|=2;z;){var at=1<<31-re(z);Y.entanglements[1]|=at,z&=~at}Gl(C),(Yn&6)===0&&(Oa=tt()+500,kg(0))}}break;case 13:Y=Lo(C,2),Y!==null&&Wa(Y,C,2),co(),ZS(C,2)}if(C=tM(m),C===null&&HS(a,o,m,ny,h),C===A)break;A=C}A!==null&&m.stopPropagation()}else HS(a,o,m,null,h)}}function tM(a){return a=Md(a),eM(a)}var ny=null;function eM(a){if(ny=null,a=An(a),a!==null){var o=s(a);if(o===null)a=null;else{var h=o.tag;if(h===13){if(a=l(o),a!==null)return a;a=null}else if(h===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;a=null}else o!==a&&(a=null)}}return ny=a,null}function FT(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Zt()){case Xt:return 2;case jt:return 8;case de:case Ne:return 32;case j:return 268435456;default:return 32}default:return 32}}var nM=!1,zc=null,Hc=null,Gc=null,Zg=new Map,$g=new Map,Vc=[],DO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function zT(a,o){switch(a){case"focusin":case"focusout":zc=null;break;case"dragenter":case"dragleave":Hc=null;break;case"mouseover":case"mouseout":Gc=null;break;case"pointerover":case"pointerout":Zg.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":$g.delete(o.pointerId)}}function t0(a,o,h,m,A,C){return a===null||a.nativeEvent!==C?(a={blockedOn:o,domEventName:h,eventSystemFlags:m,nativeEvent:C,targetContainers:[A]},o!==null&&(o=gn(o),o!==null&&PT(o)),a):(a.eventSystemFlags|=m,o=a.targetContainers,A!==null&&o.indexOf(A)===-1&&o.push(A),a)}function OO(a,o,h,m,A){switch(o){case"focusin":return zc=t0(zc,a,o,h,m,A),!0;case"dragenter":return Hc=t0(Hc,a,o,h,m,A),!0;case"mouseover":return Gc=t0(Gc,a,o,h,m,A),!0;case"pointerover":var C=A.pointerId;return Zg.set(C,t0(Zg.get(C)||null,a,o,h,m,A)),!0;case"gotpointercapture":return C=A.pointerId,$g.set(C,t0($g.get(C)||null,a,o,h,m,A)),!0}return!1}function HT(a){var o=An(a.target);if(o!==null){var h=s(o);if(h!==null){if(o=h.tag,o===13){if(o=l(h),o!==null){a.blockedOn=o,Ee(a.priority,function(){if(h.tag===13){var m=Ti();m=be(m);var A=Lo(h,m);A!==null&&Wa(A,h,m),ZS(h,m)}});return}}else if(o===3&&h.stateNode.current.memoizedState.isDehydrated){a.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}a.blockedOn=null}function iy(a){if(a.blockedOn!==null)return!1;for(var o=a.targetContainers;0<o.length;){var h=tM(a.nativeEvent);if(h===null){h=a.nativeEvent;var m=new h.constructor(h.type,h);Sd=m,h.target.dispatchEvent(m),Sd=null}else return o=gn(h),o!==null&&PT(o),a.blockedOn=h,!1;o.shift()}return!0}function GT(a,o,h){iy(a)&&h.delete(o)}function UO(){nM=!1,zc!==null&&iy(zc)&&(zc=null),Hc!==null&&iy(Hc)&&(Hc=null),Gc!==null&&iy(Gc)&&(Gc=null),Zg.forEach(GT),$g.forEach(GT)}function ay(a,o){a.blockedOn===o&&(a.blockedOn=null,nM||(nM=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,UO)))}var sy=null;function VT(a){sy!==a&&(sy=a,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){sy===a&&(sy=null);for(var o=0;o<a.length;o+=3){var h=a[o],m=a[o+1],A=a[o+2];if(typeof m!="function"){if(eM(m||h)===null)continue;break}var C=gn(h);C!==null&&(a.splice(o,3),o-=3,Pg(C,{pending:!0,data:A,method:h.method,action:m},m,A))}}))}function e0(a){function o(at){return ay(at,a)}zc!==null&&ay(zc,a),Hc!==null&&ay(Hc,a),Gc!==null&&ay(Gc,a),Zg.forEach(o),$g.forEach(o);for(var h=0;h<Vc.length;h++){var m=Vc[h];m.blockedOn===a&&(m.blockedOn=null)}for(;0<Vc.length&&(h=Vc[0],h.blockedOn===null);)HT(h),h.blockedOn===null&&Vc.shift();if(h=(a.ownerDocument||a).$$reactFormReplay,h!=null)for(m=0;m<h.length;m+=3){var A=h[m],C=h[m+1],z=A[Te]||null;if(typeof C=="function")z||VT(h);else if(z){var Y=null;if(C&&C.hasAttribute("formAction")){if(A=C,z=C[Te]||null)Y=z.formAction;else if(eM(A)!==null)continue}else Y=z.action;typeof Y=="function"?h[m+1]=Y:(h.splice(m,3),m-=3),VT(h)}}}function iM(a){this._internalRoot=a}ry.prototype.render=iM.prototype.render=function(a){var o=this._internalRoot;if(o===null)throw Error(n(409));var h=o.current,m=Ti();LT(h,m,a,o,null,null)},ry.prototype.unmount=iM.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var o=a.containerInfo;LT(a.current,2,null,a,null,null),co(),o[Re]=null}};function ry(a){this._internalRoot=a}ry.prototype.unstable_scheduleHydration=function(a){if(a){var o=ue();a={blockedOn:null,target:a,priority:o};for(var h=0;h<Vc.length&&o!==0&&o<Vc[h].priority;h++);Vc.splice(h,0,a),h===0&&HT(a)}};var XT=t.version;if(XT!=="19.1.1")throw Error(n(527,XT,"19.1.1"));q.findDOMNode=function(a){var o=a._reactInternals;if(o===void 0)throw typeof a.render=="function"?Error(n(188)):(a=Object.keys(a).join(","),Error(n(268,a)));return a=d(o),a=a!==null?p(a):null,a=a===null?null:a.stateNode,a};var NO={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var oy=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oy.isDisabled&&oy.supportsFiber)try{wt=oy.inject(NO),Nt=oy}catch{}}return i0.createRoot=function(a,o){if(!i(a))throw Error(n(299));var h=!1,m="",A=oh,C=sp,z=Gv,Y=null;return o!=null&&(o.unstable_strictMode===!0&&(h=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(A=o.onUncaughtError),o.onCaughtError!==void 0&&(C=o.onCaughtError),o.onRecoverableError!==void 0&&(z=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(Y=o.unstable_transitionCallbacks)),o=UT(a,1,!1,null,null,h,m,A,C,z,Y,null),a[Re]=o.current,zS(a),new iM(o)},i0.hydrateRoot=function(a,o,h){if(!i(a))throw Error(n(299));var m=!1,A="",C=oh,z=sp,Y=Gv,at=null,At=null;return h!=null&&(h.unstable_strictMode===!0&&(m=!0),h.identifierPrefix!==void 0&&(A=h.identifierPrefix),h.onUncaughtError!==void 0&&(C=h.onUncaughtError),h.onCaughtError!==void 0&&(z=h.onCaughtError),h.onRecoverableError!==void 0&&(Y=h.onRecoverableError),h.unstable_transitionCallbacks!==void 0&&(at=h.unstable_transitionCallbacks),h.formState!==void 0&&(At=h.formState)),o=UT(a,1,!0,o,h??null,m,A,C,z,Y,at,At),o.context=NT(null),h=o.current,m=Ti(),m=be(m),A=$r(m),A.callback=null,Ho(h,A,m),h=m,o.current.lanes=h,se(o,h),Gl(o),a[Re]=o.current,zS(a),new ry(o)},i0.version="19.1.1",i0}var $T;function YO(){if($T)return rM.exports;$T=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),rM.exports=kO(),rM.exports}var qO=YO();const JO=[{text:"Data",imgPath:"/images/ideas.svg"},{text:"Patterns",imgPath:"/images/concepts.svg"},{text:"Models",imgPath:"/images/designs.svg"},{text:"Insights",imgPath:"/images/code.svg"},{text:"Data",imgPath:"/images/ideas.svg"},{text:"Patterns",imgPath:"/images/concepts.svg"},{text:"Models",imgPath:"/images/designs.svg"},{text:"Insights",imgPath:"/images/code.svg"}],tC=[{value:5,suffix:"+",label:"Years of Experience"},{value:10,suffix:"+",label:"Projects Shipped"},{value:1,suffix:"M+",label:"Data Points Processed"},{value:4,suffix:"",label:"Industries Served"}],KO=({text:r,className:t,id:e})=>fe.jsx("a",{onClick:n=>{n.preventDefault();const i=document.getElementById("counter");if(i&&e){const s=window.innerHeight*.15,l=i.getBoundingClientRect().top+window.pageYOffset-s;window.scrollTo({top:l,behavior:"smooth"})}},className:`${t??""} cta-wrapper`,children:fe.jsxs("div",{className:"cta-button group",children:[fe.jsx("div",{className:"bg-circle"}),fe.jsx("p",{className:"text",children:r}),fe.jsx("div",{className:"arrow-wrapper",children:fe.jsx("img",{src:"/images/arrow-down.svg",alt:"arrow"})})]})});function Xb(){return Xb=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)({}).hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},Xb.apply(null,arguments)}/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const x_="179",Oh={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Uh={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},ew=0,kb=1,nw=2,WO=3,iw=0,IA=1,O0=2,el=3,$l=0,Ks=1,il=2,Xu=0,Kh=1,Yb=2,qb=3,Jb=4,aw=5,tf=100,sw=101,rw=102,ow=103,lw=104,uw=200,cw=201,fw=202,hw=203,Ux=204,Nx=205,dw=206,pw=207,mw=208,gw=209,_w=210,vw=211,yw=212,xw=213,Aw=214,Lx=0,Ix=1,Px=2,ad=3,Fx=4,zx=5,Hx=6,Gx=7,A_=0,Sw=1,Mw=2,jl=0,bw=1,Ew=2,Tw=3,zE=4,Cw=5,Rw=6,ww=7,Kb="attached",Bw="detached",PA=300,Ku=301,df=302,t_=303,e_=304,Lm=306,pf=1e3,zr=1001,hm=1002,Fa=1003,FA=1004,jO=1004,Hh=1005,QO=1005,$i=1006,nm=1007,ZO=1007,yo=1008,$O=1008,bo=1009,HE=1010,GE=1011,dm=1012,zA=1013,Wu=1014,dr=1015,Im=1016,HA=1017,GA=1018,pm=1020,VE=35902,XE=1021,kE=1022,_s=1023,mm=1026,gm=1027,VA=1028,S_=1029,YE=1030,XA=1031,tU=1032,kA=1033,U0=33776,N0=33777,L0=33778,I0=33779,Vx=35840,Xx=35841,kx=35842,Yx=35843,qx=36196,Jx=37492,Kx=37496,Wx=37808,jx=37809,Qx=37810,Zx=37811,$x=37812,tA=37813,eA=37814,nA=37815,iA=37816,aA=37817,sA=37818,rA=37819,oA=37820,lA=37821,P0=36492,uA=36494,cA=36495,qE=36283,fA=36284,hA=36285,dA=36286,Dw=2200,Ow=2201,Uw=2202,_m=2300,vm=2301,yx=2302,Gh=2400,Vh=2401,n_=2402,YA=2500,JE=2501,Nw=0,KE=1,pA=2,Lw=3200,Iw=3201,eU=3202,nU=3203,xf=0,Pw=1,Fu="",ps="srgb",mf="srgb-linear",i_="linear",ai="srgb",iU=0,Nh=7680,aU=7681,sU=7682,rU=7683,oU=34055,lU=34056,uU=5386,cU=512,fU=513,hU=514,dU=515,pU=516,mU=517,gU=518,Wb=519,Fw=512,zw=513,Hw=514,WE=515,Gw=516,Vw=517,Xw=518,kw=519,a_=35044,_U=35048,vU=35040,yU=35045,xU=35049,AU=35041,SU=35046,MU=35050,bU=35042,EU="100",jb="300 es",Hr=2e3,ym=2001,TU={COMPUTE:"compute",RENDER:"render"},CU={PERSPECTIVE:"perspective",LINEAR:"linear",FLAT:"flat"},RU={NORMAL:"normal",CENTROID:"centroid",SAMPLE:"sample",FIRST:"first",EITHER:"either"};let nu=class{addEventListener(t,e){this._listeners===void 0&&(this._listeners={});const n=this._listeners;n[t]===void 0&&(n[t]=[]),n[t].indexOf(e)===-1&&n[t].push(e)}hasEventListener(t,e){const n=this._listeners;return n===void 0?!1:n[t]!==void 0&&n[t].indexOf(e)!==-1}removeEventListener(t,e){const n=this._listeners;if(n===void 0)return;const i=n[t];if(i!==void 0){const s=i.indexOf(e);s!==-1&&i.splice(s,1)}}dispatchEvent(t){const e=this._listeners;if(e===void 0)return;const n=e[t.type];if(n!==void 0){t.target=this;const i=n.slice(0);for(let s=0,l=i.length;s<l;s++)i[s].call(this,t);t.target=null}}};const us=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let eC=1234567;const Wh=Math.PI/180,xm=180/Math.PI;function Xr(){const r=Math.random()*4294967295|0,t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0;return(us[r&255]+us[r>>8&255]+us[r>>16&255]+us[r>>24&255]+"-"+us[t&255]+us[t>>8&255]+"-"+us[t>>16&15|64]+us[t>>24&255]+"-"+us[e&63|128]+us[e>>8&255]+"-"+us[e>>16&255]+us[e>>24&255]+us[n&255]+us[n>>8&255]+us[n>>16&255]+us[n>>24&255]).toLowerCase()}function Ze(r,t,e){return Math.max(t,Math.min(e,r))}function jE(r,t){return(r%t+t)%t}function wU(r,t,e,n,i){return n+(r-t)*(i-n)/(e-t)}function BU(r,t,e){return r!==t?(e-r)/(t-r):0}function F0(r,t,e){return(1-e)*r+e*t}function DU(r,t,e,n){return F0(r,t,1-Math.exp(-e*n))}function OU(r,t=1){return t-Math.abs(jE(r,t*2)-t)}function UU(r,t,e){return r<=t?0:r>=e?1:(r=(r-t)/(e-t),r*r*(3-2*r))}function NU(r,t,e){return r<=t?0:r>=e?1:(r=(r-t)/(e-t),r*r*r*(r*(r*6-15)+10))}function LU(r,t){return r+Math.floor(Math.random()*(t-r+1))}function IU(r,t){return r+Math.random()*(t-r)}function PU(r){return r*(.5-Math.random())}function FU(r){r!==void 0&&(eC=r);let t=eC+=1831565813;return t=Math.imul(t^t>>>15,t|1),t^=t+Math.imul(t^t>>>7,t|61),((t^t>>>14)>>>0)/4294967296}function zU(r){return r*Wh}function HU(r){return r*xm}function GU(r){return(r&r-1)===0&&r!==0}function VU(r){return Math.pow(2,Math.ceil(Math.log(r)/Math.LN2))}function XU(r){return Math.pow(2,Math.floor(Math.log(r)/Math.LN2))}function kU(r,t,e,n,i){const s=Math.cos,l=Math.sin,u=s(e/2),d=l(e/2),p=s((t+n)/2),g=l((t+n)/2),_=s((t-n)/2),y=l((t-n)/2),x=s((n-t)/2),M=l((n-t)/2);switch(i){case"XYX":r.set(u*g,d*_,d*y,u*p);break;case"YZY":r.set(d*y,u*g,d*_,u*p);break;case"ZXZ":r.set(d*_,d*y,u*g,u*p);break;case"XZX":r.set(u*g,d*M,d*x,u*p);break;case"YXY":r.set(d*x,u*g,d*M,u*p);break;case"ZYZ":r.set(d*M,d*x,u*g,u*p);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function Ys(r,t){switch(t.constructor){case Float32Array:return r;case Uint32Array:return r/4294967295;case Uint16Array:return r/65535;case Uint8Array:return r/255;case Int32Array:return Math.max(r/2147483647,-1);case Int16Array:return Math.max(r/32767,-1);case Int8Array:return Math.max(r/127,-1);default:throw new Error("Invalid component type.")}}function dn(r,t){switch(t.constructor){case Float32Array:return r;case Uint32Array:return Math.round(r*4294967295);case Uint16Array:return Math.round(r*65535);case Uint8Array:return Math.round(r*255);case Int32Array:return Math.round(r*2147483647);case Int16Array:return Math.round(r*32767);case Int8Array:return Math.round(r*127);default:throw new Error("Invalid component type.")}}const Yw={DEG2RAD:Wh,RAD2DEG:xm,generateUUID:Xr,clamp:Ze,euclideanModulo:jE,mapLinear:wU,inverseLerp:BU,lerp:F0,damp:DU,pingpong:OU,smoothstep:UU,smootherstep:NU,randInt:LU,randFloat:IU,randFloatSpread:PU,seededRandom:FU,degToRad:zU,radToDeg:HU,isPowerOfTwo:GU,ceilPowerOfTwo:VU,floorPowerOfTwo:XU,setQuaternionFromProperEuler:kU,normalize:dn,denormalize:Ys};class Ht{constructor(t=0,e=0){Ht.prototype.isVector2=!0,this.x=t,this.y=e}get width(){return this.x}set width(t){this.x=t}get height(){return this.y}set height(t){this.y=t}set(t,e){return this.x=t,this.y=e,this}setScalar(t){return this.x=t,this.y=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y)}copy(t){return this.x=t.x,this.y=t.y,this}add(t){return this.x+=t.x,this.y+=t.y,this}addScalar(t){return this.x+=t,this.y+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this}subScalar(t){return this.x-=t,this.y-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this}multiply(t){return this.x*=t.x,this.y*=t.y,this}multiplyScalar(t){return this.x*=t,this.y*=t,this}divide(t){return this.x/=t.x,this.y/=t.y,this}divideScalar(t){return this.multiplyScalar(1/t)}applyMatrix3(t){const e=this.x,n=this.y,i=t.elements;return this.x=i[0]*e+i[3]*n+i[6],this.y=i[1]*e+i[4]*n+i[7],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this}clamp(t,e){return this.x=Ze(this.x,t.x,e.x),this.y=Ze(this.y,t.y,e.y),this}clampScalar(t,e){return this.x=Ze(this.x,t,e),this.y=Ze(this.y,t,e),this}clampLength(t,e){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Ze(n,t,e))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(t){return this.x*t.x+this.y*t.y}cross(t){return this.x*t.y-this.y*t.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(t){const e=Math.sqrt(this.lengthSq()*t.lengthSq());if(e===0)return Math.PI/2;const n=this.dot(t)/e;return Math.acos(Ze(n,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,n=this.y-t.y;return e*e+n*n}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this}lerpVectors(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this}equals(t){return t.x===this.x&&t.y===this.y}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this}rotateAround(t,e){const n=Math.cos(e),i=Math.sin(e),s=this.x-t.x,l=this.y-t.y;return this.x=s*n-l*i+t.x,this.y=s*i+l*n+t.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class za{constructor(t=0,e=0,n=0,i=1){this.isQuaternion=!0,this._x=t,this._y=e,this._z=n,this._w=i}static slerpFlat(t,e,n,i,s,l,u){let d=n[i+0],p=n[i+1],g=n[i+2],_=n[i+3];const y=s[l+0],x=s[l+1],M=s[l+2],T=s[l+3];if(u===0){t[e+0]=d,t[e+1]=p,t[e+2]=g,t[e+3]=_;return}if(u===1){t[e+0]=y,t[e+1]=x,t[e+2]=M,t[e+3]=T;return}if(_!==T||d!==y||p!==x||g!==M){let E=1-u;const b=d*y+p*x+g*M+_*T,w=b>=0?1:-1,D=1-b*b;if(D>Number.EPSILON){const L=Math.sqrt(D),P=Math.atan2(L,b*w);E=Math.sin(E*P)/L,u=Math.sin(u*P)/L}const B=u*w;if(d=d*E+y*B,p=p*E+x*B,g=g*E+M*B,_=_*E+T*B,E===1-u){const L=1/Math.sqrt(d*d+p*p+g*g+_*_);d*=L,p*=L,g*=L,_*=L}}t[e]=d,t[e+1]=p,t[e+2]=g,t[e+3]=_}static multiplyQuaternionsFlat(t,e,n,i,s,l){const u=n[i],d=n[i+1],p=n[i+2],g=n[i+3],_=s[l],y=s[l+1],x=s[l+2],M=s[l+3];return t[e]=u*M+g*_+d*x-p*y,t[e+1]=d*M+g*y+p*_-u*x,t[e+2]=p*M+g*x+u*y-d*_,t[e+3]=g*M-u*_-d*y-p*x,t}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get w(){return this._w}set w(t){this._w=t,this._onChangeCallback()}set(t,e,n,i){return this._x=t,this._y=e,this._z=n,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this}setFromEuler(t,e=!0){const n=t._x,i=t._y,s=t._z,l=t._order,u=Math.cos,d=Math.sin,p=u(n/2),g=u(i/2),_=u(s/2),y=d(n/2),x=d(i/2),M=d(s/2);switch(l){case"XYZ":this._x=y*g*_+p*x*M,this._y=p*x*_-y*g*M,this._z=p*g*M+y*x*_,this._w=p*g*_-y*x*M;break;case"YXZ":this._x=y*g*_+p*x*M,this._y=p*x*_-y*g*M,this._z=p*g*M-y*x*_,this._w=p*g*_+y*x*M;break;case"ZXY":this._x=y*g*_-p*x*M,this._y=p*x*_+y*g*M,this._z=p*g*M+y*x*_,this._w=p*g*_-y*x*M;break;case"ZYX":this._x=y*g*_-p*x*M,this._y=p*x*_+y*g*M,this._z=p*g*M-y*x*_,this._w=p*g*_+y*x*M;break;case"YZX":this._x=y*g*_+p*x*M,this._y=p*x*_+y*g*M,this._z=p*g*M-y*x*_,this._w=p*g*_-y*x*M;break;case"XZY":this._x=y*g*_-p*x*M,this._y=p*x*_-y*g*M,this._z=p*g*M+y*x*_,this._w=p*g*_+y*x*M;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+l)}return e===!0&&this._onChangeCallback(),this}setFromAxisAngle(t,e){const n=e/2,i=Math.sin(n);return this._x=t.x*i,this._y=t.y*i,this._z=t.z*i,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(t){const e=t.elements,n=e[0],i=e[4],s=e[8],l=e[1],u=e[5],d=e[9],p=e[2],g=e[6],_=e[10],y=n+u+_;if(y>0){const x=.5/Math.sqrt(y+1);this._w=.25/x,this._x=(g-d)*x,this._y=(s-p)*x,this._z=(l-i)*x}else if(n>u&&n>_){const x=2*Math.sqrt(1+n-u-_);this._w=(g-d)/x,this._x=.25*x,this._y=(i+l)/x,this._z=(s+p)/x}else if(u>_){const x=2*Math.sqrt(1+u-n-_);this._w=(s-p)/x,this._x=(i+l)/x,this._y=.25*x,this._z=(d+g)/x}else{const x=2*Math.sqrt(1+_-n-u);this._w=(l-i)/x,this._x=(s+p)/x,this._y=(d+g)/x,this._z=.25*x}return this._onChangeCallback(),this}setFromUnitVectors(t,e){let n=t.dot(e)+1;return n<1e-8?(n=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=n):(this._x=0,this._y=-t.z,this._z=t.y,this._w=n)):(this._x=t.y*e.z-t.z*e.y,this._y=t.z*e.x-t.x*e.z,this._z=t.x*e.y-t.y*e.x,this._w=n),this.normalize()}angleTo(t){return 2*Math.acos(Math.abs(Ze(this.dot(t),-1,1)))}rotateTowards(t,e){const n=this.angleTo(t);if(n===0)return this;const i=Math.min(1,e/n);return this.slerp(t,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let t=this.length();return t===0?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this}multiply(t){return this.multiplyQuaternions(this,t)}premultiply(t){return this.multiplyQuaternions(t,this)}multiplyQuaternions(t,e){const n=t._x,i=t._y,s=t._z,l=t._w,u=e._x,d=e._y,p=e._z,g=e._w;return this._x=n*g+l*u+i*p-s*d,this._y=i*g+l*d+s*u-n*p,this._z=s*g+l*p+n*d-i*u,this._w=l*g-n*u-i*d-s*p,this._onChangeCallback(),this}slerp(t,e){if(e===0)return this;if(e===1)return this.copy(t);const n=this._x,i=this._y,s=this._z,l=this._w;let u=l*t._w+n*t._x+i*t._y+s*t._z;if(u<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,u=-u):this.copy(t),u>=1)return this._w=l,this._x=n,this._y=i,this._z=s,this;const d=1-u*u;if(d<=Number.EPSILON){const x=1-e;return this._w=x*l+e*this._w,this._x=x*n+e*this._x,this._y=x*i+e*this._y,this._z=x*s+e*this._z,this.normalize(),this}const p=Math.sqrt(d),g=Math.atan2(p,u),_=Math.sin((1-e)*g)/p,y=Math.sin(e*g)/p;return this._w=l*_+this._w*y,this._x=n*_+this._x*y,this._y=i*_+this._y*y,this._z=s*_+this._z*y,this._onChangeCallback(),this}slerpQuaternions(t,e,n){return this.copy(t).slerp(e,n)}random(){const t=2*Math.PI*Math.random(),e=2*Math.PI*Math.random(),n=Math.random(),i=Math.sqrt(1-n),s=Math.sqrt(n);return this.set(i*Math.sin(t),i*Math.cos(t),s*Math.sin(e),s*Math.cos(e))}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w}fromArray(t,e=0){return this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t}fromBufferAttribute(t,e){return this._x=t.getX(e),this._y=t.getY(e),this._z=t.getZ(e),this._w=t.getW(e),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class W{constructor(t=0,e=0,n=0){W.prototype.isVector3=!0,this.x=t,this.y=e,this.z=n}set(t,e,n){return n===void 0&&(n=this.z),this.x=t,this.y=e,this.z=n,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this}multiplyVectors(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this}applyEuler(t){return this.applyQuaternion(nC.setFromEuler(t))}applyAxisAngle(t,e){return this.applyQuaternion(nC.setFromAxisAngle(t,e))}applyMatrix3(t){const e=this.x,n=this.y,i=this.z,s=t.elements;return this.x=s[0]*e+s[3]*n+s[6]*i,this.y=s[1]*e+s[4]*n+s[7]*i,this.z=s[2]*e+s[5]*n+s[8]*i,this}applyNormalMatrix(t){return this.applyMatrix3(t).normalize()}applyMatrix4(t){const e=this.x,n=this.y,i=this.z,s=t.elements,l=1/(s[3]*e+s[7]*n+s[11]*i+s[15]);return this.x=(s[0]*e+s[4]*n+s[8]*i+s[12])*l,this.y=(s[1]*e+s[5]*n+s[9]*i+s[13])*l,this.z=(s[2]*e+s[6]*n+s[10]*i+s[14])*l,this}applyQuaternion(t){const e=this.x,n=this.y,i=this.z,s=t.x,l=t.y,u=t.z,d=t.w,p=2*(l*i-u*n),g=2*(u*e-s*i),_=2*(s*n-l*e);return this.x=e+d*p+l*_-u*g,this.y=n+d*g+u*p-s*_,this.z=i+d*_+s*g-l*p,this}project(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)}unproject(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)}transformDirection(t){const e=this.x,n=this.y,i=this.z,s=t.elements;return this.x=s[0]*e+s[4]*n+s[8]*i,this.y=s[1]*e+s[5]*n+s[9]*i,this.z=s[2]*e+s[6]*n+s[10]*i,this.normalize()}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}divideScalar(t){return this.multiplyScalar(1/t)}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}clamp(t,e){return this.x=Ze(this.x,t.x,e.x),this.y=Ze(this.y,t.y,e.y),this.z=Ze(this.z,t.z,e.z),this}clampScalar(t,e){return this.x=Ze(this.x,t,e),this.y=Ze(this.y,t,e),this.z=Ze(this.z,t,e),this}clampLength(t,e){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Ze(n,t,e))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this}lerpVectors(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this.z=t.z+(e.z-t.z)*n,this}cross(t){return this.crossVectors(this,t)}crossVectors(t,e){const n=t.x,i=t.y,s=t.z,l=e.x,u=e.y,d=e.z;return this.x=i*d-s*u,this.y=s*l-n*d,this.z=n*u-i*l,this}projectOnVector(t){const e=t.lengthSq();if(e===0)return this.set(0,0,0);const n=t.dot(this)/e;return this.copy(t).multiplyScalar(n)}projectOnPlane(t){return cM.copy(this).projectOnVector(t),this.sub(cM)}reflect(t){return this.sub(cM.copy(t).multiplyScalar(2*this.dot(t)))}angleTo(t){const e=Math.sqrt(this.lengthSq()*t.lengthSq());if(e===0)return Math.PI/2;const n=this.dot(t)/e;return Math.acos(Ze(n,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,n=this.y-t.y,i=this.z-t.z;return e*e+n*n+i*i}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}setFromSpherical(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)}setFromSphericalCoords(t,e,n){const i=Math.sin(e)*t;return this.x=i*Math.sin(n),this.y=Math.cos(e)*t,this.z=i*Math.cos(n),this}setFromCylindrical(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}setFromCylindricalCoords(t,e,n){return this.x=t*Math.sin(e),this.y=n,this.z=t*Math.cos(e),this}setFromMatrixPosition(t){const e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this}setFromMatrixScale(t){const e=this.setFromMatrixColumn(t,0).length(),n=this.setFromMatrixColumn(t,1).length(),i=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=n,this.z=i,this}setFromMatrixColumn(t,e){return this.fromArray(t.elements,e*4)}setFromMatrix3Column(t,e){return this.fromArray(t.elements,e*3)}setFromEuler(t){return this.x=t._x,this.y=t._y,this.z=t._z,this}setFromColor(t){return this.x=t.r,this.y=t.g,this.z=t.b,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const t=Math.random()*Math.PI*2,e=Math.random()*2-1,n=Math.sqrt(1-e*e);return this.x=n*Math.cos(t),this.y=e,this.z=n*Math.sin(t),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const cM=new W,nC=new za;class fn{constructor(t,e,n,i,s,l,u,d,p){fn.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],t!==void 0&&this.set(t,e,n,i,s,l,u,d,p)}set(t,e,n,i,s,l,u,d,p){const g=this.elements;return g[0]=t,g[1]=i,g[2]=u,g[3]=e,g[4]=s,g[5]=d,g[6]=n,g[7]=l,g[8]=p,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(t){const e=this.elements,n=t.elements;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],this}extractBasis(t,e,n){return t.setFromMatrix3Column(this,0),e.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(t){const e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const n=t.elements,i=e.elements,s=this.elements,l=n[0],u=n[3],d=n[6],p=n[1],g=n[4],_=n[7],y=n[2],x=n[5],M=n[8],T=i[0],E=i[3],b=i[6],w=i[1],D=i[4],B=i[7],L=i[2],P=i[5],H=i[8];return s[0]=l*T+u*w+d*L,s[3]=l*E+u*D+d*P,s[6]=l*b+u*B+d*H,s[1]=p*T+g*w+_*L,s[4]=p*E+g*D+_*P,s[7]=p*b+g*B+_*H,s[2]=y*T+x*w+M*L,s[5]=y*E+x*D+M*P,s[8]=y*b+x*B+M*H,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this}determinant(){const t=this.elements,e=t[0],n=t[1],i=t[2],s=t[3],l=t[4],u=t[5],d=t[6],p=t[7],g=t[8];return e*l*g-e*u*p-n*s*g+n*u*d+i*s*p-i*l*d}invert(){const t=this.elements,e=t[0],n=t[1],i=t[2],s=t[3],l=t[4],u=t[5],d=t[6],p=t[7],g=t[8],_=g*l-u*p,y=u*d-g*s,x=p*s-l*d,M=e*_+n*y+i*x;if(M===0)return this.set(0,0,0,0,0,0,0,0,0);const T=1/M;return t[0]=_*T,t[1]=(i*p-g*n)*T,t[2]=(u*n-i*l)*T,t[3]=y*T,t[4]=(g*e-i*d)*T,t[5]=(i*s-u*e)*T,t[6]=x*T,t[7]=(n*d-p*e)*T,t[8]=(l*e-n*s)*T,this}transpose(){let t;const e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this}getNormalMatrix(t){return this.setFromMatrix4(t).invert().transpose()}transposeIntoArray(t){const e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this}setUvTransform(t,e,n,i,s,l,u){const d=Math.cos(s),p=Math.sin(s);return this.set(n*d,n*p,-n*(d*l+p*u)+l+t,-i*p,i*d,-i*(-p*l+d*u)+u+e,0,0,1),this}scale(t,e){return this.premultiply(fM.makeScale(t,e)),this}rotate(t){return this.premultiply(fM.makeRotation(-t)),this}translate(t,e){return this.premultiply(fM.makeTranslation(t,e)),this}makeTranslation(t,e){return t.isVector2?this.set(1,0,t.x,0,1,t.y,0,0,1):this.set(1,0,t,0,1,e,0,0,1),this}makeRotation(t){const e=Math.cos(t),n=Math.sin(t);return this.set(e,-n,0,n,e,0,0,0,1),this}makeScale(t,e){return this.set(t,0,0,0,e,0,0,0,1),this}equals(t){const e=this.elements,n=t.elements;for(let i=0;i<9;i++)if(e[i]!==n[i])return!1;return!0}fromArray(t,e=0){for(let n=0;n<9;n++)this.elements[n]=t[n+e];return this}toArray(t=[],e=0){const n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t}clone(){return new this.constructor().fromArray(this.elements)}}const fM=new fn;function qw(r){for(let t=r.length-1;t>=0;--t)if(r[t]>=65535)return!0;return!1}const YU={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Qp(r,t){return new YU[r](t)}function s_(r){return document.createElementNS("http://www.w3.org/1999/xhtml",r)}function Jw(){const r=s_("canvas");return r.style.display="block",r}const iC={};function im(r){r in iC||(iC[r]=!0,console.warn(r))}function qU(r,t,e){return new Promise(function(n,i){function s(){switch(r.clientWaitSync(t,r.SYNC_FLUSH_COMMANDS_BIT,0)){case r.WAIT_FAILED:i();break;case r.TIMEOUT_EXPIRED:setTimeout(s,e);break;default:n()}}setTimeout(s,e)})}const aC=new fn().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),sC=new fn().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function JU(){const r={enabled:!0,workingColorSpace:mf,spaces:{},convert:function(i,s,l){return this.enabled===!1||s===l||!s||!l||(this.spaces[s].transfer===ai&&(i.r=ku(i.r),i.g=ku(i.g),i.b=ku(i.b)),this.spaces[s].primaries!==this.spaces[l].primaries&&(i.applyMatrix3(this.spaces[s].toXYZ),i.applyMatrix3(this.spaces[l].fromXYZ)),this.spaces[l].transfer===ai&&(i.r=am(i.r),i.g=am(i.g),i.b=am(i.b))),i},workingToColorSpace:function(i,s){return this.convert(i,this.workingColorSpace,s)},colorSpaceToWorking:function(i,s){return this.convert(i,s,this.workingColorSpace)},getPrimaries:function(i){return this.spaces[i].primaries},getTransfer:function(i){return i===Fu?i_:this.spaces[i].transfer},getLuminanceCoefficients:function(i,s=this.workingColorSpace){return i.fromArray(this.spaces[s].luminanceCoefficients)},define:function(i){Object.assign(this.spaces,i)},_getMatrix:function(i,s,l){return i.copy(this.spaces[s].toXYZ).multiply(this.spaces[l].fromXYZ)},_getDrawingBufferColorSpace:function(i){return this.spaces[i].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(i=this.workingColorSpace){return this.spaces[i].workingColorSpaceConfig.unpackColorSpace},fromWorkingColorSpace:function(i,s){return im("THREE.ColorManagement: .fromWorkingColorSpace() has been renamed to .workingToColorSpace()."),r.workingToColorSpace(i,s)},toWorkingColorSpace:function(i,s){return im("THREE.ColorManagement: .toWorkingColorSpace() has been renamed to .colorSpaceToWorking()."),r.colorSpaceToWorking(i,s)}},t=[.64,.33,.3,.6,.15,.06],e=[.2126,.7152,.0722],n=[.3127,.329];return r.define({[mf]:{primaries:t,whitePoint:n,transfer:i_,toXYZ:aC,fromXYZ:sC,luminanceCoefficients:e,workingColorSpaceConfig:{unpackColorSpace:ps},outputColorSpaceConfig:{drawingBufferColorSpace:ps}},[ps]:{primaries:t,whitePoint:n,transfer:ai,toXYZ:aC,fromXYZ:sC,luminanceCoefficients:e,outputColorSpaceConfig:{drawingBufferColorSpace:ps}}}),r}const Ln=JU();function ku(r){return r<.04045?r*.0773993808:Math.pow(r*.9478672986+.0521327014,2.4)}function am(r){return r<.0031308?r*12.92:1.055*Math.pow(r,.41666)-.055}let Sp;class Kw{static getDataURL(t,e="image/png"){if(/^data:/i.test(t.src)||typeof HTMLCanvasElement>"u")return t.src;let n;if(t instanceof HTMLCanvasElement)n=t;else{Sp===void 0&&(Sp=s_("canvas")),Sp.width=t.width,Sp.height=t.height;const i=Sp.getContext("2d");t instanceof ImageData?i.putImageData(t,0,0):i.drawImage(t,0,0,t.width,t.height),n=Sp}return n.toDataURL(e)}static sRGBToLinear(t){if(typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap){const e=s_("canvas");e.width=t.width,e.height=t.height;const n=e.getContext("2d");n.drawImage(t,0,0,t.width,t.height);const i=n.getImageData(0,0,t.width,t.height),s=i.data;for(let l=0;l<s.length;l++)s[l]=ku(s[l]/255)*255;return n.putImageData(i,0,0),e}else if(t.data){const e=t.data.slice(0);for(let n=0;n<e.length;n++)e instanceof Uint8Array||e instanceof Uint8ClampedArray?e[n]=Math.floor(ku(e[n]/255)*255):e[n]=ku(e[n]);return{data:e,width:t.width,height:t.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),t}}let KU=0;class nf{constructor(t=null){this.isSource=!0,Object.defineProperty(this,"id",{value:KU++}),this.uuid=Xr(),this.data=t,this.dataReady=!0,this.version=0}getSize(t){const e=this.data;return e instanceof HTMLVideoElement?t.set(e.videoWidth,e.videoHeight,0):e instanceof VideoFrame?t.set(e.displayHeight,e.displayWidth,0):e!==null?t.set(e.width,e.height,e.depth||0):t.set(0,0,0),t}set needsUpdate(t){t===!0&&this.version++}toJSON(t){const e=t===void 0||typeof t=="string";if(!e&&t.images[this.uuid]!==void 0)return t.images[this.uuid];const n={uuid:this.uuid,url:""},i=this.data;if(i!==null){let s;if(Array.isArray(i)){s=[];for(let l=0,u=i.length;l<u;l++)i[l].isDataTexture?s.push(hM(i[l].image)):s.push(hM(i[l]))}else s=hM(i);n.url=s}return e||(t.images[this.uuid]=n),n}}function hM(r){return typeof HTMLImageElement<"u"&&r instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&r instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&r instanceof ImageBitmap?Kw.getDataURL(r):r.data?{data:Array.from(r.data),width:r.width,height:r.height,type:r.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let WU=0;const dM=new W;class wi extends nu{constructor(t=wi.DEFAULT_IMAGE,e=wi.DEFAULT_MAPPING,n=zr,i=zr,s=$i,l=yo,u=_s,d=bo,p=wi.DEFAULT_ANISOTROPY,g=Fu){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:WU++}),this.uuid=Xr(),this.name="",this.source=new nf(t),this.mipmaps=[],this.mapping=e,this.channel=0,this.wrapS=n,this.wrapT=i,this.magFilter=s,this.minFilter=l,this.anisotropy=p,this.format=u,this.internalFormat=null,this.type=d,this.offset=new Ht(0,0),this.repeat=new Ht(1,1),this.center=new Ht(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new fn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=g,this.userData={},this.updateRanges=[],this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isArrayTexture=!!(t&&t.depth&&t.depth>1),this.pmremVersion=0}get width(){return this.source.getSize(dM).x}get height(){return this.source.getSize(dM).y}get depth(){return this.source.getSize(dM).z}get image(){return this.source.data}set image(t=null){this.source.data=t}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}addUpdateRange(t,e){this.updateRanges.push({start:t,count:e})}clearUpdateRanges(){this.updateRanges.length=0}clone(){return new this.constructor().copy(this)}copy(t){return this.name=t.name,this.source=t.source,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.channel=t.channel,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.internalFormat=t.internalFormat,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.colorSpace=t.colorSpace,this.renderTarget=t.renderTarget,this.isRenderTargetTexture=t.isRenderTargetTexture,this.isArrayTexture=t.isArrayTexture,this.userData=JSON.parse(JSON.stringify(t.userData)),this.needsUpdate=!0,this}setValues(t){for(const e in t){const n=t[e];if(n===void 0){console.warn(`THREE.Texture.setValues(): parameter '${e}' has value of undefined.`);continue}const i=this[e];if(i===void 0){console.warn(`THREE.Texture.setValues(): property '${e}' does not exist.`);continue}i&&n&&i.isVector2&&n.isVector2||i&&n&&i.isVector3&&n.isVector3||i&&n&&i.isMatrix3&&n.isMatrix3?i.copy(n):this[e]=n}}toJSON(t){const e=t===void 0||typeof t=="string";if(!e&&t.textures[this.uuid]!==void 0)return t.textures[this.uuid];const n={metadata:{version:4.7,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(t).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(n.userData=this.userData),e||(t.textures[this.uuid]=n),n}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(t){if(this.mapping!==PA)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case pf:t.x=t.x-Math.floor(t.x);break;case zr:t.x=t.x<0?0:1;break;case hm:Math.abs(Math.floor(t.x)%2)===1?t.x=Math.ceil(t.x)-t.x:t.x=t.x-Math.floor(t.x);break}if(t.y<0||t.y>1)switch(this.wrapT){case pf:t.y=t.y-Math.floor(t.y);break;case zr:t.y=t.y<0?0:1;break;case hm:Math.abs(Math.floor(t.y)%2)===1?t.y=Math.ceil(t.y)-t.y:t.y=t.y-Math.floor(t.y);break}return this.flipY&&(t.y=1-t.y),t}set needsUpdate(t){t===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(t){t===!0&&this.pmremVersion++}}wi.DEFAULT_IMAGE=null;wi.DEFAULT_MAPPING=PA;wi.DEFAULT_ANISOTROPY=1;class Gn{constructor(t=0,e=0,n=0,i=1){Gn.prototype.isVector4=!0,this.x=t,this.y=e,this.z=n,this.w=i}get width(){return this.z}set width(t){this.z=t}get height(){return this.w}set height(t){this.w=t}set(t,e,n,i){return this.x=t,this.y=e,this.z=n,this.w=i,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this.w=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setW(t){return this.w=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=t.w!==void 0?t.w:1,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.w+=t.w*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this.w*=t.w,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this}applyMatrix4(t){const e=this.x,n=this.y,i=this.z,s=this.w,l=t.elements;return this.x=l[0]*e+l[4]*n+l[8]*i+l[12]*s,this.y=l[1]*e+l[5]*n+l[9]*i+l[13]*s,this.z=l[2]*e+l[6]*n+l[10]*i+l[14]*s,this.w=l[3]*e+l[7]*n+l[11]*i+l[15]*s,this}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this.w/=t.w,this}divideScalar(t){return this.multiplyScalar(1/t)}setAxisAngleFromQuaternion(t){this.w=2*Math.acos(t.w);const e=Math.sqrt(1-t.w*t.w);return e<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this}setAxisAngleFromRotationMatrix(t){let e,n,i,s;const d=t.elements,p=d[0],g=d[4],_=d[8],y=d[1],x=d[5],M=d[9],T=d[2],E=d[6],b=d[10];if(Math.abs(g-y)<.01&&Math.abs(_-T)<.01&&Math.abs(M-E)<.01){if(Math.abs(g+y)<.1&&Math.abs(_+T)<.1&&Math.abs(M+E)<.1&&Math.abs(p+x+b-3)<.1)return this.set(1,0,0,0),this;e=Math.PI;const D=(p+1)/2,B=(x+1)/2,L=(b+1)/2,P=(g+y)/4,H=(_+T)/4,F=(M+E)/4;return D>B&&D>L?D<.01?(n=0,i=.707106781,s=.707106781):(n=Math.sqrt(D),i=P/n,s=H/n):B>L?B<.01?(n=.707106781,i=0,s=.707106781):(i=Math.sqrt(B),n=P/i,s=F/i):L<.01?(n=.707106781,i=.707106781,s=0):(s=Math.sqrt(L),n=H/s,i=F/s),this.set(n,i,s,e),this}let w=Math.sqrt((E-M)*(E-M)+(_-T)*(_-T)+(y-g)*(y-g));return Math.abs(w)<.001&&(w=1),this.x=(E-M)/w,this.y=(_-T)/w,this.z=(y-g)/w,this.w=Math.acos((p+x+b-1)/2),this}setFromMatrixPosition(t){const e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this.w=e[15],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this}clamp(t,e){return this.x=Ze(this.x,t.x,e.x),this.y=Ze(this.y,t.y,e.y),this.z=Ze(this.z,t.z,e.z),this.w=Ze(this.w,t.w,e.w),this}clampScalar(t,e){return this.x=Ze(this.x,t,e),this.y=Ze(this.y,t,e),this.z=Ze(this.z,t,e),this.w=Ze(this.w,t,e),this}clampLength(t,e){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Ze(n,t,e))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this}lerpVectors(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this.z=t.z+(e.z-t.z)*n,this.w=t.w+(e.w-t.w)*n,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this.w=t.getW(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class QE extends nu{constructor(t=1,e=1,n={}){super(),n=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:$i,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,depth:1,multiview:!1},n),this.isRenderTarget=!0,this.width=t,this.height=e,this.depth=n.depth,this.scissor=new Gn(0,0,t,e),this.scissorTest=!1,this.viewport=new Gn(0,0,t,e);const i={width:t,height:e,depth:n.depth},s=new wi(i);this.textures=[];const l=n.count;for(let u=0;u<l;u++)this.textures[u]=s.clone(),this.textures[u].isRenderTargetTexture=!0,this.textures[u].renderTarget=this;this._setTextureOptions(n),this.depthBuffer=n.depthBuffer,this.stencilBuffer=n.stencilBuffer,this.resolveDepthBuffer=n.resolveDepthBuffer,this.resolveStencilBuffer=n.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=n.depthTexture,this.samples=n.samples,this.multiview=n.multiview}_setTextureOptions(t={}){const e={minFilter:$i,generateMipmaps:!1,flipY:!1,internalFormat:null};t.mapping!==void 0&&(e.mapping=t.mapping),t.wrapS!==void 0&&(e.wrapS=t.wrapS),t.wrapT!==void 0&&(e.wrapT=t.wrapT),t.wrapR!==void 0&&(e.wrapR=t.wrapR),t.magFilter!==void 0&&(e.magFilter=t.magFilter),t.minFilter!==void 0&&(e.minFilter=t.minFilter),t.format!==void 0&&(e.format=t.format),t.type!==void 0&&(e.type=t.type),t.anisotropy!==void 0&&(e.anisotropy=t.anisotropy),t.colorSpace!==void 0&&(e.colorSpace=t.colorSpace),t.flipY!==void 0&&(e.flipY=t.flipY),t.generateMipmaps!==void 0&&(e.generateMipmaps=t.generateMipmaps),t.internalFormat!==void 0&&(e.internalFormat=t.internalFormat);for(let n=0;n<this.textures.length;n++)this.textures[n].setValues(e)}get texture(){return this.textures[0]}set texture(t){this.textures[0]=t}set depthTexture(t){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),t!==null&&(t.renderTarget=this),this._depthTexture=t}get depthTexture(){return this._depthTexture}setSize(t,e,n=1){if(this.width!==t||this.height!==e||this.depth!==n){this.width=t,this.height=e,this.depth=n;for(let i=0,s=this.textures.length;i<s;i++)this.textures[i].image.width=t,this.textures[i].image.height=e,this.textures[i].image.depth=n,this.textures[i].isArrayTexture=this.textures[i].image.depth>1;this.dispose()}this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)}clone(){return new this.constructor().copy(this)}copy(t){this.width=t.width,this.height=t.height,this.depth=t.depth,this.scissor.copy(t.scissor),this.scissorTest=t.scissorTest,this.viewport.copy(t.viewport),this.textures.length=0;for(let e=0,n=t.textures.length;e<n;e++){this.textures[e]=t.textures[e].clone(),this.textures[e].isRenderTargetTexture=!0,this.textures[e].renderTarget=this;const i=Object.assign({},t.textures[e].image);this.textures[e].source=new nf(i)}return this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,this.resolveDepthBuffer=t.resolveDepthBuffer,this.resolveStencilBuffer=t.resolveStencilBuffer,t.depthTexture!==null&&(this.depthTexture=t.depthTexture.clone()),this.samples=t.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class tu extends QE{constructor(t=1,e=1,n={}){super(t,e,n),this.isWebGLRenderTarget=!0}}class qA extends wi{constructor(t=null,e=1,n=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:t,width:e,height:n,depth:i},this.magFilter=Fa,this.minFilter=Fa,this.wrapR=zr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(t){this.layerUpdates.add(t)}clearLayerUpdates(){this.layerUpdates.clear()}}class jU extends tu{constructor(t=1,e=1,n=1,i={}){super(t,e,i),this.isWebGLArrayRenderTarget=!0,this.depth=n,this.texture=new qA(null,t,e,n),this._setTextureOptions(i),this.texture.isRenderTargetTexture=!0}}class JA extends wi{constructor(t=null,e=1,n=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:t,width:e,height:n,depth:i},this.magFilter=Fa,this.minFilter=Fa,this.wrapR=zr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class QU extends tu{constructor(t=1,e=1,n=1,i={}){super(t,e,i),this.isWebGL3DRenderTarget=!0,this.depth=n,this.texture=new JA(null,t,e,n),this._setTextureOptions(i),this.texture.isRenderTargetTexture=!0}}class Za{constructor(t=new W(1/0,1/0,1/0),e=new W(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=t,this.max=e}set(t,e){return this.min.copy(t),this.max.copy(e),this}setFromArray(t){this.makeEmpty();for(let e=0,n=t.length;e<n;e+=3)this.expandByPoint(Qo.fromArray(t,e));return this}setFromBufferAttribute(t){this.makeEmpty();for(let e=0,n=t.count;e<n;e++)this.expandByPoint(Qo.fromBufferAttribute(t,e));return this}setFromPoints(t){this.makeEmpty();for(let e=0,n=t.length;e<n;e++)this.expandByPoint(t[e]);return this}setFromCenterAndSize(t,e){const n=Qo.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(n),this.max.copy(t).add(n),this}setFromObject(t,e=!1){return this.makeEmpty(),this.expandByObject(t,e)}clone(){return new this.constructor().copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(t){return this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}expandByObject(t,e=!1){t.updateWorldMatrix(!1,!1);const n=t.geometry;if(n!==void 0){const s=n.getAttribute("position");if(e===!0&&s!==void 0&&t.isInstancedMesh!==!0)for(let l=0,u=s.count;l<u;l++)t.isMesh===!0?t.getVertexPosition(l,Qo):Qo.fromBufferAttribute(s,l),Qo.applyMatrix4(t.matrixWorld),this.expandByPoint(Qo);else t.boundingBox!==void 0?(t.boundingBox===null&&t.computeBoundingBox(),ly.copy(t.boundingBox)):(n.boundingBox===null&&n.computeBoundingBox(),ly.copy(n.boundingBox)),ly.applyMatrix4(t.matrixWorld),this.union(ly)}const i=t.children;for(let s=0,l=i.length;s<l;s++)this.expandByObject(i[s],e);return this}containsPoint(t){return t.x>=this.min.x&&t.x<=this.max.x&&t.y>=this.min.y&&t.y<=this.max.y&&t.z>=this.min.z&&t.z<=this.max.z}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z}getParameter(t,e){return e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(t){return t.max.x>=this.min.x&&t.min.x<=this.max.x&&t.max.y>=this.min.y&&t.min.y<=this.max.y&&t.max.z>=this.min.z&&t.min.z<=this.max.z}intersectsSphere(t){return this.clampPoint(t.center,Qo),Qo.distanceToSquared(t.center)<=t.radius*t.radius}intersectsPlane(t){let e,n;return t.normal.x>0?(e=t.normal.x*this.min.x,n=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,n=t.normal.x*this.min.x),t.normal.y>0?(e+=t.normal.y*this.min.y,n+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,n+=t.normal.y*this.min.y),t.normal.z>0?(e+=t.normal.z*this.min.z,n+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,n+=t.normal.z*this.min.z),e<=-t.constant&&n>=-t.constant}intersectsTriangle(t){if(this.isEmpty())return!1;this.getCenter(a0),uy.subVectors(this.max,a0),Mp.subVectors(t.a,a0),bp.subVectors(t.b,a0),Ep.subVectors(t.c,a0),kc.subVectors(bp,Mp),Yc.subVectors(Ep,bp),mh.subVectors(Mp,Ep);let e=[0,-kc.z,kc.y,0,-Yc.z,Yc.y,0,-mh.z,mh.y,kc.z,0,-kc.x,Yc.z,0,-Yc.x,mh.z,0,-mh.x,-kc.y,kc.x,0,-Yc.y,Yc.x,0,-mh.y,mh.x,0];return!pM(e,Mp,bp,Ep,uy)||(e=[1,0,0,0,1,0,0,0,1],!pM(e,Mp,bp,Ep,uy))?!1:(cy.crossVectors(kc,Yc),e=[cy.x,cy.y,cy.z],pM(e,Mp,bp,Ep,uy))}clampPoint(t,e){return e.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return this.clampPoint(t,Qo).distanceTo(t)}getBoundingSphere(t){return this.isEmpty()?t.makeEmpty():(this.getCenter(t.center),t.radius=this.getSize(Qo).length()*.5),t}intersect(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}applyMatrix4(t){return this.isEmpty()?this:(Cu[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),Cu[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),Cu[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),Cu[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),Cu[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),Cu[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),Cu[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),Cu[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(Cu),this)}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}toJSON(){return{min:this.min.toArray(),max:this.max.toArray()}}fromJSON(t){return this.min.fromArray(t.min),this.max.fromArray(t.max),this}}const Cu=[new W,new W,new W,new W,new W,new W,new W,new W],Qo=new W,ly=new Za,Mp=new W,bp=new W,Ep=new W,kc=new W,Yc=new W,mh=new W,a0=new W,uy=new W,cy=new W,gh=new W;function pM(r,t,e,n,i){for(let s=0,l=r.length-3;s<=l;s+=3){gh.fromArray(r,s);const u=i.x*Math.abs(gh.x)+i.y*Math.abs(gh.y)+i.z*Math.abs(gh.z),d=t.dot(gh),p=e.dot(gh),g=n.dot(gh);if(Math.max(-Math.max(d,p,g),Math.min(d,p,g))>u)return!1}return!0}const ZU=new Za,s0=new W,mM=new W;class Ha{constructor(t=new W,e=-1){this.isSphere=!0,this.center=t,this.radius=e}set(t,e){return this.center.copy(t),this.radius=e,this}setFromPoints(t,e){const n=this.center;e!==void 0?n.copy(e):ZU.setFromPoints(t).getCenter(n);let i=0;for(let s=0,l=t.length;s<l;s++)i=Math.max(i,n.distanceToSquared(t[s]));return this.radius=Math.sqrt(i),this}copy(t){return this.center.copy(t.center),this.radius=t.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(t){return t.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(t){return t.distanceTo(this.center)-this.radius}intersectsSphere(t){const e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e}intersectsBox(t){return t.intersectsSphere(this)}intersectsPlane(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius}clampPoint(t,e){const n=this.center.distanceToSquared(t);return e.copy(t),n>this.radius*this.radius&&(e.sub(this.center).normalize(),e.multiplyScalar(this.radius).add(this.center)),e}getBoundingBox(t){return this.isEmpty()?(t.makeEmpty(),t):(t.set(this.center,this.center),t.expandByScalar(this.radius),t)}applyMatrix4(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this}translate(t){return this.center.add(t),this}expandByPoint(t){if(this.isEmpty())return this.center.copy(t),this.radius=0,this;s0.subVectors(t,this.center);const e=s0.lengthSq();if(e>this.radius*this.radius){const n=Math.sqrt(e),i=(n-this.radius)*.5;this.center.addScaledVector(s0,i/n),this.radius+=i}return this}union(t){return t.isEmpty()?this:this.isEmpty()?(this.copy(t),this):(this.center.equals(t.center)===!0?this.radius=Math.max(this.radius,t.radius):(mM.subVectors(t.center,this.center).setLength(t.radius),this.expandByPoint(s0.copy(t.center).add(mM)),this.expandByPoint(s0.copy(t.center).sub(mM))),this)}equals(t){return t.center.equals(this.center)&&t.radius===this.radius}clone(){return new this.constructor().copy(this)}toJSON(){return{radius:this.radius,center:this.center.toArray()}}fromJSON(t){return this.radius=t.radius,this.center.fromArray(t.center),this}}const Ru=new W,gM=new W,fy=new W,qc=new W,_M=new W,hy=new W,vM=new W;class gd{constructor(t=new W,e=new W(0,0,-1)){this.origin=t,this.direction=e}set(t,e){return this.origin.copy(t),this.direction.copy(e),this}copy(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this}at(t,e){return e.copy(this.origin).addScaledVector(this.direction,t)}lookAt(t){return this.direction.copy(t).sub(this.origin).normalize(),this}recast(t){return this.origin.copy(this.at(t,Ru)),this}closestPointToPoint(t,e){e.subVectors(t,this.origin);const n=e.dot(this.direction);return n<0?e.copy(this.origin):e.copy(this.origin).addScaledVector(this.direction,n)}distanceToPoint(t){return Math.sqrt(this.distanceSqToPoint(t))}distanceSqToPoint(t){const e=Ru.subVectors(t,this.origin).dot(this.direction);return e<0?this.origin.distanceToSquared(t):(Ru.copy(this.origin).addScaledVector(this.direction,e),Ru.distanceToSquared(t))}distanceSqToSegment(t,e,n,i){gM.copy(t).add(e).multiplyScalar(.5),fy.copy(e).sub(t).normalize(),qc.copy(this.origin).sub(gM);const s=t.distanceTo(e)*.5,l=-this.direction.dot(fy),u=qc.dot(this.direction),d=-qc.dot(fy),p=qc.lengthSq(),g=Math.abs(1-l*l);let _,y,x,M;if(g>0)if(_=l*d-u,y=l*u-d,M=s*g,_>=0)if(y>=-M)if(y<=M){const T=1/g;_*=T,y*=T,x=_*(_+l*y+2*u)+y*(l*_+y+2*d)+p}else y=s,_=Math.max(0,-(l*y+u)),x=-_*_+y*(y+2*d)+p;else y=-s,_=Math.max(0,-(l*y+u)),x=-_*_+y*(y+2*d)+p;else y<=-M?(_=Math.max(0,-(-l*s+u)),y=_>0?-s:Math.min(Math.max(-s,-d),s),x=-_*_+y*(y+2*d)+p):y<=M?(_=0,y=Math.min(Math.max(-s,-d),s),x=y*(y+2*d)+p):(_=Math.max(0,-(l*s+u)),y=_>0?s:Math.min(Math.max(-s,-d),s),x=-_*_+y*(y+2*d)+p);else y=l>0?-s:s,_=Math.max(0,-(l*y+u)),x=-_*_+y*(y+2*d)+p;return n&&n.copy(this.origin).addScaledVector(this.direction,_),i&&i.copy(gM).addScaledVector(fy,y),x}intersectSphere(t,e){Ru.subVectors(t.center,this.origin);const n=Ru.dot(this.direction),i=Ru.dot(Ru)-n*n,s=t.radius*t.radius;if(i>s)return null;const l=Math.sqrt(s-i),u=n-l,d=n+l;return d<0?null:u<0?this.at(d,e):this.at(u,e)}intersectsSphere(t){return t.radius<0?!1:this.distanceSqToPoint(t.center)<=t.radius*t.radius}distanceToPlane(t){const e=t.normal.dot(this.direction);if(e===0)return t.distanceToPoint(this.origin)===0?0:null;const n=-(this.origin.dot(t.normal)+t.constant)/e;return n>=0?n:null}intersectPlane(t,e){const n=this.distanceToPlane(t);return n===null?null:this.at(n,e)}intersectsPlane(t){const e=t.distanceToPoint(this.origin);return e===0||t.normal.dot(this.direction)*e<0}intersectBox(t,e){let n,i,s,l,u,d;const p=1/this.direction.x,g=1/this.direction.y,_=1/this.direction.z,y=this.origin;return p>=0?(n=(t.min.x-y.x)*p,i=(t.max.x-y.x)*p):(n=(t.max.x-y.x)*p,i=(t.min.x-y.x)*p),g>=0?(s=(t.min.y-y.y)*g,l=(t.max.y-y.y)*g):(s=(t.max.y-y.y)*g,l=(t.min.y-y.y)*g),n>l||s>i||((s>n||isNaN(n))&&(n=s),(l<i||isNaN(i))&&(i=l),_>=0?(u=(t.min.z-y.z)*_,d=(t.max.z-y.z)*_):(u=(t.max.z-y.z)*_,d=(t.min.z-y.z)*_),n>d||u>i)||((u>n||n!==n)&&(n=u),(d<i||i!==i)&&(i=d),i<0)?null:this.at(n>=0?n:i,e)}intersectsBox(t){return this.intersectBox(t,Ru)!==null}intersectTriangle(t,e,n,i,s){_M.subVectors(e,t),hy.subVectors(n,t),vM.crossVectors(_M,hy);let l=this.direction.dot(vM),u;if(l>0){if(i)return null;u=1}else if(l<0)u=-1,l=-l;else return null;qc.subVectors(this.origin,t);const d=u*this.direction.dot(hy.crossVectors(qc,hy));if(d<0)return null;const p=u*this.direction.dot(_M.cross(qc));if(p<0||d+p>l)return null;const g=-u*qc.dot(vM);return g<0?null:this.at(g/l,s)}applyMatrix4(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this}equals(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Ye{constructor(t,e,n,i,s,l,u,d,p,g,_,y,x,M,T,E){Ye.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],t!==void 0&&this.set(t,e,n,i,s,l,u,d,p,g,_,y,x,M,T,E)}set(t,e,n,i,s,l,u,d,p,g,_,y,x,M,T,E){const b=this.elements;return b[0]=t,b[4]=e,b[8]=n,b[12]=i,b[1]=s,b[5]=l,b[9]=u,b[13]=d,b[2]=p,b[6]=g,b[10]=_,b[14]=y,b[3]=x,b[7]=M,b[11]=T,b[15]=E,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Ye().fromArray(this.elements)}copy(t){const e=this.elements,n=t.elements;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],e[9]=n[9],e[10]=n[10],e[11]=n[11],e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15],this}copyPosition(t){const e=this.elements,n=t.elements;return e[12]=n[12],e[13]=n[13],e[14]=n[14],this}setFromMatrix3(t){const e=t.elements;return this.set(e[0],e[3],e[6],0,e[1],e[4],e[7],0,e[2],e[5],e[8],0,0,0,0,1),this}extractBasis(t,e,n){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(t,e,n){return this.set(t.x,e.x,n.x,0,t.y,e.y,n.y,0,t.z,e.z,n.z,0,0,0,0,1),this}extractRotation(t){const e=this.elements,n=t.elements,i=1/Tp.setFromMatrixColumn(t,0).length(),s=1/Tp.setFromMatrixColumn(t,1).length(),l=1/Tp.setFromMatrixColumn(t,2).length();return e[0]=n[0]*i,e[1]=n[1]*i,e[2]=n[2]*i,e[3]=0,e[4]=n[4]*s,e[5]=n[5]*s,e[6]=n[6]*s,e[7]=0,e[8]=n[8]*l,e[9]=n[9]*l,e[10]=n[10]*l,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromEuler(t){const e=this.elements,n=t.x,i=t.y,s=t.z,l=Math.cos(n),u=Math.sin(n),d=Math.cos(i),p=Math.sin(i),g=Math.cos(s),_=Math.sin(s);if(t.order==="XYZ"){const y=l*g,x=l*_,M=u*g,T=u*_;e[0]=d*g,e[4]=-d*_,e[8]=p,e[1]=x+M*p,e[5]=y-T*p,e[9]=-u*d,e[2]=T-y*p,e[6]=M+x*p,e[10]=l*d}else if(t.order==="YXZ"){const y=d*g,x=d*_,M=p*g,T=p*_;e[0]=y+T*u,e[4]=M*u-x,e[8]=l*p,e[1]=l*_,e[5]=l*g,e[9]=-u,e[2]=x*u-M,e[6]=T+y*u,e[10]=l*d}else if(t.order==="ZXY"){const y=d*g,x=d*_,M=p*g,T=p*_;e[0]=y-T*u,e[4]=-l*_,e[8]=M+x*u,e[1]=x+M*u,e[5]=l*g,e[9]=T-y*u,e[2]=-l*p,e[6]=u,e[10]=l*d}else if(t.order==="ZYX"){const y=l*g,x=l*_,M=u*g,T=u*_;e[0]=d*g,e[4]=M*p-x,e[8]=y*p+T,e[1]=d*_,e[5]=T*p+y,e[9]=x*p-M,e[2]=-p,e[6]=u*d,e[10]=l*d}else if(t.order==="YZX"){const y=l*d,x=l*p,M=u*d,T=u*p;e[0]=d*g,e[4]=T-y*_,e[8]=M*_+x,e[1]=_,e[5]=l*g,e[9]=-u*g,e[2]=-p*g,e[6]=x*_+M,e[10]=y-T*_}else if(t.order==="XZY"){const y=l*d,x=l*p,M=u*d,T=u*p;e[0]=d*g,e[4]=-_,e[8]=p*g,e[1]=y*_+T,e[5]=l*g,e[9]=x*_-M,e[2]=M*_-x,e[6]=u*g,e[10]=T*_+y}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromQuaternion(t){return this.compose($U,t,tN)}lookAt(t,e,n){const i=this.elements;return Dr.subVectors(t,e),Dr.lengthSq()===0&&(Dr.z=1),Dr.normalize(),Jc.crossVectors(n,Dr),Jc.lengthSq()===0&&(Math.abs(n.z)===1?Dr.x+=1e-4:Dr.z+=1e-4,Dr.normalize(),Jc.crossVectors(n,Dr)),Jc.normalize(),dy.crossVectors(Dr,Jc),i[0]=Jc.x,i[4]=dy.x,i[8]=Dr.x,i[1]=Jc.y,i[5]=dy.y,i[9]=Dr.y,i[2]=Jc.z,i[6]=dy.z,i[10]=Dr.z,this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const n=t.elements,i=e.elements,s=this.elements,l=n[0],u=n[4],d=n[8],p=n[12],g=n[1],_=n[5],y=n[9],x=n[13],M=n[2],T=n[6],E=n[10],b=n[14],w=n[3],D=n[7],B=n[11],L=n[15],P=i[0],H=i[4],F=i[8],O=i[12],U=i[1],V=i[5],Q=i[9],et=i[13],rt=i[2],ut=i[6],G=i[10],q=i[14],K=i[3],lt=i[7],I=i[11],nt=i[15];return s[0]=l*P+u*U+d*rt+p*K,s[4]=l*H+u*V+d*ut+p*lt,s[8]=l*F+u*Q+d*G+p*I,s[12]=l*O+u*et+d*q+p*nt,s[1]=g*P+_*U+y*rt+x*K,s[5]=g*H+_*V+y*ut+x*lt,s[9]=g*F+_*Q+y*G+x*I,s[13]=g*O+_*et+y*q+x*nt,s[2]=M*P+T*U+E*rt+b*K,s[6]=M*H+T*V+E*ut+b*lt,s[10]=M*F+T*Q+E*G+b*I,s[14]=M*O+T*et+E*q+b*nt,s[3]=w*P+D*U+B*rt+L*K,s[7]=w*H+D*V+B*ut+L*lt,s[11]=w*F+D*Q+B*G+L*I,s[15]=w*O+D*et+B*q+L*nt,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this}determinant(){const t=this.elements,e=t[0],n=t[4],i=t[8],s=t[12],l=t[1],u=t[5],d=t[9],p=t[13],g=t[2],_=t[6],y=t[10],x=t[14],M=t[3],T=t[7],E=t[11],b=t[15];return M*(+s*d*_-i*p*_-s*u*y+n*p*y+i*u*x-n*d*x)+T*(+e*d*x-e*p*y+s*l*y-i*l*x+i*p*g-s*d*g)+E*(+e*p*_-e*u*x-s*l*_+n*l*x+s*u*g-n*p*g)+b*(-i*u*g-e*d*_+e*u*y+i*l*_-n*l*y+n*d*g)}transpose(){const t=this.elements;let e;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}setPosition(t,e,n){const i=this.elements;return t.isVector3?(i[12]=t.x,i[13]=t.y,i[14]=t.z):(i[12]=t,i[13]=e,i[14]=n),this}invert(){const t=this.elements,e=t[0],n=t[1],i=t[2],s=t[3],l=t[4],u=t[5],d=t[6],p=t[7],g=t[8],_=t[9],y=t[10],x=t[11],M=t[12],T=t[13],E=t[14],b=t[15],w=_*E*p-T*y*p+T*d*x-u*E*x-_*d*b+u*y*b,D=M*y*p-g*E*p-M*d*x+l*E*x+g*d*b-l*y*b,B=g*T*p-M*_*p+M*u*x-l*T*x-g*u*b+l*_*b,L=M*_*d-g*T*d-M*u*y+l*T*y+g*u*E-l*_*E,P=e*w+n*D+i*B+s*L;if(P===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const H=1/P;return t[0]=w*H,t[1]=(T*y*s-_*E*s-T*i*x+n*E*x+_*i*b-n*y*b)*H,t[2]=(u*E*s-T*d*s+T*i*p-n*E*p-u*i*b+n*d*b)*H,t[3]=(_*d*s-u*y*s-_*i*p+n*y*p+u*i*x-n*d*x)*H,t[4]=D*H,t[5]=(g*E*s-M*y*s+M*i*x-e*E*x-g*i*b+e*y*b)*H,t[6]=(M*d*s-l*E*s-M*i*p+e*E*p+l*i*b-e*d*b)*H,t[7]=(l*y*s-g*d*s+g*i*p-e*y*p-l*i*x+e*d*x)*H,t[8]=B*H,t[9]=(M*_*s-g*T*s-M*n*x+e*T*x+g*n*b-e*_*b)*H,t[10]=(l*T*s-M*u*s+M*n*p-e*T*p-l*n*b+e*u*b)*H,t[11]=(g*u*s-l*_*s-g*n*p+e*_*p+l*n*x-e*u*x)*H,t[12]=L*H,t[13]=(g*T*i-M*_*i+M*n*y-e*T*y-g*n*E+e*_*E)*H,t[14]=(M*u*i-l*T*i-M*n*d+e*T*d+l*n*E-e*u*E)*H,t[15]=(l*_*i-g*u*i+g*n*d-e*_*d-l*n*y+e*u*y)*H,this}scale(t){const e=this.elements,n=t.x,i=t.y,s=t.z;return e[0]*=n,e[4]*=i,e[8]*=s,e[1]*=n,e[5]*=i,e[9]*=s,e[2]*=n,e[6]*=i,e[10]*=s,e[3]*=n,e[7]*=i,e[11]*=s,this}getMaxScaleOnAxis(){const t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],n=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],i=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,n,i))}makeTranslation(t,e,n){return t.isVector3?this.set(1,0,0,t.x,0,1,0,t.y,0,0,1,t.z,0,0,0,1):this.set(1,0,0,t,0,1,0,e,0,0,1,n,0,0,0,1),this}makeRotationX(t){const e=Math.cos(t),n=Math.sin(t);return this.set(1,0,0,0,0,e,-n,0,0,n,e,0,0,0,0,1),this}makeRotationY(t){const e=Math.cos(t),n=Math.sin(t);return this.set(e,0,n,0,0,1,0,0,-n,0,e,0,0,0,0,1),this}makeRotationZ(t){const e=Math.cos(t),n=Math.sin(t);return this.set(e,-n,0,0,n,e,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(t,e){const n=Math.cos(e),i=Math.sin(e),s=1-n,l=t.x,u=t.y,d=t.z,p=s*l,g=s*u;return this.set(p*l+n,p*u-i*d,p*d+i*u,0,p*u+i*d,g*u+n,g*d-i*l,0,p*d-i*u,g*d+i*l,s*d*d+n,0,0,0,0,1),this}makeScale(t,e,n){return this.set(t,0,0,0,0,e,0,0,0,0,n,0,0,0,0,1),this}makeShear(t,e,n,i,s,l){return this.set(1,n,s,0,t,1,l,0,e,i,1,0,0,0,0,1),this}compose(t,e,n){const i=this.elements,s=e._x,l=e._y,u=e._z,d=e._w,p=s+s,g=l+l,_=u+u,y=s*p,x=s*g,M=s*_,T=l*g,E=l*_,b=u*_,w=d*p,D=d*g,B=d*_,L=n.x,P=n.y,H=n.z;return i[0]=(1-(T+b))*L,i[1]=(x+B)*L,i[2]=(M-D)*L,i[3]=0,i[4]=(x-B)*P,i[5]=(1-(y+b))*P,i[6]=(E+w)*P,i[7]=0,i[8]=(M+D)*H,i[9]=(E-w)*H,i[10]=(1-(y+T))*H,i[11]=0,i[12]=t.x,i[13]=t.y,i[14]=t.z,i[15]=1,this}decompose(t,e,n){const i=this.elements;let s=Tp.set(i[0],i[1],i[2]).length();const l=Tp.set(i[4],i[5],i[6]).length(),u=Tp.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),t.x=i[12],t.y=i[13],t.z=i[14],Zo.copy(this);const p=1/s,g=1/l,_=1/u;return Zo.elements[0]*=p,Zo.elements[1]*=p,Zo.elements[2]*=p,Zo.elements[4]*=g,Zo.elements[5]*=g,Zo.elements[6]*=g,Zo.elements[8]*=_,Zo.elements[9]*=_,Zo.elements[10]*=_,e.setFromRotationMatrix(Zo),n.x=s,n.y=l,n.z=u,this}makePerspective(t,e,n,i,s,l,u=Hr,d=!1){const p=this.elements,g=2*s/(e-t),_=2*s/(n-i),y=(e+t)/(e-t),x=(n+i)/(n-i);let M,T;if(d)M=s/(l-s),T=l*s/(l-s);else if(u===Hr)M=-(l+s)/(l-s),T=-2*l*s/(l-s);else if(u===ym)M=-l/(l-s),T=-l*s/(l-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+u);return p[0]=g,p[4]=0,p[8]=y,p[12]=0,p[1]=0,p[5]=_,p[9]=x,p[13]=0,p[2]=0,p[6]=0,p[10]=M,p[14]=T,p[3]=0,p[7]=0,p[11]=-1,p[15]=0,this}makeOrthographic(t,e,n,i,s,l,u=Hr,d=!1){const p=this.elements,g=2/(e-t),_=2/(n-i),y=-(e+t)/(e-t),x=-(n+i)/(n-i);let M,T;if(d)M=1/(l-s),T=l/(l-s);else if(u===Hr)M=-2/(l-s),T=-(l+s)/(l-s);else if(u===ym)M=-1/(l-s),T=-s/(l-s);else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+u);return p[0]=g,p[4]=0,p[8]=0,p[12]=y,p[1]=0,p[5]=_,p[9]=0,p[13]=x,p[2]=0,p[6]=0,p[10]=M,p[14]=T,p[3]=0,p[7]=0,p[11]=0,p[15]=1,this}equals(t){const e=this.elements,n=t.elements;for(let i=0;i<16;i++)if(e[i]!==n[i])return!1;return!0}fromArray(t,e=0){for(let n=0;n<16;n++)this.elements[n]=t[n+e];return this}toArray(t=[],e=0){const n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t[e+9]=n[9],t[e+10]=n[10],t[e+11]=n[11],t[e+12]=n[12],t[e+13]=n[13],t[e+14]=n[14],t[e+15]=n[15],t}}const Tp=new W,Zo=new Ye,$U=new W(0,0,0),tN=new W(1,1,1),Jc=new W,dy=new W,Dr=new W,rC=new Ye,oC=new za;class Yr{constructor(t=0,e=0,n=0,i=Yr.DEFAULT_ORDER){this.isEuler=!0,this._x=t,this._y=e,this._z=n,this._order=i}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get order(){return this._order}set order(t){this._order=t,this._onChangeCallback()}set(t,e,n,i=this._order){return this._x=t,this._y=e,this._z=n,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this}setFromRotationMatrix(t,e=this._order,n=!0){const i=t.elements,s=i[0],l=i[4],u=i[8],d=i[1],p=i[5],g=i[9],_=i[2],y=i[6],x=i[10];switch(e){case"XYZ":this._y=Math.asin(Ze(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(-g,x),this._z=Math.atan2(-l,s)):(this._x=Math.atan2(y,p),this._z=0);break;case"YXZ":this._x=Math.asin(-Ze(g,-1,1)),Math.abs(g)<.9999999?(this._y=Math.atan2(u,x),this._z=Math.atan2(d,p)):(this._y=Math.atan2(-_,s),this._z=0);break;case"ZXY":this._x=Math.asin(Ze(y,-1,1)),Math.abs(y)<.9999999?(this._y=Math.atan2(-_,x),this._z=Math.atan2(-l,p)):(this._y=0,this._z=Math.atan2(d,s));break;case"ZYX":this._y=Math.asin(-Ze(_,-1,1)),Math.abs(_)<.9999999?(this._x=Math.atan2(y,x),this._z=Math.atan2(d,s)):(this._x=0,this._z=Math.atan2(-l,p));break;case"YZX":this._z=Math.asin(Ze(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(-g,p),this._y=Math.atan2(-_,s)):(this._x=0,this._y=Math.atan2(u,x));break;case"XZY":this._z=Math.asin(-Ze(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(y,p),this._y=Math.atan2(u,s)):(this._x=Math.atan2(-g,x),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+e)}return this._order=e,n===!0&&this._onChangeCallback(),this}setFromQuaternion(t,e,n){return rC.makeRotationFromQuaternion(t),this.setFromRotationMatrix(rC,e,n)}setFromVector3(t,e=this._order){return this.set(t.x,t.y,t.z,e)}reorder(t){return oC.setFromEuler(this),this.setFromQuaternion(oC,t)}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order}fromArray(t){return this._x=t[0],this._y=t[1],this._z=t[2],t[3]!==void 0&&(this._order=t[3]),this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Yr.DEFAULT_ORDER="XYZ";class Am{constructor(){this.mask=1}set(t){this.mask=(1<<t|0)>>>0}enable(t){this.mask|=1<<t|0}enableAll(){this.mask=-1}toggle(t){this.mask^=1<<t|0}disable(t){this.mask&=~(1<<t|0)}disableAll(){this.mask=0}test(t){return(this.mask&t.mask)!==0}isEnabled(t){return(this.mask&(1<<t|0))!==0}}let eN=0;const lC=new W,Cp=new za,wu=new Ye,py=new W,r0=new W,nN=new W,iN=new za,uC=new W(1,0,0),cC=new W(0,1,0),fC=new W(0,0,1),hC={type:"added"},aN={type:"removed"},Rp={type:"childadded",child:null},yM={type:"childremoved",child:null};class Pn extends nu{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:eN++}),this.uuid=Xr(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Pn.DEFAULT_UP.clone();const t=new W,e=new Yr,n=new za,i=new W(1,1,1);function s(){n.setFromEuler(e,!1)}function l(){e.setFromQuaternion(n,void 0,!1)}e._onChange(s),n._onChange(l),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:e},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new Ye},normalMatrix:{value:new fn}}),this.matrix=new Ye,this.matrixWorld=new Ye,this.matrixAutoUpdate=Pn.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Pn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new Am,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(t){return this.quaternion.premultiply(t),this}setRotationFromAxisAngle(t,e){this.quaternion.setFromAxisAngle(t,e)}setRotationFromEuler(t){this.quaternion.setFromEuler(t,!0)}setRotationFromMatrix(t){this.quaternion.setFromRotationMatrix(t)}setRotationFromQuaternion(t){this.quaternion.copy(t)}rotateOnAxis(t,e){return Cp.setFromAxisAngle(t,e),this.quaternion.multiply(Cp),this}rotateOnWorldAxis(t,e){return Cp.setFromAxisAngle(t,e),this.quaternion.premultiply(Cp),this}rotateX(t){return this.rotateOnAxis(uC,t)}rotateY(t){return this.rotateOnAxis(cC,t)}rotateZ(t){return this.rotateOnAxis(fC,t)}translateOnAxis(t,e){return lC.copy(t).applyQuaternion(this.quaternion),this.position.add(lC.multiplyScalar(e)),this}translateX(t){return this.translateOnAxis(uC,t)}translateY(t){return this.translateOnAxis(cC,t)}translateZ(t){return this.translateOnAxis(fC,t)}localToWorld(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(this.matrixWorld)}worldToLocal(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(wu.copy(this.matrixWorld).invert())}lookAt(t,e,n){t.isVector3?py.copy(t):py.set(t,e,n);const i=this.parent;this.updateWorldMatrix(!0,!1),r0.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?wu.lookAt(r0,py,this.up):wu.lookAt(py,r0,this.up),this.quaternion.setFromRotationMatrix(wu),i&&(wu.extractRotation(i.matrixWorld),Cp.setFromRotationMatrix(wu),this.quaternion.premultiply(Cp.invert()))}add(t){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(t.removeFromParent(),t.parent=this,this.children.push(t),t.dispatchEvent(hC),Rp.child=t,this.dispatchEvent(Rp),Rp.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)}remove(t){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.remove(arguments[n]);return this}const e=this.children.indexOf(t);return e!==-1&&(t.parent=null,this.children.splice(e,1),t.dispatchEvent(aN),yM.child=t,this.dispatchEvent(yM),yM.child=null),this}removeFromParent(){const t=this.parent;return t!==null&&t.remove(this),this}clear(){return this.remove(...this.children)}attach(t){return this.updateWorldMatrix(!0,!1),wu.copy(this.matrixWorld).invert(),t.parent!==null&&(t.parent.updateWorldMatrix(!0,!1),wu.multiply(t.parent.matrixWorld)),t.applyMatrix4(wu),t.removeFromParent(),t.parent=this,this.children.push(t),t.updateWorldMatrix(!1,!0),t.dispatchEvent(hC),Rp.child=t,this.dispatchEvent(Rp),Rp.child=null,this}getObjectById(t){return this.getObjectByProperty("id",t)}getObjectByName(t){return this.getObjectByProperty("name",t)}getObjectByProperty(t,e){if(this[t]===e)return this;for(let n=0,i=this.children.length;n<i;n++){const l=this.children[n].getObjectByProperty(t,e);if(l!==void 0)return l}}getObjectsByProperty(t,e,n=[]){this[t]===e&&n.push(this);const i=this.children;for(let s=0,l=i.length;s<l;s++)i[s].getObjectsByProperty(t,e,n);return n}getWorldPosition(t){return this.updateWorldMatrix(!0,!1),t.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(r0,t,nN),t}getWorldScale(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(r0,iN,t),t}getWorldDirection(t){this.updateWorldMatrix(!0,!1);const e=this.matrixWorld.elements;return t.set(e[8],e[9],e[10]).normalize()}raycast(){}traverse(t){t(this);const e=this.children;for(let n=0,i=e.length;n<i;n++)e[n].traverse(t)}traverseVisible(t){if(this.visible===!1)return;t(this);const e=this.children;for(let n=0,i=e.length;n<i;n++)e[n].traverseVisible(t)}traverseAncestors(t){const e=this.parent;e!==null&&(t(e),e.traverseAncestors(t))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,t=!0);const e=this.children;for(let n=0,i=e.length;n<i;n++)e[n].updateMatrixWorld(t)}updateWorldMatrix(t,e){const n=this.parent;if(t===!0&&n!==null&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),e===!0){const i=this.children;for(let s=0,l=i.length;s<l;s++)i[s].updateWorldMatrix(!1,!0)}}toJSON(t){const e=t===void 0||typeof t=="string",n={};e&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.7,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this._drawRanges,i.reservedRanges=this._reservedRanges,i.geometryInfo=this._geometryInfo.map(u=>({...u,boundingBox:u.boundingBox?u.boundingBox.toJSON():void 0,boundingSphere:u.boundingSphere?u.boundingSphere.toJSON():void 0})),i.instanceInfo=this._instanceInfo.map(u=>({...u})),i.availableInstanceIds=this._availableInstanceIds.slice(),i.availableGeometryIds=this._availableGeometryIds.slice(),i.nextIndexStart=this._nextIndexStart,i.nextVertexStart=this._nextVertexStart,i.geometryCount=this._geometryCount,i.maxInstanceCount=this._maxInstanceCount,i.maxVertexCount=this._maxVertexCount,i.maxIndexCount=this._maxIndexCount,i.geometryInitialized=this._geometryInitialized,i.matricesTexture=this._matricesTexture.toJSON(t),i.indirectTexture=this._indirectTexture.toJSON(t),this._colorsTexture!==null&&(i.colorsTexture=this._colorsTexture.toJSON(t)),this.boundingSphere!==null&&(i.boundingSphere=this.boundingSphere.toJSON()),this.boundingBox!==null&&(i.boundingBox=this.boundingBox.toJSON()));function s(u,d){return u[d.uuid]===void 0&&(u[d.uuid]=d.toJSON(t)),d.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(t).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(t).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=s(t.geometries,this.geometry);const u=this.geometry.parameters;if(u!==void 0&&u.shapes!==void 0){const d=u.shapes;if(Array.isArray(d))for(let p=0,g=d.length;p<g;p++){const _=d[p];s(t.shapes,_)}else s(t.shapes,d)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(t.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const u=[];for(let d=0,p=this.material.length;d<p;d++)u.push(s(t.materials,this.material[d]));i.material=u}else i.material=s(t.materials,this.material);if(this.children.length>0){i.children=[];for(let u=0;u<this.children.length;u++)i.children.push(this.children[u].toJSON(t).object)}if(this.animations.length>0){i.animations=[];for(let u=0;u<this.animations.length;u++){const d=this.animations[u];i.animations.push(s(t.animations,d))}}if(e){const u=l(t.geometries),d=l(t.materials),p=l(t.textures),g=l(t.images),_=l(t.shapes),y=l(t.skeletons),x=l(t.animations),M=l(t.nodes);u.length>0&&(n.geometries=u),d.length>0&&(n.materials=d),p.length>0&&(n.textures=p),g.length>0&&(n.images=g),_.length>0&&(n.shapes=_),y.length>0&&(n.skeletons=y),x.length>0&&(n.animations=x),M.length>0&&(n.nodes=M)}return n.object=i,n;function l(u){const d=[];for(const p in u){const g=u[p];delete g.metadata,d.push(g)}return d}}clone(t){return new this.constructor().copy(this,t)}copy(t,e=!0){if(this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.rotation.order=t.rotation.order,this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldAutoUpdate=t.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.animations=t.animations.slice(),this.userData=JSON.parse(JSON.stringify(t.userData)),e===!0)for(let n=0;n<t.children.length;n++){const i=t.children[n];this.add(i.clone())}return this}}Pn.DEFAULT_UP=new W(0,1,0);Pn.DEFAULT_MATRIX_AUTO_UPDATE=!0;Pn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const $o=new W,Bu=new W,xM=new W,Du=new W,wp=new W,Bp=new W,dC=new W,AM=new W,SM=new W,MM=new W,bM=new Gn,EM=new Gn,TM=new Gn;class hr{constructor(t=new W,e=new W,n=new W){this.a=t,this.b=e,this.c=n}static getNormal(t,e,n,i){i.subVectors(n,e),$o.subVectors(t,e),i.cross($o);const s=i.lengthSq();return s>0?i.multiplyScalar(1/Math.sqrt(s)):i.set(0,0,0)}static getBarycoord(t,e,n,i,s){$o.subVectors(i,e),Bu.subVectors(n,e),xM.subVectors(t,e);const l=$o.dot($o),u=$o.dot(Bu),d=$o.dot(xM),p=Bu.dot(Bu),g=Bu.dot(xM),_=l*p-u*u;if(_===0)return s.set(0,0,0),null;const y=1/_,x=(p*d-u*g)*y,M=(l*g-u*d)*y;return s.set(1-x-M,M,x)}static containsPoint(t,e,n,i){return this.getBarycoord(t,e,n,i,Du)===null?!1:Du.x>=0&&Du.y>=0&&Du.x+Du.y<=1}static getInterpolation(t,e,n,i,s,l,u,d){return this.getBarycoord(t,e,n,i,Du)===null?(d.x=0,d.y=0,"z"in d&&(d.z=0),"w"in d&&(d.w=0),null):(d.setScalar(0),d.addScaledVector(s,Du.x),d.addScaledVector(l,Du.y),d.addScaledVector(u,Du.z),d)}static getInterpolatedAttribute(t,e,n,i,s,l){return bM.setScalar(0),EM.setScalar(0),TM.setScalar(0),bM.fromBufferAttribute(t,e),EM.fromBufferAttribute(t,n),TM.fromBufferAttribute(t,i),l.setScalar(0),l.addScaledVector(bM,s.x),l.addScaledVector(EM,s.y),l.addScaledVector(TM,s.z),l}static isFrontFacing(t,e,n,i){return $o.subVectors(n,e),Bu.subVectors(t,e),$o.cross(Bu).dot(i)<0}set(t,e,n){return this.a.copy(t),this.b.copy(e),this.c.copy(n),this}setFromPointsAndIndices(t,e,n,i){return this.a.copy(t[e]),this.b.copy(t[n]),this.c.copy(t[i]),this}setFromAttributeAndIndices(t,e,n,i){return this.a.fromBufferAttribute(t,e),this.b.fromBufferAttribute(t,n),this.c.fromBufferAttribute(t,i),this}clone(){return new this.constructor().copy(this)}copy(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this}getArea(){return $o.subVectors(this.c,this.b),Bu.subVectors(this.a,this.b),$o.cross(Bu).length()*.5}getMidpoint(t){return t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(t){return hr.getNormal(this.a,this.b,this.c,t)}getPlane(t){return t.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(t,e){return hr.getBarycoord(t,this.a,this.b,this.c,e)}getInterpolation(t,e,n,i,s){return hr.getInterpolation(t,this.a,this.b,this.c,e,n,i,s)}containsPoint(t){return hr.containsPoint(t,this.a,this.b,this.c)}isFrontFacing(t){return hr.isFrontFacing(this.a,this.b,this.c,t)}intersectsBox(t){return t.intersectsTriangle(this)}closestPointToPoint(t,e){const n=this.a,i=this.b,s=this.c;let l,u;wp.subVectors(i,n),Bp.subVectors(s,n),AM.subVectors(t,n);const d=wp.dot(AM),p=Bp.dot(AM);if(d<=0&&p<=0)return e.copy(n);SM.subVectors(t,i);const g=wp.dot(SM),_=Bp.dot(SM);if(g>=0&&_<=g)return e.copy(i);const y=d*_-g*p;if(y<=0&&d>=0&&g<=0)return l=d/(d-g),e.copy(n).addScaledVector(wp,l);MM.subVectors(t,s);const x=wp.dot(MM),M=Bp.dot(MM);if(M>=0&&x<=M)return e.copy(s);const T=x*p-d*M;if(T<=0&&p>=0&&M<=0)return u=p/(p-M),e.copy(n).addScaledVector(Bp,u);const E=g*M-x*_;if(E<=0&&_-g>=0&&x-M>=0)return dC.subVectors(s,i),u=(_-g)/(_-g+(x-M)),e.copy(i).addScaledVector(dC,u);const b=1/(E+T+y);return l=T*b,u=y*b,e.copy(n).addScaledVector(wp,l).addScaledVector(Bp,u)}equals(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}}const Ww={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Kc={h:0,s:0,l:0},my={h:0,s:0,l:0};function CM(r,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?r+(t-r)*6*e:e<1/2?t:e<2/3?r+(t-r)*6*(2/3-e):r}class pe{constructor(t,e,n){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(t,e,n)}set(t,e,n){if(e===void 0&&n===void 0){const i=t;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(t,e,n);return this}setScalar(t){return this.r=t,this.g=t,this.b=t,this}setHex(t,e=ps){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(t&255)/255,Ln.colorSpaceToWorking(this,e),this}setRGB(t,e,n,i=Ln.workingColorSpace){return this.r=t,this.g=e,this.b=n,Ln.colorSpaceToWorking(this,i),this}setHSL(t,e,n,i=Ln.workingColorSpace){if(t=jE(t,1),e=Ze(e,0,1),n=Ze(n,0,1),e===0)this.r=this.g=this.b=n;else{const s=n<=.5?n*(1+e):n+e-n*e,l=2*n-s;this.r=CM(l,s,t+1/3),this.g=CM(l,s,t),this.b=CM(l,s,t-1/3)}return Ln.colorSpaceToWorking(this,i),this}setStyle(t,e=ps){function n(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(t)){let s;const l=i[1],u=i[2];switch(l){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(u))return n(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,e);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(u))return n(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,e);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(u))return n(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,e);break;default:console.warn("THREE.Color: Unknown color model "+t)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(t)){const s=i[1],l=s.length;if(l===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,e);if(l===6)return this.setHex(parseInt(s,16),e);console.warn("THREE.Color: Invalid hex color "+t)}else if(t&&t.length>0)return this.setColorName(t,e);return this}setColorName(t,e=ps){const n=Ww[t.toLowerCase()];return n!==void 0?this.setHex(n,e):console.warn("THREE.Color: Unknown color "+t),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(t){return this.r=t.r,this.g=t.g,this.b=t.b,this}copySRGBToLinear(t){return this.r=ku(t.r),this.g=ku(t.g),this.b=ku(t.b),this}copyLinearToSRGB(t){return this.r=am(t.r),this.g=am(t.g),this.b=am(t.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(t=ps){return Ln.workingToColorSpace(cs.copy(this),t),Math.round(Ze(cs.r*255,0,255))*65536+Math.round(Ze(cs.g*255,0,255))*256+Math.round(Ze(cs.b*255,0,255))}getHexString(t=ps){return("000000"+this.getHex(t).toString(16)).slice(-6)}getHSL(t,e=Ln.workingColorSpace){Ln.workingToColorSpace(cs.copy(this),e);const n=cs.r,i=cs.g,s=cs.b,l=Math.max(n,i,s),u=Math.min(n,i,s);let d,p;const g=(u+l)/2;if(u===l)d=0,p=0;else{const _=l-u;switch(p=g<=.5?_/(l+u):_/(2-l-u),l){case n:d=(i-s)/_+(i<s?6:0);break;case i:d=(s-n)/_+2;break;case s:d=(n-i)/_+4;break}d/=6}return t.h=d,t.s=p,t.l=g,t}getRGB(t,e=Ln.workingColorSpace){return Ln.workingToColorSpace(cs.copy(this),e),t.r=cs.r,t.g=cs.g,t.b=cs.b,t}getStyle(t=ps){Ln.workingToColorSpace(cs.copy(this),t);const e=cs.r,n=cs.g,i=cs.b;return t!==ps?`color(${t} ${e.toFixed(3)} ${n.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(e*255)},${Math.round(n*255)},${Math.round(i*255)})`}offsetHSL(t,e,n){return this.getHSL(Kc),this.setHSL(Kc.h+t,Kc.s+e,Kc.l+n)}add(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this}addColors(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this}addScalar(t){return this.r+=t,this.g+=t,this.b+=t,this}sub(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this}multiply(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this}multiplyScalar(t){return this.r*=t,this.g*=t,this.b*=t,this}lerp(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this}lerpColors(t,e,n){return this.r=t.r+(e.r-t.r)*n,this.g=t.g+(e.g-t.g)*n,this.b=t.b+(e.b-t.b)*n,this}lerpHSL(t,e){this.getHSL(Kc),t.getHSL(my);const n=F0(Kc.h,my.h,e),i=F0(Kc.s,my.s,e),s=F0(Kc.l,my.l,e);return this.setHSL(n,i,s),this}setFromVector3(t){return this.r=t.x,this.g=t.y,this.b=t.z,this}applyMatrix3(t){const e=this.r,n=this.g,i=this.b,s=t.elements;return this.r=s[0]*e+s[3]*n+s[6]*i,this.g=s[1]*e+s[4]*n+s[7]*i,this.b=s[2]*e+s[5]*n+s[8]*i,this}equals(t){return t.r===this.r&&t.g===this.g&&t.b===this.b}fromArray(t,e=0){return this.r=t[e],this.g=t[e+1],this.b=t[e+2],this}toArray(t=[],e=0){return t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t}fromBufferAttribute(t,e){return this.r=t.getX(e),this.g=t.getY(e),this.b=t.getZ(e),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const cs=new pe;pe.NAMES=Ww;let sN=0;class Ta extends nu{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:sN++}),this.uuid=Xr(),this.name="",this.type="Material",this.blending=Kh,this.side=$l,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=Ux,this.blendDst=Nx,this.blendEquation=tf,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new pe(0,0,0),this.blendAlpha=0,this.depthFunc=ad,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=Wb,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Nh,this.stencilZFail=Nh,this.stencilZPass=Nh,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(t){this._alphaTest>0!=t>0&&this.version++,this._alphaTest=t}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(t){if(t!==void 0)for(const e in t){const n=t[e];if(n===void 0){console.warn(`THREE.Material: parameter '${e}' has value of undefined.`);continue}const i=this[e];if(i===void 0){console.warn(`THREE.Material: '${e}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(n):i&&i.isVector3&&n&&n.isVector3?i.copy(n):this[e]=n}}toJSON(t){const e=t===void 0||typeof t=="string";e&&(t={textures:{},images:{}});const n={metadata:{version:4.7,type:"Material",generator:"Material.toJSON"}};n.uuid=this.uuid,n.type=this.type,this.name!==""&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),this.roughness!==void 0&&(n.roughness=this.roughness),this.metalness!==void 0&&(n.metalness=this.metalness),this.sheen!==void 0&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(n.shininess=this.shininess),this.clearcoat!==void 0&&(n.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(t).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(t).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(t).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(n.dispersion=this.dispersion),this.iridescence!==void 0&&(n.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(n.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(t).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(t).uuid),this.anisotropy!==void 0&&(n.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(n.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(n.anisotropyMap=this.anisotropyMap.toJSON(t).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(t).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(t).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(t).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(t).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(t).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(t).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(t).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(t).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(t).uuid,this.combine!==void 0&&(n.combine=this.combine)),this.envMapRotation!==void 0&&(n.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(n.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(n.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(t).uuid),this.transmission!==void 0&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(t).uuid),this.thickness!==void 0&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(t).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(n.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(n.size=this.size),this.shadowSide!==null&&(n.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==Kh&&(n.blending=this.blending),this.side!==$l&&(n.side=this.side),this.vertexColors===!0&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),this.transparent===!0&&(n.transparent=!0),this.blendSrc!==Ux&&(n.blendSrc=this.blendSrc),this.blendDst!==Nx&&(n.blendDst=this.blendDst),this.blendEquation!==tf&&(n.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(n.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(n.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(n.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(n.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(n.blendAlpha=this.blendAlpha),this.depthFunc!==ad&&(n.depthFunc=this.depthFunc),this.depthTest===!1&&(n.depthTest=this.depthTest),this.depthWrite===!1&&(n.depthWrite=this.depthWrite),this.colorWrite===!1&&(n.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(n.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==Wb&&(n.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(n.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(n.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Nh&&(n.stencilFail=this.stencilFail),this.stencilZFail!==Nh&&(n.stencilZFail=this.stencilZFail),this.stencilZPass!==Nh&&(n.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(n.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(n.rotation=this.rotation),this.polygonOffset===!0&&(n.polygonOffset=!0),this.polygonOffsetFactor!==0&&(n.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(n.linewidth=this.linewidth),this.dashSize!==void 0&&(n.dashSize=this.dashSize),this.gapSize!==void 0&&(n.gapSize=this.gapSize),this.scale!==void 0&&(n.scale=this.scale),this.dithering===!0&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),this.alphaHash===!0&&(n.alphaHash=!0),this.alphaToCoverage===!0&&(n.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(n.premultipliedAlpha=!0),this.forceSinglePass===!0&&(n.forceSinglePass=!0),this.wireframe===!0&&(n.wireframe=!0),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(n.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(n.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(n.flatShading=!0),this.visible===!1&&(n.visible=!1),this.toneMapped===!1&&(n.toneMapped=!1),this.fog===!1&&(n.fog=!1),Object.keys(this.userData).length>0&&(n.userData=this.userData);function i(s){const l=[];for(const u in s){const d=s[u];delete d.metadata,l.push(d)}return l}if(e){const s=i(t.textures),l=i(t.images);s.length>0&&(n.textures=s),l.length>0&&(n.images=l)}return n}clone(){return new this.constructor().copy(this)}copy(t){this.name=t.name,this.blending=t.blending,this.side=t.side,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.blendColor.copy(t.blendColor),this.blendAlpha=t.blendAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.stencilWriteMask=t.stencilWriteMask,this.stencilFunc=t.stencilFunc,this.stencilRef=t.stencilRef,this.stencilFuncMask=t.stencilFuncMask,this.stencilFail=t.stencilFail,this.stencilZFail=t.stencilZFail,this.stencilZPass=t.stencilZPass,this.stencilWrite=t.stencilWrite;const e=t.clippingPlanes;let n=null;if(e!==null){const i=e.length;n=new Array(i);for(let s=0;s!==i;++s)n[s]=e[s].clone()}return this.clippingPlanes=n,this.clipIntersection=t.clipIntersection,this.clipShadows=t.clipShadows,this.shadowSide=t.shadowSide,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.alphaHash=t.alphaHash,this.alphaToCoverage=t.alphaToCoverage,this.premultipliedAlpha=t.premultipliedAlpha,this.forceSinglePass=t.forceSinglePass,this.visible=t.visible,this.toneMapped=t.toneMapped,this.userData=JSON.parse(JSON.stringify(t.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(t){t===!0&&this.version++}}class Gr extends Ta{constructor(t){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new pe(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Yr,this.combine=A_,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapRotation.copy(t.envMapRotation),this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.fog=t.fog,this}}const zu=rN();function rN(){const r=new ArrayBuffer(4),t=new Float32Array(r),e=new Uint32Array(r),n=new Uint32Array(512),i=new Uint32Array(512);for(let d=0;d<256;++d){const p=d-127;p<-27?(n[d]=0,n[d|256]=32768,i[d]=24,i[d|256]=24):p<-14?(n[d]=1024>>-p-14,n[d|256]=1024>>-p-14|32768,i[d]=-p-1,i[d|256]=-p-1):p<=15?(n[d]=p+15<<10,n[d|256]=p+15<<10|32768,i[d]=13,i[d|256]=13):p<128?(n[d]=31744,n[d|256]=64512,i[d]=24,i[d|256]=24):(n[d]=31744,n[d|256]=64512,i[d]=13,i[d|256]=13)}const s=new Uint32Array(2048),l=new Uint32Array(64),u=new Uint32Array(64);for(let d=1;d<1024;++d){let p=d<<13,g=0;for(;(p&8388608)===0;)p<<=1,g-=8388608;p&=-8388609,g+=947912704,s[d]=p|g}for(let d=1024;d<2048;++d)s[d]=939524096+(d-1024<<13);for(let d=1;d<31;++d)l[d]=d<<23;l[31]=1199570944,l[32]=2147483648;for(let d=33;d<63;++d)l[d]=2147483648+(d-32<<23);l[63]=3347054592;for(let d=1;d<64;++d)d!==32&&(u[d]=1024);return{floatView:t,uint32View:e,baseTable:n,shiftTable:i,mantissaTable:s,exponentTable:l,offsetTable:u}}function cr(r){Math.abs(r)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),r=Ze(r,-65504,65504),zu.floatView[0]=r;const t=zu.uint32View[0],e=t>>23&511;return zu.baseTable[e]+((t&8388607)>>zu.shiftTable[e])}function A0(r){const t=r>>10;return zu.uint32View[0]=zu.mantissaTable[zu.offsetTable[t]+(r&1023)]+zu.exponentTable[t],zu.floatView[0]}class oN{static toHalfFloat(t){return cr(t)}static fromHalfFloat(t){return A0(t)}}const oa=new W,gy=new Ht;let lN=0;class Vn{constructor(t,e,n=!1){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:lN++}),this.name="",this.array=t,this.itemSize=e,this.count=t!==void 0?t.length/e:0,this.normalized=n,this.usage=a_,this.updateRanges=[],this.gpuType=dr,this.version=0}onUploadCallback(){}set needsUpdate(t){t===!0&&this.version++}setUsage(t){return this.usage=t,this}addUpdateRange(t,e){this.updateRanges.push({start:t,count:e})}clearUpdateRanges(){this.updateRanges.length=0}copy(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.usage=t.usage,this.gpuType=t.gpuType,this}copyAt(t,e,n){t*=this.itemSize,n*=e.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[t+i]=e.array[n+i];return this}copyArray(t){return this.array.set(t),this}applyMatrix3(t){if(this.itemSize===2)for(let e=0,n=this.count;e<n;e++)gy.fromBufferAttribute(this,e),gy.applyMatrix3(t),this.setXY(e,gy.x,gy.y);else if(this.itemSize===3)for(let e=0,n=this.count;e<n;e++)oa.fromBufferAttribute(this,e),oa.applyMatrix3(t),this.setXYZ(e,oa.x,oa.y,oa.z);return this}applyMatrix4(t){for(let e=0,n=this.count;e<n;e++)oa.fromBufferAttribute(this,e),oa.applyMatrix4(t),this.setXYZ(e,oa.x,oa.y,oa.z);return this}applyNormalMatrix(t){for(let e=0,n=this.count;e<n;e++)oa.fromBufferAttribute(this,e),oa.applyNormalMatrix(t),this.setXYZ(e,oa.x,oa.y,oa.z);return this}transformDirection(t){for(let e=0,n=this.count;e<n;e++)oa.fromBufferAttribute(this,e),oa.transformDirection(t),this.setXYZ(e,oa.x,oa.y,oa.z);return this}set(t,e=0){return this.array.set(t,e),this}getComponent(t,e){let n=this.array[t*this.itemSize+e];return this.normalized&&(n=Ys(n,this.array)),n}setComponent(t,e,n){return this.normalized&&(n=dn(n,this.array)),this.array[t*this.itemSize+e]=n,this}getX(t){let e=this.array[t*this.itemSize];return this.normalized&&(e=Ys(e,this.array)),e}setX(t,e){return this.normalized&&(e=dn(e,this.array)),this.array[t*this.itemSize]=e,this}getY(t){let e=this.array[t*this.itemSize+1];return this.normalized&&(e=Ys(e,this.array)),e}setY(t,e){return this.normalized&&(e=dn(e,this.array)),this.array[t*this.itemSize+1]=e,this}getZ(t){let e=this.array[t*this.itemSize+2];return this.normalized&&(e=Ys(e,this.array)),e}setZ(t,e){return this.normalized&&(e=dn(e,this.array)),this.array[t*this.itemSize+2]=e,this}getW(t){let e=this.array[t*this.itemSize+3];return this.normalized&&(e=Ys(e,this.array)),e}setW(t,e){return this.normalized&&(e=dn(e,this.array)),this.array[t*this.itemSize+3]=e,this}setXY(t,e,n){return t*=this.itemSize,this.normalized&&(e=dn(e,this.array),n=dn(n,this.array)),this.array[t+0]=e,this.array[t+1]=n,this}setXYZ(t,e,n,i){return t*=this.itemSize,this.normalized&&(e=dn(e,this.array),n=dn(n,this.array),i=dn(i,this.array)),this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=i,this}setXYZW(t,e,n,i,s){return t*=this.itemSize,this.normalized&&(e=dn(e,this.array),n=dn(n,this.array),i=dn(i,this.array),s=dn(s,this.array)),this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=i,this.array[t+3]=s,this}onUpload(t){return this.onUploadCallback=t,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const t={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(t.name=this.name),this.usage!==a_&&(t.usage=this.usage),t}}class uN extends Vn{constructor(t,e,n){super(new Int8Array(t),e,n)}}class cN extends Vn{constructor(t,e,n){super(new Uint8Array(t),e,n)}}class fN extends Vn{constructor(t,e,n){super(new Uint8ClampedArray(t),e,n)}}class hN extends Vn{constructor(t,e,n){super(new Int16Array(t),e,n)}}class ZE extends Vn{constructor(t,e,n){super(new Uint16Array(t),e,n)}}class dN extends Vn{constructor(t,e,n){super(new Int32Array(t),e,n)}}class $E extends Vn{constructor(t,e,n){super(new Uint32Array(t),e,n)}}class pN extends Vn{constructor(t,e,n){super(new Uint16Array(t),e,n),this.isFloat16BufferAttribute=!0}getX(t){let e=A0(this.array[t*this.itemSize]);return this.normalized&&(e=Ys(e,this.array)),e}setX(t,e){return this.normalized&&(e=dn(e,this.array)),this.array[t*this.itemSize]=cr(e),this}getY(t){let e=A0(this.array[t*this.itemSize+1]);return this.normalized&&(e=Ys(e,this.array)),e}setY(t,e){return this.normalized&&(e=dn(e,this.array)),this.array[t*this.itemSize+1]=cr(e),this}getZ(t){let e=A0(this.array[t*this.itemSize+2]);return this.normalized&&(e=Ys(e,this.array)),e}setZ(t,e){return this.normalized&&(e=dn(e,this.array)),this.array[t*this.itemSize+2]=cr(e),this}getW(t){let e=A0(this.array[t*this.itemSize+3]);return this.normalized&&(e=Ys(e,this.array)),e}setW(t,e){return this.normalized&&(e=dn(e,this.array)),this.array[t*this.itemSize+3]=cr(e),this}setXY(t,e,n){return t*=this.itemSize,this.normalized&&(e=dn(e,this.array),n=dn(n,this.array)),this.array[t+0]=cr(e),this.array[t+1]=cr(n),this}setXYZ(t,e,n,i){return t*=this.itemSize,this.normalized&&(e=dn(e,this.array),n=dn(n,this.array),i=dn(i,this.array)),this.array[t+0]=cr(e),this.array[t+1]=cr(n),this.array[t+2]=cr(i),this}setXYZW(t,e,n,i,s){return t*=this.itemSize,this.normalized&&(e=dn(e,this.array),n=dn(n,this.array),i=dn(i,this.array),s=dn(s,this.array)),this.array[t+0]=cr(e),this.array[t+1]=cr(n),this.array[t+2]=cr(i),this.array[t+3]=cr(s),this}}class Oe extends Vn{constructor(t,e,n){super(new Float32Array(t),e,n)}}let mN=0;const po=new Ye,RM=new Pn,Dp=new W,Or=new Za,o0=new Za,La=new W;class un extends nu{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:mN++}),this.uuid=Xr(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(t){return Array.isArray(t)?this.index=new(qw(t)?$E:ZE)(t,1):this.index=t,this}setIndirect(t){return this.indirect=t,this}getIndirect(){return this.indirect}getAttribute(t){return this.attributes[t]}setAttribute(t,e){return this.attributes[t]=e,this}deleteAttribute(t){return delete this.attributes[t],this}hasAttribute(t){return this.attributes[t]!==void 0}addGroup(t,e,n=0){this.groups.push({start:t,count:e,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(t,e){this.drawRange.start=t,this.drawRange.count=e}applyMatrix4(t){const e=this.attributes.position;e!==void 0&&(e.applyMatrix4(t),e.needsUpdate=!0);const n=this.attributes.normal;if(n!==void 0){const s=new fn().getNormalMatrix(t);n.applyNormalMatrix(s),n.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(t),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(t){return po.makeRotationFromQuaternion(t),this.applyMatrix4(po),this}rotateX(t){return po.makeRotationX(t),this.applyMatrix4(po),this}rotateY(t){return po.makeRotationY(t),this.applyMatrix4(po),this}rotateZ(t){return po.makeRotationZ(t),this.applyMatrix4(po),this}translate(t,e,n){return po.makeTranslation(t,e,n),this.applyMatrix4(po),this}scale(t,e,n){return po.makeScale(t,e,n),this.applyMatrix4(po),this}lookAt(t){return RM.lookAt(t),RM.updateMatrix(),this.applyMatrix4(RM.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Dp).negate(),this.translate(Dp.x,Dp.y,Dp.z),this}setFromPoints(t){const e=this.getAttribute("position");if(e===void 0){const n=[];for(let i=0,s=t.length;i<s;i++){const l=t[i];n.push(l.x,l.y,l.z||0)}this.setAttribute("position",new Oe(n,3))}else{const n=Math.min(t.length,e.count);for(let i=0;i<n;i++){const s=t[i];e.setXYZ(i,s.x,s.y,s.z||0)}t.length>e.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),e.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Za);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new W(-1/0,-1/0,-1/0),new W(1/0,1/0,1/0));return}if(t!==void 0){if(this.boundingBox.setFromBufferAttribute(t),e)for(let n=0,i=e.length;n<i;n++){const s=e[n];Or.setFromBufferAttribute(s),this.morphTargetsRelative?(La.addVectors(this.boundingBox.min,Or.min),this.boundingBox.expandByPoint(La),La.addVectors(this.boundingBox.max,Or.max),this.boundingBox.expandByPoint(La)):(this.boundingBox.expandByPoint(Or.min),this.boundingBox.expandByPoint(Or.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Ha);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new W,1/0);return}if(t){const n=this.boundingSphere.center;if(Or.setFromBufferAttribute(t),e)for(let s=0,l=e.length;s<l;s++){const u=e[s];o0.setFromBufferAttribute(u),this.morphTargetsRelative?(La.addVectors(Or.min,o0.min),Or.expandByPoint(La),La.addVectors(Or.max,o0.max),Or.expandByPoint(La)):(Or.expandByPoint(o0.min),Or.expandByPoint(o0.max))}Or.getCenter(n);let i=0;for(let s=0,l=t.count;s<l;s++)La.fromBufferAttribute(t,s),i=Math.max(i,n.distanceToSquared(La));if(e)for(let s=0,l=e.length;s<l;s++){const u=e[s],d=this.morphTargetsRelative;for(let p=0,g=u.count;p<g;p++)La.fromBufferAttribute(u,p),d&&(Dp.fromBufferAttribute(t,p),La.add(Dp)),i=Math.max(i,n.distanceToSquared(La))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const t=this.index,e=this.attributes;if(t===null||e.position===void 0||e.normal===void 0||e.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const n=e.position,i=e.normal,s=e.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Vn(new Float32Array(4*n.count),4));const l=this.getAttribute("tangent"),u=[],d=[];for(let F=0;F<n.count;F++)u[F]=new W,d[F]=new W;const p=new W,g=new W,_=new W,y=new Ht,x=new Ht,M=new Ht,T=new W,E=new W;function b(F,O,U){p.fromBufferAttribute(n,F),g.fromBufferAttribute(n,O),_.fromBufferAttribute(n,U),y.fromBufferAttribute(s,F),x.fromBufferAttribute(s,O),M.fromBufferAttribute(s,U),g.sub(p),_.sub(p),x.sub(y),M.sub(y);const V=1/(x.x*M.y-M.x*x.y);isFinite(V)&&(T.copy(g).multiplyScalar(M.y).addScaledVector(_,-x.y).multiplyScalar(V),E.copy(_).multiplyScalar(x.x).addScaledVector(g,-M.x).multiplyScalar(V),u[F].add(T),u[O].add(T),u[U].add(T),d[F].add(E),d[O].add(E),d[U].add(E))}let w=this.groups;w.length===0&&(w=[{start:0,count:t.count}]);for(let F=0,O=w.length;F<O;++F){const U=w[F],V=U.start,Q=U.count;for(let et=V,rt=V+Q;et<rt;et+=3)b(t.getX(et+0),t.getX(et+1),t.getX(et+2))}const D=new W,B=new W,L=new W,P=new W;function H(F){L.fromBufferAttribute(i,F),P.copy(L);const O=u[F];D.copy(O),D.sub(L.multiplyScalar(L.dot(O))).normalize(),B.crossVectors(P,O);const V=B.dot(d[F])<0?-1:1;l.setXYZW(F,D.x,D.y,D.z,V)}for(let F=0,O=w.length;F<O;++F){const U=w[F],V=U.start,Q=U.count;for(let et=V,rt=V+Q;et<rt;et+=3)H(t.getX(et+0)),H(t.getX(et+1)),H(t.getX(et+2))}}computeVertexNormals(){const t=this.index,e=this.getAttribute("position");if(e!==void 0){let n=this.getAttribute("normal");if(n===void 0)n=new Vn(new Float32Array(e.count*3),3),this.setAttribute("normal",n);else for(let y=0,x=n.count;y<x;y++)n.setXYZ(y,0,0,0);const i=new W,s=new W,l=new W,u=new W,d=new W,p=new W,g=new W,_=new W;if(t)for(let y=0,x=t.count;y<x;y+=3){const M=t.getX(y+0),T=t.getX(y+1),E=t.getX(y+2);i.fromBufferAttribute(e,M),s.fromBufferAttribute(e,T),l.fromBufferAttribute(e,E),g.subVectors(l,s),_.subVectors(i,s),g.cross(_),u.fromBufferAttribute(n,M),d.fromBufferAttribute(n,T),p.fromBufferAttribute(n,E),u.add(g),d.add(g),p.add(g),n.setXYZ(M,u.x,u.y,u.z),n.setXYZ(T,d.x,d.y,d.z),n.setXYZ(E,p.x,p.y,p.z)}else for(let y=0,x=e.count;y<x;y+=3)i.fromBufferAttribute(e,y+0),s.fromBufferAttribute(e,y+1),l.fromBufferAttribute(e,y+2),g.subVectors(l,s),_.subVectors(i,s),g.cross(_),n.setXYZ(y+0,g.x,g.y,g.z),n.setXYZ(y+1,g.x,g.y,g.z),n.setXYZ(y+2,g.x,g.y,g.z);this.normalizeNormals(),n.needsUpdate=!0}}normalizeNormals(){const t=this.attributes.normal;for(let e=0,n=t.count;e<n;e++)La.fromBufferAttribute(t,e),La.normalize(),t.setXYZ(e,La.x,La.y,La.z)}toNonIndexed(){function t(u,d){const p=u.array,g=u.itemSize,_=u.normalized,y=new p.constructor(d.length*g);let x=0,M=0;for(let T=0,E=d.length;T<E;T++){u.isInterleavedBufferAttribute?x=d[T]*u.data.stride+u.offset:x=d[T]*g;for(let b=0;b<g;b++)y[M++]=p[x++]}return new Vn(y,g,_)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const e=new un,n=this.index.array,i=this.attributes;for(const u in i){const d=i[u],p=t(d,n);e.setAttribute(u,p)}const s=this.morphAttributes;for(const u in s){const d=[],p=s[u];for(let g=0,_=p.length;g<_;g++){const y=p[g],x=t(y,n);d.push(x)}e.morphAttributes[u]=d}e.morphTargetsRelative=this.morphTargetsRelative;const l=this.groups;for(let u=0,d=l.length;u<d;u++){const p=l[u];e.addGroup(p.start,p.count,p.materialIndex)}return e}toJSON(){const t={metadata:{version:4.7,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,this.name!==""&&(t.name=this.name),Object.keys(this.userData).length>0&&(t.userData=this.userData),this.parameters!==void 0){const d=this.parameters;for(const p in d)d[p]!==void 0&&(t[p]=d[p]);return t}t.data={attributes:{}};const e=this.index;e!==null&&(t.data.index={type:e.array.constructor.name,array:Array.prototype.slice.call(e.array)});const n=this.attributes;for(const d in n){const p=n[d];t.data.attributes[d]=p.toJSON(t.data)}const i={};let s=!1;for(const d in this.morphAttributes){const p=this.morphAttributes[d],g=[];for(let _=0,y=p.length;_<y;_++){const x=p[_];g.push(x.toJSON(t.data))}g.length>0&&(i[d]=g,s=!0)}s&&(t.data.morphAttributes=i,t.data.morphTargetsRelative=this.morphTargetsRelative);const l=this.groups;l.length>0&&(t.data.groups=JSON.parse(JSON.stringify(l)));const u=this.boundingSphere;return u!==null&&(t.data.boundingSphere=u.toJSON()),t}clone(){return new this.constructor().copy(this)}copy(t){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const e={};this.name=t.name;const n=t.index;n!==null&&this.setIndex(n.clone());const i=t.attributes;for(const p in i){const g=i[p];this.setAttribute(p,g.clone(e))}const s=t.morphAttributes;for(const p in s){const g=[],_=s[p];for(let y=0,x=_.length;y<x;y++)g.push(_[y].clone(e));this.morphAttributes[p]=g}this.morphTargetsRelative=t.morphTargetsRelative;const l=t.groups;for(let p=0,g=l.length;p<g;p++){const _=l[p];this.addGroup(_.start,_.count,_.materialIndex)}const u=t.boundingBox;u!==null&&(this.boundingBox=u.clone());const d=t.boundingSphere;return d!==null&&(this.boundingSphere=d.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this.userData=t.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const pC=new Ye,_h=new gd,_y=new Ha,mC=new W,vy=new W,yy=new W,xy=new W,wM=new W,Ay=new W,gC=new W,Sy=new W;class ta extends Pn{constructor(t=new un,e=new Gr){super(),this.isMesh=!0,this.type="Mesh",this.geometry=t,this.material=e,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.count=1,this.updateMorphTargets()}copy(t,e){return super.copy(t,e),t.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=t.morphTargetInfluences.slice()),t.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},t.morphTargetDictionary)),this.material=Array.isArray(t.material)?t.material.slice():t.material,this.geometry=t.geometry,this}updateMorphTargets(){const e=this.geometry.morphAttributes,n=Object.keys(e);if(n.length>0){const i=e[n[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,l=i.length;s<l;s++){const u=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[u]=s}}}}getVertexPosition(t,e){const n=this.geometry,i=n.attributes.position,s=n.morphAttributes.position,l=n.morphTargetsRelative;e.fromBufferAttribute(i,t);const u=this.morphTargetInfluences;if(s&&u){Ay.set(0,0,0);for(let d=0,p=s.length;d<p;d++){const g=u[d],_=s[d];g!==0&&(wM.fromBufferAttribute(_,t),l?Ay.addScaledVector(wM,g):Ay.addScaledVector(wM.sub(e),g))}e.add(Ay)}return e}raycast(t,e){const n=this.geometry,i=this.material,s=this.matrixWorld;i!==void 0&&(n.boundingSphere===null&&n.computeBoundingSphere(),_y.copy(n.boundingSphere),_y.applyMatrix4(s),_h.copy(t.ray).recast(t.near),!(_y.containsPoint(_h.origin)===!1&&(_h.intersectSphere(_y,mC)===null||_h.origin.distanceToSquared(mC)>(t.far-t.near)**2))&&(pC.copy(s).invert(),_h.copy(t.ray).applyMatrix4(pC),!(n.boundingBox!==null&&_h.intersectsBox(n.boundingBox)===!1)&&this._computeIntersections(t,e,_h)))}_computeIntersections(t,e,n){let i;const s=this.geometry,l=this.material,u=s.index,d=s.attributes.position,p=s.attributes.uv,g=s.attributes.uv1,_=s.attributes.normal,y=s.groups,x=s.drawRange;if(u!==null)if(Array.isArray(l))for(let M=0,T=y.length;M<T;M++){const E=y[M],b=l[E.materialIndex],w=Math.max(E.start,x.start),D=Math.min(u.count,Math.min(E.start+E.count,x.start+x.count));for(let B=w,L=D;B<L;B+=3){const P=u.getX(B),H=u.getX(B+1),F=u.getX(B+2);i=My(this,b,t,n,p,g,_,P,H,F),i&&(i.faceIndex=Math.floor(B/3),i.face.materialIndex=E.materialIndex,e.push(i))}}else{const M=Math.max(0,x.start),T=Math.min(u.count,x.start+x.count);for(let E=M,b=T;E<b;E+=3){const w=u.getX(E),D=u.getX(E+1),B=u.getX(E+2);i=My(this,l,t,n,p,g,_,w,D,B),i&&(i.faceIndex=Math.floor(E/3),e.push(i))}}else if(d!==void 0)if(Array.isArray(l))for(let M=0,T=y.length;M<T;M++){const E=y[M],b=l[E.materialIndex],w=Math.max(E.start,x.start),D=Math.min(d.count,Math.min(E.start+E.count,x.start+x.count));for(let B=w,L=D;B<L;B+=3){const P=B,H=B+1,F=B+2;i=My(this,b,t,n,p,g,_,P,H,F),i&&(i.faceIndex=Math.floor(B/3),i.face.materialIndex=E.materialIndex,e.push(i))}}else{const M=Math.max(0,x.start),T=Math.min(d.count,x.start+x.count);for(let E=M,b=T;E<b;E+=3){const w=E,D=E+1,B=E+2;i=My(this,l,t,n,p,g,_,w,D,B),i&&(i.faceIndex=Math.floor(E/3),e.push(i))}}}}function gN(r,t,e,n,i,s,l,u){let d;if(t.side===Ks?d=n.intersectTriangle(l,s,i,!0,u):d=n.intersectTriangle(i,s,l,t.side===$l,u),d===null)return null;Sy.copy(u),Sy.applyMatrix4(r.matrixWorld);const p=e.ray.origin.distanceTo(Sy);return p<e.near||p>e.far?null:{distance:p,point:Sy.clone(),object:r}}function My(r,t,e,n,i,s,l,u,d,p){r.getVertexPosition(u,vy),r.getVertexPosition(d,yy),r.getVertexPosition(p,xy);const g=gN(r,t,e,n,vy,yy,xy,gC);if(g){const _=new W;hr.getBarycoord(gC,vy,yy,xy,_),i&&(g.uv=hr.getInterpolatedAttribute(i,u,d,p,_,new Ht)),s&&(g.uv1=hr.getInterpolatedAttribute(s,u,d,p,_,new Ht)),l&&(g.normal=hr.getInterpolatedAttribute(l,u,d,p,_,new W),g.normal.dot(n.direction)>0&&g.normal.multiplyScalar(-1));const y={a:u,b:d,c:p,normal:new W,materialIndex:0};hr.getNormal(vy,yy,xy,y.normal),g.face=y,g.barycoord=_}return g}class _d extends un{constructor(t=1,e=1,n=1,i=1,s=1,l=1){super(),this.type="BoxGeometry",this.parameters={width:t,height:e,depth:n,widthSegments:i,heightSegments:s,depthSegments:l};const u=this;i=Math.floor(i),s=Math.floor(s),l=Math.floor(l);const d=[],p=[],g=[],_=[];let y=0,x=0;M("z","y","x",-1,-1,n,e,t,l,s,0),M("z","y","x",1,-1,n,e,-t,l,s,1),M("x","z","y",1,1,t,n,e,i,l,2),M("x","z","y",1,-1,t,n,-e,i,l,3),M("x","y","z",1,-1,t,e,n,i,s,4),M("x","y","z",-1,-1,t,e,-n,i,s,5),this.setIndex(d),this.setAttribute("position",new Oe(p,3)),this.setAttribute("normal",new Oe(g,3)),this.setAttribute("uv",new Oe(_,2));function M(T,E,b,w,D,B,L,P,H,F,O){const U=B/H,V=L/F,Q=B/2,et=L/2,rt=P/2,ut=H+1,G=F+1;let q=0,K=0;const lt=new W;for(let I=0;I<G;I++){const nt=I*V-et;for(let gt=0;gt<ut;gt++){const bt=gt*U-Q;lt[T]=bt*w,lt[E]=nt*D,lt[b]=rt,p.push(lt.x,lt.y,lt.z),lt[T]=0,lt[E]=0,lt[b]=P>0?1:-1,g.push(lt.x,lt.y,lt.z),_.push(gt/H),_.push(1-I/F),q+=1}}for(let I=0;I<F;I++)for(let nt=0;nt<H;nt++){const gt=y+nt+ut*I,bt=y+nt+ut*(I+1),St=y+(nt+1)+ut*(I+1),ft=y+(nt+1)+ut*I;d.push(gt,bt,ft),d.push(bt,St,ft),K+=6}u.addGroup(x,K,O),x+=K,y+=q}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new _d(t.width,t.height,t.depth,t.widthSegments,t.heightSegments,t.depthSegments)}}function Sm(r){const t={};for(const e in r){t[e]={};for(const n in r[e]){const i=r[e][n];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),t[e][n]=null):t[e][n]=i.clone():Array.isArray(i)?t[e][n]=i.slice():t[e][n]=i}}return t}function zs(r){const t={};for(let e=0;e<r.length;e++){const n=Sm(r[e]);for(const i in n)t[i]=n[i]}return t}function _N(r){const t=[];for(let e=0;e<r.length;e++)t.push(r[e].clone());return t}function jw(r){const t=r.getRenderTarget();return t===null?r.outputColorSpace:t.isXRRenderTarget===!0?t.texture.colorSpace:Ln.workingColorSpace}const Qw={clone:Sm,merge:zs};var vN=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,yN=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class sl extends Ta{constructor(t){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=vN,this.fragmentShader=yN,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,t!==void 0&&this.setValues(t)}copy(t){return super.copy(t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=Sm(t.uniforms),this.uniformsGroups=_N(t.uniformsGroups),this.defines=Object.assign({},t.defines),this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.fog=t.fog,this.lights=t.lights,this.clipping=t.clipping,this.extensions=Object.assign({},t.extensions),this.glslVersion=t.glslVersion,this}toJSON(t){const e=super.toJSON(t);e.glslVersion=this.glslVersion,e.uniforms={};for(const i in this.uniforms){const l=this.uniforms[i].value;l&&l.isTexture?e.uniforms[i]={type:"t",value:l.toJSON(t).uuid}:l&&l.isColor?e.uniforms[i]={type:"c",value:l.getHex()}:l&&l.isVector2?e.uniforms[i]={type:"v2",value:l.toArray()}:l&&l.isVector3?e.uniforms[i]={type:"v3",value:l.toArray()}:l&&l.isVector4?e.uniforms[i]={type:"v4",value:l.toArray()}:l&&l.isMatrix3?e.uniforms[i]={type:"m3",value:l.toArray()}:l&&l.isMatrix4?e.uniforms[i]={type:"m4",value:l.toArray()}:e.uniforms[i]={value:l}}Object.keys(this.defines).length>0&&(e.defines=this.defines),e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader,e.lights=this.lights,e.clipping=this.clipping;const n={};for(const i in this.extensions)this.extensions[i]===!0&&(n[i]=!0);return Object.keys(n).length>0&&(e.extensions=n),e}}class KA extends Pn{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Ye,this.projectionMatrix=new Ye,this.projectionMatrixInverse=new Ye,this.coordinateSystem=Hr,this._reversedDepth=!1}get reversedDepth(){return this._reversedDepth}copy(t,e){return super.copy(t,e),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this.projectionMatrixInverse.copy(t.projectionMatrixInverse),this.coordinateSystem=t.coordinateSystem,this}getWorldDirection(t){return super.getWorldDirection(t).negate()}updateMatrixWorld(t){super.updateMatrixWorld(t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(t,e){super.updateWorldMatrix(t,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const Wc=new W,_C=new Ht,vC=new Ht;class Xi extends KA{constructor(t=50,e=1,n=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=t,this.zoom=1,this.near=n,this.far=i,this.focus=10,this.aspect=e,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(t,e){return super.copy(t,e),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=t.view===null?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this}setFocalLength(t){const e=.5*this.getFilmHeight()/t;this.fov=xm*2*Math.atan(e),this.updateProjectionMatrix()}getFocalLength(){const t=Math.tan(Wh*.5*this.fov);return .5*this.getFilmHeight()/t}getEffectiveFOV(){return xm*2*Math.atan(Math.tan(Wh*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(t,e,n){Wc.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),e.set(Wc.x,Wc.y).multiplyScalar(-t/Wc.z),Wc.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(Wc.x,Wc.y).multiplyScalar(-t/Wc.z)}getViewSize(t,e){return this.getViewBounds(t,_C,vC),e.subVectors(vC,_C)}setViewOffset(t,e,n,i,s,l){this.aspect=t/e,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=n,this.view.offsetY=i,this.view.width=s,this.view.height=l,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=this.near;let e=t*Math.tan(Wh*.5*this.fov)/this.zoom,n=2*e,i=this.aspect*n,s=-.5*i;const l=this.view;if(this.view!==null&&this.view.enabled){const d=l.fullWidth,p=l.fullHeight;s+=l.offsetX*i/d,e-=l.offsetY*n/p,i*=l.width/d,n*=l.height/p}const u=this.filmOffset;u!==0&&(s+=t*u/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,e,e-n,t,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){const e=super.toJSON(t);return e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,this.view!==null&&(e.object.view=Object.assign({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}}const Op=-90,Up=1;class Zw extends Pn{constructor(t,e,n){super(),this.type="CubeCamera",this.renderTarget=n,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new Xi(Op,Up,t,e);i.layers=this.layers,this.add(i);const s=new Xi(Op,Up,t,e);s.layers=this.layers,this.add(s);const l=new Xi(Op,Up,t,e);l.layers=this.layers,this.add(l);const u=new Xi(Op,Up,t,e);u.layers=this.layers,this.add(u);const d=new Xi(Op,Up,t,e);d.layers=this.layers,this.add(d);const p=new Xi(Op,Up,t,e);p.layers=this.layers,this.add(p)}updateCoordinateSystem(){const t=this.coordinateSystem,e=this.children.concat(),[n,i,s,l,u,d]=e;for(const p of e)this.remove(p);if(t===Hr)n.up.set(0,1,0),n.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),l.up.set(0,0,1),l.lookAt(0,-1,0),u.up.set(0,1,0),u.lookAt(0,0,1),d.up.set(0,1,0),d.lookAt(0,0,-1);else if(t===ym)n.up.set(0,-1,0),n.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),l.up.set(0,0,-1),l.lookAt(0,-1,0),u.up.set(0,-1,0),u.lookAt(0,0,1),d.up.set(0,-1,0),d.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+t);for(const p of e)this.add(p),p.updateMatrixWorld()}update(t,e){this.parent===null&&this.updateMatrixWorld();const{renderTarget:n,activeMipmapLevel:i}=this;this.coordinateSystem!==t.coordinateSystem&&(this.coordinateSystem=t.coordinateSystem,this.updateCoordinateSystem());const[s,l,u,d,p,g]=this.children,_=t.getRenderTarget(),y=t.getActiveCubeFace(),x=t.getActiveMipmapLevel(),M=t.xr.enabled;t.xr.enabled=!1;const T=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,t.setRenderTarget(n,0,i),t.render(e,s),t.setRenderTarget(n,1,i),t.render(e,l),t.setRenderTarget(n,2,i),t.render(e,u),t.setRenderTarget(n,3,i),t.render(e,d),t.setRenderTarget(n,4,i),t.render(e,p),n.texture.generateMipmaps=T,t.setRenderTarget(n,5,i),t.render(e,g),t.setRenderTarget(_,y,x),t.xr.enabled=M,n.texture.needsPMREMUpdate=!0}}class M_ extends wi{constructor(t=[],e=Ku,n,i,s,l,u,d,p,g){super(t,e,n,i,s,l,u,d,p,g),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(t){this.image=t}}class $w extends tu{constructor(t=1,e={}){super(t,t,e),this.isWebGLCubeRenderTarget=!0;const n={width:t,height:t,depth:1},i=[n,n,n,n,n,n];this.texture=new M_(i),this._setTextureOptions(e),this.texture.isRenderTargetTexture=!0}fromEquirectangularTexture(t,e){this.texture.type=e.type,this.texture.colorSpace=e.colorSpace,this.texture.generateMipmaps=e.generateMipmaps,this.texture.minFilter=e.minFilter,this.texture.magFilter=e.magFilter;const n={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new _d(5,5,5),s=new sl({name:"CubemapFromEquirect",uniforms:Sm(n.uniforms),vertexShader:n.vertexShader,fragmentShader:n.fragmentShader,side:Ks,blending:Xu});s.uniforms.tEquirect.value=e;const l=new ta(i,s),u=e.minFilter;return e.minFilter===yo&&(e.minFilter=$i),new Zw(1,10,this).update(t,l),e.minFilter=u,l.geometry.dispose(),l.material.dispose(),this}clear(t,e=!0,n=!0,i=!0){const s=t.getRenderTarget();for(let l=0;l<6;l++)t.setRenderTarget(this,l),t.clear(e,n,i);t.setRenderTarget(s)}}class Gu extends Pn{constructor(){super(),this.isGroup=!0,this.type="Group"}}const xN={type:"move"};class xx{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Gu,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Gu,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new W,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new W),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Gu,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new W,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new W),this._grip}dispatchEvent(t){return this._targetRay!==null&&this._targetRay.dispatchEvent(t),this._grip!==null&&this._grip.dispatchEvent(t),this._hand!==null&&this._hand.dispatchEvent(t),this}connect(t){if(t&&t.hand){const e=this._hand;if(e)for(const n of t.hand.values())this._getHandJoint(e,n)}return this.dispatchEvent({type:"connected",data:t}),this}disconnect(t){return this.dispatchEvent({type:"disconnected",data:t}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(t,e,n){let i=null,s=null,l=null;const u=this._targetRay,d=this._grip,p=this._hand;if(t&&e.session.visibilityState!=="visible-blurred"){if(p&&t.hand){l=!0;for(const T of t.hand.values()){const E=e.getJointPose(T,n),b=this._getHandJoint(p,T);E!==null&&(b.matrix.fromArray(E.transform.matrix),b.matrix.decompose(b.position,b.rotation,b.scale),b.matrixWorldNeedsUpdate=!0,b.jointRadius=E.radius),b.visible=E!==null}const g=p.joints["index-finger-tip"],_=p.joints["thumb-tip"],y=g.position.distanceTo(_.position),x=.02,M=.005;p.inputState.pinching&&y>x+M?(p.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:t.handedness,target:this})):!p.inputState.pinching&&y<=x-M&&(p.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:t.handedness,target:this}))}else d!==null&&t.gripSpace&&(s=e.getPose(t.gripSpace,n),s!==null&&(d.matrix.fromArray(s.transform.matrix),d.matrix.decompose(d.position,d.rotation,d.scale),d.matrixWorldNeedsUpdate=!0,s.linearVelocity?(d.hasLinearVelocity=!0,d.linearVelocity.copy(s.linearVelocity)):d.hasLinearVelocity=!1,s.angularVelocity?(d.hasAngularVelocity=!0,d.angularVelocity.copy(s.angularVelocity)):d.hasAngularVelocity=!1));u!==null&&(i=e.getPose(t.targetRaySpace,n),i===null&&s!==null&&(i=s),i!==null&&(u.matrix.fromArray(i.transform.matrix),u.matrix.decompose(u.position,u.rotation,u.scale),u.matrixWorldNeedsUpdate=!0,i.linearVelocity?(u.hasLinearVelocity=!0,u.linearVelocity.copy(i.linearVelocity)):u.hasLinearVelocity=!1,i.angularVelocity?(u.hasAngularVelocity=!0,u.angularVelocity.copy(i.angularVelocity)):u.hasAngularVelocity=!1,this.dispatchEvent(xN)))}return u!==null&&(u.visible=i!==null),d!==null&&(d.visible=s!==null),p!==null&&(p.visible=l!==null),this}_getHandJoint(t,e){if(t.joints[e.jointName]===void 0){const n=new Gu;n.matrixAutoUpdate=!1,n.visible=!1,t.joints[e.jointName]=n,t.add(n)}return t.joints[e.jointName]}}class WA{constructor(t,e=25e-5){this.isFogExp2=!0,this.name="",this.color=new pe(t),this.density=e}clone(){return new WA(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class jA{constructor(t,e=1,n=1e3){this.isFog=!0,this.name="",this.color=new pe(t),this.near=e,this.far=n}clone(){return new jA(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class t1 extends Pn{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Yr,this.environmentIntensity=1,this.environmentRotation=new Yr,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(t,e){return super.copy(t,e),t.background!==null&&(this.background=t.background.clone()),t.environment!==null&&(this.environment=t.environment.clone()),t.fog!==null&&(this.fog=t.fog.clone()),this.backgroundBlurriness=t.backgroundBlurriness,this.backgroundIntensity=t.backgroundIntensity,this.backgroundRotation.copy(t.backgroundRotation),this.environmentIntensity=t.environmentIntensity,this.environmentRotation.copy(t.environmentRotation),t.overrideMaterial!==null&&(this.overrideMaterial=t.overrideMaterial.clone()),this.matrixAutoUpdate=t.matrixAutoUpdate,this}toJSON(t){const e=super.toJSON(t);return this.fog!==null&&(e.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(e.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(e.object.backgroundIntensity=this.backgroundIntensity),e.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(e.object.environmentIntensity=this.environmentIntensity),e.object.environmentRotation=this.environmentRotation.toArray(),e}}class b_{constructor(t,e){this.isInterleavedBuffer=!0,this.array=t,this.stride=e,this.count=t!==void 0?t.length/e:0,this.usage=a_,this.updateRanges=[],this.version=0,this.uuid=Xr()}onUploadCallback(){}set needsUpdate(t){t===!0&&this.version++}setUsage(t){return this.usage=t,this}addUpdateRange(t,e){this.updateRanges.push({start:t,count:e})}clearUpdateRanges(){this.updateRanges.length=0}copy(t){return this.array=new t.array.constructor(t.array),this.count=t.count,this.stride=t.stride,this.usage=t.usage,this}copyAt(t,e,n){t*=this.stride,n*=e.stride;for(let i=0,s=this.stride;i<s;i++)this.array[t+i]=e.array[n+i];return this}set(t,e=0){return this.array.set(t,e),this}clone(t){t.arrayBuffers===void 0&&(t.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Xr()),t.arrayBuffers[this.array.buffer._uuid]===void 0&&(t.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const e=new this.array.constructor(t.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(e,this.stride);return n.setUsage(this.usage),n}onUpload(t){return this.onUploadCallback=t,this}toJSON(t){return t.arrayBuffers===void 0&&(t.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Xr()),t.arrayBuffers[this.array.buffer._uuid]===void 0&&(t.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Is=new W;class gf{constructor(t,e,n,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=t,this.itemSize=e,this.offset=n,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(t){this.data.needsUpdate=t}applyMatrix4(t){for(let e=0,n=this.data.count;e<n;e++)Is.fromBufferAttribute(this,e),Is.applyMatrix4(t),this.setXYZ(e,Is.x,Is.y,Is.z);return this}applyNormalMatrix(t){for(let e=0,n=this.count;e<n;e++)Is.fromBufferAttribute(this,e),Is.applyNormalMatrix(t),this.setXYZ(e,Is.x,Is.y,Is.z);return this}transformDirection(t){for(let e=0,n=this.count;e<n;e++)Is.fromBufferAttribute(this,e),Is.transformDirection(t),this.setXYZ(e,Is.x,Is.y,Is.z);return this}getComponent(t,e){let n=this.array[t*this.data.stride+this.offset+e];return this.normalized&&(n=Ys(n,this.array)),n}setComponent(t,e,n){return this.normalized&&(n=dn(n,this.array)),this.data.array[t*this.data.stride+this.offset+e]=n,this}setX(t,e){return this.normalized&&(e=dn(e,this.array)),this.data.array[t*this.data.stride+this.offset]=e,this}setY(t,e){return this.normalized&&(e=dn(e,this.array)),this.data.array[t*this.data.stride+this.offset+1]=e,this}setZ(t,e){return this.normalized&&(e=dn(e,this.array)),this.data.array[t*this.data.stride+this.offset+2]=e,this}setW(t,e){return this.normalized&&(e=dn(e,this.array)),this.data.array[t*this.data.stride+this.offset+3]=e,this}getX(t){let e=this.data.array[t*this.data.stride+this.offset];return this.normalized&&(e=Ys(e,this.array)),e}getY(t){let e=this.data.array[t*this.data.stride+this.offset+1];return this.normalized&&(e=Ys(e,this.array)),e}getZ(t){let e=this.data.array[t*this.data.stride+this.offset+2];return this.normalized&&(e=Ys(e,this.array)),e}getW(t){let e=this.data.array[t*this.data.stride+this.offset+3];return this.normalized&&(e=Ys(e,this.array)),e}setXY(t,e,n){return t=t*this.data.stride+this.offset,this.normalized&&(e=dn(e,this.array),n=dn(n,this.array)),this.data.array[t+0]=e,this.data.array[t+1]=n,this}setXYZ(t,e,n,i){return t=t*this.data.stride+this.offset,this.normalized&&(e=dn(e,this.array),n=dn(n,this.array),i=dn(i,this.array)),this.data.array[t+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=i,this}setXYZW(t,e,n,i,s){return t=t*this.data.stride+this.offset,this.normalized&&(e=dn(e,this.array),n=dn(n,this.array),i=dn(i,this.array),s=dn(s,this.array)),this.data.array[t+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=i,this.data.array[t+3]=s,this}clone(t){if(t===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const e=[];for(let n=0;n<this.count;n++){const i=n*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)e.push(this.data.array[i+s])}return new Vn(new this.array.constructor(e),this.itemSize,this.normalized)}else return t.interleavedBuffers===void 0&&(t.interleavedBuffers={}),t.interleavedBuffers[this.data.uuid]===void 0&&(t.interleavedBuffers[this.data.uuid]=this.data.clone(t)),new gf(t.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(t){if(t===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const e=[];for(let n=0;n<this.count;n++){const i=n*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)e.push(this.data.array[i+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:e,normalized:this.normalized}}else return t.interleavedBuffers===void 0&&(t.interleavedBuffers={}),t.interleavedBuffers[this.data.uuid]===void 0&&(t.interleavedBuffers[this.data.uuid]=this.data.toJSON(t)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class e1 extends Ta{constructor(t){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new pe(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.rotation=t.rotation,this.sizeAttenuation=t.sizeAttenuation,this.fog=t.fog,this}}let Np;const l0=new W,Lp=new W,Ip=new W,Pp=new Ht,u0=new Ht,tB=new Ye,by=new W,c0=new W,Ey=new W,yC=new Ht,BM=new Ht,xC=new Ht;class eB extends Pn{constructor(t=new e1){if(super(),this.isSprite=!0,this.type="Sprite",Np===void 0){Np=new un;const e=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),n=new b_(e,5);Np.setIndex([0,1,2,0,2,3]),Np.setAttribute("position",new gf(n,3,0,!1)),Np.setAttribute("uv",new gf(n,2,3,!1))}this.geometry=Np,this.material=t,this.center=new Ht(.5,.5),this.count=1}raycast(t,e){t.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Lp.setFromMatrixScale(this.matrixWorld),tB.copy(t.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(t.camera.matrixWorldInverse,this.matrixWorld),Ip.setFromMatrixPosition(this.modelViewMatrix),t.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Lp.multiplyScalar(-Ip.z);const n=this.material.rotation;let i,s;n!==0&&(s=Math.cos(n),i=Math.sin(n));const l=this.center;Ty(by.set(-.5,-.5,0),Ip,l,Lp,i,s),Ty(c0.set(.5,-.5,0),Ip,l,Lp,i,s),Ty(Ey.set(.5,.5,0),Ip,l,Lp,i,s),yC.set(0,0),BM.set(1,0),xC.set(1,1);let u=t.ray.intersectTriangle(by,c0,Ey,!1,l0);if(u===null&&(Ty(c0.set(-.5,.5,0),Ip,l,Lp,i,s),BM.set(0,1),u=t.ray.intersectTriangle(by,Ey,c0,!1,l0),u===null))return;const d=t.ray.origin.distanceTo(l0);d<t.near||d>t.far||e.push({distance:d,point:l0.clone(),uv:hr.getInterpolation(l0,by,c0,Ey,yC,BM,xC,new Ht),face:null,object:this})}copy(t,e){return super.copy(t,e),t.center!==void 0&&this.center.copy(t.center),this.material=t.material,this}}function Ty(r,t,e,n,i,s){Pp.subVectors(r,e).addScalar(.5).multiply(n),i!==void 0?(u0.x=s*Pp.x-i*Pp.y,u0.y=i*Pp.x+s*Pp.y):u0.copy(Pp),r.copy(t),r.x+=u0.x,r.y+=u0.y,r.applyMatrix4(tB)}const Cy=new W,AC=new W;class nB extends Pn{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(t){super.copy(t,!1);const e=t.levels;for(let n=0,i=e.length;n<i;n++){const s=e[n];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=t.autoUpdate,this}addLevel(t,e=0,n=0){e=Math.abs(e);const i=this.levels;let s;for(s=0;s<i.length&&!(e<i[s].distance);s++);return i.splice(s,0,{distance:e,hysteresis:n,object:t}),this.add(t),this}removeLevel(t){const e=this.levels;for(let n=0;n<e.length;n++)if(e[n].distance===t){const i=e.splice(n,1);return this.remove(i[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(t){const e=this.levels;if(e.length>0){let n,i;for(n=1,i=e.length;n<i;n++){let s=e[n].distance;if(e[n].object.visible&&(s-=s*e[n].hysteresis),t<s)break}return e[n-1].object}return null}raycast(t,e){if(this.levels.length>0){Cy.setFromMatrixPosition(this.matrixWorld);const i=t.ray.origin.distanceTo(Cy);this.getObjectForDistance(i).raycast(t,e)}}update(t){const e=this.levels;if(e.length>1){Cy.setFromMatrixPosition(t.matrixWorld),AC.setFromMatrixPosition(this.matrixWorld);const n=Cy.distanceTo(AC)/t.zoom;e[0].object.visible=!0;let i,s;for(i=1,s=e.length;i<s;i++){let l=e[i].distance;if(e[i].object.visible&&(l-=l*e[i].hysteresis),n>=l)e[i-1].object.visible=!1,e[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<s;i++)e[i].object.visible=!1}}toJSON(t){const e=super.toJSON(t);this.autoUpdate===!1&&(e.object.autoUpdate=!1),e.object.levels=[];const n=this.levels;for(let i=0,s=n.length;i<s;i++){const l=n[i];e.object.levels.push({object:l.object.uuid,distance:l.distance,hysteresis:l.hysteresis})}return e}}const SC=new W,MC=new Gn,bC=new Gn,AN=new W,EC=new Ye,Ry=new W,DM=new Ha,TC=new Ye,OM=new gd;class n1 extends ta{constructor(t,e){super(t,e),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=Kb,this.bindMatrix=new Ye,this.bindMatrixInverse=new Ye,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const t=this.geometry;this.boundingBox===null&&(this.boundingBox=new Za),this.boundingBox.makeEmpty();const e=t.getAttribute("position");for(let n=0;n<e.count;n++)this.getVertexPosition(n,Ry),this.boundingBox.expandByPoint(Ry)}computeBoundingSphere(){const t=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Ha),this.boundingSphere.makeEmpty();const e=t.getAttribute("position");for(let n=0;n<e.count;n++)this.getVertexPosition(n,Ry),this.boundingSphere.expandByPoint(Ry)}copy(t,e){return super.copy(t,e),this.bindMode=t.bindMode,this.bindMatrix.copy(t.bindMatrix),this.bindMatrixInverse.copy(t.bindMatrixInverse),this.skeleton=t.skeleton,t.boundingBox!==null&&(this.boundingBox=t.boundingBox.clone()),t.boundingSphere!==null&&(this.boundingSphere=t.boundingSphere.clone()),this}raycast(t,e){const n=this.material,i=this.matrixWorld;n!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),DM.copy(this.boundingSphere),DM.applyMatrix4(i),t.ray.intersectsSphere(DM)!==!1&&(TC.copy(i).invert(),OM.copy(t.ray).applyMatrix4(TC),!(this.boundingBox!==null&&OM.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(t,e,OM)))}getVertexPosition(t,e){return super.getVertexPosition(t,e),this.applyBoneTransform(t,e),e}bind(t,e){this.skeleton=t,e===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),e=this.matrixWorld),this.bindMatrix.copy(e),this.bindMatrixInverse.copy(e).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const t=new Gn,e=this.geometry.attributes.skinWeight;for(let n=0,i=e.count;n<i;n++){t.fromBufferAttribute(e,n);const s=1/t.manhattanLength();s!==1/0?t.multiplyScalar(s):t.set(1,0,0,0),e.setXYZW(n,t.x,t.y,t.z,t.w)}}updateMatrixWorld(t){super.updateMatrixWorld(t),this.bindMode===Kb?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===Bw?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(t,e){const n=this.skeleton,i=this.geometry;MC.fromBufferAttribute(i.attributes.skinIndex,t),bC.fromBufferAttribute(i.attributes.skinWeight,t),SC.copy(e).applyMatrix4(this.bindMatrix),e.set(0,0,0);for(let s=0;s<4;s++){const l=bC.getComponent(s);if(l!==0){const u=MC.getComponent(s);EC.multiplyMatrices(n.bones[u].matrixWorld,n.boneInverses[u]),e.addScaledVector(AN.copy(SC).applyMatrix4(EC),l)}}return e.applyMatrix4(this.bindMatrixInverse)}}class QA extends Pn{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Ql extends wi{constructor(t=null,e=1,n=1,i,s,l,u,d,p=Fa,g=Fa,_,y){super(null,l,u,d,p,g,i,s,_,y),this.isDataTexture=!0,this.image={data:t,width:e,height:n},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const CC=new Ye,SN=new Ye;class E_{constructor(t=[],e=[]){this.uuid=Xr(),this.bones=t.slice(0),this.boneInverses=e,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const t=this.bones,e=this.boneInverses;if(this.boneMatrices=new Float32Array(t.length*16),e.length===0)this.calculateInverses();else if(t.length!==e.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let n=0,i=this.bones.length;n<i;n++)this.boneInverses.push(new Ye)}}calculateInverses(){this.boneInverses.length=0;for(let t=0,e=this.bones.length;t<e;t++){const n=new Ye;this.bones[t]&&n.copy(this.bones[t].matrixWorld).invert(),this.boneInverses.push(n)}}pose(){for(let t=0,e=this.bones.length;t<e;t++){const n=this.bones[t];n&&n.matrixWorld.copy(this.boneInverses[t]).invert()}for(let t=0,e=this.bones.length;t<e;t++){const n=this.bones[t];n&&(n.parent&&n.parent.isBone?(n.matrix.copy(n.parent.matrixWorld).invert(),n.matrix.multiply(n.matrixWorld)):n.matrix.copy(n.matrixWorld),n.matrix.decompose(n.position,n.quaternion,n.scale))}}update(){const t=this.bones,e=this.boneInverses,n=this.boneMatrices,i=this.boneTexture;for(let s=0,l=t.length;s<l;s++){const u=t[s]?t[s].matrixWorld:SN;CC.multiplyMatrices(u,e[s]),CC.toArray(n,s*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new E_(this.bones,this.boneInverses)}computeBoneTexture(){let t=Math.sqrt(this.bones.length*4);t=Math.ceil(t/4)*4,t=Math.max(t,4);const e=new Float32Array(t*t*4);e.set(this.boneMatrices);const n=new Ql(e,t,t,_s,dr);return n.needsUpdate=!0,this.boneMatrices=e,this.boneTexture=n,this}getBoneByName(t){for(let e=0,n=this.bones.length;e<n;e++){const i=this.bones[e];if(i.name===t)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(t,e){this.uuid=t.uuid;for(let n=0,i=t.bones.length;n<i;n++){const s=t.bones[n];let l=e[s];l===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),l=new QA),this.bones.push(l),this.boneInverses.push(new Ye().fromArray(t.boneInverses[n]))}return this.init(),this}toJSON(){const t={metadata:{version:4.7,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};t.uuid=this.uuid;const e=this.bones,n=this.boneInverses;for(let i=0,s=e.length;i<s;i++){const l=e[i];t.bones.push(l.uuid);const u=n[i];t.boneInverses.push(u.toArray())}return t}}class sd extends Vn{constructor(t,e,n,i=1){super(t,e,n),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(t){return super.copy(t),this.meshPerAttribute=t.meshPerAttribute,this}toJSON(){const t=super.toJSON();return t.meshPerAttribute=this.meshPerAttribute,t.isInstancedBufferAttribute=!0,t}}const Fp=new Ye,RC=new Ye,wy=[],wC=new Za,MN=new Ye,f0=new ta,h0=new Ha;class i1 extends ta{constructor(t,e,n){super(t,e),this.isInstancedMesh=!0,this.instanceMatrix=new sd(new Float32Array(n*16),16),this.instanceColor=null,this.morphTexture=null,this.count=n,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<n;i++)this.setMatrixAt(i,MN)}computeBoundingBox(){const t=this.geometry,e=this.count;this.boundingBox===null&&(this.boundingBox=new Za),t.boundingBox===null&&t.computeBoundingBox(),this.boundingBox.makeEmpty();for(let n=0;n<e;n++)this.getMatrixAt(n,Fp),wC.copy(t.boundingBox).applyMatrix4(Fp),this.boundingBox.union(wC)}computeBoundingSphere(){const t=this.geometry,e=this.count;this.boundingSphere===null&&(this.boundingSphere=new Ha),t.boundingSphere===null&&t.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let n=0;n<e;n++)this.getMatrixAt(n,Fp),h0.copy(t.boundingSphere).applyMatrix4(Fp),this.boundingSphere.union(h0)}copy(t,e){return super.copy(t,e),this.instanceMatrix.copy(t.instanceMatrix),t.morphTexture!==null&&(this.morphTexture=t.morphTexture.clone()),t.instanceColor!==null&&(this.instanceColor=t.instanceColor.clone()),this.count=t.count,t.boundingBox!==null&&(this.boundingBox=t.boundingBox.clone()),t.boundingSphere!==null&&(this.boundingSphere=t.boundingSphere.clone()),this}getColorAt(t,e){e.fromArray(this.instanceColor.array,t*3)}getMatrixAt(t,e){e.fromArray(this.instanceMatrix.array,t*16)}getMorphAt(t,e){const n=e.morphTargetInfluences,i=this.morphTexture.source.data.data,s=n.length+1,l=t*s+1;for(let u=0;u<n.length;u++)n[u]=i[l+u]}raycast(t,e){const n=this.matrixWorld,i=this.count;if(f0.geometry=this.geometry,f0.material=this.material,f0.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),h0.copy(this.boundingSphere),h0.applyMatrix4(n),t.ray.intersectsSphere(h0)!==!1))for(let s=0;s<i;s++){this.getMatrixAt(s,Fp),RC.multiplyMatrices(n,Fp),f0.matrixWorld=RC,f0.raycast(t,wy);for(let l=0,u=wy.length;l<u;l++){const d=wy[l];d.instanceId=s,d.object=this,e.push(d)}wy.length=0}}setColorAt(t,e){this.instanceColor===null&&(this.instanceColor=new sd(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),e.toArray(this.instanceColor.array,t*3)}setMatrixAt(t,e){e.toArray(this.instanceMatrix.array,t*16)}setMorphAt(t,e){const n=e.morphTargetInfluences,i=n.length+1;this.morphTexture===null&&(this.morphTexture=new Ql(new Float32Array(i*this.count),i,this.count,VA,dr));const s=this.morphTexture.source.data.data;let l=0;for(let p=0;p<n.length;p++)l+=n[p];const u=this.geometry.morphTargetsRelative?1:1-l,d=i*t;s[d]=u,s.set(n,d+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const UM=new W,bN=new W,EN=new fn;class Iu{constructor(t=new W(1,0,0),e=0){this.isPlane=!0,this.normal=t,this.constant=e}set(t,e){return this.normal.copy(t),this.constant=e,this}setComponents(t,e,n,i){return this.normal.set(t,e,n),this.constant=i,this}setFromNormalAndCoplanarPoint(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this}setFromCoplanarPoints(t,e,n){const i=UM.subVectors(n,e).cross(bN.subVectors(t,e)).normalize();return this.setFromNormalAndCoplanarPoint(i,t),this}copy(t){return this.normal.copy(t.normal),this.constant=t.constant,this}normalize(){const t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(t){return this.normal.dot(t)+this.constant}distanceToSphere(t){return this.distanceToPoint(t.center)-t.radius}projectPoint(t,e){return e.copy(t).addScaledVector(this.normal,-this.distanceToPoint(t))}intersectLine(t,e){const n=t.delta(UM),i=this.normal.dot(n);if(i===0)return this.distanceToPoint(t.start)===0?e.copy(t.start):null;const s=-(t.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:e.copy(t.start).addScaledVector(n,s)}intersectsLine(t){const e=this.distanceToPoint(t.start),n=this.distanceToPoint(t.end);return e<0&&n>0||n<0&&e>0}intersectsBox(t){return t.intersectsPlane(this)}intersectsSphere(t){return t.intersectsPlane(this)}coplanarPoint(t){return t.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(t,e){const n=e||EN.getNormalMatrix(t),i=this.coplanarPoint(UM).applyMatrix4(t),s=this.normal.applyMatrix3(n).normalize();return this.constant=-i.dot(s),this}translate(t){return this.constant-=t.dot(this.normal),this}equals(t){return t.normal.equals(this.normal)&&t.constant===this.constant}clone(){return new this.constructor().copy(this)}}const vh=new Ha,TN=new Ht(.5,.5),By=new W;class Pm{constructor(t=new Iu,e=new Iu,n=new Iu,i=new Iu,s=new Iu,l=new Iu){this.planes=[t,e,n,i,s,l]}set(t,e,n,i,s,l){const u=this.planes;return u[0].copy(t),u[1].copy(e),u[2].copy(n),u[3].copy(i),u[4].copy(s),u[5].copy(l),this}copy(t){const e=this.planes;for(let n=0;n<6;n++)e[n].copy(t.planes[n]);return this}setFromProjectionMatrix(t,e=Hr,n=!1){const i=this.planes,s=t.elements,l=s[0],u=s[1],d=s[2],p=s[3],g=s[4],_=s[5],y=s[6],x=s[7],M=s[8],T=s[9],E=s[10],b=s[11],w=s[12],D=s[13],B=s[14],L=s[15];if(i[0].setComponents(p-l,x-g,b-M,L-w).normalize(),i[1].setComponents(p+l,x+g,b+M,L+w).normalize(),i[2].setComponents(p+u,x+_,b+T,L+D).normalize(),i[3].setComponents(p-u,x-_,b-T,L-D).normalize(),n)i[4].setComponents(d,y,E,B).normalize(),i[5].setComponents(p-d,x-y,b-E,L-B).normalize();else if(i[4].setComponents(p-d,x-y,b-E,L-B).normalize(),e===Hr)i[5].setComponents(p+d,x+y,b+E,L+B).normalize();else if(e===ym)i[5].setComponents(d,y,E,B).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+e);return this}intersectsObject(t){if(t.boundingSphere!==void 0)t.boundingSphere===null&&t.computeBoundingSphere(),vh.copy(t.boundingSphere).applyMatrix4(t.matrixWorld);else{const e=t.geometry;e.boundingSphere===null&&e.computeBoundingSphere(),vh.copy(e.boundingSphere).applyMatrix4(t.matrixWorld)}return this.intersectsSphere(vh)}intersectsSprite(t){vh.center.set(0,0,0);const e=TN.distanceTo(t.center);return vh.radius=.7071067811865476+e,vh.applyMatrix4(t.matrixWorld),this.intersectsSphere(vh)}intersectsSphere(t){const e=this.planes,n=t.center,i=-t.radius;for(let s=0;s<6;s++)if(e[s].distanceToPoint(n)<i)return!1;return!0}intersectsBox(t){const e=this.planes;for(let n=0;n<6;n++){const i=e[n];if(By.x=i.normal.x>0?t.max.x:t.min.x,By.y=i.normal.y>0?t.max.y:t.min.y,By.z=i.normal.z>0?t.max.z:t.min.z,i.distanceToPoint(By)<0)return!1}return!0}containsPoint(t){const e=this.planes;for(let n=0;n<6;n++)if(e[n].distanceToPoint(t)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}const Vl=new Ye,Xl=new Pm;class ZA{constructor(){this.coordinateSystem=Hr}intersectsObject(t,e){if(!e.isArrayCamera||e.cameras.length===0)return!1;for(let n=0;n<e.cameras.length;n++){const i=e.cameras[n];if(Vl.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),Xl.setFromProjectionMatrix(Vl,i.coordinateSystem,i.reversedDepth),Xl.intersectsObject(t))return!0}return!1}intersectsSprite(t,e){if(!e||!e.cameras||e.cameras.length===0)return!1;for(let n=0;n<e.cameras.length;n++){const i=e.cameras[n];if(Vl.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),Xl.setFromProjectionMatrix(Vl,i.coordinateSystem,i.reversedDepth),Xl.intersectsSprite(t))return!0}return!1}intersectsSphere(t,e){if(!e||!e.cameras||e.cameras.length===0)return!1;for(let n=0;n<e.cameras.length;n++){const i=e.cameras[n];if(Vl.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),Xl.setFromProjectionMatrix(Vl,i.coordinateSystem,i.reversedDepth),Xl.intersectsSphere(t))return!0}return!1}intersectsBox(t,e){if(!e||!e.cameras||e.cameras.length===0)return!1;for(let n=0;n<e.cameras.length;n++){const i=e.cameras[n];if(Vl.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),Xl.setFromProjectionMatrix(Vl,i.coordinateSystem,i.reversedDepth),Xl.intersectsBox(t))return!0}return!1}containsPoint(t,e){if(!e||!e.cameras||e.cameras.length===0)return!1;for(let n=0;n<e.cameras.length;n++){const i=e.cameras[n];if(Vl.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),Xl.setFromProjectionMatrix(Vl,i.coordinateSystem,i.reversedDepth),Xl.containsPoint(t))return!0}return!1}clone(){return new ZA}}function NM(r,t){return r-t}function CN(r,t){return r.z-t.z}function RN(r,t){return t.z-r.z}class wN{constructor(){this.index=0,this.pool=[],this.list=[]}push(t,e,n,i){const s=this.pool,l=this.list;this.index>=s.length&&s.push({start:-1,count:-1,z:-1,index:-1});const u=s[this.index];l.push(u),this.index++,u.start=t,u.count=e,u.z=n,u.index=i}reset(){this.list.length=0,this.index=0}}const ur=new Ye,BN=new pe(1,1,1),BC=new Pm,DN=new ZA,Dy=new Za,yh=new Ha,d0=new W,DC=new W,ON=new W,LM=new wN,fs=new ta,Oy=[];function UN(r,t,e=0){const n=t.itemSize;if(r.isInterleavedBufferAttribute||r.array.constructor!==t.array.constructor){const i=r.count;for(let s=0;s<i;s++)for(let l=0;l<n;l++)t.setComponent(s+e,l,r.getComponent(s,l))}else t.array.set(r.array,e*n);t.needsUpdate=!0}function xh(r,t){if(r.constructor!==t.constructor){const e=Math.min(r.length,t.length);for(let n=0;n<e;n++)t[n]=r[n]}else{const e=Math.min(r.length,t.length);t.set(new r.constructor(r.buffer,0,e))}}class iB extends ta{constructor(t,e,n=e*2,i){super(new un,i),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=t,this._maxVertexCount=e,this._maxIndexCount=n,this._multiDrawCounts=new Int32Array(t),this._multiDrawStarts=new Int32Array(t),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let t=Math.sqrt(this._maxInstanceCount*4);t=Math.ceil(t/4)*4,t=Math.max(t,4);const e=new Float32Array(t*t*4),n=new Ql(e,t,t,_s,dr);this._matricesTexture=n}_initIndirectTexture(){let t=Math.sqrt(this._maxInstanceCount);t=Math.ceil(t);const e=new Uint32Array(t*t),n=new Ql(e,t,t,S_,Wu);this._indirectTexture=n}_initColorsTexture(){let t=Math.sqrt(this._maxInstanceCount);t=Math.ceil(t);const e=new Float32Array(t*t*4).fill(1),n=new Ql(e,t,t,_s,dr);n.colorSpace=Ln.workingColorSpace,this._colorsTexture=n}_initializeGeometry(t){const e=this.geometry,n=this._maxVertexCount,i=this._maxIndexCount;if(this._geometryInitialized===!1){for(const s in t.attributes){const l=t.getAttribute(s),{array:u,itemSize:d,normalized:p}=l,g=new u.constructor(n*d),_=new Vn(g,d,p);e.setAttribute(s,_)}if(t.getIndex()!==null){const s=n>65535?new Uint32Array(i):new Uint16Array(i);e.setIndex(new Vn(s,1))}this._geometryInitialized=!0}}_validateGeometry(t){const e=this.geometry;if(!!t.getIndex()!=!!e.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const n in e.attributes){if(!t.hasAttribute(n))throw new Error(`THREE.BatchedMesh: Added geometry missing "${n}". All geometries must have consistent attributes.`);const i=t.getAttribute(n),s=e.getAttribute(n);if(i.itemSize!==s.itemSize||i.normalized!==s.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(t){const e=this._instanceInfo;if(t<0||t>=e.length||e[t].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${t}. Instance is either out of range or has been deleted.`)}validateGeometryId(t){const e=this._geometryInfo;if(t<0||t>=e.length||e[t].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${t}. Geometry is either out of range or has been deleted.`)}setCustomSort(t){return this.customSort=t,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Za);const t=this.boundingBox,e=this._instanceInfo;t.makeEmpty();for(let n=0,i=e.length;n<i;n++){if(e[n].active===!1)continue;const s=e[n].geometryIndex;this.getMatrixAt(n,ur),this.getBoundingBoxAt(s,Dy).applyMatrix4(ur),t.union(Dy)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Ha);const t=this.boundingSphere,e=this._instanceInfo;t.makeEmpty();for(let n=0,i=e.length;n<i;n++){if(e[n].active===!1)continue;const s=e[n].geometryIndex;this.getMatrixAt(n,ur),this.getBoundingSphereAt(s,yh).applyMatrix4(ur),t.union(yh)}}addInstance(t){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const n={visible:!0,active:!0,geometryIndex:t};let i=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(NM),i=this._availableInstanceIds.shift(),this._instanceInfo[i]=n):(i=this._instanceInfo.length,this._instanceInfo.push(n));const s=this._matricesTexture;ur.identity().toArray(s.image.data,i*16),s.needsUpdate=!0;const l=this._colorsTexture;return l&&(BN.toArray(l.image.data,i*4),l.needsUpdate=!0),this._visibilityChanged=!0,i}addGeometry(t,e=-1,n=-1){this._initializeGeometry(t),this._validateGeometry(t);const i={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},s=this._geometryInfo;i.vertexStart=this._nextVertexStart,i.reservedVertexCount=e===-1?t.getAttribute("position").count:e;const l=t.getIndex();if(l!==null&&(i.indexStart=this._nextIndexStart,i.reservedIndexCount=n===-1?l.count:n),i.indexStart!==-1&&i.indexStart+i.reservedIndexCount>this._maxIndexCount||i.vertexStart+i.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let d;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(NM),d=this._availableGeometryIds.shift(),s[d]=i):(d=this._geometryCount,this._geometryCount++,s.push(i)),this.setGeometryAt(d,t),this._nextIndexStart=i.indexStart+i.reservedIndexCount,this._nextVertexStart=i.vertexStart+i.reservedVertexCount,d}setGeometryAt(t,e){if(t>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(e);const n=this.geometry,i=n.getIndex()!==null,s=n.getIndex(),l=e.getIndex(),u=this._geometryInfo[t];if(i&&l.count>u.reservedIndexCount||e.attributes.position.count>u.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const d=u.vertexStart,p=u.reservedVertexCount;u.vertexCount=e.getAttribute("position").count;for(const g in n.attributes){const _=e.getAttribute(g),y=n.getAttribute(g);UN(_,y,d);const x=_.itemSize;for(let M=_.count,T=p;M<T;M++){const E=d+M;for(let b=0;b<x;b++)y.setComponent(E,b,0)}y.needsUpdate=!0,y.addUpdateRange(d*x,p*x)}if(i){const g=u.indexStart,_=u.reservedIndexCount;u.indexCount=e.getIndex().count;for(let y=0;y<l.count;y++)s.setX(g+y,d+l.getX(y));for(let y=l.count,x=_;y<x;y++)s.setX(g+y,d);s.needsUpdate=!0,s.addUpdateRange(g,u.reservedIndexCount)}return u.start=i?u.indexStart:u.vertexStart,u.count=i?u.indexCount:u.vertexCount,u.boundingBox=null,e.boundingBox!==null&&(u.boundingBox=e.boundingBox.clone()),u.boundingSphere=null,e.boundingSphere!==null&&(u.boundingSphere=e.boundingSphere.clone()),this._visibilityChanged=!0,t}deleteGeometry(t){const e=this._geometryInfo;if(t>=e.length||e[t].active===!1)return this;const n=this._instanceInfo;for(let i=0,s=n.length;i<s;i++)n[i].active&&n[i].geometryIndex===t&&this.deleteInstance(i);return e[t].active=!1,this._availableGeometryIds.push(t),this._visibilityChanged=!0,this}deleteInstance(t){return this.validateInstanceId(t),this._instanceInfo[t].active=!1,this._availableInstanceIds.push(t),this._visibilityChanged=!0,this}optimize(){let t=0,e=0;const n=this._geometryInfo,i=n.map((l,u)=>u).sort((l,u)=>n[l].vertexStart-n[u].vertexStart),s=this.geometry;for(let l=0,u=n.length;l<u;l++){const d=i[l],p=n[d];if(p.active!==!1){if(s.index!==null){if(p.indexStart!==e){const{indexStart:g,vertexStart:_,reservedIndexCount:y}=p,x=s.index,M=x.array,T=t-_;for(let E=g;E<g+y;E++)M[E]=M[E]+T;x.array.copyWithin(e,g,g+y),x.addUpdateRange(e,y),p.indexStart=e}e+=p.reservedIndexCount}if(p.vertexStart!==t){const{vertexStart:g,reservedVertexCount:_}=p,y=s.attributes;for(const x in y){const M=y[x],{array:T,itemSize:E}=M;T.copyWithin(t*E,g*E,(g+_)*E),M.addUpdateRange(t*E,_*E)}p.vertexStart=t}t+=p.reservedVertexCount,p.start=s.index?p.indexStart:p.vertexStart,this._nextIndexStart=s.index?p.indexStart+p.reservedIndexCount:0,this._nextVertexStart=p.vertexStart+p.reservedVertexCount}}return this}getBoundingBoxAt(t,e){if(t>=this._geometryCount)return null;const n=this.geometry,i=this._geometryInfo[t];if(i.boundingBox===null){const s=new Za,l=n.index,u=n.attributes.position;for(let d=i.start,p=i.start+i.count;d<p;d++){let g=d;l&&(g=l.getX(g)),s.expandByPoint(d0.fromBufferAttribute(u,g))}i.boundingBox=s}return e.copy(i.boundingBox),e}getBoundingSphereAt(t,e){if(t>=this._geometryCount)return null;const n=this.geometry,i=this._geometryInfo[t];if(i.boundingSphere===null){const s=new Ha;this.getBoundingBoxAt(t,Dy),Dy.getCenter(s.center);const l=n.index,u=n.attributes.position;let d=0;for(let p=i.start,g=i.start+i.count;p<g;p++){let _=p;l&&(_=l.getX(_)),d0.fromBufferAttribute(u,_),d=Math.max(d,s.center.distanceToSquared(d0))}s.radius=Math.sqrt(d),i.boundingSphere=s}return e.copy(i.boundingSphere),e}setMatrixAt(t,e){this.validateInstanceId(t);const n=this._matricesTexture,i=this._matricesTexture.image.data;return e.toArray(i,t*16),n.needsUpdate=!0,this}getMatrixAt(t,e){return this.validateInstanceId(t),e.fromArray(this._matricesTexture.image.data,t*16)}setColorAt(t,e){return this.validateInstanceId(t),this._colorsTexture===null&&this._initColorsTexture(),e.toArray(this._colorsTexture.image.data,t*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(t,e){return this.validateInstanceId(t),e.fromArray(this._colorsTexture.image.data,t*4)}setVisibleAt(t,e){return this.validateInstanceId(t),this._instanceInfo[t].visible===e?this:(this._instanceInfo[t].visible=e,this._visibilityChanged=!0,this)}getVisibleAt(t){return this.validateInstanceId(t),this._instanceInfo[t].visible}setGeometryIdAt(t,e){return this.validateInstanceId(t),this.validateGeometryId(e),this._instanceInfo[t].geometryIndex=e,this}getGeometryIdAt(t){return this.validateInstanceId(t),this._instanceInfo[t].geometryIndex}getGeometryRangeAt(t,e={}){this.validateGeometryId(t);const n=this._geometryInfo[t];return e.vertexStart=n.vertexStart,e.vertexCount=n.vertexCount,e.reservedVertexCount=n.reservedVertexCount,e.indexStart=n.indexStart,e.indexCount=n.indexCount,e.reservedIndexCount=n.reservedIndexCount,e.start=n.start,e.count=n.count,e}setInstanceCount(t){const e=this._availableInstanceIds,n=this._instanceInfo;for(e.sort(NM);e[e.length-1]===n.length-1;)n.pop(),e.pop();if(t<n.length)throw new Error(`BatchedMesh: Instance ids outside the range ${t} are being used. Cannot shrink instance count.`);const i=new Int32Array(t),s=new Int32Array(t);xh(this._multiDrawCounts,i),xh(this._multiDrawStarts,s),this._multiDrawCounts=i,this._multiDrawStarts=s,this._maxInstanceCount=t;const l=this._indirectTexture,u=this._matricesTexture,d=this._colorsTexture;l.dispose(),this._initIndirectTexture(),xh(l.image.data,this._indirectTexture.image.data),u.dispose(),this._initMatricesTexture(),xh(u.image.data,this._matricesTexture.image.data),d&&(d.dispose(),this._initColorsTexture(),xh(d.image.data,this._colorsTexture.image.data))}setGeometrySize(t,e){const n=[...this._geometryInfo].filter(u=>u.active);if(Math.max(...n.map(u=>u.vertexStart+u.reservedVertexCount))>t)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${e}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...n.map(d=>d.indexStart+d.reservedIndexCount))>e)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${e}. Cannot shrink further.`);const s=this.geometry;s.dispose(),this._maxVertexCount=t,this._maxIndexCount=e,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new un,this._initializeGeometry(s));const l=this.geometry;s.index&&xh(s.index.array,l.index.array);for(const u in s.attributes)xh(s.attributes[u].array,l.attributes[u].array)}raycast(t,e){const n=this._instanceInfo,i=this._geometryInfo,s=this.matrixWorld,l=this.geometry;fs.material=this.material,fs.geometry.index=l.index,fs.geometry.attributes=l.attributes,fs.geometry.boundingBox===null&&(fs.geometry.boundingBox=new Za),fs.geometry.boundingSphere===null&&(fs.geometry.boundingSphere=new Ha);for(let u=0,d=n.length;u<d;u++){if(!n[u].visible||!n[u].active)continue;const p=n[u].geometryIndex,g=i[p];fs.geometry.setDrawRange(g.start,g.count),this.getMatrixAt(u,fs.matrixWorld).premultiply(s),this.getBoundingBoxAt(p,fs.geometry.boundingBox),this.getBoundingSphereAt(p,fs.geometry.boundingSphere),fs.raycast(t,Oy);for(let _=0,y=Oy.length;_<y;_++){const x=Oy[_];x.object=this,x.batchId=u,e.push(x)}Oy.length=0}fs.material=null,fs.geometry.index=null,fs.geometry.attributes={},fs.geometry.setDrawRange(0,1/0)}copy(t){return super.copy(t),this.geometry=t.geometry.clone(),this.perObjectFrustumCulled=t.perObjectFrustumCulled,this.sortObjects=t.sortObjects,this.boundingBox=t.boundingBox!==null?t.boundingBox.clone():null,this.boundingSphere=t.boundingSphere!==null?t.boundingSphere.clone():null,this._geometryInfo=t._geometryInfo.map(e=>({...e,boundingBox:e.boundingBox!==null?e.boundingBox.clone():null,boundingSphere:e.boundingSphere!==null?e.boundingSphere.clone():null})),this._instanceInfo=t._instanceInfo.map(e=>({...e})),this._availableInstanceIds=t._availableInstanceIds.slice(),this._availableGeometryIds=t._availableGeometryIds.slice(),this._nextIndexStart=t._nextIndexStart,this._nextVertexStart=t._nextVertexStart,this._geometryCount=t._geometryCount,this._maxInstanceCount=t._maxInstanceCount,this._maxVertexCount=t._maxVertexCount,this._maxIndexCount=t._maxIndexCount,this._geometryInitialized=t._geometryInitialized,this._multiDrawCounts=t._multiDrawCounts.slice(),this._multiDrawStarts=t._multiDrawStarts.slice(),this._indirectTexture=t._indirectTexture.clone(),this._indirectTexture.image.data=this._indirectTexture.image.data.slice(),this._matricesTexture=t._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=t._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(t,e,n,i,s){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const l=i.getIndex(),u=l===null?1:l.array.BYTES_PER_ELEMENT,d=this._instanceInfo,p=this._multiDrawStarts,g=this._multiDrawCounts,_=this._geometryInfo,y=this.perObjectFrustumCulled,x=this._indirectTexture,M=x.image.data,T=n.isArrayCamera?DN:BC;y&&!n.isArrayCamera&&(ur.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse).multiply(this.matrixWorld),BC.setFromProjectionMatrix(ur,n.coordinateSystem,n.reversedDepth));let E=0;if(this.sortObjects){ur.copy(this.matrixWorld).invert(),d0.setFromMatrixPosition(n.matrixWorld).applyMatrix4(ur),DC.set(0,0,-1).transformDirection(n.matrixWorld).transformDirection(ur);for(let D=0,B=d.length;D<B;D++)if(d[D].visible&&d[D].active){const L=d[D].geometryIndex;this.getMatrixAt(D,ur),this.getBoundingSphereAt(L,yh).applyMatrix4(ur);let P=!1;if(y&&(P=!T.intersectsSphere(yh,n)),!P){const H=_[L],F=ON.subVectors(yh.center,d0).dot(DC);LM.push(H.start,H.count,F,D)}}const b=LM.list,w=this.customSort;w===null?b.sort(s.transparent?RN:CN):w.call(this,b,n);for(let D=0,B=b.length;D<B;D++){const L=b[D];p[E]=L.start*u,g[E]=L.count,M[E]=L.index,E++}LM.reset()}else for(let b=0,w=d.length;b<w;b++)if(d[b].visible&&d[b].active){const D=d[b].geometryIndex;let B=!1;if(y&&(this.getMatrixAt(b,ur),this.getBoundingSphereAt(D,yh).applyMatrix4(ur),B=!T.intersectsSphere(yh,n)),!B){const L=_[D];p[E]=L.start*u,g[E]=L.count,M[E]=b,E++}}x.needsUpdate=!0,this._multiDrawCount=E,this._visibilityChanged=!1}onBeforeShadow(t,e,n,i,s,l){this.onBeforeRender(t,null,i,s,l)}}class ys extends Ta{constructor(t){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new pe(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this.fog=t.fog,this}}const mA=new W,gA=new W,OC=new Ye,p0=new gd,Uy=new Ha,IM=new W,UC=new W;class ju extends Pn{constructor(t=new un,e=new ys){super(),this.isLine=!0,this.type="Line",this.geometry=t,this.material=e,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(t,e){return super.copy(t,e),this.material=Array.isArray(t.material)?t.material.slice():t.material,this.geometry=t.geometry,this}computeLineDistances(){const t=this.geometry;if(t.index===null){const e=t.attributes.position,n=[0];for(let i=1,s=e.count;i<s;i++)mA.fromBufferAttribute(e,i-1),gA.fromBufferAttribute(e,i),n[i]=n[i-1],n[i]+=mA.distanceTo(gA);t.setAttribute("lineDistance",new Oe(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(t,e){const n=this.geometry,i=this.matrixWorld,s=t.params.Line.threshold,l=n.drawRange;if(n.boundingSphere===null&&n.computeBoundingSphere(),Uy.copy(n.boundingSphere),Uy.applyMatrix4(i),Uy.radius+=s,t.ray.intersectsSphere(Uy)===!1)return;OC.copy(i).invert(),p0.copy(t.ray).applyMatrix4(OC);const u=s/((this.scale.x+this.scale.y+this.scale.z)/3),d=u*u,p=this.isLineSegments?2:1,g=n.index,y=n.attributes.position;if(g!==null){const x=Math.max(0,l.start),M=Math.min(g.count,l.start+l.count);for(let T=x,E=M-1;T<E;T+=p){const b=g.getX(T),w=g.getX(T+1),D=Ny(this,t,p0,d,b,w,T);D&&e.push(D)}if(this.isLineLoop){const T=g.getX(M-1),E=g.getX(x),b=Ny(this,t,p0,d,T,E,M-1);b&&e.push(b)}}else{const x=Math.max(0,l.start),M=Math.min(y.count,l.start+l.count);for(let T=x,E=M-1;T<E;T+=p){const b=Ny(this,t,p0,d,T,T+1,T);b&&e.push(b)}if(this.isLineLoop){const T=Ny(this,t,p0,d,M-1,x,M-1);T&&e.push(T)}}}updateMorphTargets(){const e=this.geometry.morphAttributes,n=Object.keys(e);if(n.length>0){const i=e[n[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,l=i.length;s<l;s++){const u=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[u]=s}}}}}function Ny(r,t,e,n,i,s,l){const u=r.geometry.attributes.position;if(mA.fromBufferAttribute(u,i),gA.fromBufferAttribute(u,s),e.distanceSqToSegment(mA,gA,IM,UC)>n)return;IM.applyMatrix4(r.matrixWorld);const p=t.ray.origin.distanceTo(IM);if(!(p<t.near||p>t.far))return{distance:p,point:UC.clone().applyMatrix4(r.matrixWorld),index:l,face:null,faceIndex:null,barycoord:null,object:r}}const NC=new W,LC=new W;class rl extends ju{constructor(t,e){super(t,e),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const t=this.geometry;if(t.index===null){const e=t.attributes.position,n=[];for(let i=0,s=e.count;i<s;i+=2)NC.fromBufferAttribute(e,i),LC.fromBufferAttribute(e,i+1),n[i]=i===0?0:n[i-1],n[i+1]=n[i]+NC.distanceTo(LC);t.setAttribute("lineDistance",new Oe(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class a1 extends ju{constructor(t,e){super(t,e),this.isLineLoop=!0,this.type="LineLoop"}}class $A extends Ta{constructor(t){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new pe(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.size=t.size,this.sizeAttenuation=t.sizeAttenuation,this.fog=t.fog,this}}const IC=new Ye,Qb=new gd,Ly=new Ha,Iy=new W;class s1 extends Pn{constructor(t=new un,e=new $A){super(),this.isPoints=!0,this.type="Points",this.geometry=t,this.material=e,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(t,e){return super.copy(t,e),this.material=Array.isArray(t.material)?t.material.slice():t.material,this.geometry=t.geometry,this}raycast(t,e){const n=this.geometry,i=this.matrixWorld,s=t.params.Points.threshold,l=n.drawRange;if(n.boundingSphere===null&&n.computeBoundingSphere(),Ly.copy(n.boundingSphere),Ly.applyMatrix4(i),Ly.radius+=s,t.ray.intersectsSphere(Ly)===!1)return;IC.copy(i).invert(),Qb.copy(t.ray).applyMatrix4(IC);const u=s/((this.scale.x+this.scale.y+this.scale.z)/3),d=u*u,p=n.index,_=n.attributes.position;if(p!==null){const y=Math.max(0,l.start),x=Math.min(p.count,l.start+l.count);for(let M=y,T=x;M<T;M++){const E=p.getX(M);Iy.fromBufferAttribute(_,E),PC(Iy,E,d,i,t,e,this)}}else{const y=Math.max(0,l.start),x=Math.min(_.count,l.start+l.count);for(let M=y,T=x;M<T;M++)Iy.fromBufferAttribute(_,M),PC(Iy,M,d,i,t,e,this)}}updateMorphTargets(){const e=this.geometry.morphAttributes,n=Object.keys(e);if(n.length>0){const i=e[n[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,l=i.length;s<l;s++){const u=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[u]=s}}}}}function PC(r,t,e,n,i,s,l){const u=Qb.distanceSqToPoint(r);if(u<e){const d=new W;Qb.closestPointToPoint(r,d),d.applyMatrix4(n);const p=i.ray.origin.distanceTo(d);if(p<i.near||p>i.far)return;s.push({distance:p,distanceToRay:Math.sqrt(u),point:d,index:t,face:null,faceIndex:null,barycoord:null,object:l})}}class aB extends wi{constructor(t,e,n,i,s=$i,l=$i,u,d,p){super(t,e,n,i,s,l,u,d,p),this.isVideoTexture=!0,this.generateMipmaps=!1,this._requestVideoFrameCallbackId=0;const g=this;function _(){g.needsUpdate=!0,g._requestVideoFrameCallbackId=t.requestVideoFrameCallback(_)}"requestVideoFrameCallback"in t&&(this._requestVideoFrameCallbackId=t.requestVideoFrameCallback(_))}clone(){return new this.constructor(this.image).copy(this)}update(){const t=this.image;"requestVideoFrameCallback"in t===!1&&t.readyState>=t.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}dispose(){this._requestVideoFrameCallbackId!==0&&this.source.data.cancelVideoFrameCallback(this._requestVideoFrameCallbackId),super.dispose()}}class NN extends aB{constructor(t,e,n,i,s,l,u,d){super({},t,e,n,i,s,l,u,d),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(t){this.image=t,this.needsUpdate=!0}}class LN extends wi{constructor(t,e){super({width:t,height:e}),this.isFramebufferTexture=!0,this.magFilter=Fa,this.minFilter=Fa,this.generateMipmaps=!1,this.needsUpdate=!0}}class tS extends wi{constructor(t,e,n,i,s,l,u,d,p,g,_,y){super(null,l,u,d,p,g,i,s,_,y),this.isCompressedTexture=!0,this.image={width:e,height:n},this.mipmaps=t,this.flipY=!1,this.generateMipmaps=!1}}class IN extends tS{constructor(t,e,n,i,s,l){super(t,e,n,s,l),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=zr,this.layerUpdates=new Set}addLayerUpdate(t){this.layerUpdates.add(t)}clearLayerUpdates(){this.layerUpdates.clear()}}class PN extends tS{constructor(t,e,n){super(void 0,t[0].width,t[0].height,e,n,Ku),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=t}}class FN extends wi{constructor(t,e,n,i,s,l,u,d,p){super(t,e,n,i,s,l,u,d,p),this.isCanvasTexture=!0,this.needsUpdate=!0}}class r1 extends wi{constructor(t,e,n=Wu,i,s,l,u=Fa,d=Fa,p,g=mm,_=1){if(g!==mm&&g!==gm)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");const y={width:t,height:e,depth:_};super(y,i,s,l,u,d,g,n,p),this.isDepthTexture=!0,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(t){return super.copy(t),this.source=new nf(Object.assign({},t.image)),this.compareFunction=t.compareFunction,this}toJSON(t){const e=super.toJSON(t);return this.compareFunction!==null&&(e.compareFunction=this.compareFunction),e}}class eS extends un{constructor(t=1,e=1,n=4,i=8,s=1){super(),this.type="CapsuleGeometry",this.parameters={radius:t,height:e,capSegments:n,radialSegments:i,heightSegments:s},e=Math.max(0,e),n=Math.max(1,Math.floor(n)),i=Math.max(3,Math.floor(i)),s=Math.max(1,Math.floor(s));const l=[],u=[],d=[],p=[],g=e/2,_=Math.PI/2*t,y=e,x=2*_+y,M=n*2+s,T=i+1,E=new W,b=new W;for(let w=0;w<=M;w++){let D=0,B=0,L=0,P=0;if(w<=n){const O=w/n,U=O*Math.PI/2;B=-g-t*Math.cos(U),L=t*Math.sin(U),P=-t*Math.cos(U),D=O*_}else if(w<=n+s){const O=(w-n)/s;B=-g+O*e,L=t,P=0,D=_+O*y}else{const O=(w-n-s)/n,U=O*Math.PI/2;B=g+t*Math.sin(U),L=t*Math.cos(U),P=t*Math.sin(U),D=_+y+O*_}const H=Math.max(0,Math.min(1,D/x));let F=0;w===0?F=.5/i:w===M&&(F=-.5/i);for(let O=0;O<=i;O++){const U=O/i,V=U*Math.PI*2,Q=Math.sin(V),et=Math.cos(V);b.x=-L*et,b.y=B,b.z=L*Q,u.push(b.x,b.y,b.z),E.set(-L*et,P,L*Q),E.normalize(),d.push(E.x,E.y,E.z),p.push(U+F,H)}if(w>0){const O=(w-1)*T;for(let U=0;U<i;U++){const V=O+U,Q=O+U+1,et=w*T+U,rt=w*T+U+1;l.push(V,Q,et),l.push(Q,rt,et)}}}this.setIndex(l),this.setAttribute("position",new Oe(u,3)),this.setAttribute("normal",new Oe(d,3)),this.setAttribute("uv",new Oe(p,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new eS(t.radius,t.height,t.capSegments,t.radialSegments,t.heightSegments)}}class nS extends un{constructor(t=1,e=32,n=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:t,segments:e,thetaStart:n,thetaLength:i},e=Math.max(3,e);const s=[],l=[],u=[],d=[],p=new W,g=new Ht;l.push(0,0,0),u.push(0,0,1),d.push(.5,.5);for(let _=0,y=3;_<=e;_++,y+=3){const x=n+_/e*i;p.x=t*Math.cos(x),p.y=t*Math.sin(x),l.push(p.x,p.y,p.z),u.push(0,0,1),g.x=(l[y]/t+1)/2,g.y=(l[y+1]/t+1)/2,d.push(g.x,g.y)}for(let _=1;_<=e;_++)s.push(_,_+1,0);this.setIndex(s),this.setAttribute("position",new Oe(l,3)),this.setAttribute("normal",new Oe(u,3)),this.setAttribute("uv",new Oe(d,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new nS(t.radius,t.segments,t.thetaStart,t.thetaLength)}}class T_ extends un{constructor(t=1,e=1,n=1,i=32,s=1,l=!1,u=0,d=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:t,radiusBottom:e,height:n,radialSegments:i,heightSegments:s,openEnded:l,thetaStart:u,thetaLength:d};const p=this;i=Math.floor(i),s=Math.floor(s);const g=[],_=[],y=[],x=[];let M=0;const T=[],E=n/2;let b=0;w(),l===!1&&(t>0&&D(!0),e>0&&D(!1)),this.setIndex(g),this.setAttribute("position",new Oe(_,3)),this.setAttribute("normal",new Oe(y,3)),this.setAttribute("uv",new Oe(x,2));function w(){const B=new W,L=new W;let P=0;const H=(e-t)/n;for(let F=0;F<=s;F++){const O=[],U=F/s,V=U*(e-t)+t;for(let Q=0;Q<=i;Q++){const et=Q/i,rt=et*d+u,ut=Math.sin(rt),G=Math.cos(rt);L.x=V*ut,L.y=-U*n+E,L.z=V*G,_.push(L.x,L.y,L.z),B.set(ut,H,G).normalize(),y.push(B.x,B.y,B.z),x.push(et,1-U),O.push(M++)}T.push(O)}for(let F=0;F<i;F++)for(let O=0;O<s;O++){const U=T[O][F],V=T[O+1][F],Q=T[O+1][F+1],et=T[O][F+1];(t>0||O!==0)&&(g.push(U,V,et),P+=3),(e>0||O!==s-1)&&(g.push(V,Q,et),P+=3)}p.addGroup(b,P,0),b+=P}function D(B){const L=M,P=new Ht,H=new W;let F=0;const O=B===!0?t:e,U=B===!0?1:-1;for(let Q=1;Q<=i;Q++)_.push(0,E*U,0),y.push(0,U,0),x.push(.5,.5),M++;const V=M;for(let Q=0;Q<=i;Q++){const rt=Q/i*d+u,ut=Math.cos(rt),G=Math.sin(rt);H.x=O*G,H.y=E*U,H.z=O*ut,_.push(H.x,H.y,H.z),y.push(0,U,0),P.x=ut*.5+.5,P.y=G*.5*U+.5,x.push(P.x,P.y),M++}for(let Q=0;Q<i;Q++){const et=L+Q,rt=V+Q;B===!0?g.push(rt,rt+1,et):g.push(rt+1,rt,et),F+=3}p.addGroup(b,F,B===!0?1:2),b+=F}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new T_(t.radiusTop,t.radiusBottom,t.height,t.radialSegments,t.heightSegments,t.openEnded,t.thetaStart,t.thetaLength)}}class C_ extends T_{constructor(t=1,e=1,n=32,i=1,s=!1,l=0,u=Math.PI*2){super(0,t,e,n,i,s,l,u),this.type="ConeGeometry",this.parameters={radius:t,height:e,radialSegments:n,heightSegments:i,openEnded:s,thetaStart:l,thetaLength:u}}static fromJSON(t){return new C_(t.radius,t.height,t.radialSegments,t.heightSegments,t.openEnded,t.thetaStart,t.thetaLength)}}class Af extends un{constructor(t=[],e=[],n=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:t,indices:e,radius:n,detail:i};const s=[],l=[];u(i),p(n),g(),this.setAttribute("position",new Oe(s,3)),this.setAttribute("normal",new Oe(s.slice(),3)),this.setAttribute("uv",new Oe(l,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function u(w){const D=new W,B=new W,L=new W;for(let P=0;P<e.length;P+=3)x(e[P+0],D),x(e[P+1],B),x(e[P+2],L),d(D,B,L,w)}function d(w,D,B,L){const P=L+1,H=[];for(let F=0;F<=P;F++){H[F]=[];const O=w.clone().lerp(B,F/P),U=D.clone().lerp(B,F/P),V=P-F;for(let Q=0;Q<=V;Q++)Q===0&&F===P?H[F][Q]=O:H[F][Q]=O.clone().lerp(U,Q/V)}for(let F=0;F<P;F++)for(let O=0;O<2*(P-F)-1;O++){const U=Math.floor(O/2);O%2===0?(y(H[F][U+1]),y(H[F+1][U]),y(H[F][U])):(y(H[F][U+1]),y(H[F+1][U+1]),y(H[F+1][U]))}}function p(w){const D=new W;for(let B=0;B<s.length;B+=3)D.x=s[B+0],D.y=s[B+1],D.z=s[B+2],D.normalize().multiplyScalar(w),s[B+0]=D.x,s[B+1]=D.y,s[B+2]=D.z}function g(){const w=new W;for(let D=0;D<s.length;D+=3){w.x=s[D+0],w.y=s[D+1],w.z=s[D+2];const B=E(w)/2/Math.PI+.5,L=b(w)/Math.PI+.5;l.push(B,1-L)}M(),_()}function _(){for(let w=0;w<l.length;w+=6){const D=l[w+0],B=l[w+2],L=l[w+4],P=Math.max(D,B,L),H=Math.min(D,B,L);P>.9&&H<.1&&(D<.2&&(l[w+0]+=1),B<.2&&(l[w+2]+=1),L<.2&&(l[w+4]+=1))}}function y(w){s.push(w.x,w.y,w.z)}function x(w,D){const B=w*3;D.x=t[B+0],D.y=t[B+1],D.z=t[B+2]}function M(){const w=new W,D=new W,B=new W,L=new W,P=new Ht,H=new Ht,F=new Ht;for(let O=0,U=0;O<s.length;O+=9,U+=6){w.set(s[O+0],s[O+1],s[O+2]),D.set(s[O+3],s[O+4],s[O+5]),B.set(s[O+6],s[O+7],s[O+8]),P.set(l[U+0],l[U+1]),H.set(l[U+2],l[U+3]),F.set(l[U+4],l[U+5]),L.copy(w).add(D).add(B).divideScalar(3);const V=E(L);T(P,U+0,w,V),T(H,U+2,D,V),T(F,U+4,B,V)}}function T(w,D,B,L){L<0&&w.x===1&&(l[D]=w.x-1),B.x===0&&B.z===0&&(l[D]=L/2/Math.PI+.5)}function E(w){return Math.atan2(w.z,-w.x)}function b(w){return Math.atan2(-w.y,Math.sqrt(w.x*w.x+w.z*w.z))}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new Af(t.vertices,t.indices,t.radius,t.details)}}class iS extends Af{constructor(t=1,e=0){const n=(1+Math.sqrt(5))/2,i=1/n,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-n,0,-i,n,0,i,-n,0,i,n,-i,-n,0,-i,n,0,i,-n,0,i,n,0,-n,0,-i,n,0,-i,-n,0,i,n,0,i],l=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,l,t,e),this.type="DodecahedronGeometry",this.parameters={radius:t,detail:e}}static fromJSON(t){return new iS(t.radius,t.detail)}}const Py=new W,Fy=new W,PM=new W,zy=new hr;class sB extends un{constructor(t=null,e=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:t,thresholdAngle:e},t!==null){const i=Math.pow(10,4),s=Math.cos(Wh*e),l=t.getIndex(),u=t.getAttribute("position"),d=l?l.count:u.count,p=[0,0,0],g=["a","b","c"],_=new Array(3),y={},x=[];for(let M=0;M<d;M+=3){l?(p[0]=l.getX(M),p[1]=l.getX(M+1),p[2]=l.getX(M+2)):(p[0]=M,p[1]=M+1,p[2]=M+2);const{a:T,b:E,c:b}=zy;if(T.fromBufferAttribute(u,p[0]),E.fromBufferAttribute(u,p[1]),b.fromBufferAttribute(u,p[2]),zy.getNormal(PM),_[0]=`${Math.round(T.x*i)},${Math.round(T.y*i)},${Math.round(T.z*i)}`,_[1]=`${Math.round(E.x*i)},${Math.round(E.y*i)},${Math.round(E.z*i)}`,_[2]=`${Math.round(b.x*i)},${Math.round(b.y*i)},${Math.round(b.z*i)}`,!(_[0]===_[1]||_[1]===_[2]||_[2]===_[0]))for(let w=0;w<3;w++){const D=(w+1)%3,B=_[w],L=_[D],P=zy[g[w]],H=zy[g[D]],F=`${B}_${L}`,O=`${L}_${B}`;O in y&&y[O]?(PM.dot(y[O].normal)<=s&&(x.push(P.x,P.y,P.z),x.push(H.x,H.y,H.z)),y[O]=null):F in y||(y[F]={index0:p[w],index1:p[D],normal:PM.clone()})}}for(const M in y)if(y[M]){const{index0:T,index1:E}=y[M];Py.fromBufferAttribute(u,T),Fy.fromBufferAttribute(u,E),x.push(Py.x,Py.y,Py.z),x.push(Fy.x,Fy.y,Fy.z)}this.setAttribute("position",new Oe(x,3))}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}}class ol{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){console.warn("THREE.Curve: .getPoint() not implemented.")}getPointAt(t,e){const n=this.getUtoTmapping(t);return this.getPoint(n,e)}getPoints(t=5){const e=[];for(let n=0;n<=t;n++)e.push(this.getPoint(n/t));return e}getSpacedPoints(t=5){const e=[];for(let n=0;n<=t;n++)e.push(this.getPointAt(n/t));return e}getLength(){const t=this.getLengths();return t[t.length-1]}getLengths(t=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const e=[];let n,i=this.getPoint(0),s=0;e.push(0);for(let l=1;l<=t;l++)n=this.getPoint(l/t),s+=n.distanceTo(i),e.push(s),i=n;return this.cacheArcLengths=e,e}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(t,e=null){const n=this.getLengths();let i=0;const s=n.length;let l;e?l=e:l=t*n[s-1];let u=0,d=s-1,p;for(;u<=d;)if(i=Math.floor(u+(d-u)/2),p=n[i]-l,p<0)u=i+1;else if(p>0)d=i-1;else{d=i;break}if(i=d,n[i]===l)return i/(s-1);const g=n[i],y=n[i+1]-g,x=(l-g)/y;return(i+x)/(s-1)}getTangent(t,e){let i=t-1e-4,s=t+1e-4;i<0&&(i=0),s>1&&(s=1);const l=this.getPoint(i),u=this.getPoint(s),d=e||(l.isVector2?new Ht:new W);return d.copy(u).sub(l).normalize(),d}getTangentAt(t,e){const n=this.getUtoTmapping(t);return this.getTangent(n,e)}computeFrenetFrames(t,e=!1){const n=new W,i=[],s=[],l=[],u=new W,d=new Ye;for(let x=0;x<=t;x++){const M=x/t;i[x]=this.getTangentAt(M,new W)}s[0]=new W,l[0]=new W;let p=Number.MAX_VALUE;const g=Math.abs(i[0].x),_=Math.abs(i[0].y),y=Math.abs(i[0].z);g<=p&&(p=g,n.set(1,0,0)),_<=p&&(p=_,n.set(0,1,0)),y<=p&&n.set(0,0,1),u.crossVectors(i[0],n).normalize(),s[0].crossVectors(i[0],u),l[0].crossVectors(i[0],s[0]);for(let x=1;x<=t;x++){if(s[x]=s[x-1].clone(),l[x]=l[x-1].clone(),u.crossVectors(i[x-1],i[x]),u.length()>Number.EPSILON){u.normalize();const M=Math.acos(Ze(i[x-1].dot(i[x]),-1,1));s[x].applyMatrix4(d.makeRotationAxis(u,M))}l[x].crossVectors(i[x],s[x])}if(e===!0){let x=Math.acos(Ze(s[0].dot(s[t]),-1,1));x/=t,i[0].dot(u.crossVectors(s[0],s[t]))>0&&(x=-x);for(let M=1;M<=t;M++)s[M].applyMatrix4(d.makeRotationAxis(i[M],x*M)),l[M].crossVectors(i[M],s[M])}return{tangents:i,normals:s,binormals:l}}clone(){return new this.constructor().copy(this)}copy(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}toJSON(){const t={metadata:{version:4.7,type:"Curve",generator:"Curve.toJSON"}};return t.arcLengthDivisions=this.arcLengthDivisions,t.type=this.type,t}fromJSON(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}}class aS extends ol{constructor(t=0,e=0,n=1,i=1,s=0,l=Math.PI*2,u=!1,d=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=t,this.aY=e,this.xRadius=n,this.yRadius=i,this.aStartAngle=s,this.aEndAngle=l,this.aClockwise=u,this.aRotation=d}getPoint(t,e=new Ht){const n=e,i=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const l=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=i;for(;s>i;)s-=i;s<Number.EPSILON&&(l?s=0:s=i),this.aClockwise===!0&&!l&&(s===i?s=-i:s=s-i);const u=this.aStartAngle+t*s;let d=this.aX+this.xRadius*Math.cos(u),p=this.aY+this.yRadius*Math.sin(u);if(this.aRotation!==0){const g=Math.cos(this.aRotation),_=Math.sin(this.aRotation),y=d-this.aX,x=p-this.aY;d=y*g-x*_+this.aX,p=y*_+x*g+this.aY}return n.set(d,p)}copy(t){return super.copy(t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this}toJSON(){const t=super.toJSON();return t.aX=this.aX,t.aY=this.aY,t.xRadius=this.xRadius,t.yRadius=this.yRadius,t.aStartAngle=this.aStartAngle,t.aEndAngle=this.aEndAngle,t.aClockwise=this.aClockwise,t.aRotation=this.aRotation,t}fromJSON(t){return super.fromJSON(t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this}}class rB extends aS{constructor(t,e,n,i,s,l){super(t,e,n,n,i,s,l),this.isArcCurve=!0,this.type="ArcCurve"}}function o1(){let r=0,t=0,e=0,n=0;function i(s,l,u,d){r=s,t=u,e=-3*s+3*l-2*u-d,n=2*s-2*l+u+d}return{initCatmullRom:function(s,l,u,d,p){i(l,u,p*(u-s),p*(d-l))},initNonuniformCatmullRom:function(s,l,u,d,p,g,_){let y=(l-s)/p-(u-s)/(p+g)+(u-l)/g,x=(u-l)/g-(d-l)/(g+_)+(d-u)/_;y*=g,x*=g,i(l,u,y,x)},calc:function(s){const l=s*s,u=l*s;return r+t*s+e*l+n*u}}}const Hy=new W,FM=new o1,zM=new o1,HM=new o1;class oB extends ol{constructor(t=[],e=!1,n="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=t,this.closed=e,this.curveType=n,this.tension=i}getPoint(t,e=new W){const n=e,i=this.points,s=i.length,l=(s-(this.closed?0:1))*t;let u=Math.floor(l),d=l-u;this.closed?u+=u>0?0:(Math.floor(Math.abs(u)/s)+1)*s:d===0&&u===s-1&&(u=s-2,d=1);let p,g;this.closed||u>0?p=i[(u-1)%s]:(Hy.subVectors(i[0],i[1]).add(i[0]),p=Hy);const _=i[u%s],y=i[(u+1)%s];if(this.closed||u+2<s?g=i[(u+2)%s]:(Hy.subVectors(i[s-1],i[s-2]).add(i[s-1]),g=Hy),this.curveType==="centripetal"||this.curveType==="chordal"){const x=this.curveType==="chordal"?.5:.25;let M=Math.pow(p.distanceToSquared(_),x),T=Math.pow(_.distanceToSquared(y),x),E=Math.pow(y.distanceToSquared(g),x);T<1e-4&&(T=1),M<1e-4&&(M=T),E<1e-4&&(E=T),FM.initNonuniformCatmullRom(p.x,_.x,y.x,g.x,M,T,E),zM.initNonuniformCatmullRom(p.y,_.y,y.y,g.y,M,T,E),HM.initNonuniformCatmullRom(p.z,_.z,y.z,g.z,M,T,E)}else this.curveType==="catmullrom"&&(FM.initCatmullRom(p.x,_.x,y.x,g.x,this.tension),zM.initCatmullRom(p.y,_.y,y.y,g.y,this.tension),HM.initCatmullRom(p.z,_.z,y.z,g.z,this.tension));return n.set(FM.calc(d),zM.calc(d),HM.calc(d)),n}copy(t){super.copy(t),this.points=[];for(let e=0,n=t.points.length;e<n;e++){const i=t.points[e];this.points.push(i.clone())}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this}toJSON(){const t=super.toJSON();t.points=[];for(let e=0,n=this.points.length;e<n;e++){const i=this.points[e];t.points.push(i.toArray())}return t.closed=this.closed,t.curveType=this.curveType,t.tension=this.tension,t}fromJSON(t){super.fromJSON(t),this.points=[];for(let e=0,n=t.points.length;e<n;e++){const i=t.points[e];this.points.push(new W().fromArray(i))}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this}}function FC(r,t,e,n,i){const s=(n-t)*.5,l=(i-e)*.5,u=r*r,d=r*u;return(2*e-2*n+s+l)*d+(-3*e+3*n-2*s-l)*u+s*r+e}function zN(r,t){const e=1-r;return e*e*t}function HN(r,t){return 2*(1-r)*r*t}function GN(r,t){return r*r*t}function z0(r,t,e,n){return zN(r,t)+HN(r,e)+GN(r,n)}function VN(r,t){const e=1-r;return e*e*e*t}function XN(r,t){const e=1-r;return 3*e*e*r*t}function kN(r,t){return 3*(1-r)*r*r*t}function YN(r,t){return r*r*r*t}function H0(r,t,e,n,i){return VN(r,t)+XN(r,e)+kN(r,n)+YN(r,i)}class l1 extends ol{constructor(t=new Ht,e=new Ht,n=new Ht,i=new Ht){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=t,this.v1=e,this.v2=n,this.v3=i}getPoint(t,e=new Ht){const n=e,i=this.v0,s=this.v1,l=this.v2,u=this.v3;return n.set(H0(t,i.x,s.x,l.x,u.x),H0(t,i.y,s.y,l.y,u.y)),n}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this}}class lB extends ol{constructor(t=new W,e=new W,n=new W,i=new W){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=t,this.v1=e,this.v2=n,this.v3=i}getPoint(t,e=new W){const n=e,i=this.v0,s=this.v1,l=this.v2,u=this.v3;return n.set(H0(t,i.x,s.x,l.x,u.x),H0(t,i.y,s.y,l.y,u.y),H0(t,i.z,s.z,l.z,u.z)),n}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this}}class u1 extends ol{constructor(t=new Ht,e=new Ht){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=t,this.v2=e}getPoint(t,e=new Ht){const n=e;return t===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(t).add(this.v1)),n}getPointAt(t,e){return this.getPoint(t,e)}getTangent(t,e=new Ht){return e.subVectors(this.v2,this.v1).normalize()}getTangentAt(t,e){return this.getTangent(t,e)}copy(t){return super.copy(t),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}class uB extends ol{constructor(t=new W,e=new W){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=t,this.v2=e}getPoint(t,e=new W){const n=e;return t===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(t).add(this.v1)),n}getPointAt(t,e){return this.getPoint(t,e)}getTangent(t,e=new W){return e.subVectors(this.v2,this.v1).normalize()}getTangentAt(t,e){return this.getTangent(t,e)}copy(t){return super.copy(t),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}class c1 extends ol{constructor(t=new Ht,e=new Ht,n=new Ht){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=t,this.v1=e,this.v2=n}getPoint(t,e=new Ht){const n=e,i=this.v0,s=this.v1,l=this.v2;return n.set(z0(t,i.x,s.x,l.x),z0(t,i.y,s.y,l.y)),n}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}class f1 extends ol{constructor(t=new W,e=new W,n=new W){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=t,this.v1=e,this.v2=n}getPoint(t,e=new W){const n=e,i=this.v0,s=this.v1,l=this.v2;return n.set(z0(t,i.x,s.x,l.x),z0(t,i.y,s.y,l.y),z0(t,i.z,s.z,l.z)),n}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}class h1 extends ol{constructor(t=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=t}getPoint(t,e=new Ht){const n=e,i=this.points,s=(i.length-1)*t,l=Math.floor(s),u=s-l,d=i[l===0?l:l-1],p=i[l],g=i[l>i.length-2?i.length-1:l+1],_=i[l>i.length-3?i.length-1:l+2];return n.set(FC(u,d.x,p.x,g.x,_.x),FC(u,d.y,p.y,g.y,_.y)),n}copy(t){super.copy(t),this.points=[];for(let e=0,n=t.points.length;e<n;e++){const i=t.points[e];this.points.push(i.clone())}return this}toJSON(){const t=super.toJSON();t.points=[];for(let e=0,n=this.points.length;e<n;e++){const i=this.points[e];t.points.push(i.toArray())}return t}fromJSON(t){super.fromJSON(t),this.points=[];for(let e=0,n=t.points.length;e<n;e++){const i=t.points[e];this.points.push(new Ht().fromArray(i))}return this}}var _A=Object.freeze({__proto__:null,ArcCurve:rB,CatmullRomCurve3:oB,CubicBezierCurve:l1,CubicBezierCurve3:lB,EllipseCurve:aS,LineCurve:u1,LineCurve3:uB,QuadraticBezierCurve:c1,QuadraticBezierCurve3:f1,SplineCurve:h1});class cB extends ol{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(t){this.curves.push(t)}closePath(){const t=this.curves[0].getPoint(0),e=this.curves[this.curves.length-1].getPoint(1);if(!t.equals(e)){const n=t.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new _A[n](e,t))}return this}getPoint(t,e){const n=t*this.getLength(),i=this.getCurveLengths();let s=0;for(;s<i.length;){if(i[s]>=n){const l=i[s]-n,u=this.curves[s],d=u.getLength(),p=d===0?0:1-l/d;return u.getPointAt(p,e)}s++}return null}getLength(){const t=this.getCurveLengths();return t[t.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const t=[];let e=0;for(let n=0,i=this.curves.length;n<i;n++)e+=this.curves[n].getLength(),t.push(e);return this.cacheLengths=t,t}getSpacedPoints(t=40){const e=[];for(let n=0;n<=t;n++)e.push(this.getPoint(n/t));return this.autoClose&&e.push(e[0]),e}getPoints(t=12){const e=[];let n;for(let i=0,s=this.curves;i<s.length;i++){const l=s[i],u=l.isEllipseCurve?t*2:l.isLineCurve||l.isLineCurve3?1:l.isSplineCurve?t*l.points.length:t,d=l.getPoints(u);for(let p=0;p<d.length;p++){const g=d[p];n&&n.equals(g)||(e.push(g),n=g)}}return this.autoClose&&e.length>1&&!e[e.length-1].equals(e[0])&&e.push(e[0]),e}copy(t){super.copy(t),this.curves=[];for(let e=0,n=t.curves.length;e<n;e++){const i=t.curves[e];this.curves.push(i.clone())}return this.autoClose=t.autoClose,this}toJSON(){const t=super.toJSON();t.autoClose=this.autoClose,t.curves=[];for(let e=0,n=this.curves.length;e<n;e++){const i=this.curves[e];t.curves.push(i.toJSON())}return t}fromJSON(t){super.fromJSON(t),this.autoClose=t.autoClose,this.curves=[];for(let e=0,n=t.curves.length;e<n;e++){const i=t.curves[e];this.curves.push(new _A[i.type]().fromJSON(i))}return this}}class vA extends cB{constructor(t){super(),this.type="Path",this.currentPoint=new Ht,t&&this.setFromPoints(t)}setFromPoints(t){this.moveTo(t[0].x,t[0].y);for(let e=1,n=t.length;e<n;e++)this.lineTo(t[e].x,t[e].y);return this}moveTo(t,e){return this.currentPoint.set(t,e),this}lineTo(t,e){const n=new u1(this.currentPoint.clone(),new Ht(t,e));return this.curves.push(n),this.currentPoint.set(t,e),this}quadraticCurveTo(t,e,n,i){const s=new c1(this.currentPoint.clone(),new Ht(t,e),new Ht(n,i));return this.curves.push(s),this.currentPoint.set(n,i),this}bezierCurveTo(t,e,n,i,s,l){const u=new l1(this.currentPoint.clone(),new Ht(t,e),new Ht(n,i),new Ht(s,l));return this.curves.push(u),this.currentPoint.set(s,l),this}splineThru(t){const e=[this.currentPoint.clone()].concat(t),n=new h1(e);return this.curves.push(n),this.currentPoint.copy(t[t.length-1]),this}arc(t,e,n,i,s,l){const u=this.currentPoint.x,d=this.currentPoint.y;return this.absarc(t+u,e+d,n,i,s,l),this}absarc(t,e,n,i,s,l){return this.absellipse(t,e,n,n,i,s,l),this}ellipse(t,e,n,i,s,l,u,d){const p=this.currentPoint.x,g=this.currentPoint.y;return this.absellipse(t+p,e+g,n,i,s,l,u,d),this}absellipse(t,e,n,i,s,l,u,d){const p=new aS(t,e,n,i,s,l,u,d);if(this.curves.length>0){const _=p.getPoint(0);_.equals(this.currentPoint)||this.lineTo(_.x,_.y)}this.curves.push(p);const g=p.getPoint(1);return this.currentPoint.copy(g),this}copy(t){return super.copy(t),this.currentPoint.copy(t.currentPoint),this}toJSON(){const t=super.toJSON();return t.currentPoint=this.currentPoint.toArray(),t}fromJSON(t){return super.fromJSON(t),this.currentPoint.fromArray(t.currentPoint),this}}class jh extends vA{constructor(t){super(t),this.uuid=Xr(),this.type="Shape",this.holes=[]}getPointsHoles(t){const e=[];for(let n=0,i=this.holes.length;n<i;n++)e[n]=this.holes[n].getPoints(t);return e}extractPoints(t){return{shape:this.getPoints(t),holes:this.getPointsHoles(t)}}copy(t){super.copy(t),this.holes=[];for(let e=0,n=t.holes.length;e<n;e++){const i=t.holes[e];this.holes.push(i.clone())}return this}toJSON(){const t=super.toJSON();t.uuid=this.uuid,t.holes=[];for(let e=0,n=this.holes.length;e<n;e++){const i=this.holes[e];t.holes.push(i.toJSON())}return t}fromJSON(t){super.fromJSON(t),this.uuid=t.uuid,this.holes=[];for(let e=0,n=t.holes.length;e<n;e++){const i=t.holes[e];this.holes.push(new vA().fromJSON(i))}return this}}function qN(r,t,e=2){const n=t&&t.length,i=n?t[0]*e:r.length;let s=fB(r,0,i,e,!0);const l=[];if(!s||s.next===s.prev)return l;let u,d,p;if(n&&(s=QN(r,t,s,e)),r.length>80*e){u=1/0,d=1/0;let g=-1/0,_=-1/0;for(let y=e;y<i;y+=e){const x=r[y],M=r[y+1];x<u&&(u=x),M<d&&(d=M),x>g&&(g=x),M>_&&(_=M)}p=Math.max(g-u,_-d),p=p!==0?32767/p:0}return r_(s,l,e,u,d,p,0),l}function fB(r,t,e,n,i){let s;if(i===lL(r,t,e,n)>0)for(let l=t;l<e;l+=n)s=zC(l/n|0,r[l],r[l+1],s);else for(let l=e-n;l>=t;l-=n)s=zC(l/n|0,r[l],r[l+1],s);return s&&Mm(s,s.next)&&(l_(s),s=s.next),s}function rd(r,t){if(!r)return r;t||(t=r);let e=r,n;do if(n=!1,!e.steiner&&(Mm(e,e.next)||Ii(e.prev,e,e.next)===0)){if(l_(e),e=t=e.prev,e===e.next)break;n=!0}else e=e.next;while(n||e!==t);return t}function r_(r,t,e,n,i,s,l){if(!r)return;!l&&s&&nL(r,n,i,s);let u=r;for(;r.prev!==r.next;){const d=r.prev,p=r.next;if(s?KN(r,n,i,s):JN(r)){t.push(d.i,r.i,p.i),l_(r),r=p.next,u=p.next;continue}if(r=p,r===u){l?l===1?(r=WN(rd(r),t),r_(r,t,e,n,i,s,2)):l===2&&jN(r,t,e,n,i,s):r_(rd(r),t,e,n,i,s,1);break}}}function JN(r){const t=r.prev,e=r,n=r.next;if(Ii(t,e,n)>=0)return!1;const i=t.x,s=e.x,l=n.x,u=t.y,d=e.y,p=n.y,g=Math.min(i,s,l),_=Math.min(u,d,p),y=Math.max(i,s,l),x=Math.max(u,d,p);let M=n.next;for(;M!==t;){if(M.x>=g&&M.x<=y&&M.y>=_&&M.y<=x&&S0(i,u,s,d,l,p,M.x,M.y)&&Ii(M.prev,M,M.next)>=0)return!1;M=M.next}return!0}function KN(r,t,e,n){const i=r.prev,s=r,l=r.next;if(Ii(i,s,l)>=0)return!1;const u=i.x,d=s.x,p=l.x,g=i.y,_=s.y,y=l.y,x=Math.min(u,d,p),M=Math.min(g,_,y),T=Math.max(u,d,p),E=Math.max(g,_,y),b=Zb(x,M,t,e,n),w=Zb(T,E,t,e,n);let D=r.prevZ,B=r.nextZ;for(;D&&D.z>=b&&B&&B.z<=w;){if(D.x>=x&&D.x<=T&&D.y>=M&&D.y<=E&&D!==i&&D!==l&&S0(u,g,d,_,p,y,D.x,D.y)&&Ii(D.prev,D,D.next)>=0||(D=D.prevZ,B.x>=x&&B.x<=T&&B.y>=M&&B.y<=E&&B!==i&&B!==l&&S0(u,g,d,_,p,y,B.x,B.y)&&Ii(B.prev,B,B.next)>=0))return!1;B=B.nextZ}for(;D&&D.z>=b;){if(D.x>=x&&D.x<=T&&D.y>=M&&D.y<=E&&D!==i&&D!==l&&S0(u,g,d,_,p,y,D.x,D.y)&&Ii(D.prev,D,D.next)>=0)return!1;D=D.prevZ}for(;B&&B.z<=w;){if(B.x>=x&&B.x<=T&&B.y>=M&&B.y<=E&&B!==i&&B!==l&&S0(u,g,d,_,p,y,B.x,B.y)&&Ii(B.prev,B,B.next)>=0)return!1;B=B.nextZ}return!0}function WN(r,t){let e=r;do{const n=e.prev,i=e.next.next;!Mm(n,i)&&dB(n,e,e.next,i)&&o_(n,i)&&o_(i,n)&&(t.push(n.i,e.i,i.i),l_(e),l_(e.next),e=r=i),e=e.next}while(e!==r);return rd(e)}function jN(r,t,e,n,i,s){let l=r;do{let u=l.next.next;for(;u!==l.prev;){if(l.i!==u.i&&sL(l,u)){let d=pB(l,u);l=rd(l,l.next),d=rd(d,d.next),r_(l,t,e,n,i,s,0),r_(d,t,e,n,i,s,0);return}u=u.next}l=l.next}while(l!==r)}function QN(r,t,e,n){const i=[];for(let s=0,l=t.length;s<l;s++){const u=t[s]*n,d=s<l-1?t[s+1]*n:r.length,p=fB(r,u,d,n,!1);p===p.next&&(p.steiner=!0),i.push(aL(p))}i.sort(ZN);for(let s=0;s<i.length;s++)e=$N(i[s],e);return e}function ZN(r,t){let e=r.x-t.x;if(e===0&&(e=r.y-t.y,e===0)){const n=(r.next.y-r.y)/(r.next.x-r.x),i=(t.next.y-t.y)/(t.next.x-t.x);e=n-i}return e}function $N(r,t){const e=tL(r,t);if(!e)return t;const n=pB(e,r);return rd(n,n.next),rd(e,e.next)}function tL(r,t){let e=t;const n=r.x,i=r.y;let s=-1/0,l;if(Mm(r,e))return e;do{if(Mm(r,e.next))return e.next;if(i<=e.y&&i>=e.next.y&&e.next.y!==e.y){const _=e.x+(i-e.y)*(e.next.x-e.x)/(e.next.y-e.y);if(_<=n&&_>s&&(s=_,l=e.x<e.next.x?e:e.next,_===n))return l}e=e.next}while(e!==t);if(!l)return null;const u=l,d=l.x,p=l.y;let g=1/0;e=l;do{if(n>=e.x&&e.x>=d&&n!==e.x&&hB(i<p?n:s,i,d,p,i<p?s:n,i,e.x,e.y)){const _=Math.abs(i-e.y)/(n-e.x);o_(e,r)&&(_<g||_===g&&(e.x>l.x||e.x===l.x&&eL(l,e)))&&(l=e,g=_)}e=e.next}while(e!==u);return l}function eL(r,t){return Ii(r.prev,r,t.prev)<0&&Ii(t.next,r,r.next)<0}function nL(r,t,e,n){let i=r;do i.z===0&&(i.z=Zb(i.x,i.y,t,e,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==r);i.prevZ.nextZ=null,i.prevZ=null,iL(i)}function iL(r){let t,e=1;do{let n=r,i;r=null;let s=null;for(t=0;n;){t++;let l=n,u=0;for(let p=0;p<e&&(u++,l=l.nextZ,!!l);p++);let d=e;for(;u>0||d>0&&l;)u!==0&&(d===0||!l||n.z<=l.z)?(i=n,n=n.nextZ,u--):(i=l,l=l.nextZ,d--),s?s.nextZ=i:r=i,i.prevZ=s,s=i;n=l}s.nextZ=null,e*=2}while(t>1);return r}function Zb(r,t,e,n,i){return r=(r-e)*i|0,t=(t-n)*i|0,r=(r|r<<8)&16711935,r=(r|r<<4)&252645135,r=(r|r<<2)&858993459,r=(r|r<<1)&1431655765,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,r|t<<1}function aL(r){let t=r,e=r;do(t.x<e.x||t.x===e.x&&t.y<e.y)&&(e=t),t=t.next;while(t!==r);return e}function hB(r,t,e,n,i,s,l,u){return(i-l)*(t-u)>=(r-l)*(s-u)&&(r-l)*(n-u)>=(e-l)*(t-u)&&(e-l)*(s-u)>=(i-l)*(n-u)}function S0(r,t,e,n,i,s,l,u){return!(r===l&&t===u)&&hB(r,t,e,n,i,s,l,u)}function sL(r,t){return r.next.i!==t.i&&r.prev.i!==t.i&&!rL(r,t)&&(o_(r,t)&&o_(t,r)&&oL(r,t)&&(Ii(r.prev,r,t.prev)||Ii(r,t.prev,t))||Mm(r,t)&&Ii(r.prev,r,r.next)>0&&Ii(t.prev,t,t.next)>0)}function Ii(r,t,e){return(t.y-r.y)*(e.x-t.x)-(t.x-r.x)*(e.y-t.y)}function Mm(r,t){return r.x===t.x&&r.y===t.y}function dB(r,t,e,n){const i=Vy(Ii(r,t,e)),s=Vy(Ii(r,t,n)),l=Vy(Ii(e,n,r)),u=Vy(Ii(e,n,t));return!!(i!==s&&l!==u||i===0&&Gy(r,e,t)||s===0&&Gy(r,n,t)||l===0&&Gy(e,r,n)||u===0&&Gy(e,t,n))}function Gy(r,t,e){return t.x<=Math.max(r.x,e.x)&&t.x>=Math.min(r.x,e.x)&&t.y<=Math.max(r.y,e.y)&&t.y>=Math.min(r.y,e.y)}function Vy(r){return r>0?1:r<0?-1:0}function rL(r,t){let e=r;do{if(e.i!==r.i&&e.next.i!==r.i&&e.i!==t.i&&e.next.i!==t.i&&dB(e,e.next,r,t))return!0;e=e.next}while(e!==r);return!1}function o_(r,t){return Ii(r.prev,r,r.next)<0?Ii(r,t,r.next)>=0&&Ii(r,r.prev,t)>=0:Ii(r,t,r.prev)<0||Ii(r,r.next,t)<0}function oL(r,t){let e=r,n=!1;const i=(r.x+t.x)/2,s=(r.y+t.y)/2;do e.y>s!=e.next.y>s&&e.next.y!==e.y&&i<(e.next.x-e.x)*(s-e.y)/(e.next.y-e.y)+e.x&&(n=!n),e=e.next;while(e!==r);return n}function pB(r,t){const e=$b(r.i,r.x,r.y),n=$b(t.i,t.x,t.y),i=r.next,s=t.prev;return r.next=t,t.prev=r,e.next=i,i.prev=e,n.next=e,e.prev=n,s.next=n,n.prev=s,n}function zC(r,t,e,n){const i=$b(r,t,e);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function l_(r){r.next.prev=r.prev,r.prev.next=r.next,r.prevZ&&(r.prevZ.nextZ=r.nextZ),r.nextZ&&(r.nextZ.prevZ=r.prevZ)}function $b(r,t,e){return{i:r,x:t,y:e,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function lL(r,t,e,n){let i=0;for(let s=t,l=e-n;s<e;s+=n)i+=(r[l]-r[s])*(r[s+1]+r[l+1]),l=s;return i}class uL{static triangulate(t,e,n=2){return qN(t,e,n)}}class al{static area(t){const e=t.length;let n=0;for(let i=e-1,s=0;s<e;i=s++)n+=t[i].x*t[s].y-t[s].x*t[i].y;return n*.5}static isClockWise(t){return al.area(t)<0}static triangulateShape(t,e){const n=[],i=[],s=[];HC(t),GC(n,t);let l=t.length;e.forEach(HC);for(let d=0;d<e.length;d++)i.push(l),l+=e[d].length,GC(n,e[d]);const u=uL.triangulate(n,i);for(let d=0;d<u.length;d+=3)s.push(u.slice(d,d+3));return s}}function HC(r){const t=r.length;t>2&&r[t-1].equals(r[0])&&r.pop()}function GC(r,t){for(let e=0;e<t.length;e++)r.push(t[e].x),r.push(t[e].y)}class sS extends un{constructor(t=new jh([new Ht(.5,.5),new Ht(-.5,.5),new Ht(-.5,-.5),new Ht(.5,-.5)]),e={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:t,options:e},t=Array.isArray(t)?t:[t];const n=this,i=[],s=[];for(let u=0,d=t.length;u<d;u++){const p=t[u];l(p)}this.setAttribute("position",new Oe(i,3)),this.setAttribute("uv",new Oe(s,2)),this.computeVertexNormals();function l(u){const d=[],p=e.curveSegments!==void 0?e.curveSegments:12,g=e.steps!==void 0?e.steps:1,_=e.depth!==void 0?e.depth:1;let y=e.bevelEnabled!==void 0?e.bevelEnabled:!0,x=e.bevelThickness!==void 0?e.bevelThickness:.2,M=e.bevelSize!==void 0?e.bevelSize:x-.1,T=e.bevelOffset!==void 0?e.bevelOffset:0,E=e.bevelSegments!==void 0?e.bevelSegments:3;const b=e.extrudePath,w=e.UVGenerator!==void 0?e.UVGenerator:cL;let D,B=!1,L,P,H,F;b&&(D=b.getSpacedPoints(g),B=!0,y=!1,L=b.computeFrenetFrames(g,!1),P=new W,H=new W,F=new W),y||(E=0,x=0,M=0,T=0);const O=u.extractPoints(p);let U=O.shape;const V=O.holes;if(!al.isClockWise(U)){U=U.reverse();for(let Ut=0,Ot=V.length;Ut<Ot;Ut++){const Gt=V[Ut];al.isClockWise(Gt)&&(V[Ut]=Gt.reverse())}}function et(Ut){const Gt=10000000000000001e-36;let tt=Ut[0];for(let Zt=1;Zt<=Ut.length;Zt++){const Xt=Zt%Ut.length,jt=Ut[Xt],de=jt.x-tt.x,Ne=jt.y-tt.y,j=de*de+Ne*Ne,X=Math.max(Math.abs(jt.x),Math.abs(jt.y),Math.abs(tt.x),Math.abs(tt.y)),pt=Gt*X*X;if(j<=pt){Ut.splice(Xt,1),Zt--;continue}tt=jt}}et(U),V.forEach(et);const rt=V.length,ut=U;for(let Ut=0;Ut<rt;Ut++){const Ot=V[Ut];U=U.concat(Ot)}function G(Ut,Ot,Gt){return Ot||console.error("THREE.ExtrudeGeometry: vec does not exist"),Ut.clone().addScaledVector(Ot,Gt)}const q=U.length;function K(Ut,Ot,Gt){let tt,Zt,Xt;const jt=Ut.x-Ot.x,de=Ut.y-Ot.y,Ne=Gt.x-Ut.x,j=Gt.y-Ut.y,X=jt*jt+de*de,pt=jt*j-de*Ne;if(Math.abs(pt)>Number.EPSILON){const wt=Math.sqrt(X),Nt=Math.sqrt(Ne*Ne+j*j),Ct=Ot.x-de/wt,re=Ot.y+jt/wt,te=Gt.x-j/Nt,ve=Gt.y+Ne/Nt,le=((te-Ct)*j-(ve-re)*Ne)/(jt*j-de*Ne);tt=Ct+jt*le-Ut.x,Zt=re+de*le-Ut.y;const qt=tt*tt+Zt*Zt;if(qt<=2)return new Ht(tt,Zt);Xt=Math.sqrt(qt/2)}else{let wt=!1;jt>Number.EPSILON?Ne>Number.EPSILON&&(wt=!0):jt<-Number.EPSILON?Ne<-Number.EPSILON&&(wt=!0):Math.sign(de)===Math.sign(j)&&(wt=!0),wt?(tt=-de,Zt=jt,Xt=Math.sqrt(X)):(tt=jt,Zt=de,Xt=Math.sqrt(X/2))}return new Ht(tt/Xt,Zt/Xt)}const lt=[];for(let Ut=0,Ot=ut.length,Gt=Ot-1,tt=Ut+1;Ut<Ot;Ut++,Gt++,tt++)Gt===Ot&&(Gt=0),tt===Ot&&(tt=0),lt[Ut]=K(ut[Ut],ut[Gt],ut[tt]);const I=[];let nt,gt=lt.concat();for(let Ut=0,Ot=rt;Ut<Ot;Ut++){const Gt=V[Ut];nt=[];for(let tt=0,Zt=Gt.length,Xt=Zt-1,jt=tt+1;tt<Zt;tt++,Xt++,jt++)Xt===Zt&&(Xt=0),jt===Zt&&(jt=0),nt[tt]=K(Gt[tt],Gt[Xt],Gt[jt]);I.push(nt),gt=gt.concat(nt)}let bt;if(E===0)bt=al.triangulateShape(ut,V);else{const Ut=[],Ot=[];for(let Gt=0;Gt<E;Gt++){const tt=Gt/E,Zt=x*Math.cos(tt*Math.PI/2),Xt=M*Math.sin(tt*Math.PI/2)+T;for(let jt=0,de=ut.length;jt<de;jt++){const Ne=G(ut[jt],lt[jt],Xt);$t(Ne.x,Ne.y,-Zt),tt===0&&Ut.push(Ne)}for(let jt=0,de=rt;jt<de;jt++){const Ne=V[jt];nt=I[jt];const j=[];for(let X=0,pt=Ne.length;X<pt;X++){const wt=G(Ne[X],nt[X],Xt);$t(wt.x,wt.y,-Zt),tt===0&&j.push(wt)}tt===0&&Ot.push(j)}}bt=al.triangulateShape(Ut,Ot)}const St=bt.length,ft=M+T;for(let Ut=0;Ut<q;Ut++){const Ot=y?G(U[Ut],gt[Ut],ft):U[Ut];B?(H.copy(L.normals[0]).multiplyScalar(Ot.x),P.copy(L.binormals[0]).multiplyScalar(Ot.y),F.copy(D[0]).add(H).add(P),$t(F.x,F.y,F.z)):$t(Ot.x,Ot.y,0)}for(let Ut=1;Ut<=g;Ut++)for(let Ot=0;Ot<q;Ot++){const Gt=y?G(U[Ot],gt[Ot],ft):U[Ot];B?(H.copy(L.normals[Ut]).multiplyScalar(Gt.x),P.copy(L.binormals[Ut]).multiplyScalar(Gt.y),F.copy(D[Ut]).add(H).add(P),$t(F.x,F.y,F.z)):$t(Gt.x,Gt.y,_/g*Ut)}for(let Ut=E-1;Ut>=0;Ut--){const Ot=Ut/E,Gt=x*Math.cos(Ot*Math.PI/2),tt=M*Math.sin(Ot*Math.PI/2)+T;for(let Zt=0,Xt=ut.length;Zt<Xt;Zt++){const jt=G(ut[Zt],lt[Zt],tt);$t(jt.x,jt.y,_+Gt)}for(let Zt=0,Xt=V.length;Zt<Xt;Zt++){const jt=V[Zt];nt=I[Zt];for(let de=0,Ne=jt.length;de<Ne;de++){const j=G(jt[de],nt[de],tt);B?$t(j.x,j.y+D[g-1].y,D[g-1].x+Gt):$t(j.x,j.y,_+Gt)}}}Mt(),Lt();function Mt(){const Ut=i.length/3;if(y){let Ot=0,Gt=q*Ot;for(let tt=0;tt<St;tt++){const Zt=bt[tt];Me(Zt[2]+Gt,Zt[1]+Gt,Zt[0]+Gt)}Ot=g+E*2,Gt=q*Ot;for(let tt=0;tt<St;tt++){const Zt=bt[tt];Me(Zt[0]+Gt,Zt[1]+Gt,Zt[2]+Gt)}}else{for(let Ot=0;Ot<St;Ot++){const Gt=bt[Ot];Me(Gt[2],Gt[1],Gt[0])}for(let Ot=0;Ot<St;Ot++){const Gt=bt[Ot];Me(Gt[0]+q*g,Gt[1]+q*g,Gt[2]+q*g)}}n.addGroup(Ut,i.length/3-Ut,0)}function Lt(){const Ut=i.length/3;let Ot=0;Yt(ut,Ot),Ot+=ut.length;for(let Gt=0,tt=V.length;Gt<tt;Gt++){const Zt=V[Gt];Yt(Zt,Ot),Ot+=Zt.length}n.addGroup(Ut,i.length/3-Ut,1)}function Yt(Ut,Ot){let Gt=Ut.length;for(;--Gt>=0;){const tt=Gt;let Zt=Gt-1;Zt<0&&(Zt=Ut.length-1);for(let Xt=0,jt=g+E*2;Xt<jt;Xt++){const de=q*Xt,Ne=q*(Xt+1),j=Ot+tt+de,X=Ot+Zt+de,pt=Ot+Zt+Ne,wt=Ot+tt+Ne;Pe(j,X,pt,wt)}}}function $t(Ut,Ot,Gt){d.push(Ut),d.push(Ot),d.push(Gt)}function Me(Ut,Ot,Gt){_e(Ut),_e(Ot),_e(Gt);const tt=i.length/3,Zt=w.generateTopUV(n,i,tt-3,tt-2,tt-1);Z(Zt[0]),Z(Zt[1]),Z(Zt[2])}function Pe(Ut,Ot,Gt,tt){_e(Ut),_e(Ot),_e(tt),_e(Ot),_e(Gt),_e(tt);const Zt=i.length/3,Xt=w.generateSideWallUV(n,i,Zt-6,Zt-3,Zt-2,Zt-1);Z(Xt[0]),Z(Xt[1]),Z(Xt[3]),Z(Xt[1]),Z(Xt[2]),Z(Xt[3])}function _e(Ut){i.push(d[Ut*3+0]),i.push(d[Ut*3+1]),i.push(d[Ut*3+2])}function Z(Ut){s.push(Ut.x),s.push(Ut.y)}}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}toJSON(){const t=super.toJSON(),e=this.parameters.shapes,n=this.parameters.options;return fL(e,n,t)}static fromJSON(t,e){const n=[];for(let s=0,l=t.shapes.length;s<l;s++){const u=e[t.shapes[s]];n.push(u)}const i=t.options.extrudePath;return i!==void 0&&(t.options.extrudePath=new _A[i.type]().fromJSON(i)),new sS(n,t.options)}}const cL={generateTopUV:function(r,t,e,n,i){const s=t[e*3],l=t[e*3+1],u=t[n*3],d=t[n*3+1],p=t[i*3],g=t[i*3+1];return[new Ht(s,l),new Ht(u,d),new Ht(p,g)]},generateSideWallUV:function(r,t,e,n,i,s){const l=t[e*3],u=t[e*3+1],d=t[e*3+2],p=t[n*3],g=t[n*3+1],_=t[n*3+2],y=t[i*3],x=t[i*3+1],M=t[i*3+2],T=t[s*3],E=t[s*3+1],b=t[s*3+2];return Math.abs(u-g)<Math.abs(l-p)?[new Ht(l,1-d),new Ht(p,1-_),new Ht(y,1-M),new Ht(T,1-b)]:[new Ht(u,1-d),new Ht(g,1-_),new Ht(x,1-M),new Ht(E,1-b)]}};function fL(r,t,e){if(e.shapes=[],Array.isArray(r))for(let n=0,i=r.length;n<i;n++){const s=r[n];e.shapes.push(s.uuid)}else e.shapes.push(r.uuid);return e.options=Object.assign({},t),t.extrudePath!==void 0&&(e.options.extrudePath=t.extrudePath.toJSON()),e}class rS extends Af{constructor(t=1,e=0){const n=(1+Math.sqrt(5))/2,i=[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,s,t,e),this.type="IcosahedronGeometry",this.parameters={radius:t,detail:e}}static fromJSON(t){return new rS(t.radius,t.detail)}}class oS extends un{constructor(t=[new Ht(0,-.5),new Ht(.5,0),new Ht(0,.5)],e=12,n=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:t,segments:e,phiStart:n,phiLength:i},e=Math.floor(e),i=Ze(i,0,Math.PI*2);const s=[],l=[],u=[],d=[],p=[],g=1/e,_=new W,y=new Ht,x=new W,M=new W,T=new W;let E=0,b=0;for(let w=0;w<=t.length-1;w++)switch(w){case 0:E=t[w+1].x-t[w].x,b=t[w+1].y-t[w].y,x.x=b*1,x.y=-E,x.z=b*0,T.copy(x),x.normalize(),d.push(x.x,x.y,x.z);break;case t.length-1:d.push(T.x,T.y,T.z);break;default:E=t[w+1].x-t[w].x,b=t[w+1].y-t[w].y,x.x=b*1,x.y=-E,x.z=b*0,M.copy(x),x.x+=T.x,x.y+=T.y,x.z+=T.z,x.normalize(),d.push(x.x,x.y,x.z),T.copy(M)}for(let w=0;w<=e;w++){const D=n+w*g*i,B=Math.sin(D),L=Math.cos(D);for(let P=0;P<=t.length-1;P++){_.x=t[P].x*B,_.y=t[P].y,_.z=t[P].x*L,l.push(_.x,_.y,_.z),y.x=w/e,y.y=P/(t.length-1),u.push(y.x,y.y);const H=d[3*P+0]*B,F=d[3*P+1],O=d[3*P+0]*L;p.push(H,F,O)}}for(let w=0;w<e;w++)for(let D=0;D<t.length-1;D++){const B=D+w*t.length,L=B,P=B+t.length,H=B+t.length+1,F=B+1;s.push(L,P,F),s.push(H,F,P)}this.setIndex(s),this.setAttribute("position",new Oe(l,3)),this.setAttribute("uv",new Oe(u,2)),this.setAttribute("normal",new Oe(p,3))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new oS(t.points,t.segments,t.phiStart,t.phiLength)}}class R_ extends Af{constructor(t=1,e=0){const n=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(n,i,t,e),this.type="OctahedronGeometry",this.parameters={radius:t,detail:e}}static fromJSON(t){return new R_(t.radius,t.detail)}}class Fm extends un{constructor(t=1,e=1,n=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:t,height:e,widthSegments:n,heightSegments:i};const s=t/2,l=e/2,u=Math.floor(n),d=Math.floor(i),p=u+1,g=d+1,_=t/u,y=e/d,x=[],M=[],T=[],E=[];for(let b=0;b<g;b++){const w=b*y-l;for(let D=0;D<p;D++){const B=D*_-s;M.push(B,-w,0),T.push(0,0,1),E.push(D/u),E.push(1-b/d)}}for(let b=0;b<d;b++)for(let w=0;w<u;w++){const D=w+p*b,B=w+p*(b+1),L=w+1+p*(b+1),P=w+1+p*b;x.push(D,B,P),x.push(B,L,P)}this.setIndex(x),this.setAttribute("position",new Oe(M,3)),this.setAttribute("normal",new Oe(T,3)),this.setAttribute("uv",new Oe(E,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new Fm(t.width,t.height,t.widthSegments,t.heightSegments)}}class lS extends un{constructor(t=.5,e=1,n=32,i=1,s=0,l=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:t,outerRadius:e,thetaSegments:n,phiSegments:i,thetaStart:s,thetaLength:l},n=Math.max(3,n),i=Math.max(1,i);const u=[],d=[],p=[],g=[];let _=t;const y=(e-t)/i,x=new W,M=new Ht;for(let T=0;T<=i;T++){for(let E=0;E<=n;E++){const b=s+E/n*l;x.x=_*Math.cos(b),x.y=_*Math.sin(b),d.push(x.x,x.y,x.z),p.push(0,0,1),M.x=(x.x/e+1)/2,M.y=(x.y/e+1)/2,g.push(M.x,M.y)}_+=y}for(let T=0;T<i;T++){const E=T*(n+1);for(let b=0;b<n;b++){const w=b+E,D=w,B=w+n+1,L=w+n+2,P=w+1;u.push(D,B,P),u.push(B,L,P)}}this.setIndex(u),this.setAttribute("position",new Oe(d,3)),this.setAttribute("normal",new Oe(p,3)),this.setAttribute("uv",new Oe(g,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new lS(t.innerRadius,t.outerRadius,t.thetaSegments,t.phiSegments,t.thetaStart,t.thetaLength)}}class uS extends un{constructor(t=new jh([new Ht(0,.5),new Ht(-.5,-.5),new Ht(.5,-.5)]),e=12){super(),this.type="ShapeGeometry",this.parameters={shapes:t,curveSegments:e};const n=[],i=[],s=[],l=[];let u=0,d=0;if(Array.isArray(t)===!1)p(t);else for(let g=0;g<t.length;g++)p(t[g]),this.addGroup(u,d,g),u+=d,d=0;this.setIndex(n),this.setAttribute("position",new Oe(i,3)),this.setAttribute("normal",new Oe(s,3)),this.setAttribute("uv",new Oe(l,2));function p(g){const _=i.length/3,y=g.extractPoints(e);let x=y.shape;const M=y.holes;al.isClockWise(x)===!1&&(x=x.reverse());for(let E=0,b=M.length;E<b;E++){const w=M[E];al.isClockWise(w)===!0&&(M[E]=w.reverse())}const T=al.triangulateShape(x,M);for(let E=0,b=M.length;E<b;E++){const w=M[E];x=x.concat(w)}for(let E=0,b=x.length;E<b;E++){const w=x[E];i.push(w.x,w.y,0),s.push(0,0,1),l.push(w.x,w.y)}for(let E=0,b=T.length;E<b;E++){const w=T[E],D=w[0]+_,B=w[1]+_,L=w[2]+_;n.push(D,B,L),d+=3}}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}toJSON(){const t=super.toJSON(),e=this.parameters.shapes;return hL(e,t)}static fromJSON(t,e){const n=[];for(let i=0,s=t.shapes.length;i<s;i++){const l=e[t.shapes[i]];n.push(l)}return new uS(n,t.curveSegments)}}function hL(r,t){if(t.shapes=[],Array.isArray(r))for(let e=0,n=r.length;e<n;e++){const i=r[e];t.shapes.push(i.uuid)}else t.shapes.push(r.uuid);return t}class w_ extends un{constructor(t=1,e=32,n=16,i=0,s=Math.PI*2,l=0,u=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:t,widthSegments:e,heightSegments:n,phiStart:i,phiLength:s,thetaStart:l,thetaLength:u},e=Math.max(3,Math.floor(e)),n=Math.max(2,Math.floor(n));const d=Math.min(l+u,Math.PI);let p=0;const g=[],_=new W,y=new W,x=[],M=[],T=[],E=[];for(let b=0;b<=n;b++){const w=[],D=b/n;let B=0;b===0&&l===0?B=.5/e:b===n&&d===Math.PI&&(B=-.5/e);for(let L=0;L<=e;L++){const P=L/e;_.x=-t*Math.cos(i+P*s)*Math.sin(l+D*u),_.y=t*Math.cos(l+D*u),_.z=t*Math.sin(i+P*s)*Math.sin(l+D*u),M.push(_.x,_.y,_.z),y.copy(_).normalize(),T.push(y.x,y.y,y.z),E.push(P+B,1-D),w.push(p++)}g.push(w)}for(let b=0;b<n;b++)for(let w=0;w<e;w++){const D=g[b][w+1],B=g[b][w],L=g[b+1][w],P=g[b+1][w+1];(b!==0||l>0)&&x.push(D,B,P),(b!==n-1||d<Math.PI)&&x.push(B,L,P)}this.setIndex(x),this.setAttribute("position",new Oe(M,3)),this.setAttribute("normal",new Oe(T,3)),this.setAttribute("uv",new Oe(E,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new w_(t.radius,t.widthSegments,t.heightSegments,t.phiStart,t.phiLength,t.thetaStart,t.thetaLength)}}class cS extends Af{constructor(t=1,e=0){const n=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(n,i,t,e),this.type="TetrahedronGeometry",this.parameters={radius:t,detail:e}}static fromJSON(t){return new cS(t.radius,t.detail)}}class fS extends un{constructor(t=1,e=.4,n=12,i=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:t,tube:e,radialSegments:n,tubularSegments:i,arc:s},n=Math.floor(n),i=Math.floor(i);const l=[],u=[],d=[],p=[],g=new W,_=new W,y=new W;for(let x=0;x<=n;x++)for(let M=0;M<=i;M++){const T=M/i*s,E=x/n*Math.PI*2;_.x=(t+e*Math.cos(E))*Math.cos(T),_.y=(t+e*Math.cos(E))*Math.sin(T),_.z=e*Math.sin(E),u.push(_.x,_.y,_.z),g.x=t*Math.cos(T),g.y=t*Math.sin(T),y.subVectors(_,g).normalize(),d.push(y.x,y.y,y.z),p.push(M/i),p.push(x/n)}for(let x=1;x<=n;x++)for(let M=1;M<=i;M++){const T=(i+1)*x+M-1,E=(i+1)*(x-1)+M-1,b=(i+1)*(x-1)+M,w=(i+1)*x+M;l.push(T,E,w),l.push(E,b,w)}this.setIndex(l),this.setAttribute("position",new Oe(u,3)),this.setAttribute("normal",new Oe(d,3)),this.setAttribute("uv",new Oe(p,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new fS(t.radius,t.tube,t.radialSegments,t.tubularSegments,t.arc)}}class hS extends un{constructor(t=1,e=.4,n=64,i=8,s=2,l=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:t,tube:e,tubularSegments:n,radialSegments:i,p:s,q:l},n=Math.floor(n),i=Math.floor(i);const u=[],d=[],p=[],g=[],_=new W,y=new W,x=new W,M=new W,T=new W,E=new W,b=new W;for(let D=0;D<=n;++D){const B=D/n*s*Math.PI*2;w(B,s,l,t,x),w(B+.01,s,l,t,M),E.subVectors(M,x),b.addVectors(M,x),T.crossVectors(E,b),b.crossVectors(T,E),T.normalize(),b.normalize();for(let L=0;L<=i;++L){const P=L/i*Math.PI*2,H=-e*Math.cos(P),F=e*Math.sin(P);_.x=x.x+(H*b.x+F*T.x),_.y=x.y+(H*b.y+F*T.y),_.z=x.z+(H*b.z+F*T.z),d.push(_.x,_.y,_.z),y.subVectors(_,x).normalize(),p.push(y.x,y.y,y.z),g.push(D/n),g.push(L/i)}}for(let D=1;D<=n;D++)for(let B=1;B<=i;B++){const L=(i+1)*(D-1)+(B-1),P=(i+1)*D+(B-1),H=(i+1)*D+B,F=(i+1)*(D-1)+B;u.push(L,P,F),u.push(P,H,F)}this.setIndex(u),this.setAttribute("position",new Oe(d,3)),this.setAttribute("normal",new Oe(p,3)),this.setAttribute("uv",new Oe(g,2));function w(D,B,L,P,H){const F=Math.cos(D),O=Math.sin(D),U=L/B*D,V=Math.cos(U);H.x=P*(2+V)*.5*F,H.y=P*(2+V)*O*.5,H.z=P*Math.sin(U)*.5}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new hS(t.radius,t.tube,t.tubularSegments,t.radialSegments,t.p,t.q)}}class dS extends un{constructor(t=new f1(new W(-1,-1,0),new W(-1,1,0),new W(1,1,0)),e=64,n=1,i=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:t,tubularSegments:e,radius:n,radialSegments:i,closed:s};const l=t.computeFrenetFrames(e,s);this.tangents=l.tangents,this.normals=l.normals,this.binormals=l.binormals;const u=new W,d=new W,p=new Ht;let g=new W;const _=[],y=[],x=[],M=[];T(),this.setIndex(M),this.setAttribute("position",new Oe(_,3)),this.setAttribute("normal",new Oe(y,3)),this.setAttribute("uv",new Oe(x,2));function T(){for(let D=0;D<e;D++)E(D);E(s===!1?e:0),w(),b()}function E(D){g=t.getPointAt(D/e,g);const B=l.normals[D],L=l.binormals[D];for(let P=0;P<=i;P++){const H=P/i*Math.PI*2,F=Math.sin(H),O=-Math.cos(H);d.x=O*B.x+F*L.x,d.y=O*B.y+F*L.y,d.z=O*B.z+F*L.z,d.normalize(),y.push(d.x,d.y,d.z),u.x=g.x+n*d.x,u.y=g.y+n*d.y,u.z=g.z+n*d.z,_.push(u.x,u.y,u.z)}}function b(){for(let D=1;D<=e;D++)for(let B=1;B<=i;B++){const L=(i+1)*(D-1)+(B-1),P=(i+1)*D+(B-1),H=(i+1)*D+B,F=(i+1)*(D-1)+B;M.push(L,P,F),M.push(P,H,F)}}function w(){for(let D=0;D<=e;D++)for(let B=0;B<=i;B++)p.x=D/e,p.y=B/i,x.push(p.x,p.y)}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}toJSON(){const t=super.toJSON();return t.path=this.parameters.path.toJSON(),t}static fromJSON(t){return new dS(new _A[t.path.type]().fromJSON(t.path),t.tubularSegments,t.radius,t.radialSegments,t.closed)}}class mB extends un{constructor(t=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:t},t!==null){const e=[],n=new Set,i=new W,s=new W;if(t.index!==null){const l=t.attributes.position,u=t.index;let d=t.groups;d.length===0&&(d=[{start:0,count:u.count,materialIndex:0}]);for(let p=0,g=d.length;p<g;++p){const _=d[p],y=_.start,x=_.count;for(let M=y,T=y+x;M<T;M+=3)for(let E=0;E<3;E++){const b=u.getX(M+E),w=u.getX(M+(E+1)%3);i.fromBufferAttribute(l,b),s.fromBufferAttribute(l,w),VC(i,s,n)===!0&&(e.push(i.x,i.y,i.z),e.push(s.x,s.y,s.z))}}}else{const l=t.attributes.position;for(let u=0,d=l.count/3;u<d;u++)for(let p=0;p<3;p++){const g=3*u+p,_=3*u+(p+1)%3;i.fromBufferAttribute(l,g),s.fromBufferAttribute(l,_),VC(i,s,n)===!0&&(e.push(i.x,i.y,i.z),e.push(s.x,s.y,s.z))}}this.setAttribute("position",new Oe(e,3))}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}}function VC(r,t,e){const n=`${r.x},${r.y},${r.z}-${t.x},${t.y},${t.z}`,i=`${t.x},${t.y},${t.z}-${r.x},${r.y},${r.z}`;return e.has(n)===!0||e.has(i)===!0?!1:(e.add(n),e.add(i),!0)}var XC=Object.freeze({__proto__:null,BoxGeometry:_d,CapsuleGeometry:eS,CircleGeometry:nS,ConeGeometry:C_,CylinderGeometry:T_,DodecahedronGeometry:iS,EdgesGeometry:sB,ExtrudeGeometry:sS,IcosahedronGeometry:rS,LatheGeometry:oS,OctahedronGeometry:R_,PlaneGeometry:Fm,PolyhedronGeometry:Af,RingGeometry:lS,ShapeGeometry:uS,SphereGeometry:w_,TetrahedronGeometry:cS,TorusGeometry:fS,TorusKnotGeometry:hS,TubeGeometry:dS,WireframeGeometry:mB});class gB extends Ta{constructor(t){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new pe(0),this.transparent=!0,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.fog=t.fog,this}}class _B extends sl{constructor(t){super(t),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class B_ extends Ta{constructor(t){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new pe(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new pe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=xf,this.normalScale=new Ht(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Yr,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.defines={STANDARD:""},this.color.copy(t.color),this.roughness=t.roughness,this.metalness=t.metalness,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.roughnessMap=t.roughnessMap,this.metalnessMap=t.metalnessMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapRotation.copy(t.envMapRotation),this.envMapIntensity=t.envMapIntensity,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this.fog=t.fog,this}}class Eo extends B_{constructor(t){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Ht(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Ze(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(e){this.ior=(1+.4*e)/(1-.4*e)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new pe(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new pe(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new pe(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(t)}get anisotropy(){return this._anisotropy}set anisotropy(t){this._anisotropy>0!=t>0&&this.version++,this._anisotropy=t}get clearcoat(){return this._clearcoat}set clearcoat(t){this._clearcoat>0!=t>0&&this.version++,this._clearcoat=t}get iridescence(){return this._iridescence}set iridescence(t){this._iridescence>0!=t>0&&this.version++,this._iridescence=t}get dispersion(){return this._dispersion}set dispersion(t){this._dispersion>0!=t>0&&this.version++,this._dispersion=t}get sheen(){return this._sheen}set sheen(t){this._sheen>0!=t>0&&this.version++,this._sheen=t}get transmission(){return this._transmission}set transmission(t){this._transmission>0!=t>0&&this.version++,this._transmission=t}copy(t){return super.copy(t),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=t.anisotropy,this.anisotropyRotation=t.anisotropyRotation,this.anisotropyMap=t.anisotropyMap,this.clearcoat=t.clearcoat,this.clearcoatMap=t.clearcoatMap,this.clearcoatRoughness=t.clearcoatRoughness,this.clearcoatRoughnessMap=t.clearcoatRoughnessMap,this.clearcoatNormalMap=t.clearcoatNormalMap,this.clearcoatNormalScale.copy(t.clearcoatNormalScale),this.dispersion=t.dispersion,this.ior=t.ior,this.iridescence=t.iridescence,this.iridescenceMap=t.iridescenceMap,this.iridescenceIOR=t.iridescenceIOR,this.iridescenceThicknessRange=[...t.iridescenceThicknessRange],this.iridescenceThicknessMap=t.iridescenceThicknessMap,this.sheen=t.sheen,this.sheenColor.copy(t.sheenColor),this.sheenColorMap=t.sheenColorMap,this.sheenRoughness=t.sheenRoughness,this.sheenRoughnessMap=t.sheenRoughnessMap,this.transmission=t.transmission,this.transmissionMap=t.transmissionMap,this.thickness=t.thickness,this.thicknessMap=t.thicknessMap,this.attenuationDistance=t.attenuationDistance,this.attenuationColor.copy(t.attenuationColor),this.specularIntensity=t.specularIntensity,this.specularIntensityMap=t.specularIntensityMap,this.specularColor.copy(t.specularColor),this.specularColorMap=t.specularColorMap,this}}class vB extends Ta{constructor(t){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new pe(16777215),this.specular=new pe(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new pe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=xf,this.normalScale=new Ht(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Yr,this.combine=A_,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.specular.copy(t.specular),this.shininess=t.shininess,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapRotation.copy(t.envMapRotation),this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this.fog=t.fog,this}}class yB extends Ta{constructor(t){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new pe(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new pe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=xf,this.normalScale=new Ht(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.gradientMap=t.gradientMap,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.fog=t.fog,this}}class xB extends Ta{constructor(t){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=xf,this.normalScale=new Ht(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(t)}copy(t){return super.copy(t),this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.flatShading=t.flatShading,this}}class AB extends Ta{constructor(t){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new pe(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new pe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=xf,this.normalScale=new Ht(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Yr,this.combine=A_,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapRotation.copy(t.envMapRotation),this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this.fog=t.fog,this}}class d1 extends Ta{constructor(t){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=Lw,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(t)}copy(t){return super.copy(t),this.depthPacking=t.depthPacking,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this}}class p1 extends Ta{constructor(t){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(t)}copy(t){return super.copy(t),this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this}}class SB extends Ta{constructor(t){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new pe(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=xf,this.normalScale=new Ht(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.defines={MATCAP:""},this.color.copy(t.color),this.matcap=t.matcap,this.map=t.map,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.flatShading=t.flatShading,this.fog=t.fog,this}}class MB extends ys{constructor(t){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(t)}copy(t){return super.copy(t),this.scale=t.scale,this.dashSize=t.dashSize,this.gapSize=t.gapSize,this}}function Xh(r,t){return!r||r.constructor===t?r:typeof t.BYTES_PER_ELEMENT=="number"?new t(r):Array.prototype.slice.call(r)}function bB(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}function EB(r){function t(i,s){return r[i]-r[s]}const e=r.length,n=new Array(e);for(let i=0;i!==e;++i)n[i]=i;return n.sort(t),n}function tE(r,t,e){const n=r.length,i=new r.constructor(n);for(let s=0,l=0;l!==n;++s){const u=e[s]*t;for(let d=0;d!==t;++d)i[l++]=r[u+d]}return i}function m1(r,t,e,n){let i=1,s=r[0];for(;s!==void 0&&s[n]===void 0;)s=r[i++];if(s===void 0)return;let l=s[n];if(l!==void 0)if(Array.isArray(l))do l=s[n],l!==void 0&&(t.push(s.time),e.push(...l)),s=r[i++];while(s!==void 0);else if(l.toArray!==void 0)do l=s[n],l!==void 0&&(t.push(s.time),l.toArray(e,e.length)),s=r[i++];while(s!==void 0);else do l=s[n],l!==void 0&&(t.push(s.time),e.push(l)),s=r[i++];while(s!==void 0)}function dL(r,t,e,n,i=30){const s=r.clone();s.name=t;const l=[];for(let d=0;d<s.tracks.length;++d){const p=s.tracks[d],g=p.getValueSize(),_=[],y=[];for(let x=0;x<p.times.length;++x){const M=p.times[x]*i;if(!(M<e||M>=n)){_.push(p.times[x]);for(let T=0;T<g;++T)y.push(p.values[x*g+T])}}_.length!==0&&(p.times=Xh(_,p.times.constructor),p.values=Xh(y,p.values.constructor),l.push(p))}s.tracks=l;let u=1/0;for(let d=0;d<s.tracks.length;++d)u>s.tracks[d].times[0]&&(u=s.tracks[d].times[0]);for(let d=0;d<s.tracks.length;++d)s.tracks[d].shift(-1*u);return s.resetDuration(),s}function pL(r,t=0,e=r,n=30){n<=0&&(n=30);const i=e.tracks.length,s=t/n;for(let l=0;l<i;++l){const u=e.tracks[l],d=u.ValueTypeName;if(d==="bool"||d==="string")continue;const p=r.tracks.find(function(b){return b.name===u.name&&b.ValueTypeName===d});if(p===void 0)continue;let g=0;const _=u.getValueSize();u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(g=_/3);let y=0;const x=p.getValueSize();p.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(y=x/3);const M=u.times.length-1;let T;if(s<=u.times[0]){const b=g,w=_-g;T=u.values.slice(b,w)}else if(s>=u.times[M]){const b=M*_+g,w=b+_-g;T=u.values.slice(b,w)}else{const b=u.createInterpolant(),w=g,D=_-g;b.evaluate(s),T=b.resultBuffer.slice(w,D)}d==="quaternion"&&new za().fromArray(T).normalize().conjugate().toArray(T);const E=p.times.length;for(let b=0;b<E;++b){const w=b*x+y;if(d==="quaternion")za.multiplyQuaternionsFlat(p.values,w,T,0,p.values,w);else{const D=x-y*2;for(let B=0;B<D;++B)p.values[w+B]-=T[B]}}}return r.blendMode=JE,r}class mL{static convertArray(t,e){return Xh(t,e)}static isTypedArray(t){return bB(t)}static getKeyframeOrder(t){return EB(t)}static sortedArray(t,e,n){return tE(t,e,n)}static flattenJSON(t,e,n,i){m1(t,e,n,i)}static subclip(t,e,n,i,s=30){return dL(t,e,n,i,s)}static makeClipAdditive(t,e=0,n=t,i=30){return pL(t,e,n,i)}}class zm{constructor(t,e,n,i){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new e.constructor(n),this.sampleValues=e,this.valueSize=n,this.settings=null,this.DefaultSettings_={}}evaluate(t){const e=this.parameterPositions;let n=this._cachedIndex,i=e[n],s=e[n-1];t:{e:{let l;n:{i:if(!(t<i)){for(let u=n+2;;){if(i===void 0){if(t<s)break i;return n=e.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===u)break;if(s=i,i=e[++n],t<i)break e}l=e.length;break n}if(!(t>=s)){const u=e[1];t<u&&(n=2,s=u);for(let d=n-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(n===d)break;if(i=s,s=e[--n-1],t>=s)break e}l=n,n=0;break n}break t}for(;n<l;){const u=n+l>>>1;t<e[u]?l=u:n=u+1}if(i=e[n],s=e[n-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return n=e.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,s,i)}return this.interpolate_(n,s,t,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(t){const e=this.resultBuffer,n=this.sampleValues,i=this.valueSize,s=t*i;for(let l=0;l!==i;++l)e[l]=n[s+l];return e}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class TB extends zm{constructor(t,e,n,i){super(t,e,n,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Gh,endingEnd:Gh}}intervalChanged_(t,e,n){const i=this.parameterPositions;let s=t-2,l=t+1,u=i[s],d=i[l];if(u===void 0)switch(this.getSettings_().endingStart){case Vh:s=t,u=2*e-n;break;case n_:s=i.length-2,u=e+i[s]-i[s+1];break;default:s=t,u=n}if(d===void 0)switch(this.getSettings_().endingEnd){case Vh:l=t,d=2*n-e;break;case n_:l=1,d=n+i[1]-i[0];break;default:l=t-1,d=e}const p=(n-e)*.5,g=this.valueSize;this._weightPrev=p/(e-u),this._weightNext=p/(d-n),this._offsetPrev=s*g,this._offsetNext=l*g}interpolate_(t,e,n,i){const s=this.resultBuffer,l=this.sampleValues,u=this.valueSize,d=t*u,p=d-u,g=this._offsetPrev,_=this._offsetNext,y=this._weightPrev,x=this._weightNext,M=(n-e)/(i-e),T=M*M,E=T*M,b=-y*E+2*y*T-y*M,w=(1+y)*E+(-1.5-2*y)*T+(-.5+y)*M+1,D=(-1-x)*E+(1.5+x)*T+.5*M,B=x*E-x*T;for(let L=0;L!==u;++L)s[L]=b*l[g+L]+w*l[p+L]+D*l[d+L]+B*l[_+L];return s}}class g1 extends zm{constructor(t,e,n,i){super(t,e,n,i)}interpolate_(t,e,n,i){const s=this.resultBuffer,l=this.sampleValues,u=this.valueSize,d=t*u,p=d-u,g=(n-e)/(i-e),_=1-g;for(let y=0;y!==u;++y)s[y]=l[p+y]*_+l[d+y]*g;return s}}class CB extends zm{constructor(t,e,n,i){super(t,e,n,i)}interpolate_(t){return this.copySampleValue_(t-1)}}class To{constructor(t,e,n,i){if(t===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(e===void 0||e.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=Xh(e,this.TimeBufferType),this.values=Xh(n,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(t){const e=t.constructor;let n;if(e.toJSON!==this.toJSON)n=e.toJSON(t);else{n={name:t.name,times:Xh(t.times,Array),values:Xh(t.values,Array)};const i=t.getInterpolation();i!==t.DefaultInterpolation&&(n.interpolation=i)}return n.type=t.ValueTypeName,n}InterpolantFactoryMethodDiscrete(t){return new CB(this.times,this.values,this.getValueSize(),t)}InterpolantFactoryMethodLinear(t){return new g1(this.times,this.values,this.getValueSize(),t)}InterpolantFactoryMethodSmooth(t){return new TB(this.times,this.values,this.getValueSize(),t)}setInterpolation(t){let e;switch(t){case _m:e=this.InterpolantFactoryMethodDiscrete;break;case vm:e=this.InterpolantFactoryMethodLinear;break;case yx:e=this.InterpolantFactoryMethodSmooth;break}if(e===void 0){const n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(t!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(n);return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=e,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return _m;case this.InterpolantFactoryMethodLinear:return vm;case this.InterpolantFactoryMethodSmooth:return yx}}getValueSize(){return this.values.length/this.times.length}shift(t){if(t!==0){const e=this.times;for(let n=0,i=e.length;n!==i;++n)e[n]+=t}return this}scale(t){if(t!==1){const e=this.times;for(let n=0,i=e.length;n!==i;++n)e[n]*=t}return this}trim(t,e){const n=this.times,i=n.length;let s=0,l=i-1;for(;s!==i&&n[s]<t;)++s;for(;l!==-1&&n[l]>e;)--l;if(++l,s!==0||l!==i){s>=l&&(l=Math.max(l,1),s=l-1);const u=this.getValueSize();this.times=n.slice(s,l),this.values=this.values.slice(s*u,l*u)}return this}validate(){let t=!0;const e=this.getValueSize();e-Math.floor(e)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),t=!1);const n=this.times,i=this.values,s=n.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),t=!1);let l=null;for(let u=0;u!==s;u++){const d=n[u];if(typeof d=="number"&&isNaN(d)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,u,d),t=!1;break}if(l!==null&&l>d){console.error("THREE.KeyframeTrack: Out of order keys.",this,u,d,l),t=!1;break}l=d}if(i!==void 0&&bB(i))for(let u=0,d=i.length;u!==d;++u){const p=i[u];if(isNaN(p)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,u,p),t=!1;break}}return t}optimize(){const t=this.times.slice(),e=this.values.slice(),n=this.getValueSize(),i=this.getInterpolation()===yx,s=t.length-1;let l=1;for(let u=1;u<s;++u){let d=!1;const p=t[u],g=t[u+1];if(p!==g&&(u!==1||p!==t[0]))if(i)d=!0;else{const _=u*n,y=_-n,x=_+n;for(let M=0;M!==n;++M){const T=e[_+M];if(T!==e[y+M]||T!==e[x+M]){d=!0;break}}}if(d){if(u!==l){t[l]=t[u];const _=u*n,y=l*n;for(let x=0;x!==n;++x)e[y+x]=e[_+x]}++l}}if(s>0){t[l]=t[s];for(let u=s*n,d=l*n,p=0;p!==n;++p)e[d+p]=e[u+p];++l}return l!==t.length?(this.times=t.slice(0,l),this.values=e.slice(0,l*n)):(this.times=t,this.values=e),this}clone(){const t=this.times.slice(),e=this.values.slice(),n=this.constructor,i=new n(this.name,t,e);return i.createInterpolant=this.createInterpolant,i}}To.prototype.ValueTypeName="";To.prototype.TimeBufferType=Float32Array;To.prototype.ValueBufferType=Float32Array;To.prototype.DefaultInterpolation=vm;class vd extends To{constructor(t,e,n){super(t,e,n)}}vd.prototype.ValueTypeName="bool";vd.prototype.ValueBufferType=Array;vd.prototype.DefaultInterpolation=_m;vd.prototype.InterpolantFactoryMethodLinear=void 0;vd.prototype.InterpolantFactoryMethodSmooth=void 0;class _1 extends To{constructor(t,e,n,i){super(t,e,n,i)}}_1.prototype.ValueTypeName="color";class od extends To{constructor(t,e,n,i){super(t,e,n,i)}}od.prototype.ValueTypeName="number";class RB extends zm{constructor(t,e,n,i){super(t,e,n,i)}interpolate_(t,e,n,i){const s=this.resultBuffer,l=this.sampleValues,u=this.valueSize,d=(n-e)/(i-e);let p=t*u;for(let g=p+u;p!==g;p+=4)za.slerpFlat(s,0,l,p-u,l,p,d);return s}}class ld extends To{constructor(t,e,n,i){super(t,e,n,i)}InterpolantFactoryMethodLinear(t){return new RB(this.times,this.values,this.getValueSize(),t)}}ld.prototype.ValueTypeName="quaternion";ld.prototype.InterpolantFactoryMethodSmooth=void 0;class yd extends To{constructor(t,e,n){super(t,e,n)}}yd.prototype.ValueTypeName="string";yd.prototype.ValueBufferType=Array;yd.prototype.DefaultInterpolation=_m;yd.prototype.InterpolantFactoryMethodLinear=void 0;yd.prototype.InterpolantFactoryMethodSmooth=void 0;class ud extends To{constructor(t,e,n,i){super(t,e,n,i)}}ud.prototype.ValueTypeName="vector";class bm{constructor(t="",e=-1,n=[],i=YA){this.name=t,this.tracks=n,this.duration=e,this.blendMode=i,this.uuid=Xr(),this.duration<0&&this.resetDuration()}static parse(t){const e=[],n=t.tracks,i=1/(t.fps||1);for(let l=0,u=n.length;l!==u;++l)e.push(_L(n[l]).scale(i));const s=new this(t.name,t.duration,e,t.blendMode);return s.uuid=t.uuid,s}static toJSON(t){const e=[],n=t.tracks,i={name:t.name,duration:t.duration,tracks:e,uuid:t.uuid,blendMode:t.blendMode};for(let s=0,l=n.length;s!==l;++s)e.push(To.toJSON(n[s]));return i}static CreateFromMorphTargetSequence(t,e,n,i){const s=e.length,l=[];for(let u=0;u<s;u++){let d=[],p=[];d.push((u+s-1)%s,u,(u+1)%s),p.push(0,1,0);const g=EB(d);d=tE(d,1,g),p=tE(p,1,g),!i&&d[0]===0&&(d.push(s),p.push(p[0])),l.push(new od(".morphTargetInfluences["+e[u].name+"]",d,p).scale(1/n))}return new this(t,-1,l)}static findByName(t,e){let n=t;if(!Array.isArray(t)){const i=t;n=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<n.length;i++)if(n[i].name===e)return n[i];return null}static CreateClipsFromMorphTargetSequences(t,e,n){const i={},s=/^([\w-]*?)([\d]+)$/;for(let u=0,d=t.length;u<d;u++){const p=t[u],g=p.name.match(s);if(g&&g.length>1){const _=g[1];let y=i[_];y||(i[_]=y=[]),y.push(p)}}const l=[];for(const u in i)l.push(this.CreateFromMorphTargetSequence(u,i[u],e,n));return l}static parseAnimation(t,e){if(console.warn("THREE.AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!t)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const n=function(_,y,x,M,T){if(x.length!==0){const E=[],b=[];m1(x,E,b,M),E.length!==0&&T.push(new _(y,E,b))}},i=[],s=t.name||"default",l=t.fps||30,u=t.blendMode;let d=t.length||-1;const p=t.hierarchy||[];for(let _=0;_<p.length;_++){const y=p[_].keys;if(!(!y||y.length===0))if(y[0].morphTargets){const x={};let M;for(M=0;M<y.length;M++)if(y[M].morphTargets)for(let T=0;T<y[M].morphTargets.length;T++)x[y[M].morphTargets[T]]=-1;for(const T in x){const E=[],b=[];for(let w=0;w!==y[M].morphTargets.length;++w){const D=y[M];E.push(D.time),b.push(D.morphTarget===T?1:0)}i.push(new od(".morphTargetInfluence["+T+"]",E,b))}d=x.length*l}else{const x=".bones["+e[_].name+"]";n(ud,x+".position",y,"pos",i),n(ld,x+".quaternion",y,"rot",i),n(ud,x+".scale",y,"scl",i)}}return i.length===0?null:new this(s,d,i,u)}resetDuration(){const t=this.tracks;let e=0;for(let n=0,i=t.length;n!==i;++n){const s=this.tracks[n];e=Math.max(e,s.times[s.times.length-1])}return this.duration=e,this}trim(){for(let t=0;t<this.tracks.length;t++)this.tracks[t].trim(0,this.duration);return this}validate(){let t=!0;for(let e=0;e<this.tracks.length;e++)t=t&&this.tracks[e].validate();return t}optimize(){for(let t=0;t<this.tracks.length;t++)this.tracks[t].optimize();return this}clone(){const t=[];for(let e=0;e<this.tracks.length;e++)t.push(this.tracks[e].clone());return new this.constructor(this.name,this.duration,t,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function gL(r){switch(r.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return od;case"vector":case"vector2":case"vector3":case"vector4":return ud;case"color":return _1;case"quaternion":return ld;case"bool":case"boolean":return vd;case"string":return yd}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+r)}function _L(r){if(r.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const t=gL(r.type);if(r.times===void 0){const e=[],n=[];m1(r.keys,e,n,"value"),r.times=e,r.values=n}return t.parse!==void 0?t.parse(r):new t(r.name,r.times,r.values,r.interpolation)}const Jl={enabled:!1,files:{},add:function(r,t){this.enabled!==!1&&(this.files[r]=t)},get:function(r){if(this.enabled!==!1)return this.files[r]},remove:function(r){delete this.files[r]},clear:function(){this.files={}}};class v1{constructor(t,e,n){const i=this;let s=!1,l=0,u=0,d;const p=[];this.onStart=void 0,this.onLoad=t,this.onProgress=e,this.onError=n,this.abortController=new AbortController,this.itemStart=function(g){u++,s===!1&&i.onStart!==void 0&&i.onStart(g,l,u),s=!0},this.itemEnd=function(g){l++,i.onProgress!==void 0&&i.onProgress(g,l,u),l===u&&(s=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(g){i.onError!==void 0&&i.onError(g)},this.resolveURL=function(g){return d?d(g):g},this.setURLModifier=function(g){return d=g,this},this.addHandler=function(g,_){return p.push(g,_),this},this.removeHandler=function(g){const _=p.indexOf(g);return _!==-1&&p.splice(_,2),this},this.getHandler=function(g){for(let _=0,y=p.length;_<y;_+=2){const x=p[_],M=p[_+1];if(x.global&&(x.lastIndex=0),x.test(g))return M}return null},this.abort=function(){return this.abortController.abort(),this.abortController=new AbortController,this}}}const wB=new v1;class xs{constructor(t){this.manager=t!==void 0?t:wB,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(t,e){const n=this;return new Promise(function(i,s){n.load(t,i,e,s)})}parse(){}setCrossOrigin(t){return this.crossOrigin=t,this}setWithCredentials(t){return this.withCredentials=t,this}setPath(t){return this.path=t,this}setResourcePath(t){return this.resourcePath=t,this}setRequestHeader(t){return this.requestHeader=t,this}abort(){return this}}xs.DEFAULT_MATERIAL_NAME="__DEFAULT";const Ou={};class vL extends Error{constructor(t,e){super(t),this.response=e}}class qr extends xs{constructor(t){super(t),this.mimeType="",this.responseType="",this._abortController=new AbortController}load(t,e,n,i){t===void 0&&(t=""),this.path!==void 0&&(t=this.path+t),t=this.manager.resolveURL(t);const s=Jl.get(`file:${t}`);if(s!==void 0)return this.manager.itemStart(t),setTimeout(()=>{e&&e(s),this.manager.itemEnd(t)},0),s;if(Ou[t]!==void 0){Ou[t].push({onLoad:e,onProgress:n,onError:i});return}Ou[t]=[],Ou[t].push({onLoad:e,onProgress:n,onError:i});const l=new Request(t,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin",signal:typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal}),u=this.mimeType,d=this.responseType;fetch(l).then(p=>{if(p.status===200||p.status===0){if(p.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||p.body===void 0||p.body.getReader===void 0)return p;const g=Ou[t],_=p.body.getReader(),y=p.headers.get("X-File-Size")||p.headers.get("Content-Length"),x=y?parseInt(y):0,M=x!==0;let T=0;const E=new ReadableStream({start(b){w();function w(){_.read().then(({done:D,value:B})=>{if(D)b.close();else{T+=B.byteLength;const L=new ProgressEvent("progress",{lengthComputable:M,loaded:T,total:x});for(let P=0,H=g.length;P<H;P++){const F=g[P];F.onProgress&&F.onProgress(L)}b.enqueue(B),w()}},D=>{b.error(D)})}}});return new Response(E)}else throw new vL(`fetch for "${p.url}" responded with ${p.status}: ${p.statusText}`,p)}).then(p=>{switch(d){case"arraybuffer":return p.arrayBuffer();case"blob":return p.blob();case"document":return p.text().then(g=>new DOMParser().parseFromString(g,u));case"json":return p.json();default:if(u==="")return p.text();{const _=/charset="?([^;"\s]*)"?/i.exec(u),y=_&&_[1]?_[1].toLowerCase():void 0,x=new TextDecoder(y);return p.arrayBuffer().then(M=>x.decode(M))}}}).then(p=>{Jl.add(`file:${t}`,p);const g=Ou[t];delete Ou[t];for(let _=0,y=g.length;_<y;_++){const x=g[_];x.onLoad&&x.onLoad(p)}}).catch(p=>{const g=Ou[t];if(g===void 0)throw this.manager.itemError(t),p;delete Ou[t];for(let _=0,y=g.length;_<y;_++){const x=g[_];x.onError&&x.onError(p)}this.manager.itemError(t)}).finally(()=>{this.manager.itemEnd(t)}),this.manager.itemStart(t)}setResponseType(t){return this.responseType=t,this}setMimeType(t){return this.mimeType=t,this}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}class yL extends xs{constructor(t){super(t)}load(t,e,n,i){const s=this,l=new qr(this.manager);l.setPath(this.path),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(t,function(u){try{e(s.parse(JSON.parse(u)))}catch(d){i?i(d):console.error(d),s.manager.itemError(t)}},n,i)}parse(t){const e=[];for(let n=0;n<t.length;n++){const i=bm.parse(t[n]);e.push(i)}return e}}class xL extends xs{constructor(t){super(t)}load(t,e,n,i){const s=this,l=[],u=new tS,d=new qr(this.manager);d.setPath(this.path),d.setResponseType("arraybuffer"),d.setRequestHeader(this.requestHeader),d.setWithCredentials(s.withCredentials);let p=0;function g(_){d.load(t[_],function(y){const x=s.parse(y,!0);l[_]={width:x.width,height:x.height,format:x.format,mipmaps:x.mipmaps},p+=1,p===6&&(x.mipmapCount===1&&(u.minFilter=$i),u.image=l,u.format=x.format,u.needsUpdate=!0,e&&e(u))},n,i)}if(Array.isArray(t))for(let _=0,y=t.length;_<y;++_)g(_);else d.load(t,function(_){const y=s.parse(_,!0);if(y.isCubemap){const x=y.mipmaps.length/y.mipmapCount;for(let M=0;M<x;M++){l[M]={mipmaps:[]};for(let T=0;T<y.mipmapCount;T++)l[M].mipmaps.push(y.mipmaps[M*y.mipmapCount+T]),l[M].format=y.format,l[M].width=y.width,l[M].height=y.height}u.image=l}else u.image.width=y.width,u.image.height=y.height,u.mipmaps=y.mipmaps;y.mipmapCount===1&&(u.minFilter=$i),u.format=y.format,u.needsUpdate=!0,e&&e(u)},n,i);return u}}const zp=new WeakMap;class u_ extends xs{constructor(t){super(t)}load(t,e,n,i){this.path!==void 0&&(t=this.path+t),t=this.manager.resolveURL(t);const s=this,l=Jl.get(`image:${t}`);if(l!==void 0){if(l.complete===!0)s.manager.itemStart(t),setTimeout(function(){e&&e(l),s.manager.itemEnd(t)},0);else{let _=zp.get(l);_===void 0&&(_=[],zp.set(l,_)),_.push({onLoad:e,onError:i})}return l}const u=s_("img");function d(){g(),e&&e(this);const _=zp.get(this)||[];for(let y=0;y<_.length;y++){const x=_[y];x.onLoad&&x.onLoad(this)}zp.delete(this),s.manager.itemEnd(t)}function p(_){g(),i&&i(_),Jl.remove(`image:${t}`);const y=zp.get(this)||[];for(let x=0;x<y.length;x++){const M=y[x];M.onError&&M.onError(_)}zp.delete(this),s.manager.itemError(t),s.manager.itemEnd(t)}function g(){u.removeEventListener("load",d,!1),u.removeEventListener("error",p,!1)}return u.addEventListener("load",d,!1),u.addEventListener("error",p,!1),t.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(u.crossOrigin=this.crossOrigin),Jl.add(`image:${t}`,u),s.manager.itemStart(t),u.src=t,u}}class AL extends xs{constructor(t){super(t)}load(t,e,n,i){const s=new M_;s.colorSpace=ps;const l=new u_(this.manager);l.setCrossOrigin(this.crossOrigin),l.setPath(this.path);let u=0;function d(p){l.load(t[p],function(g){s.images[p]=g,u++,u===6&&(s.needsUpdate=!0,e&&e(s))},void 0,i)}for(let p=0;p<t.length;++p)d(p);return s}}class SL extends xs{constructor(t){super(t)}load(t,e,n,i){const s=this,l=new Ql,u=new qr(this.manager);return u.setResponseType("arraybuffer"),u.setRequestHeader(this.requestHeader),u.setPath(this.path),u.setWithCredentials(s.withCredentials),u.load(t,function(d){let p;try{p=s.parse(d)}catch(g){if(i!==void 0)i(g);else{console.error(g);return}}p.image!==void 0?l.image=p.image:p.data!==void 0&&(l.image.width=p.width,l.image.height=p.height,l.image.data=p.data),l.wrapS=p.wrapS!==void 0?p.wrapS:zr,l.wrapT=p.wrapT!==void 0?p.wrapT:zr,l.magFilter=p.magFilter!==void 0?p.magFilter:$i,l.minFilter=p.minFilter!==void 0?p.minFilter:$i,l.anisotropy=p.anisotropy!==void 0?p.anisotropy:1,p.colorSpace!==void 0&&(l.colorSpace=p.colorSpace),p.flipY!==void 0&&(l.flipY=p.flipY),p.format!==void 0&&(l.format=p.format),p.type!==void 0&&(l.type=p.type),p.mipmaps!==void 0&&(l.mipmaps=p.mipmaps,l.minFilter=yo),p.mipmapCount===1&&(l.minFilter=$i),p.generateMipmaps!==void 0&&(l.generateMipmaps=p.generateMipmaps),l.needsUpdate=!0,e&&e(l,p)},n,i),l}}class BB extends xs{constructor(t){super(t)}load(t,e,n,i){const s=new wi,l=new u_(this.manager);return l.setCrossOrigin(this.crossOrigin),l.setPath(this.path),l.load(t,function(u){s.image=u,s.needsUpdate=!0,e!==void 0&&e(s)},n,i),s}}class Sf extends Pn{constructor(t,e=1){super(),this.isLight=!0,this.type="Light",this.color=new pe(t),this.intensity=e}dispose(){}copy(t,e){return super.copy(t,e),this.color.copy(t.color),this.intensity=t.intensity,this}toJSON(t){const e=super.toJSON(t);return e.object.color=this.color.getHex(),e.object.intensity=this.intensity,this.groundColor!==void 0&&(e.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(e.object.distance=this.distance),this.angle!==void 0&&(e.object.angle=this.angle),this.decay!==void 0&&(e.object.decay=this.decay),this.penumbra!==void 0&&(e.object.penumbra=this.penumbra),this.shadow!==void 0&&(e.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(e.object.target=this.target.uuid),e}}class DB extends Sf{constructor(t,e,n){super(t,n),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Pn.DEFAULT_UP),this.updateMatrix(),this.groundColor=new pe(e)}copy(t,e){return super.copy(t,e),this.groundColor.copy(t.groundColor),this}}const GM=new Ye,kC=new W,YC=new W;class y1{constructor(t){this.camera=t,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Ht(512,512),this.mapType=bo,this.map=null,this.mapPass=null,this.matrix=new Ye,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Pm,this._frameExtents=new Ht(1,1),this._viewportCount=1,this._viewports=[new Gn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(t){const e=this.camera,n=this.matrix;kC.setFromMatrixPosition(t.matrixWorld),e.position.copy(kC),YC.setFromMatrixPosition(t.target.matrixWorld),e.lookAt(YC),e.updateMatrixWorld(),GM.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),this._frustum.setFromProjectionMatrix(GM,e.coordinateSystem,e.reversedDepth),e.reversedDepth?n.set(.5,0,0,.5,0,.5,0,.5,0,0,1,0,0,0,0,1):n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(GM)}getViewport(t){return this._viewports[t]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(t){return this.camera=t.camera.clone(),this.intensity=t.intensity,this.bias=t.bias,this.radius=t.radius,this.autoUpdate=t.autoUpdate,this.needsUpdate=t.needsUpdate,this.normalBias=t.normalBias,this.blurSamples=t.blurSamples,this.mapSize.copy(t.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const t={};return this.intensity!==1&&(t.intensity=this.intensity),this.bias!==0&&(t.bias=this.bias),this.normalBias!==0&&(t.normalBias=this.normalBias),this.radius!==1&&(t.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}}class ML extends y1{constructor(){super(new Xi(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1,this.aspect=1}updateMatrices(t){const e=this.camera,n=xm*2*t.angle*this.focus,i=this.mapSize.width/this.mapSize.height*this.aspect,s=t.distance||e.far;(n!==e.fov||i!==e.aspect||s!==e.far)&&(e.fov=n,e.aspect=i,e.far=s,e.updateProjectionMatrix()),super.updateMatrices(t)}copy(t){return super.copy(t),this.focus=t.focus,this}}class x1 extends Sf{constructor(t,e,n=0,i=Math.PI/3,s=0,l=2){super(t,e),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Pn.DEFAULT_UP),this.updateMatrix(),this.target=new Pn,this.distance=n,this.angle=i,this.penumbra=s,this.decay=l,this.map=null,this.shadow=new ML}get power(){return this.intensity*Math.PI}set power(t){this.intensity=t/Math.PI}dispose(){this.shadow.dispose()}copy(t,e){return super.copy(t,e),this.distance=t.distance,this.angle=t.angle,this.penumbra=t.penumbra,this.decay=t.decay,this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}const qC=new Ye,m0=new W,VM=new W;class bL extends y1{constructor(){super(new Xi(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Ht(4,2),this._viewportCount=6,this._viewports=[new Gn(2,1,1,1),new Gn(0,1,1,1),new Gn(3,1,1,1),new Gn(1,1,1,1),new Gn(3,0,1,1),new Gn(1,0,1,1)],this._cubeDirections=[new W(1,0,0),new W(-1,0,0),new W(0,0,1),new W(0,0,-1),new W(0,1,0),new W(0,-1,0)],this._cubeUps=[new W(0,1,0),new W(0,1,0),new W(0,1,0),new W(0,1,0),new W(0,0,1),new W(0,0,-1)]}updateMatrices(t,e=0){const n=this.camera,i=this.matrix,s=t.distance||n.far;s!==n.far&&(n.far=s,n.updateProjectionMatrix()),m0.setFromMatrixPosition(t.matrixWorld),n.position.copy(m0),VM.copy(n.position),VM.add(this._cubeDirections[e]),n.up.copy(this._cubeUps[e]),n.lookAt(VM),n.updateMatrixWorld(),i.makeTranslation(-m0.x,-m0.y,-m0.z),qC.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(qC,n.coordinateSystem,n.reversedDepth)}}class A1 extends Sf{constructor(t,e,n=0,i=2){super(t,e),this.isPointLight=!0,this.type="PointLight",this.distance=n,this.decay=i,this.shadow=new bL}get power(){return this.intensity*4*Math.PI}set power(t){this.intensity=t/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(t,e){return super.copy(t,e),this.distance=t.distance,this.decay=t.decay,this.shadow=t.shadow.clone(),this}}class Yu extends KA{constructor(t=-1,e=1,n=1,i=-1,s=.1,l=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=t,this.right=e,this.top=n,this.bottom=i,this.near=s,this.far=l,this.updateProjectionMatrix()}copy(t,e){return super.copy(t,e),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=t.view===null?null:Object.assign({},t.view),this}setViewOffset(t,e,n,i,s,l){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=n,this.view.offsetY=i,this.view.width=s,this.view.height=l,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let s=n-t,l=n+t,u=i+e,d=i-e;if(this.view!==null&&this.view.enabled){const p=(this.right-this.left)/this.view.fullWidth/this.zoom,g=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=p*this.view.offsetX,l=s+p*this.view.width,u-=g*this.view.offsetY,d=u-g*this.view.height}this.projectionMatrix.makeOrthographic(s,l,u,d,this.near,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){const e=super.toJSON(t);return e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,this.view!==null&&(e.object.view=Object.assign({},this.view)),e}}class EL extends y1{constructor(){super(new Yu(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class S1 extends Sf{constructor(t,e){super(t,e),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Pn.DEFAULT_UP),this.updateMatrix(),this.target=new Pn,this.shadow=new EL}dispose(){this.shadow.dispose()}copy(t){return super.copy(t),this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}class OB extends Sf{constructor(t,e){super(t,e),this.isAmbientLight=!0,this.type="AmbientLight"}}class M1 extends Sf{constructor(t,e,n=10,i=10){super(t,e),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=n,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(t){this.intensity=t/(this.width*this.height*Math.PI)}copy(t){return super.copy(t),this.width=t.width,this.height=t.height,this}toJSON(t){const e=super.toJSON(t);return e.object.width=this.width,e.object.height=this.height,e}}class UB{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let t=0;t<9;t++)this.coefficients.push(new W)}set(t){for(let e=0;e<9;e++)this.coefficients[e].copy(t[e]);return this}zero(){for(let t=0;t<9;t++)this.coefficients[t].set(0,0,0);return this}getAt(t,e){const n=t.x,i=t.y,s=t.z,l=this.coefficients;return e.copy(l[0]).multiplyScalar(.282095),e.addScaledVector(l[1],.488603*i),e.addScaledVector(l[2],.488603*s),e.addScaledVector(l[3],.488603*n),e.addScaledVector(l[4],1.092548*(n*i)),e.addScaledVector(l[5],1.092548*(i*s)),e.addScaledVector(l[6],.315392*(3*s*s-1)),e.addScaledVector(l[7],1.092548*(n*s)),e.addScaledVector(l[8],.546274*(n*n-i*i)),e}getIrradianceAt(t,e){const n=t.x,i=t.y,s=t.z,l=this.coefficients;return e.copy(l[0]).multiplyScalar(.886227),e.addScaledVector(l[1],2*.511664*i),e.addScaledVector(l[2],2*.511664*s),e.addScaledVector(l[3],2*.511664*n),e.addScaledVector(l[4],2*.429043*n*i),e.addScaledVector(l[5],2*.429043*i*s),e.addScaledVector(l[6],.743125*s*s-.247708),e.addScaledVector(l[7],2*.429043*n*s),e.addScaledVector(l[8],.429043*(n*n-i*i)),e}add(t){for(let e=0;e<9;e++)this.coefficients[e].add(t.coefficients[e]);return this}addScaledSH(t,e){for(let n=0;n<9;n++)this.coefficients[n].addScaledVector(t.coefficients[n],e);return this}scale(t){for(let e=0;e<9;e++)this.coefficients[e].multiplyScalar(t);return this}lerp(t,e){for(let n=0;n<9;n++)this.coefficients[n].lerp(t.coefficients[n],e);return this}equals(t){for(let e=0;e<9;e++)if(!this.coefficients[e].equals(t.coefficients[e]))return!1;return!0}copy(t){return this.set(t.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(t,e=0){const n=this.coefficients;for(let i=0;i<9;i++)n[i].fromArray(t,e+i*3);return this}toArray(t=[],e=0){const n=this.coefficients;for(let i=0;i<9;i++)n[i].toArray(t,e+i*3);return t}static getBasisAt(t,e){const n=t.x,i=t.y,s=t.z;e[0]=.282095,e[1]=.488603*i,e[2]=.488603*s,e[3]=.488603*n,e[4]=1.092548*n*i,e[5]=1.092548*i*s,e[6]=.315392*(3*s*s-1),e[7]=1.092548*n*s,e[8]=.546274*(n*n-i*i)}}class NB extends Sf{constructor(t=new UB,e=1){super(void 0,e),this.isLightProbe=!0,this.sh=t}copy(t){return super.copy(t),this.sh.copy(t.sh),this}fromJSON(t){return this.intensity=t.intensity,this.sh.fromArray(t.sh),this}toJSON(t){const e=super.toJSON(t);return e.object.sh=this.sh.toArray(),e}}class pS extends xs{constructor(t){super(t),this.textures={}}load(t,e,n,i){const s=this,l=new qr(s.manager);l.setPath(s.path),l.setRequestHeader(s.requestHeader),l.setWithCredentials(s.withCredentials),l.load(t,function(u){try{e(s.parse(JSON.parse(u)))}catch(d){i?i(d):console.error(d),s.manager.itemError(t)}},n,i)}parse(t){const e=this.textures;function n(s){return e[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),e[s]}const i=this.createMaterialFromType(t.type);if(t.uuid!==void 0&&(i.uuid=t.uuid),t.name!==void 0&&(i.name=t.name),t.color!==void 0&&i.color!==void 0&&i.color.setHex(t.color),t.roughness!==void 0&&(i.roughness=t.roughness),t.metalness!==void 0&&(i.metalness=t.metalness),t.sheen!==void 0&&(i.sheen=t.sheen),t.sheenColor!==void 0&&(i.sheenColor=new pe().setHex(t.sheenColor)),t.sheenRoughness!==void 0&&(i.sheenRoughness=t.sheenRoughness),t.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(t.emissive),t.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(t.specular),t.specularIntensity!==void 0&&(i.specularIntensity=t.specularIntensity),t.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(t.specularColor),t.shininess!==void 0&&(i.shininess=t.shininess),t.clearcoat!==void 0&&(i.clearcoat=t.clearcoat),t.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=t.clearcoatRoughness),t.dispersion!==void 0&&(i.dispersion=t.dispersion),t.iridescence!==void 0&&(i.iridescence=t.iridescence),t.iridescenceIOR!==void 0&&(i.iridescenceIOR=t.iridescenceIOR),t.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=t.iridescenceThicknessRange),t.transmission!==void 0&&(i.transmission=t.transmission),t.thickness!==void 0&&(i.thickness=t.thickness),t.attenuationDistance!==void 0&&(i.attenuationDistance=t.attenuationDistance),t.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(t.attenuationColor),t.anisotropy!==void 0&&(i.anisotropy=t.anisotropy),t.anisotropyRotation!==void 0&&(i.anisotropyRotation=t.anisotropyRotation),t.fog!==void 0&&(i.fog=t.fog),t.flatShading!==void 0&&(i.flatShading=t.flatShading),t.blending!==void 0&&(i.blending=t.blending),t.combine!==void 0&&(i.combine=t.combine),t.side!==void 0&&(i.side=t.side),t.shadowSide!==void 0&&(i.shadowSide=t.shadowSide),t.opacity!==void 0&&(i.opacity=t.opacity),t.transparent!==void 0&&(i.transparent=t.transparent),t.alphaTest!==void 0&&(i.alphaTest=t.alphaTest),t.alphaHash!==void 0&&(i.alphaHash=t.alphaHash),t.depthFunc!==void 0&&(i.depthFunc=t.depthFunc),t.depthTest!==void 0&&(i.depthTest=t.depthTest),t.depthWrite!==void 0&&(i.depthWrite=t.depthWrite),t.colorWrite!==void 0&&(i.colorWrite=t.colorWrite),t.blendSrc!==void 0&&(i.blendSrc=t.blendSrc),t.blendDst!==void 0&&(i.blendDst=t.blendDst),t.blendEquation!==void 0&&(i.blendEquation=t.blendEquation),t.blendSrcAlpha!==void 0&&(i.blendSrcAlpha=t.blendSrcAlpha),t.blendDstAlpha!==void 0&&(i.blendDstAlpha=t.blendDstAlpha),t.blendEquationAlpha!==void 0&&(i.blendEquationAlpha=t.blendEquationAlpha),t.blendColor!==void 0&&i.blendColor!==void 0&&i.blendColor.setHex(t.blendColor),t.blendAlpha!==void 0&&(i.blendAlpha=t.blendAlpha),t.stencilWriteMask!==void 0&&(i.stencilWriteMask=t.stencilWriteMask),t.stencilFunc!==void 0&&(i.stencilFunc=t.stencilFunc),t.stencilRef!==void 0&&(i.stencilRef=t.stencilRef),t.stencilFuncMask!==void 0&&(i.stencilFuncMask=t.stencilFuncMask),t.stencilFail!==void 0&&(i.stencilFail=t.stencilFail),t.stencilZFail!==void 0&&(i.stencilZFail=t.stencilZFail),t.stencilZPass!==void 0&&(i.stencilZPass=t.stencilZPass),t.stencilWrite!==void 0&&(i.stencilWrite=t.stencilWrite),t.wireframe!==void 0&&(i.wireframe=t.wireframe),t.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=t.wireframeLinewidth),t.wireframeLinecap!==void 0&&(i.wireframeLinecap=t.wireframeLinecap),t.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=t.wireframeLinejoin),t.rotation!==void 0&&(i.rotation=t.rotation),t.linewidth!==void 0&&(i.linewidth=t.linewidth),t.dashSize!==void 0&&(i.dashSize=t.dashSize),t.gapSize!==void 0&&(i.gapSize=t.gapSize),t.scale!==void 0&&(i.scale=t.scale),t.polygonOffset!==void 0&&(i.polygonOffset=t.polygonOffset),t.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=t.polygonOffsetFactor),t.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=t.polygonOffsetUnits),t.dithering!==void 0&&(i.dithering=t.dithering),t.alphaToCoverage!==void 0&&(i.alphaToCoverage=t.alphaToCoverage),t.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=t.premultipliedAlpha),t.forceSinglePass!==void 0&&(i.forceSinglePass=t.forceSinglePass),t.visible!==void 0&&(i.visible=t.visible),t.toneMapped!==void 0&&(i.toneMapped=t.toneMapped),t.userData!==void 0&&(i.userData=t.userData),t.vertexColors!==void 0&&(typeof t.vertexColors=="number"?i.vertexColors=t.vertexColors>0:i.vertexColors=t.vertexColors),t.uniforms!==void 0)for(const s in t.uniforms){const l=t.uniforms[s];switch(i.uniforms[s]={},l.type){case"t":i.uniforms[s].value=n(l.value);break;case"c":i.uniforms[s].value=new pe().setHex(l.value);break;case"v2":i.uniforms[s].value=new Ht().fromArray(l.value);break;case"v3":i.uniforms[s].value=new W().fromArray(l.value);break;case"v4":i.uniforms[s].value=new Gn().fromArray(l.value);break;case"m3":i.uniforms[s].value=new fn().fromArray(l.value);break;case"m4":i.uniforms[s].value=new Ye().fromArray(l.value);break;default:i.uniforms[s].value=l.value}}if(t.defines!==void 0&&(i.defines=t.defines),t.vertexShader!==void 0&&(i.vertexShader=t.vertexShader),t.fragmentShader!==void 0&&(i.fragmentShader=t.fragmentShader),t.glslVersion!==void 0&&(i.glslVersion=t.glslVersion),t.extensions!==void 0)for(const s in t.extensions)i.extensions[s]=t.extensions[s];if(t.lights!==void 0&&(i.lights=t.lights),t.clipping!==void 0&&(i.clipping=t.clipping),t.size!==void 0&&(i.size=t.size),t.sizeAttenuation!==void 0&&(i.sizeAttenuation=t.sizeAttenuation),t.map!==void 0&&(i.map=n(t.map)),t.matcap!==void 0&&(i.matcap=n(t.matcap)),t.alphaMap!==void 0&&(i.alphaMap=n(t.alphaMap)),t.bumpMap!==void 0&&(i.bumpMap=n(t.bumpMap)),t.bumpScale!==void 0&&(i.bumpScale=t.bumpScale),t.normalMap!==void 0&&(i.normalMap=n(t.normalMap)),t.normalMapType!==void 0&&(i.normalMapType=t.normalMapType),t.normalScale!==void 0){let s=t.normalScale;Array.isArray(s)===!1&&(s=[s,s]),i.normalScale=new Ht().fromArray(s)}return t.displacementMap!==void 0&&(i.displacementMap=n(t.displacementMap)),t.displacementScale!==void 0&&(i.displacementScale=t.displacementScale),t.displacementBias!==void 0&&(i.displacementBias=t.displacementBias),t.roughnessMap!==void 0&&(i.roughnessMap=n(t.roughnessMap)),t.metalnessMap!==void 0&&(i.metalnessMap=n(t.metalnessMap)),t.emissiveMap!==void 0&&(i.emissiveMap=n(t.emissiveMap)),t.emissiveIntensity!==void 0&&(i.emissiveIntensity=t.emissiveIntensity),t.specularMap!==void 0&&(i.specularMap=n(t.specularMap)),t.specularIntensityMap!==void 0&&(i.specularIntensityMap=n(t.specularIntensityMap)),t.specularColorMap!==void 0&&(i.specularColorMap=n(t.specularColorMap)),t.envMap!==void 0&&(i.envMap=n(t.envMap)),t.envMapRotation!==void 0&&i.envMapRotation.fromArray(t.envMapRotation),t.envMapIntensity!==void 0&&(i.envMapIntensity=t.envMapIntensity),t.reflectivity!==void 0&&(i.reflectivity=t.reflectivity),t.refractionRatio!==void 0&&(i.refractionRatio=t.refractionRatio),t.lightMap!==void 0&&(i.lightMap=n(t.lightMap)),t.lightMapIntensity!==void 0&&(i.lightMapIntensity=t.lightMapIntensity),t.aoMap!==void 0&&(i.aoMap=n(t.aoMap)),t.aoMapIntensity!==void 0&&(i.aoMapIntensity=t.aoMapIntensity),t.gradientMap!==void 0&&(i.gradientMap=n(t.gradientMap)),t.clearcoatMap!==void 0&&(i.clearcoatMap=n(t.clearcoatMap)),t.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=n(t.clearcoatRoughnessMap)),t.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=n(t.clearcoatNormalMap)),t.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new Ht().fromArray(t.clearcoatNormalScale)),t.iridescenceMap!==void 0&&(i.iridescenceMap=n(t.iridescenceMap)),t.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=n(t.iridescenceThicknessMap)),t.transmissionMap!==void 0&&(i.transmissionMap=n(t.transmissionMap)),t.thicknessMap!==void 0&&(i.thicknessMap=n(t.thicknessMap)),t.anisotropyMap!==void 0&&(i.anisotropyMap=n(t.anisotropyMap)),t.sheenColorMap!==void 0&&(i.sheenColorMap=n(t.sheenColorMap)),t.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=n(t.sheenRoughnessMap)),i}setTextures(t){return this.textures=t,this}createMaterialFromType(t){return pS.createMaterialFromType(t)}static createMaterialFromType(t){const e={ShadowMaterial:gB,SpriteMaterial:e1,RawShaderMaterial:_B,ShaderMaterial:sl,PointsMaterial:$A,MeshPhysicalMaterial:Eo,MeshStandardMaterial:B_,MeshPhongMaterial:vB,MeshToonMaterial:yB,MeshNormalMaterial:xB,MeshLambertMaterial:AB,MeshDepthMaterial:d1,MeshDistanceMaterial:p1,MeshBasicMaterial:Gr,MeshMatcapMaterial:SB,LineDashedMaterial:MB,LineBasicMaterial:ys,Material:Ta};return new e[t]}}class uf{static extractUrlBase(t){const e=t.lastIndexOf("/");return e===-1?"./":t.slice(0,e+1)}static resolveURL(t,e){return typeof t!="string"||t===""?"":(/^https?:\/\//i.test(e)&&/^\//.test(t)&&(e=e.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(t)||/^data:.*,.*$/i.test(t)||/^blob:.*$/i.test(t)?t:e+t)}}class LB extends un{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(t){return super.copy(t),this.instanceCount=t.instanceCount,this}toJSON(){const t=super.toJSON();return t.instanceCount=this.instanceCount,t.isInstancedBufferGeometry=!0,t}}class IB extends xs{constructor(t){super(t)}load(t,e,n,i){const s=this,l=new qr(s.manager);l.setPath(s.path),l.setRequestHeader(s.requestHeader),l.setWithCredentials(s.withCredentials),l.load(t,function(u){try{e(s.parse(JSON.parse(u)))}catch(d){i?i(d):console.error(d),s.manager.itemError(t)}},n,i)}parse(t){const e={},n={};function i(x,M){if(e[M]!==void 0)return e[M];const E=x.interleavedBuffers[M],b=s(x,E.buffer),w=Qp(E.type,b),D=new b_(w,E.stride);return D.uuid=E.uuid,e[M]=D,D}function s(x,M){if(n[M]!==void 0)return n[M];const E=x.arrayBuffers[M],b=new Uint32Array(E).buffer;return n[M]=b,b}const l=t.isInstancedBufferGeometry?new LB:new un,u=t.data.index;if(u!==void 0){const x=Qp(u.type,u.array);l.setIndex(new Vn(x,1))}const d=t.data.attributes;for(const x in d){const M=d[x];let T;if(M.isInterleavedBufferAttribute){const E=i(t.data,M.data);T=new gf(E,M.itemSize,M.offset,M.normalized)}else{const E=Qp(M.type,M.array),b=M.isInstancedBufferAttribute?sd:Vn;T=new b(E,M.itemSize,M.normalized)}M.name!==void 0&&(T.name=M.name),M.usage!==void 0&&T.setUsage(M.usage),l.setAttribute(x,T)}const p=t.data.morphAttributes;if(p)for(const x in p){const M=p[x],T=[];for(let E=0,b=M.length;E<b;E++){const w=M[E];let D;if(w.isInterleavedBufferAttribute){const B=i(t.data,w.data);D=new gf(B,w.itemSize,w.offset,w.normalized)}else{const B=Qp(w.type,w.array);D=new Vn(B,w.itemSize,w.normalized)}w.name!==void 0&&(D.name=w.name),T.push(D)}l.morphAttributes[x]=T}t.data.morphTargetsRelative&&(l.morphTargetsRelative=!0);const _=t.data.groups||t.data.drawcalls||t.data.offsets;if(_!==void 0)for(let x=0,M=_.length;x!==M;++x){const T=_[x];l.addGroup(T.start,T.count,T.materialIndex)}const y=t.data.boundingSphere;return y!==void 0&&(l.boundingSphere=new Ha().fromJSON(y)),t.name&&(l.name=t.name),t.userData&&(l.userData=t.userData),l}}class TL extends xs{constructor(t){super(t)}load(t,e,n,i){const s=this,l=this.path===""?uf.extractUrlBase(t):this.path;this.resourcePath=this.resourcePath||l;const u=new qr(this.manager);u.setPath(this.path),u.setRequestHeader(this.requestHeader),u.setWithCredentials(this.withCredentials),u.load(t,function(d){let p=null;try{p=JSON.parse(d)}catch(_){i!==void 0&&i(_),console.error("THREE:ObjectLoader: Can't parse "+t+".",_.message);return}const g=p.metadata;if(g===void 0||g.type===void 0||g.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+t)),console.error("THREE.ObjectLoader: Can't load "+t);return}s.parse(p,e)},n,i)}async loadAsync(t,e){const n=this,i=this.path===""?uf.extractUrlBase(t):this.path;this.resourcePath=this.resourcePath||i;const s=new qr(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const l=await s.loadAsync(t,e),u=JSON.parse(l),d=u.metadata;if(d===void 0||d.type===void 0||d.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+t);return await n.parseAsync(u)}parse(t,e){const n=this.parseAnimations(t.animations),i=this.parseShapes(t.shapes),s=this.parseGeometries(t.geometries,i),l=this.parseImages(t.images,function(){e!==void 0&&e(p)}),u=this.parseTextures(t.textures,l),d=this.parseMaterials(t.materials,u),p=this.parseObject(t.object,s,d,u,n),g=this.parseSkeletons(t.skeletons,p);if(this.bindSkeletons(p,g),this.bindLightTargets(p),e!==void 0){let _=!1;for(const y in l)if(l[y].data instanceof HTMLImageElement){_=!0;break}_===!1&&e(p)}return p}async parseAsync(t){const e=this.parseAnimations(t.animations),n=this.parseShapes(t.shapes),i=this.parseGeometries(t.geometries,n),s=await this.parseImagesAsync(t.images),l=this.parseTextures(t.textures,s),u=this.parseMaterials(t.materials,l),d=this.parseObject(t.object,i,u,l,e),p=this.parseSkeletons(t.skeletons,d);return this.bindSkeletons(d,p),this.bindLightTargets(d),d}parseShapes(t){const e={};if(t!==void 0)for(let n=0,i=t.length;n<i;n++){const s=new jh().fromJSON(t[n]);e[s.uuid]=s}return e}parseSkeletons(t,e){const n={},i={};if(e.traverse(function(s){s.isBone&&(i[s.uuid]=s)}),t!==void 0)for(let s=0,l=t.length;s<l;s++){const u=new E_().fromJSON(t[s],i);n[u.uuid]=u}return n}parseGeometries(t,e){const n={};if(t!==void 0){const i=new IB;for(let s=0,l=t.length;s<l;s++){let u;const d=t[s];switch(d.type){case"BufferGeometry":case"InstancedBufferGeometry":u=i.parse(d);break;default:d.type in XC?u=XC[d.type].fromJSON(d,e):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${d.type}"`)}u.uuid=d.uuid,d.name!==void 0&&(u.name=d.name),d.userData!==void 0&&(u.userData=d.userData),n[d.uuid]=u}}return n}parseMaterials(t,e){const n={},i={};if(t!==void 0){const s=new pS;s.setTextures(e);for(let l=0,u=t.length;l<u;l++){const d=t[l];n[d.uuid]===void 0&&(n[d.uuid]=s.parse(d)),i[d.uuid]=n[d.uuid]}}return i}parseAnimations(t){const e={};if(t!==void 0)for(let n=0;n<t.length;n++){const i=t[n],s=bm.parse(i);e[s.uuid]=s}return e}parseImages(t,e){const n=this,i={};let s;function l(d){return n.manager.itemStart(d),s.load(d,function(){n.manager.itemEnd(d)},void 0,function(){n.manager.itemError(d),n.manager.itemEnd(d)})}function u(d){if(typeof d=="string"){const p=d,g=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(p)?p:n.resourcePath+p;return l(g)}else return d.data?{data:Qp(d.type,d.data),width:d.width,height:d.height}:null}if(t!==void 0&&t.length>0){const d=new v1(e);s=new u_(d),s.setCrossOrigin(this.crossOrigin);for(let p=0,g=t.length;p<g;p++){const _=t[p],y=_.url;if(Array.isArray(y)){const x=[];for(let M=0,T=y.length;M<T;M++){const E=y[M],b=u(E);b!==null&&(b instanceof HTMLImageElement?x.push(b):x.push(new Ql(b.data,b.width,b.height)))}i[_.uuid]=new nf(x)}else{const x=u(_.url);i[_.uuid]=new nf(x)}}}return i}async parseImagesAsync(t){const e=this,n={};let i;async function s(l){if(typeof l=="string"){const u=l,d=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u)?u:e.resourcePath+u;return await i.loadAsync(d)}else return l.data?{data:Qp(l.type,l.data),width:l.width,height:l.height}:null}if(t!==void 0&&t.length>0){i=new u_(this.manager),i.setCrossOrigin(this.crossOrigin);for(let l=0,u=t.length;l<u;l++){const d=t[l],p=d.url;if(Array.isArray(p)){const g=[];for(let _=0,y=p.length;_<y;_++){const x=p[_],M=await s(x);M!==null&&(M instanceof HTMLImageElement?g.push(M):g.push(new Ql(M.data,M.width,M.height)))}n[d.uuid]=new nf(g)}else{const g=await s(d.url);n[d.uuid]=new nf(g)}}}return n}parseTextures(t,e){function n(s,l){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),l[s])}const i={};if(t!==void 0)for(let s=0,l=t.length;s<l;s++){const u=t[s];u.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',u.uuid),e[u.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",u.image);const d=e[u.image],p=d.data;let g;Array.isArray(p)?(g=new M_,p.length===6&&(g.needsUpdate=!0)):(p&&p.data?g=new Ql:g=new wi,p&&(g.needsUpdate=!0)),g.source=d,g.uuid=u.uuid,u.name!==void 0&&(g.name=u.name),u.mapping!==void 0&&(g.mapping=n(u.mapping,CL)),u.channel!==void 0&&(g.channel=u.channel),u.offset!==void 0&&g.offset.fromArray(u.offset),u.repeat!==void 0&&g.repeat.fromArray(u.repeat),u.center!==void 0&&g.center.fromArray(u.center),u.rotation!==void 0&&(g.rotation=u.rotation),u.wrap!==void 0&&(g.wrapS=n(u.wrap[0],JC),g.wrapT=n(u.wrap[1],JC)),u.format!==void 0&&(g.format=u.format),u.internalFormat!==void 0&&(g.internalFormat=u.internalFormat),u.type!==void 0&&(g.type=u.type),u.colorSpace!==void 0&&(g.colorSpace=u.colorSpace),u.minFilter!==void 0&&(g.minFilter=n(u.minFilter,KC)),u.magFilter!==void 0&&(g.magFilter=n(u.magFilter,KC)),u.anisotropy!==void 0&&(g.anisotropy=u.anisotropy),u.flipY!==void 0&&(g.flipY=u.flipY),u.generateMipmaps!==void 0&&(g.generateMipmaps=u.generateMipmaps),u.premultiplyAlpha!==void 0&&(g.premultiplyAlpha=u.premultiplyAlpha),u.unpackAlignment!==void 0&&(g.unpackAlignment=u.unpackAlignment),u.compareFunction!==void 0&&(g.compareFunction=u.compareFunction),u.userData!==void 0&&(g.userData=u.userData),i[u.uuid]=g}return i}parseObject(t,e,n,i,s){let l;function u(y){return e[y]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",y),e[y]}function d(y){if(y!==void 0){if(Array.isArray(y)){const x=[];for(let M=0,T=y.length;M<T;M++){const E=y[M];n[E]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",E),x.push(n[E])}return x}return n[y]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",y),n[y]}}function p(y){return i[y]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",y),i[y]}let g,_;switch(t.type){case"Scene":l=new t1,t.background!==void 0&&(Number.isInteger(t.background)?l.background=new pe(t.background):l.background=p(t.background)),t.environment!==void 0&&(l.environment=p(t.environment)),t.fog!==void 0&&(t.fog.type==="Fog"?l.fog=new jA(t.fog.color,t.fog.near,t.fog.far):t.fog.type==="FogExp2"&&(l.fog=new WA(t.fog.color,t.fog.density)),t.fog.name!==""&&(l.fog.name=t.fog.name)),t.backgroundBlurriness!==void 0&&(l.backgroundBlurriness=t.backgroundBlurriness),t.backgroundIntensity!==void 0&&(l.backgroundIntensity=t.backgroundIntensity),t.backgroundRotation!==void 0&&l.backgroundRotation.fromArray(t.backgroundRotation),t.environmentIntensity!==void 0&&(l.environmentIntensity=t.environmentIntensity),t.environmentRotation!==void 0&&l.environmentRotation.fromArray(t.environmentRotation);break;case"PerspectiveCamera":l=new Xi(t.fov,t.aspect,t.near,t.far),t.focus!==void 0&&(l.focus=t.focus),t.zoom!==void 0&&(l.zoom=t.zoom),t.filmGauge!==void 0&&(l.filmGauge=t.filmGauge),t.filmOffset!==void 0&&(l.filmOffset=t.filmOffset),t.view!==void 0&&(l.view=Object.assign({},t.view));break;case"OrthographicCamera":l=new Yu(t.left,t.right,t.top,t.bottom,t.near,t.far),t.zoom!==void 0&&(l.zoom=t.zoom),t.view!==void 0&&(l.view=Object.assign({},t.view));break;case"AmbientLight":l=new OB(t.color,t.intensity);break;case"DirectionalLight":l=new S1(t.color,t.intensity),l.target=t.target||"";break;case"PointLight":l=new A1(t.color,t.intensity,t.distance,t.decay);break;case"RectAreaLight":l=new M1(t.color,t.intensity,t.width,t.height);break;case"SpotLight":l=new x1(t.color,t.intensity,t.distance,t.angle,t.penumbra,t.decay),l.target=t.target||"";break;case"HemisphereLight":l=new DB(t.color,t.groundColor,t.intensity);break;case"LightProbe":l=new NB().fromJSON(t);break;case"SkinnedMesh":g=u(t.geometry),_=d(t.material),l=new n1(g,_),t.bindMode!==void 0&&(l.bindMode=t.bindMode),t.bindMatrix!==void 0&&l.bindMatrix.fromArray(t.bindMatrix),t.skeleton!==void 0&&(l.skeleton=t.skeleton);break;case"Mesh":g=u(t.geometry),_=d(t.material),l=new ta(g,_);break;case"InstancedMesh":g=u(t.geometry),_=d(t.material);const y=t.count,x=t.instanceMatrix,M=t.instanceColor;l=new i1(g,_,y),l.instanceMatrix=new sd(new Float32Array(x.array),16),M!==void 0&&(l.instanceColor=new sd(new Float32Array(M.array),M.itemSize));break;case"BatchedMesh":g=u(t.geometry),_=d(t.material),l=new iB(t.maxInstanceCount,t.maxVertexCount,t.maxIndexCount,_),l.geometry=g,l.perObjectFrustumCulled=t.perObjectFrustumCulled,l.sortObjects=t.sortObjects,l._drawRanges=t.drawRanges,l._reservedRanges=t.reservedRanges,l._geometryInfo=t.geometryInfo.map(T=>{let E=null,b=null;return T.boundingBox!==void 0&&(E=new Za().fromJSON(T.boundingBox)),T.boundingSphere!==void 0&&(b=new Ha().fromJSON(T.boundingSphere)),{...T,boundingBox:E,boundingSphere:b}}),l._instanceInfo=t.instanceInfo,l._availableInstanceIds=t._availableInstanceIds,l._availableGeometryIds=t._availableGeometryIds,l._nextIndexStart=t.nextIndexStart,l._nextVertexStart=t.nextVertexStart,l._geometryCount=t.geometryCount,l._maxInstanceCount=t.maxInstanceCount,l._maxVertexCount=t.maxVertexCount,l._maxIndexCount=t.maxIndexCount,l._geometryInitialized=t.geometryInitialized,l._matricesTexture=p(t.matricesTexture.uuid),l._indirectTexture=p(t.indirectTexture.uuid),t.colorsTexture!==void 0&&(l._colorsTexture=p(t.colorsTexture.uuid)),t.boundingSphere!==void 0&&(l.boundingSphere=new Ha().fromJSON(t.boundingSphere)),t.boundingBox!==void 0&&(l.boundingBox=new Za().fromJSON(t.boundingBox));break;case"LOD":l=new nB;break;case"Line":l=new ju(u(t.geometry),d(t.material));break;case"LineLoop":l=new a1(u(t.geometry),d(t.material));break;case"LineSegments":l=new rl(u(t.geometry),d(t.material));break;case"PointCloud":case"Points":l=new s1(u(t.geometry),d(t.material));break;case"Sprite":l=new eB(d(t.material));break;case"Group":l=new Gu;break;case"Bone":l=new QA;break;default:l=new Pn}if(l.uuid=t.uuid,t.name!==void 0&&(l.name=t.name),t.matrix!==void 0?(l.matrix.fromArray(t.matrix),t.matrixAutoUpdate!==void 0&&(l.matrixAutoUpdate=t.matrixAutoUpdate),l.matrixAutoUpdate&&l.matrix.decompose(l.position,l.quaternion,l.scale)):(t.position!==void 0&&l.position.fromArray(t.position),t.rotation!==void 0&&l.rotation.fromArray(t.rotation),t.quaternion!==void 0&&l.quaternion.fromArray(t.quaternion),t.scale!==void 0&&l.scale.fromArray(t.scale)),t.up!==void 0&&l.up.fromArray(t.up),t.castShadow!==void 0&&(l.castShadow=t.castShadow),t.receiveShadow!==void 0&&(l.receiveShadow=t.receiveShadow),t.shadow&&(t.shadow.intensity!==void 0&&(l.shadow.intensity=t.shadow.intensity),t.shadow.bias!==void 0&&(l.shadow.bias=t.shadow.bias),t.shadow.normalBias!==void 0&&(l.shadow.normalBias=t.shadow.normalBias),t.shadow.radius!==void 0&&(l.shadow.radius=t.shadow.radius),t.shadow.mapSize!==void 0&&l.shadow.mapSize.fromArray(t.shadow.mapSize),t.shadow.camera!==void 0&&(l.shadow.camera=this.parseObject(t.shadow.camera))),t.visible!==void 0&&(l.visible=t.visible),t.frustumCulled!==void 0&&(l.frustumCulled=t.frustumCulled),t.renderOrder!==void 0&&(l.renderOrder=t.renderOrder),t.userData!==void 0&&(l.userData=t.userData),t.layers!==void 0&&(l.layers.mask=t.layers),t.children!==void 0){const y=t.children;for(let x=0;x<y.length;x++)l.add(this.parseObject(y[x],e,n,i,s))}if(t.animations!==void 0){const y=t.animations;for(let x=0;x<y.length;x++){const M=y[x];l.animations.push(s[M])}}if(t.type==="LOD"){t.autoUpdate!==void 0&&(l.autoUpdate=t.autoUpdate);const y=t.levels;for(let x=0;x<y.length;x++){const M=y[x],T=l.getObjectByProperty("uuid",M.object);T!==void 0&&l.addLevel(T,M.distance,M.hysteresis)}}return l}bindSkeletons(t,e){Object.keys(e).length!==0&&t.traverse(function(n){if(n.isSkinnedMesh===!0&&n.skeleton!==void 0){const i=e[n.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",n.skeleton):n.bind(i,n.bindMatrix)}})}bindLightTargets(t){t.traverse(function(e){if(e.isDirectionalLight||e.isSpotLight){const n=e.target,i=t.getObjectByProperty("uuid",n);i!==void 0?e.target=i:e.target=new Pn}})}}const CL={UVMapping:PA,CubeReflectionMapping:Ku,CubeRefractionMapping:df,EquirectangularReflectionMapping:t_,EquirectangularRefractionMapping:e_,CubeUVReflectionMapping:Lm},JC={RepeatWrapping:pf,ClampToEdgeWrapping:zr,MirroredRepeatWrapping:hm},KC={NearestFilter:Fa,NearestMipmapNearestFilter:FA,NearestMipmapLinearFilter:Hh,LinearFilter:$i,LinearMipmapNearestFilter:nm,LinearMipmapLinearFilter:yo},XM=new WeakMap;class PB extends xs{constructor(t){super(t),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"},this._abortController=new AbortController}setOptions(t){return this.options=t,this}load(t,e,n,i){t===void 0&&(t=""),this.path!==void 0&&(t=this.path+t),t=this.manager.resolveURL(t);const s=this,l=Jl.get(`image-bitmap:${t}`);if(l!==void 0){if(s.manager.itemStart(t),l.then){l.then(p=>{if(XM.has(l)===!0)i&&i(XM.get(l)),s.manager.itemError(t),s.manager.itemEnd(t);else return e&&e(p),s.manager.itemEnd(t),p});return}return setTimeout(function(){e&&e(l),s.manager.itemEnd(t)},0),l}const u={};u.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",u.headers=this.requestHeader,u.signal=typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal;const d=fetch(t,u).then(function(p){return p.blob()}).then(function(p){return createImageBitmap(p,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(p){return Jl.add(`image-bitmap:${t}`,p),e&&e(p),s.manager.itemEnd(t),p}).catch(function(p){i&&i(p),XM.set(d,p),Jl.remove(`image-bitmap:${t}`),s.manager.itemError(t),s.manager.itemEnd(t)});Jl.add(`image-bitmap:${t}`,d),s.manager.itemStart(t)}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}let Xy;class b1{static getContext(){return Xy===void 0&&(Xy=new(window.AudioContext||window.webkitAudioContext)),Xy}static setContext(t){Xy=t}}class RL extends xs{constructor(t){super(t)}load(t,e,n,i){const s=this,l=new qr(this.manager);l.setResponseType("arraybuffer"),l.setPath(this.path),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(t,function(d){try{const p=d.slice(0);b1.getContext().decodeAudioData(p,function(_){e(_)}).catch(u)}catch(p){u(p)}},n,i);function u(d){i?i(d):console.error(d),s.manager.itemError(t)}}}const WC=new Ye,jC=new Ye,Ah=new Ye;class wL{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Xi,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Xi,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(t){const e=this._cache;if(e.focus!==t.focus||e.fov!==t.fov||e.aspect!==t.aspect*this.aspect||e.near!==t.near||e.far!==t.far||e.zoom!==t.zoom||e.eyeSep!==this.eyeSep){e.focus=t.focus,e.fov=t.fov,e.aspect=t.aspect*this.aspect,e.near=t.near,e.far=t.far,e.zoom=t.zoom,e.eyeSep=this.eyeSep,Ah.copy(t.projectionMatrix);const i=e.eyeSep/2,s=i*e.near/e.focus,l=e.near*Math.tan(Wh*e.fov*.5)/e.zoom;let u,d;jC.elements[12]=-i,WC.elements[12]=i,u=-l*e.aspect+s,d=l*e.aspect+s,Ah.elements[0]=2*e.near/(d-u),Ah.elements[8]=(d+u)/(d-u),this.cameraL.projectionMatrix.copy(Ah),u=-l*e.aspect-s,d=l*e.aspect-s,Ah.elements[0]=2*e.near/(d-u),Ah.elements[8]=(d+u)/(d-u),this.cameraR.projectionMatrix.copy(Ah)}this.cameraL.matrixWorld.copy(t.matrixWorld).multiply(jC),this.cameraR.matrixWorld.copy(t.matrixWorld).multiply(WC)}}class FB extends Xi{constructor(t=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=t}}class E1{constructor(t=!0){this.autoStart=t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=performance.now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let t=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const e=performance.now();t=(e-this.oldTime)/1e3,this.oldTime=e,this.elapsedTime+=t}return t}}const Sh=new W,kM=new za,BL=new W,Mh=new W,bh=new W;class DL extends Pn{constructor(){super(),this.type="AudioListener",this.context=b1.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new E1}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(t){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=t,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this}updateMatrixWorld(t){super.updateMatrixWorld(t);const e=this.context.listener;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Sh,kM,BL),Mh.set(0,0,-1).applyQuaternion(kM),bh.set(0,1,0).applyQuaternion(kM),e.positionX){const n=this.context.currentTime+this.timeDelta;e.positionX.linearRampToValueAtTime(Sh.x,n),e.positionY.linearRampToValueAtTime(Sh.y,n),e.positionZ.linearRampToValueAtTime(Sh.z,n),e.forwardX.linearRampToValueAtTime(Mh.x,n),e.forwardY.linearRampToValueAtTime(Mh.y,n),e.forwardZ.linearRampToValueAtTime(Mh.z,n),e.upX.linearRampToValueAtTime(bh.x,n),e.upY.linearRampToValueAtTime(bh.y,n),e.upZ.linearRampToValueAtTime(bh.z,n)}else e.setPosition(Sh.x,Sh.y,Sh.z),e.setOrientation(Mh.x,Mh.y,Mh.z,bh.x,bh.y,bh.z)}}class zB extends Pn{constructor(t){super(),this.type="Audio",this.listener=t,this.context=t.context,this.gain=this.context.createGain(),this.gain.connect(t.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(t){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=t,this.connect(),this}setMediaElementSource(t){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(t),this.connect(),this}setMediaStreamSource(t){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(t),this.connect(),this}setBuffer(t){return this.buffer=t,this.sourceType="buffer",this.autoplay&&this.play(),this}play(t=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+t;const e=this.context.createBufferSource();return e.buffer=this.buffer,e.loop=this.loop,e.loopStart=this.loopStart,e.loopEnd=this.loopEnd,e.onended=this.onEnded.bind(this),e.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=e,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(t=0){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+t),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let t=1,e=this.filters.length;t<e;t++)this.filters[t-1].connect(this.filters[t]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let t=1,e=this.filters.length;t<e;t++)this.filters[t-1].disconnect(this.filters[t]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(t){return t||(t=[]),this._connected===!0?(this.disconnect(),this.filters=t.slice(),this.connect()):this.filters=t.slice(),this}setDetune(t){return this.detune=t,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(t){return this.setFilters(t?[t]:[])}setPlaybackRate(t){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=t,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(t){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=t,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(t){return this.loopStart=t,this}setLoopEnd(t){return this.loopEnd=t,this}getVolume(){return this.gain.gain.value}setVolume(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this}copy(t,e){return super.copy(t,e),t.sourceType!=="buffer"?(console.warn("THREE.Audio: Audio source type cannot be copied."),this):(this.autoplay=t.autoplay,this.buffer=t.buffer,this.detune=t.detune,this.loop=t.loop,this.loopStart=t.loopStart,this.loopEnd=t.loopEnd,this.offset=t.offset,this.duration=t.duration,this.playbackRate=t.playbackRate,this.hasPlaybackControl=t.hasPlaybackControl,this.sourceType=t.sourceType,this.filters=t.filters.slice(),this)}clone(t){return new this.constructor(this.listener).copy(this,t)}}const Eh=new W,QC=new za,OL=new W,Th=new W;class UL extends zB{constructor(t){super(t),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(t){return this.panner.refDistance=t,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(t){return this.panner.rolloffFactor=t,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(t){return this.panner.distanceModel=t,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(t){return this.panner.maxDistance=t,this}setDirectionalCone(t,e,n){return this.panner.coneInnerAngle=t,this.panner.coneOuterAngle=e,this.panner.coneOuterGain=n,this}updateMatrixWorld(t){if(super.updateMatrixWorld(t),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Eh,QC,OL),Th.set(0,0,1).applyQuaternion(QC);const e=this.panner;if(e.positionX){const n=this.context.currentTime+this.listener.timeDelta;e.positionX.linearRampToValueAtTime(Eh.x,n),e.positionY.linearRampToValueAtTime(Eh.y,n),e.positionZ.linearRampToValueAtTime(Eh.z,n),e.orientationX.linearRampToValueAtTime(Th.x,n),e.orientationY.linearRampToValueAtTime(Th.y,n),e.orientationZ.linearRampToValueAtTime(Th.z,n)}else e.setPosition(Eh.x,Eh.y,Eh.z),e.setOrientation(Th.x,Th.y,Th.z)}}class NL{constructor(t,e=2048){this.analyser=t.context.createAnalyser(),this.analyser.fftSize=e,this.data=new Uint8Array(this.analyser.frequencyBinCount),t.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let t=0;const e=this.getFrequencyData();for(let n=0;n<e.length;n++)t+=e[n];return t/e.length}}class HB{constructor(t,e,n){this.binding=t,this.valueSize=n;let i,s,l;switch(e){case"quaternion":i=this._slerp,s=this._slerpAdditive,l=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(n*6),this._workIndex=5;break;case"string":case"bool":i=this._select,s=this._select,l=this._setAdditiveIdentityOther,this.buffer=new Array(n*5);break;default:i=this._lerp,s=this._lerpAdditive,l=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(n*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=s,this._setIdentity=l,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(t,e){const n=this.buffer,i=this.valueSize,s=t*i+i;let l=this.cumulativeWeight;if(l===0){for(let u=0;u!==i;++u)n[s+u]=n[u];l=e}else{l+=e;const u=e/l;this._mixBufferRegion(n,s,0,u,i)}this.cumulativeWeight=l}accumulateAdditive(t){const e=this.buffer,n=this.valueSize,i=n*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(e,i,0,t,n),this.cumulativeWeightAdditive+=t}apply(t){const e=this.valueSize,n=this.buffer,i=t*e+e,s=this.cumulativeWeight,l=this.cumulativeWeightAdditive,u=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const d=e*this._origIndex;this._mixBufferRegion(n,i,d,1-s,e)}l>0&&this._mixBufferRegionAdditive(n,i,this._addIndex*e,1,e);for(let d=e,p=e+e;d!==p;++d)if(n[d]!==n[d+e]){u.setValue(n,i);break}}saveOriginalState(){const t=this.binding,e=this.buffer,n=this.valueSize,i=n*this._origIndex;t.getValue(e,i);for(let s=n,l=i;s!==l;++s)e[s]=e[i+s%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const t=this.valueSize*3;this.binding.setValue(this.buffer,t)}_setAdditiveIdentityNumeric(){const t=this._addIndex*this.valueSize,e=t+this.valueSize;for(let n=t;n<e;n++)this.buffer[n]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const t=this._origIndex*this.valueSize,e=this._addIndex*this.valueSize;for(let n=0;n<this.valueSize;n++)this.buffer[e+n]=this.buffer[t+n]}_select(t,e,n,i,s){if(i>=.5)for(let l=0;l!==s;++l)t[e+l]=t[n+l]}_slerp(t,e,n,i){za.slerpFlat(t,e,t,e,t,n,i)}_slerpAdditive(t,e,n,i,s){const l=this._workIndex*s;za.multiplyQuaternionsFlat(t,l,t,e,t,n),za.slerpFlat(t,e,t,e,t,l,i)}_lerp(t,e,n,i,s){const l=1-i;for(let u=0;u!==s;++u){const d=e+u;t[d]=t[d]*l+t[n+u]*i}}_lerpAdditive(t,e,n,i,s){for(let l=0;l!==s;++l){const u=e+l;t[u]=t[u]+t[n+l]*i}}}const T1="\\[\\]\\.:\\/",LL=new RegExp("["+T1+"]","g"),C1="[^"+T1+"]",IL="[^"+T1.replace("\\.","")+"]",PL=/((?:WC+[\/:])*)/.source.replace("WC",C1),FL=/(WCOD+)?/.source.replace("WCOD",IL),zL=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",C1),HL=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",C1),GL=new RegExp("^"+PL+FL+zL+HL+"$"),VL=["material","materials","bones","map"];class XL{constructor(t,e,n){const i=n||Hn.parseTrackName(e);this._targetGroup=t,this._bindings=t.subscribe_(e,i)}getValue(t,e){this.bind();const n=this._targetGroup.nCachedObjects_,i=this._bindings[n];i!==void 0&&i.getValue(t,e)}setValue(t,e){const n=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=n.length;i!==s;++i)n[i].setValue(t,e)}bind(){const t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].bind()}unbind(){const t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].unbind()}}class Hn{constructor(t,e,n){this.path=e,this.parsedPath=n||Hn.parseTrackName(e),this.node=Hn.findNode(t,this.parsedPath.nodeName),this.rootNode=t,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(t,e,n){return t&&t.isAnimationObjectGroup?new Hn.Composite(t,e,n):new Hn(t,e,n)}static sanitizeNodeName(t){return t.replace(/\s/g,"_").replace(LL,"")}static parseTrackName(t){const e=GL.exec(t);if(e===null)throw new Error("PropertyBinding: Cannot parse trackName: "+t);const n={nodeName:e[2],objectName:e[3],objectIndex:e[4],propertyName:e[5],propertyIndex:e[6]},i=n.nodeName&&n.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const s=n.nodeName.substring(i+1);VL.indexOf(s)!==-1&&(n.nodeName=n.nodeName.substring(0,i),n.objectName=s)}if(n.propertyName===null||n.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+t);return n}static findNode(t,e){if(e===void 0||e===""||e==="."||e===-1||e===t.name||e===t.uuid)return t;if(t.skeleton){const n=t.skeleton.getBoneByName(e);if(n!==void 0)return n}if(t.children){const n=function(s){for(let l=0;l<s.length;l++){const u=s[l];if(u.name===e||u.uuid===e)return u;const d=n(u.children);if(d)return d}return null},i=n(t.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(t,e){t[e]=this.targetObject[this.propertyName]}_getValue_array(t,e){const n=this.resolvedProperty;for(let i=0,s=n.length;i!==s;++i)t[e++]=n[i]}_getValue_arrayElement(t,e){t[e]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(t,e){this.resolvedProperty.toArray(t,e)}_setValue_direct(t,e){this.targetObject[this.propertyName]=t[e]}_setValue_direct_setNeedsUpdate(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(t,e){const n=this.resolvedProperty;for(let i=0,s=n.length;i!==s;++i)n[i]=t[e++]}_setValue_array_setNeedsUpdate(t,e){const n=this.resolvedProperty;for(let i=0,s=n.length;i!==s;++i)n[i]=t[e++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(t,e){const n=this.resolvedProperty;for(let i=0,s=n.length;i!==s;++i)n[i]=t[e++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(t,e){this.resolvedProperty[this.propertyIndex]=t[e]}_setValue_arrayElement_setNeedsUpdate(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(t,e){this.resolvedProperty.fromArray(t,e)}_setValue_fromArray_setNeedsUpdate(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(t,e){this.bind(),this.getValue(t,e)}_setValue_unbound(t,e){this.bind(),this.setValue(t,e)}bind(){let t=this.node;const e=this.parsedPath,n=e.objectName,i=e.propertyName;let s=e.propertyIndex;if(t||(t=Hn.findNode(this.rootNode,e.nodeName),this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!t){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(n){let p=e.objectIndex;switch(n){case"materials":if(!t.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!t.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}t=t.material.materials;break;case"bones":if(!t.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}t=t.skeleton.bones;for(let g=0;g<t.length;g++)if(t[g].name===p){p=g;break}break;case"map":if("map"in t){t=t.map;break}if(!t.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!t.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}t=t.material.map;break;default:if(t[n]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}t=t[n]}if(p!==void 0){if(t[p]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);return}t=t[p]}}const l=t[i];if(l===void 0){const p=e.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+p+"."+i+" but it wasn't found.",t);return}let u=this.Versioning.None;this.targetObject=t,t.isMaterial===!0?u=this.Versioning.NeedsUpdate:t.isObject3D===!0&&(u=this.Versioning.MatrixWorldNeedsUpdate);let d=this.BindingType.Direct;if(s!==void 0){if(i==="morphTargetInfluences"){if(!t.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!t.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}t.morphTargetDictionary[s]!==void 0&&(s=t.morphTargetDictionary[s])}d=this.BindingType.ArrayElement,this.resolvedProperty=l,this.propertyIndex=s}else l.fromArray!==void 0&&l.toArray!==void 0?(d=this.BindingType.HasFromToArray,this.resolvedProperty=l):Array.isArray(l)?(d=this.BindingType.EntireArray,this.resolvedProperty=l):this.propertyName=i;this.getValue=this.GetterByBindingType[d],this.setValue=this.SetterByBindingTypeAndVersioning[d][u]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Hn.Composite=XL;Hn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Hn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Hn.prototype.GetterByBindingType=[Hn.prototype._getValue_direct,Hn.prototype._getValue_array,Hn.prototype._getValue_arrayElement,Hn.prototype._getValue_toArray];Hn.prototype.SetterByBindingTypeAndVersioning=[[Hn.prototype._setValue_direct,Hn.prototype._setValue_direct_setNeedsUpdate,Hn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Hn.prototype._setValue_array,Hn.prototype._setValue_array_setNeedsUpdate,Hn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Hn.prototype._setValue_arrayElement,Hn.prototype._setValue_arrayElement_setNeedsUpdate,Hn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Hn.prototype._setValue_fromArray,Hn.prototype._setValue_fromArray_setNeedsUpdate,Hn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class kL{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Xr(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const t={};this._indicesByUUID=t;for(let n=0,i=arguments.length;n!==i;++n)t[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const e=this;this.stats={objects:{get total(){return e._objects.length},get inUse(){return this.total-e.nCachedObjects_}},get bindingsPerObject(){return e._bindings.length}}}add(){const t=this._objects,e=this._indicesByUUID,n=this._paths,i=this._parsedPaths,s=this._bindings,l=s.length;let u,d=t.length,p=this.nCachedObjects_;for(let g=0,_=arguments.length;g!==_;++g){const y=arguments[g],x=y.uuid;let M=e[x];if(M===void 0){M=d++,e[x]=M,t.push(y);for(let T=0,E=l;T!==E;++T)s[T].push(new Hn(y,n[T],i[T]))}else if(M<p){u=t[M];const T=--p,E=t[T];e[E.uuid]=M,t[M]=E,e[x]=T,t[T]=y;for(let b=0,w=l;b!==w;++b){const D=s[b],B=D[T];let L=D[M];D[M]=B,L===void 0&&(L=new Hn(y,n[b],i[b])),D[T]=L}}else t[M]!==u&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=p}remove(){const t=this._objects,e=this._indicesByUUID,n=this._bindings,i=n.length;let s=this.nCachedObjects_;for(let l=0,u=arguments.length;l!==u;++l){const d=arguments[l],p=d.uuid,g=e[p];if(g!==void 0&&g>=s){const _=s++,y=t[_];e[y.uuid]=g,t[g]=y,e[p]=_,t[_]=d;for(let x=0,M=i;x!==M;++x){const T=n[x],E=T[_],b=T[g];T[g]=E,T[_]=b}}}this.nCachedObjects_=s}uncache(){const t=this._objects,e=this._indicesByUUID,n=this._bindings,i=n.length;let s=this.nCachedObjects_,l=t.length;for(let u=0,d=arguments.length;u!==d;++u){const p=arguments[u],g=p.uuid,_=e[g];if(_!==void 0)if(delete e[g],_<s){const y=--s,x=t[y],M=--l,T=t[M];e[x.uuid]=_,t[_]=x,e[T.uuid]=y,t[y]=T,t.pop();for(let E=0,b=i;E!==b;++E){const w=n[E],D=w[y],B=w[M];w[_]=D,w[y]=B,w.pop()}}else{const y=--l,x=t[y];y>0&&(e[x.uuid]=_),t[_]=x,t.pop();for(let M=0,T=i;M!==T;++M){const E=n[M];E[_]=E[y],E.pop()}}}this.nCachedObjects_=s}subscribe_(t,e){const n=this._bindingsIndicesByPath;let i=n[t];const s=this._bindings;if(i!==void 0)return s[i];const l=this._paths,u=this._parsedPaths,d=this._objects,p=d.length,g=this.nCachedObjects_,_=new Array(p);i=s.length,n[t]=i,l.push(t),u.push(e),s.push(_);for(let y=g,x=d.length;y!==x;++y){const M=d[y];_[y]=new Hn(M,t,e)}return _}unsubscribe_(t){const e=this._bindingsIndicesByPath,n=e[t];if(n!==void 0){const i=this._paths,s=this._parsedPaths,l=this._bindings,u=l.length-1,d=l[u],p=t[u];e[p]=n,l[n]=d,l.pop(),s[n]=s[u],s.pop(),i[n]=i[u],i.pop()}}}class GB{constructor(t,e,n=null,i=e.blendMode){this._mixer=t,this._clip=e,this._localRoot=n,this.blendMode=i;const s=e.tracks,l=s.length,u=new Array(l),d={endingStart:Gh,endingEnd:Gh};for(let p=0;p!==l;++p){const g=s[p].createInterpolant(null);u[p]=g,g.settings=d}this._interpolantSettings=d,this._interpolants=u,this._propertyBindings=new Array(l),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=Ow,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(t){return this._startTime=t,this}setLoop(t,e){return this.loop=t,this.repetitions=e,this}setEffectiveWeight(t){return this.weight=t,this._effectiveWeight=this.enabled?t:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(t){return this._scheduleFading(t,0,1)}fadeOut(t){return this._scheduleFading(t,1,0)}crossFadeFrom(t,e,n=!1){if(t.fadeOut(e),this.fadeIn(e),n===!0){const i=this._clip.duration,s=t._clip.duration,l=s/i,u=i/s;t.warp(1,l,e),this.warp(u,1,e)}return this}crossFadeTo(t,e,n=!1){return t.crossFadeFrom(this,e,n)}stopFading(){const t=this._weightInterpolant;return t!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this}setEffectiveTimeScale(t){return this.timeScale=t,this._effectiveTimeScale=this.paused?0:t,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(t){return this.timeScale=this._clip.duration/t,this.stopWarping()}syncWith(t){return this.time=t.time,this.timeScale=t.timeScale,this.stopWarping()}halt(t){return this.warp(this._effectiveTimeScale,0,t)}warp(t,e,n){const i=this._mixer,s=i.time,l=this.timeScale;let u=this._timeScaleInterpolant;u===null&&(u=i._lendControlInterpolant(),this._timeScaleInterpolant=u);const d=u.parameterPositions,p=u.sampleValues;return d[0]=s,d[1]=s+n,p[0]=t/l,p[1]=e/l,this}stopWarping(){const t=this._timeScaleInterpolant;return t!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(t,e,n,i){if(!this.enabled){this._updateWeight(t);return}const s=this._startTime;if(s!==null){const d=(t-s)*n;d<0||n===0?e=0:(this._startTime=null,e=n*d)}e*=this._updateTimeScale(t);const l=this._updateTime(e),u=this._updateWeight(t);if(u>0){const d=this._interpolants,p=this._propertyBindings;switch(this.blendMode){case JE:for(let g=0,_=d.length;g!==_;++g)d[g].evaluate(l),p[g].accumulateAdditive(u);break;case YA:default:for(let g=0,_=d.length;g!==_;++g)d[g].evaluate(l),p[g].accumulate(i,u)}}}_updateWeight(t){let e=0;if(this.enabled){e=this.weight;const n=this._weightInterpolant;if(n!==null){const i=n.evaluate(t)[0];e*=i,t>n.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=e,e}_updateTimeScale(t){let e=0;if(!this.paused){e=this.timeScale;const n=this._timeScaleInterpolant;if(n!==null){const i=n.evaluate(t)[0];e*=i,t>n.parameterPositions[1]&&(this.stopWarping(),e===0?this.paused=!0:this.timeScale=e)}}return this._effectiveTimeScale=e,e}_updateTime(t){const e=this._clip.duration,n=this.loop;let i=this.time+t,s=this._loopCount;const l=n===Uw;if(t===0)return s===-1?i:l&&(s&1)===1?e-i:i;if(n===Dw){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));t:{if(i>=e)i=e;else if(i<0)i=0;else{this.time=i;break t}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:t<0?-1:1})}}else{if(s===-1&&(t>=0?(s=0,this._setEndings(!0,this.repetitions===0,l)):this._setEndings(this.repetitions===0,!0,l)),i>=e||i<0){const u=Math.floor(i/e);i-=e*u,s+=Math.abs(u);const d=this.repetitions-s;if(d<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=t>0?e:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:t>0?1:-1});else{if(d===1){const p=t<0;this._setEndings(p,!p,l)}else this._setEndings(!1,!1,l);this._loopCount=s,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:u})}}else this.time=i;if(l&&(s&1)===1)return e-i}return i}_setEndings(t,e,n){const i=this._interpolantSettings;n?(i.endingStart=Vh,i.endingEnd=Vh):(t?i.endingStart=this.zeroSlopeAtStart?Vh:Gh:i.endingStart=n_,e?i.endingEnd=this.zeroSlopeAtEnd?Vh:Gh:i.endingEnd=n_)}_scheduleFading(t,e,n){const i=this._mixer,s=i.time;let l=this._weightInterpolant;l===null&&(l=i._lendControlInterpolant(),this._weightInterpolant=l);const u=l.parameterPositions,d=l.sampleValues;return u[0]=s,d[0]=e,u[1]=s+t,d[1]=n,this}}const YL=new Float32Array(1);class qL extends nu{constructor(t){super(),this._root=t,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(t,e){const n=t._localRoot||this._root,i=t._clip.tracks,s=i.length,l=t._propertyBindings,u=t._interpolants,d=n.uuid,p=this._bindingsByRootAndName;let g=p[d];g===void 0&&(g={},p[d]=g);for(let _=0;_!==s;++_){const y=i[_],x=y.name;let M=g[x];if(M!==void 0)++M.referenceCount,l[_]=M;else{if(M=l[_],M!==void 0){M._cacheIndex===null&&(++M.referenceCount,this._addInactiveBinding(M,d,x));continue}const T=e&&e._propertyBindings[_].binding.parsedPath;M=new HB(Hn.create(n,x,T),y.ValueTypeName,y.getValueSize()),++M.referenceCount,this._addInactiveBinding(M,d,x),l[_]=M}u[_].resultBuffer=M.buffer}}_activateAction(t){if(!this._isActiveAction(t)){if(t._cacheIndex===null){const n=(t._localRoot||this._root).uuid,i=t._clip.uuid,s=this._actionsByClip[i];this._bindAction(t,s&&s.knownActions[0]),this._addInactiveAction(t,i,n)}const e=t._propertyBindings;for(let n=0,i=e.length;n!==i;++n){const s=e[n];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(t)}}_deactivateAction(t){if(this._isActiveAction(t)){const e=t._propertyBindings;for(let n=0,i=e.length;n!==i;++n){const s=e[n];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(t)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const t=this;this.stats={actions:{get total(){return t._actions.length},get inUse(){return t._nActiveActions}},bindings:{get total(){return t._bindings.length},get inUse(){return t._nActiveBindings}},controlInterpolants:{get total(){return t._controlInterpolants.length},get inUse(){return t._nActiveControlInterpolants}}}}_isActiveAction(t){const e=t._cacheIndex;return e!==null&&e<this._nActiveActions}_addInactiveAction(t,e,n){const i=this._actions,s=this._actionsByClip;let l=s[e];if(l===void 0)l={knownActions:[t],actionByRoot:{}},t._byClipCacheIndex=0,s[e]=l;else{const u=l.knownActions;t._byClipCacheIndex=u.length,u.push(t)}t._cacheIndex=i.length,i.push(t),l.actionByRoot[n]=t}_removeInactiveAction(t){const e=this._actions,n=e[e.length-1],i=t._cacheIndex;n._cacheIndex=i,e[i]=n,e.pop(),t._cacheIndex=null;const s=t._clip.uuid,l=this._actionsByClip,u=l[s],d=u.knownActions,p=d[d.length-1],g=t._byClipCacheIndex;p._byClipCacheIndex=g,d[g]=p,d.pop(),t._byClipCacheIndex=null;const _=u.actionByRoot,y=(t._localRoot||this._root).uuid;delete _[y],d.length===0&&delete l[s],this._removeInactiveBindingsForAction(t)}_removeInactiveBindingsForAction(t){const e=t._propertyBindings;for(let n=0,i=e.length;n!==i;++n){const s=e[n];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(t){const e=this._actions,n=t._cacheIndex,i=this._nActiveActions++,s=e[i];t._cacheIndex=i,e[i]=t,s._cacheIndex=n,e[n]=s}_takeBackAction(t){const e=this._actions,n=t._cacheIndex,i=--this._nActiveActions,s=e[i];t._cacheIndex=i,e[i]=t,s._cacheIndex=n,e[n]=s}_addInactiveBinding(t,e,n){const i=this._bindingsByRootAndName,s=this._bindings;let l=i[e];l===void 0&&(l={},i[e]=l),l[n]=t,t._cacheIndex=s.length,s.push(t)}_removeInactiveBinding(t){const e=this._bindings,n=t.binding,i=n.rootNode.uuid,s=n.path,l=this._bindingsByRootAndName,u=l[i],d=e[e.length-1],p=t._cacheIndex;d._cacheIndex=p,e[p]=d,e.pop(),delete u[s],Object.keys(u).length===0&&delete l[i]}_lendBinding(t){const e=this._bindings,n=t._cacheIndex,i=this._nActiveBindings++,s=e[i];t._cacheIndex=i,e[i]=t,s._cacheIndex=n,e[n]=s}_takeBackBinding(t){const e=this._bindings,n=t._cacheIndex,i=--this._nActiveBindings,s=e[i];t._cacheIndex=i,e[i]=t,s._cacheIndex=n,e[n]=s}_lendControlInterpolant(){const t=this._controlInterpolants,e=this._nActiveControlInterpolants++;let n=t[e];return n===void 0&&(n=new g1(new Float32Array(2),new Float32Array(2),1,YL),n.__cacheIndex=e,t[e]=n),n}_takeBackControlInterpolant(t){const e=this._controlInterpolants,n=t.__cacheIndex,i=--this._nActiveControlInterpolants,s=e[i];t.__cacheIndex=i,e[i]=t,s.__cacheIndex=n,e[n]=s}clipAction(t,e,n){const i=e||this._root,s=i.uuid;let l=typeof t=="string"?bm.findByName(i,t):t;const u=l!==null?l.uuid:t,d=this._actionsByClip[u];let p=null;if(n===void 0&&(l!==null?n=l.blendMode:n=YA),d!==void 0){const _=d.actionByRoot[s];if(_!==void 0&&_.blendMode===n)return _;p=d.knownActions[0],l===null&&(l=p._clip)}if(l===null)return null;const g=new GB(this,l,e,n);return this._bindAction(g,p),this._addInactiveAction(g,u,s),g}existingAction(t,e){const n=e||this._root,i=n.uuid,s=typeof t=="string"?bm.findByName(n,t):t,l=s?s.uuid:t,u=this._actionsByClip[l];return u!==void 0&&u.actionByRoot[i]||null}stopAllAction(){const t=this._actions,e=this._nActiveActions;for(let n=e-1;n>=0;--n)t[n].stop();return this}update(t){t*=this.timeScale;const e=this._actions,n=this._nActiveActions,i=this.time+=t,s=Math.sign(t),l=this._accuIndex^=1;for(let p=0;p!==n;++p)e[p]._update(i,t,s,l);const u=this._bindings,d=this._nActiveBindings;for(let p=0;p!==d;++p)u[p].apply(l);return this}setTime(t){this.time=0;for(let e=0;e<this._actions.length;e++)this._actions[e].time=0;return this.update(t)}getRoot(){return this._root}uncacheClip(t){const e=this._actions,n=t.uuid,i=this._actionsByClip,s=i[n];if(s!==void 0){const l=s.knownActions;for(let u=0,d=l.length;u!==d;++u){const p=l[u];this._deactivateAction(p);const g=p._cacheIndex,_=e[e.length-1];p._cacheIndex=null,p._byClipCacheIndex=null,_._cacheIndex=g,e[g]=_,e.pop(),this._removeInactiveBindingsForAction(p)}delete i[n]}}uncacheRoot(t){const e=t.uuid,n=this._actionsByClip;for(const l in n){const u=n[l].actionByRoot,d=u[e];d!==void 0&&(this._deactivateAction(d),this._removeInactiveAction(d))}const i=this._bindingsByRootAndName,s=i[e];if(s!==void 0)for(const l in s){const u=s[l];u.restoreOriginalState(),this._removeInactiveBinding(u)}}uncacheAction(t,e){const n=this.existingAction(t,e);n!==null&&(this._deactivateAction(n),this._removeInactiveAction(n))}}class JL extends QE{constructor(t=1,e=1,n=1,i={}){super(t,e,i),this.isRenderTarget3D=!0,this.depth=n,this.texture=new JA(null,t,e,n),this._setTextureOptions(i),this.texture.isRenderTargetTexture=!0}}class R1{constructor(t){this.value=t}clone(){return new R1(this.value.clone===void 0?this.value:this.value.clone())}}let KL=0;class WL extends nu{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:KL++}),this.name="",this.usage=a_,this.uniforms=[]}add(t){return this.uniforms.push(t),this}remove(t){const e=this.uniforms.indexOf(t);return e!==-1&&this.uniforms.splice(e,1),this}setName(t){return this.name=t,this}setUsage(t){return this.usage=t,this}dispose(){this.dispatchEvent({type:"dispose"})}copy(t){this.name=t.name,this.usage=t.usage;const e=t.uniforms;this.uniforms.length=0;for(let n=0,i=e.length;n<i;n++){const s=Array.isArray(e[n])?e[n]:[e[n]];for(let l=0;l<s.length;l++)this.uniforms.push(s[l].clone())}return this}clone(){return new this.constructor().copy(this)}}class jL extends b_{constructor(t,e,n=1){super(t,e),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=n}copy(t){return super.copy(t),this.meshPerAttribute=t.meshPerAttribute,this}clone(t){const e=super.clone(t);return e.meshPerAttribute=this.meshPerAttribute,e}toJSON(t){const e=super.toJSON(t);return e.isInstancedInterleavedBuffer=!0,e.meshPerAttribute=this.meshPerAttribute,e}}class QL{constructor(t,e,n,i,s,l=!1){this.isGLBufferAttribute=!0,this.name="",this.buffer=t,this.type=e,this.itemSize=n,this.elementSize=i,this.count=s,this.normalized=l,this.version=0}set needsUpdate(t){t===!0&&this.version++}setBuffer(t){return this.buffer=t,this}setType(t,e){return this.type=t,this.elementSize=e,this}setItemSize(t){return this.itemSize=t,this}setCount(t){return this.count=t,this}}const ZC=new Ye;class VB{constructor(t,e,n=0,i=1/0){this.ray=new gd(t,e),this.near=n,this.far=i,this.camera=null,this.layers=new Am,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(t,e){this.ray.set(t,e)}setFromCamera(t,e){e.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(t.x,t.y,.5).unproject(e).sub(this.ray.origin).normalize(),this.camera=e):e.isOrthographicCamera?(this.ray.origin.set(t.x,t.y,(e.near+e.far)/(e.near-e.far)).unproject(e),this.ray.direction.set(0,0,-1).transformDirection(e.matrixWorld),this.camera=e):console.error("THREE.Raycaster: Unsupported camera type: "+e.type)}setFromXRController(t){return ZC.identity().extractRotation(t.matrixWorld),this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(ZC),this}intersectObject(t,e=!0,n=[]){return eE(t,this,n,e),n.sort($C),n}intersectObjects(t,e=!0,n=[]){for(let i=0,s=t.length;i<s;i++)eE(t[i],this,n,e);return n.sort($C),n}}function $C(r,t){return r.distance-t.distance}function eE(r,t,e,n){let i=!0;if(r.layers.test(t.layers)&&r.raycast(t,e)===!1&&(i=!1),i===!0&&n===!0){const s=r.children;for(let l=0,u=s.length;l<u;l++)eE(s[l],t,e,!0)}}class ZL{constructor(){this._previousTime=0,this._currentTime=0,this._startTime=performance.now(),this._delta=0,this._elapsed=0,this._timescale=1,this._document=null,this._pageVisibilityHandler=null}connect(t){this._document=t,t.hidden!==void 0&&(this._pageVisibilityHandler=$L.bind(this),t.addEventListener("visibilitychange",this._pageVisibilityHandler,!1))}disconnect(){this._pageVisibilityHandler!==null&&(this._document.removeEventListener("visibilitychange",this._pageVisibilityHandler),this._pageVisibilityHandler=null),this._document=null}getDelta(){return this._delta/1e3}getElapsed(){return this._elapsed/1e3}getTimescale(){return this._timescale}setTimescale(t){return this._timescale=t,this}reset(){return this._currentTime=performance.now()-this._startTime,this}dispose(){this.disconnect()}update(t){return this._pageVisibilityHandler!==null&&this._document.hidden===!0?this._delta=0:(this._previousTime=this._currentTime,this._currentTime=(t!==void 0?t:performance.now())-this._startTime,this._delta=(this._currentTime-this._previousTime)*this._timescale,this._elapsed+=this._delta),this}}function $L(){this._document.hidden===!1&&this.reset()}class nE{constructor(t=1,e=0,n=0){this.radius=t,this.phi=e,this.theta=n}set(t,e,n){return this.radius=t,this.phi=e,this.theta=n,this}copy(t){return this.radius=t.radius,this.phi=t.phi,this.theta=t.theta,this}makeSafe(){return this.phi=Ze(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(t){return this.setFromCartesianCoords(t.x,t.y,t.z)}setFromCartesianCoords(t,e,n){return this.radius=Math.sqrt(t*t+e*e+n*n),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(t,n),this.phi=Math.acos(Ze(e/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class tI{constructor(t=1,e=0,n=0){this.radius=t,this.theta=e,this.y=n}set(t,e,n){return this.radius=t,this.theta=e,this.y=n,this}copy(t){return this.radius=t.radius,this.theta=t.theta,this.y=t.y,this}setFromVector3(t){return this.setFromCartesianCoords(t.x,t.y,t.z)}setFromCartesianCoords(t,e,n){return this.radius=Math.sqrt(t*t+n*n),this.theta=Math.atan2(t,n),this.y=e,this}clone(){return new this.constructor().copy(this)}}class w1{constructor(t,e,n,i){w1.prototype.isMatrix2=!0,this.elements=[1,0,0,1],t!==void 0&&this.set(t,e,n,i)}identity(){return this.set(1,0,0,1),this}fromArray(t,e=0){for(let n=0;n<4;n++)this.elements[n]=t[n+e];return this}set(t,e,n,i){const s=this.elements;return s[0]=t,s[2]=e,s[1]=n,s[3]=i,this}}const tR=new Ht;class eI{constructor(t=new Ht(1/0,1/0),e=new Ht(-1/0,-1/0)){this.isBox2=!0,this.min=t,this.max=e}set(t,e){return this.min.copy(t),this.max.copy(e),this}setFromPoints(t){this.makeEmpty();for(let e=0,n=t.length;e<n;e++)this.expandByPoint(t[e]);return this}setFromCenterAndSize(t,e){const n=tR.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(n),this.max.copy(t).add(n),this}clone(){return new this.constructor().copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(t){return this.isEmpty()?t.set(0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return this.isEmpty()?t.set(0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}containsPoint(t){return t.x>=this.min.x&&t.x<=this.max.x&&t.y>=this.min.y&&t.y<=this.max.y}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y}getParameter(t,e){return e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(t){return t.max.x>=this.min.x&&t.min.x<=this.max.x&&t.max.y>=this.min.y&&t.min.y<=this.max.y}clampPoint(t,e){return e.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return this.clampPoint(t,tR).distanceTo(t)}intersect(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}const eR=new W,ky=new W,Hp=new W,Gp=new W,YM=new W,nI=new W,iI=new W;class aI{constructor(t=new W,e=new W){this.start=t,this.end=e}set(t,e){return this.start.copy(t),this.end.copy(e),this}copy(t){return this.start.copy(t.start),this.end.copy(t.end),this}getCenter(t){return t.addVectors(this.start,this.end).multiplyScalar(.5)}delta(t){return t.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(t,e){return this.delta(e).multiplyScalar(t).add(this.start)}closestPointToPointParameter(t,e){eR.subVectors(t,this.start),ky.subVectors(this.end,this.start);const n=ky.dot(ky);let s=ky.dot(eR)/n;return e&&(s=Ze(s,0,1)),s}closestPointToPoint(t,e,n){const i=this.closestPointToPointParameter(t,e);return this.delta(n).multiplyScalar(i).add(this.start)}distanceSqToLine3(t,e=nI,n=iI){const i=10000000000000001e-32;let s,l;const u=this.start,d=t.start,p=this.end,g=t.end;Hp.subVectors(p,u),Gp.subVectors(g,d),YM.subVectors(u,d);const _=Hp.dot(Hp),y=Gp.dot(Gp),x=Gp.dot(YM);if(_<=i&&y<=i)return e.copy(u),n.copy(d),e.sub(n),e.dot(e);if(_<=i)s=0,l=x/y,l=Ze(l,0,1);else{const M=Hp.dot(YM);if(y<=i)l=0,s=Ze(-M/_,0,1);else{const T=Hp.dot(Gp),E=_*y-T*T;E!==0?s=Ze((T*x-M*y)/E,0,1):s=0,l=(T*s+x)/y,l<0?(l=0,s=Ze(-M/_,0,1)):l>1&&(l=1,s=Ze((T-M)/_,0,1))}}return e.copy(u).add(Hp.multiplyScalar(s)),n.copy(d).add(Gp.multiplyScalar(l)),e.sub(n),e.dot(e)}applyMatrix4(t){return this.start.applyMatrix4(t),this.end.applyMatrix4(t),this}equals(t){return t.start.equals(this.start)&&t.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const nR=new W;class sI extends Pn{constructor(t,e){super(),this.light=t,this.matrixAutoUpdate=!1,this.color=e,this.type="SpotLightHelper";const n=new un,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let l=0,u=1,d=32;l<d;l++,u++){const p=l/d*Math.PI*2,g=u/d*Math.PI*2;i.push(Math.cos(p),Math.sin(p),1,Math.cos(g),Math.sin(g),1)}n.setAttribute("position",new Oe(i,3));const s=new ys({fog:!1,toneMapped:!1});this.cone=new rl(n,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const t=this.light.distance?this.light.distance:1e3,e=t*Math.tan(this.light.angle);this.cone.scale.set(e,e,t),nR.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(nR),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const jc=new W,Yy=new Ye,qM=new Ye;class rI extends rl{constructor(t){const e=XB(t),n=new un,i=[],s=[];for(let p=0;p<e.length;p++){const g=e[p];g.parent&&g.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),s.push(0,0,0),s.push(0,0,0))}n.setAttribute("position",new Oe(i,3)),n.setAttribute("color",new Oe(s,3));const l=new ys({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(n,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=t,this.bones=e,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1;const u=new pe(255),d=new pe(65280);this.setColors(u,d)}updateMatrixWorld(t){const e=this.bones,n=this.geometry,i=n.getAttribute("position");qM.copy(this.root.matrixWorld).invert();for(let s=0,l=0;s<e.length;s++){const u=e[s];u.parent&&u.parent.isBone&&(Yy.multiplyMatrices(qM,u.matrixWorld),jc.setFromMatrixPosition(Yy),i.setXYZ(l,jc.x,jc.y,jc.z),Yy.multiplyMatrices(qM,u.parent.matrixWorld),jc.setFromMatrixPosition(Yy),i.setXYZ(l+1,jc.x,jc.y,jc.z),l+=2)}n.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(t)}setColors(t,e){const i=this.geometry.getAttribute("color");for(let s=0;s<i.count;s+=2)i.setXYZ(s,t.r,t.g,t.b),i.setXYZ(s+1,e.r,e.g,e.b);return i.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}function XB(r){const t=[];r.isBone===!0&&t.push(r);for(let e=0;e<r.children.length;e++)t.push(...XB(r.children[e]));return t}class oI extends ta{constructor(t,e,n){const i=new w_(e,4,2),s=new Gr({wireframe:!0,fog:!1,toneMapped:!1});super(i,s),this.light=t,this.color=n,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const lI=new W,iR=new pe,aR=new pe;class uI extends Pn{constructor(t,e,n){super(),this.light=t,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="HemisphereLightHelper";const i=new R_(e);i.rotateY(Math.PI*.5),this.material=new Gr({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=i.getAttribute("position"),l=new Float32Array(s.count*3);i.setAttribute("color",new Vn(l,3)),this.add(new ta(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const t=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const e=t.geometry.getAttribute("color");iR.copy(this.light.color),aR.copy(this.light.groundColor);for(let n=0,i=e.count;n<i;n++){const s=n<i/2?iR:aR;e.setXYZ(n,s.r,s.g,s.b)}e.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),t.lookAt(lI.setFromMatrixPosition(this.light.matrixWorld).negate())}}class cI extends rl{constructor(t=10,e=10,n=4473924,i=8947848){n=new pe(n),i=new pe(i);const s=e/2,l=t/e,u=t/2,d=[],p=[];for(let y=0,x=0,M=-u;y<=e;y++,M+=l){d.push(-u,0,M,u,0,M),d.push(M,0,-u,M,0,u);const T=y===s?n:i;T.toArray(p,x),x+=3,T.toArray(p,x),x+=3,T.toArray(p,x),x+=3,T.toArray(p,x),x+=3}const g=new un;g.setAttribute("position",new Oe(d,3)),g.setAttribute("color",new Oe(p,3));const _=new ys({vertexColors:!0,toneMapped:!1});super(g,_),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class fI extends rl{constructor(t=10,e=16,n=8,i=64,s=4473924,l=8947848){s=new pe(s),l=new pe(l);const u=[],d=[];if(e>1)for(let _=0;_<e;_++){const y=_/e*(Math.PI*2),x=Math.sin(y)*t,M=Math.cos(y)*t;u.push(0,0,0),u.push(x,0,M);const T=_&1?s:l;d.push(T.r,T.g,T.b),d.push(T.r,T.g,T.b)}for(let _=0;_<n;_++){const y=_&1?s:l,x=t-t/n*_;for(let M=0;M<i;M++){let T=M/i*(Math.PI*2),E=Math.sin(T)*x,b=Math.cos(T)*x;u.push(E,0,b),d.push(y.r,y.g,y.b),T=(M+1)/i*(Math.PI*2),E=Math.sin(T)*x,b=Math.cos(T)*x,u.push(E,0,b),d.push(y.r,y.g,y.b)}}const p=new un;p.setAttribute("position",new Oe(u,3)),p.setAttribute("color",new Oe(d,3));const g=new ys({vertexColors:!0,toneMapped:!1});super(p,g),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const sR=new W,qy=new W,rR=new W;class hI extends Pn{constructor(t,e,n){super(),this.light=t,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="DirectionalLightHelper",e===void 0&&(e=1);let i=new un;i.setAttribute("position",new Oe([-e,e,0,e,e,0,e,-e,0,-e,-e,0,-e,e,0],3));const s=new ys({fog:!1,toneMapped:!1});this.lightPlane=new ju(i,s),this.add(this.lightPlane),i=new un,i.setAttribute("position",new Oe([0,0,0,0,0,1],3)),this.targetLine=new ju(i,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),sR.setFromMatrixPosition(this.light.matrixWorld),qy.setFromMatrixPosition(this.light.target.matrixWorld),rR.subVectors(qy,sR),this.lightPlane.lookAt(qy),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(qy),this.targetLine.scale.z=rR.length()}}const Jy=new W,Vi=new KA;class dI extends rl{constructor(t){const e=new un,n=new ys({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],s=[],l={};u("n1","n2"),u("n2","n4"),u("n4","n3"),u("n3","n1"),u("f1","f2"),u("f2","f4"),u("f4","f3"),u("f3","f1"),u("n1","f1"),u("n2","f2"),u("n3","f3"),u("n4","f4"),u("p","n1"),u("p","n2"),u("p","n3"),u("p","n4"),u("u1","u2"),u("u2","u3"),u("u3","u1"),u("c","t"),u("p","c"),u("cn1","cn2"),u("cn3","cn4"),u("cf1","cf2"),u("cf3","cf4");function u(M,T){d(M),d(T)}function d(M){i.push(0,0,0),s.push(0,0,0),l[M]===void 0&&(l[M]=[]),l[M].push(i.length/3-1)}e.setAttribute("position",new Oe(i,3)),e.setAttribute("color",new Oe(s,3)),super(e,n),this.type="CameraHelper",this.camera=t,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=l,this.update();const p=new pe(16755200),g=new pe(16711680),_=new pe(43775),y=new pe(16777215),x=new pe(3355443);this.setColors(p,g,_,y,x)}setColors(t,e,n,i,s){const u=this.geometry.getAttribute("color");return u.setXYZ(0,t.r,t.g,t.b),u.setXYZ(1,t.r,t.g,t.b),u.setXYZ(2,t.r,t.g,t.b),u.setXYZ(3,t.r,t.g,t.b),u.setXYZ(4,t.r,t.g,t.b),u.setXYZ(5,t.r,t.g,t.b),u.setXYZ(6,t.r,t.g,t.b),u.setXYZ(7,t.r,t.g,t.b),u.setXYZ(8,t.r,t.g,t.b),u.setXYZ(9,t.r,t.g,t.b),u.setXYZ(10,t.r,t.g,t.b),u.setXYZ(11,t.r,t.g,t.b),u.setXYZ(12,t.r,t.g,t.b),u.setXYZ(13,t.r,t.g,t.b),u.setXYZ(14,t.r,t.g,t.b),u.setXYZ(15,t.r,t.g,t.b),u.setXYZ(16,t.r,t.g,t.b),u.setXYZ(17,t.r,t.g,t.b),u.setXYZ(18,t.r,t.g,t.b),u.setXYZ(19,t.r,t.g,t.b),u.setXYZ(20,t.r,t.g,t.b),u.setXYZ(21,t.r,t.g,t.b),u.setXYZ(22,t.r,t.g,t.b),u.setXYZ(23,t.r,t.g,t.b),u.setXYZ(24,e.r,e.g,e.b),u.setXYZ(25,e.r,e.g,e.b),u.setXYZ(26,e.r,e.g,e.b),u.setXYZ(27,e.r,e.g,e.b),u.setXYZ(28,e.r,e.g,e.b),u.setXYZ(29,e.r,e.g,e.b),u.setXYZ(30,e.r,e.g,e.b),u.setXYZ(31,e.r,e.g,e.b),u.setXYZ(32,n.r,n.g,n.b),u.setXYZ(33,n.r,n.g,n.b),u.setXYZ(34,n.r,n.g,n.b),u.setXYZ(35,n.r,n.g,n.b),u.setXYZ(36,n.r,n.g,n.b),u.setXYZ(37,n.r,n.g,n.b),u.setXYZ(38,i.r,i.g,i.b),u.setXYZ(39,i.r,i.g,i.b),u.setXYZ(40,s.r,s.g,s.b),u.setXYZ(41,s.r,s.g,s.b),u.setXYZ(42,s.r,s.g,s.b),u.setXYZ(43,s.r,s.g,s.b),u.setXYZ(44,s.r,s.g,s.b),u.setXYZ(45,s.r,s.g,s.b),u.setXYZ(46,s.r,s.g,s.b),u.setXYZ(47,s.r,s.g,s.b),u.setXYZ(48,s.r,s.g,s.b),u.setXYZ(49,s.r,s.g,s.b),u.needsUpdate=!0,this}update(){const t=this.geometry,e=this.pointMap,n=1,i=1;let s,l;if(Vi.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),this.camera.reversedDepth===!0)s=1,l=0;else if(this.camera.coordinateSystem===Hr)s=-1,l=1;else if(this.camera.coordinateSystem===ym)s=0,l=1;else throw new Error("THREE.CameraHelper.update(): Invalid coordinate system: "+this.camera.coordinateSystem);Qi("c",e,t,Vi,0,0,s),Qi("t",e,t,Vi,0,0,l),Qi("n1",e,t,Vi,-n,-i,s),Qi("n2",e,t,Vi,n,-i,s),Qi("n3",e,t,Vi,-n,i,s),Qi("n4",e,t,Vi,n,i,s),Qi("f1",e,t,Vi,-n,-i,l),Qi("f2",e,t,Vi,n,-i,l),Qi("f3",e,t,Vi,-n,i,l),Qi("f4",e,t,Vi,n,i,l),Qi("u1",e,t,Vi,n*.7,i*1.1,s),Qi("u2",e,t,Vi,-n*.7,i*1.1,s),Qi("u3",e,t,Vi,0,i*2,s),Qi("cf1",e,t,Vi,-n,0,l),Qi("cf2",e,t,Vi,n,0,l),Qi("cf3",e,t,Vi,0,-i,l),Qi("cf4",e,t,Vi,0,i,l),Qi("cn1",e,t,Vi,-n,0,s),Qi("cn2",e,t,Vi,n,0,s),Qi("cn3",e,t,Vi,0,-i,s),Qi("cn4",e,t,Vi,0,i,s),t.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Qi(r,t,e,n,i,s,l){Jy.set(i,s,l).unproject(n);const u=t[r];if(u!==void 0){const d=e.getAttribute("position");for(let p=0,g=u.length;p<g;p++)d.setXYZ(u[p],Jy.x,Jy.y,Jy.z)}}const Ky=new Za;class pI extends rl{constructor(t,e=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(24),s=new un;s.setIndex(new Vn(n,1)),s.setAttribute("position",new Vn(i,3)),super(s,new ys({color:e,toneMapped:!1})),this.object=t,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(this.object!==void 0&&Ky.setFromObject(this.object),Ky.isEmpty())return;const t=Ky.min,e=Ky.max,n=this.geometry.attributes.position,i=n.array;i[0]=e.x,i[1]=e.y,i[2]=e.z,i[3]=t.x,i[4]=e.y,i[5]=e.z,i[6]=t.x,i[7]=t.y,i[8]=e.z,i[9]=e.x,i[10]=t.y,i[11]=e.z,i[12]=e.x,i[13]=e.y,i[14]=t.z,i[15]=t.x,i[16]=e.y,i[17]=t.z,i[18]=t.x,i[19]=t.y,i[20]=t.z,i[21]=e.x,i[22]=t.y,i[23]=t.z,n.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(t){return this.object=t,this.update(),this}copy(t,e){return super.copy(t,e),this.object=t.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class mI extends rl{constructor(t,e=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new un;s.setIndex(new Vn(n,1)),s.setAttribute("position",new Oe(i,3)),super(s,new ys({color:e,toneMapped:!1})),this.box=t,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(t){const e=this.box;e.isEmpty()||(e.getCenter(this.position),e.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(t))}dispose(){this.geometry.dispose(),this.material.dispose()}}class gI extends ju{constructor(t,e=1,n=16776960){const i=n,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],l=new un;l.setAttribute("position",new Oe(s,3)),l.computeBoundingSphere(),super(l,new ys({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=t,this.size=e;const u=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],d=new un;d.setAttribute("position",new Oe(u,3)),d.computeBoundingSphere(),this.add(new ta(d,new Gr({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(t){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(t)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const oR=new W;let Wy,JM;class _I extends Pn{constructor(t=new W(0,0,1),e=new W(0,0,0),n=1,i=16776960,s=n*.2,l=s*.2){super(),this.type="ArrowHelper",Wy===void 0&&(Wy=new un,Wy.setAttribute("position",new Oe([0,0,0,0,1,0],3)),JM=new C_(.5,1,5,1),JM.translate(0,-.5,0)),this.position.copy(e),this.line=new ju(Wy,new ys({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new ta(JM,new Gr({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(t),this.setLength(n,s,l)}setDirection(t){if(t.y>.99999)this.quaternion.set(0,0,0,1);else if(t.y<-.99999)this.quaternion.set(1,0,0,0);else{oR.set(t.z,0,-t.x).normalize();const e=Math.acos(t.y);this.quaternion.setFromAxisAngle(oR,e)}}setLength(t,e=t*.2,n=e*.2){this.line.scale.set(1,Math.max(1e-4,t-e),1),this.line.updateMatrix(),this.cone.scale.set(n,e,n),this.cone.position.y=t,this.cone.updateMatrix()}setColor(t){this.line.material.color.set(t),this.cone.material.color.set(t)}copy(t){return super.copy(t,!1),this.line.copy(t.line),this.cone.copy(t.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class vI extends rl{constructor(t=1){const e=[0,0,0,t,0,0,0,0,0,0,t,0,0,0,0,0,0,t],n=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new un;i.setAttribute("position",new Oe(e,3)),i.setAttribute("color",new Oe(n,3));const s=new ys({vertexColors:!0,toneMapped:!1});super(i,s),this.type="AxesHelper"}setColors(t,e,n){const i=new pe,s=this.geometry.attributes.color.array;return i.set(t),i.toArray(s,0),i.toArray(s,3),i.set(e),i.toArray(s,6),i.toArray(s,9),i.set(n),i.toArray(s,12),i.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class yI{constructor(){this.type="ShapePath",this.color=new pe,this.subPaths=[],this.currentPath=null}moveTo(t,e){return this.currentPath=new vA,this.subPaths.push(this.currentPath),this.currentPath.moveTo(t,e),this}lineTo(t,e){return this.currentPath.lineTo(t,e),this}quadraticCurveTo(t,e,n,i){return this.currentPath.quadraticCurveTo(t,e,n,i),this}bezierCurveTo(t,e,n,i,s,l){return this.currentPath.bezierCurveTo(t,e,n,i,s,l),this}splineThru(t){return this.currentPath.splineThru(t),this}toShapes(t){function e(b){const w=[];for(let D=0,B=b.length;D<B;D++){const L=b[D],P=new jh;P.curves=L.curves,w.push(P)}return w}function n(b,w){const D=w.length;let B=!1;for(let L=D-1,P=0;P<D;L=P++){let H=w[L],F=w[P],O=F.x-H.x,U=F.y-H.y;if(Math.abs(U)>Number.EPSILON){if(U<0&&(H=w[P],O=-O,F=w[L],U=-U),b.y<H.y||b.y>F.y)continue;if(b.y===H.y){if(b.x===H.x)return!0}else{const V=U*(b.x-H.x)-O*(b.y-H.y);if(V===0)return!0;if(V<0)continue;B=!B}}else{if(b.y!==H.y)continue;if(F.x<=b.x&&b.x<=H.x||H.x<=b.x&&b.x<=F.x)return!0}}return B}const i=al.isClockWise,s=this.subPaths;if(s.length===0)return[];let l,u,d;const p=[];if(s.length===1)return u=s[0],d=new jh,d.curves=u.curves,p.push(d),p;let g=!i(s[0].getPoints());g=t?!g:g;const _=[],y=[];let x=[],M=0,T;y[M]=void 0,x[M]=[];for(let b=0,w=s.length;b<w;b++)u=s[b],T=u.getPoints(),l=i(T),l=t?!l:l,l?(!g&&y[M]&&M++,y[M]={s:new jh,p:T},y[M].s.curves=u.curves,g&&M++,x[M]=[]):x[M].push({h:u,p:T[0]});if(!y[0])return e(s);if(y.length>1){let b=!1,w=0;for(let D=0,B=y.length;D<B;D++)_[D]=[];for(let D=0,B=y.length;D<B;D++){const L=x[D];for(let P=0;P<L.length;P++){const H=L[P];let F=!0;for(let O=0;O<y.length;O++)n(H.p,y[O].p)&&(D!==O&&w++,F?(F=!1,_[O].push(H)):b=!0);F&&_[D].push(H)}}w>0&&b===!1&&(x=_)}let E;for(let b=0,w=y.length;b<w;b++){d=y[b].s,p.push(d),E=x[b];for(let D=0,B=E.length;D<B;D++)d.holes.push(E[D].h)}return p}}class xI extends nu{constructor(t,e=null){super(),this.object=t,this.domElement=e,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(t){if(t===void 0){console.warn("THREE.Controls: connect() now requires an element.");return}this.domElement!==null&&this.disconnect(),this.domElement=t}disconnect(){}dispose(){}update(){}}function AI(r,t){const e=r.image&&r.image.width?r.image.width/r.image.height:1;return e>t?(r.repeat.x=1,r.repeat.y=e/t,r.offset.x=0,r.offset.y=(1-r.repeat.y)/2):(r.repeat.x=t/e,r.repeat.y=1,r.offset.x=(1-r.repeat.x)/2,r.offset.y=0),r}function SI(r,t){const e=r.image&&r.image.width?r.image.width/r.image.height:1;return e>t?(r.repeat.x=t/e,r.repeat.y=1,r.offset.x=(1-r.repeat.x)/2,r.offset.y=0):(r.repeat.x=1,r.repeat.y=e/t,r.offset.x=0,r.offset.y=(1-r.repeat.y)/2),r}function MI(r){return r.repeat.x=1,r.repeat.y=1,r.offset.x=0,r.offset.y=0,r}function iE(r,t,e,n){const i=bI(n);switch(e){case XE:return r*t;case VA:return r*t/i.components*i.byteLength;case S_:return r*t/i.components*i.byteLength;case YE:return r*t*2/i.components*i.byteLength;case XA:return r*t*2/i.components*i.byteLength;case kE:return r*t*3/i.components*i.byteLength;case _s:return r*t*4/i.components*i.byteLength;case kA:return r*t*4/i.components*i.byteLength;case U0:case N0:return Math.floor((r+3)/4)*Math.floor((t+3)/4)*8;case L0:case I0:return Math.floor((r+3)/4)*Math.floor((t+3)/4)*16;case Xx:case Yx:return Math.max(r,16)*Math.max(t,8)/4;case Vx:case kx:return Math.max(r,8)*Math.max(t,8)/2;case qx:case Jx:return Math.floor((r+3)/4)*Math.floor((t+3)/4)*8;case Kx:return Math.floor((r+3)/4)*Math.floor((t+3)/4)*16;case Wx:return Math.floor((r+3)/4)*Math.floor((t+3)/4)*16;case jx:return Math.floor((r+4)/5)*Math.floor((t+3)/4)*16;case Qx:return Math.floor((r+4)/5)*Math.floor((t+4)/5)*16;case Zx:return Math.floor((r+5)/6)*Math.floor((t+4)/5)*16;case $x:return Math.floor((r+5)/6)*Math.floor((t+5)/6)*16;case tA:return Math.floor((r+7)/8)*Math.floor((t+4)/5)*16;case eA:return Math.floor((r+7)/8)*Math.floor((t+5)/6)*16;case nA:return Math.floor((r+7)/8)*Math.floor((t+7)/8)*16;case iA:return Math.floor((r+9)/10)*Math.floor((t+4)/5)*16;case aA:return Math.floor((r+9)/10)*Math.floor((t+5)/6)*16;case sA:return Math.floor((r+9)/10)*Math.floor((t+7)/8)*16;case rA:return Math.floor((r+9)/10)*Math.floor((t+9)/10)*16;case oA:return Math.floor((r+11)/12)*Math.floor((t+9)/10)*16;case lA:return Math.floor((r+11)/12)*Math.floor((t+11)/12)*16;case P0:case uA:case cA:return Math.ceil(r/4)*Math.ceil(t/4)*16;case qE:case fA:return Math.ceil(r/4)*Math.ceil(t/4)*8;case hA:case dA:return Math.ceil(r/4)*Math.ceil(t/4)*16}throw new Error(`Unable to determine texture byte length for ${e} format.`)}function bI(r){switch(r){case bo:case HE:return{byteLength:1,components:1};case dm:case GE:case Im:return{byteLength:2,components:1};case HA:case GA:return{byteLength:2,components:4};case Wu:case zA:case dr:return{byteLength:4,components:1};case VE:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${r}.`)}class EI{static contain(t,e){return AI(t,e)}static cover(t,e){return SI(t,e)}static fill(t){return MI(t)}static getByteLength(t,e,n,i){return iE(t,e,n,i)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:x_}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=x_);/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function kB(){let r=null,t=!1,e=null,n=null;function i(s,l){e(s,l),n=r.requestAnimationFrame(i)}return{start:function(){t!==!0&&e!==null&&(n=r.requestAnimationFrame(i),t=!0)},stop:function(){r.cancelAnimationFrame(n),t=!1},setAnimationLoop:function(s){e=s},setContext:function(s){r=s}}}function TI(r){const t=new WeakMap;function e(u,d){const p=u.array,g=u.usage,_=p.byteLength,y=r.createBuffer();r.bindBuffer(d,y),r.bufferData(d,p,g),u.onUploadCallback();let x;if(p instanceof Float32Array)x=r.FLOAT;else if(typeof Float16Array<"u"&&p instanceof Float16Array)x=r.HALF_FLOAT;else if(p instanceof Uint16Array)u.isFloat16BufferAttribute?x=r.HALF_FLOAT:x=r.UNSIGNED_SHORT;else if(p instanceof Int16Array)x=r.SHORT;else if(p instanceof Uint32Array)x=r.UNSIGNED_INT;else if(p instanceof Int32Array)x=r.INT;else if(p instanceof Int8Array)x=r.BYTE;else if(p instanceof Uint8Array)x=r.UNSIGNED_BYTE;else if(p instanceof Uint8ClampedArray)x=r.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+p);return{buffer:y,type:x,bytesPerElement:p.BYTES_PER_ELEMENT,version:u.version,size:_}}function n(u,d,p){const g=d.array,_=d.updateRanges;if(r.bindBuffer(p,u),_.length===0)r.bufferSubData(p,0,g);else{_.sort((x,M)=>x.start-M.start);let y=0;for(let x=1;x<_.length;x++){const M=_[y],T=_[x];T.start<=M.start+M.count+1?M.count=Math.max(M.count,T.start+T.count-M.start):(++y,_[y]=T)}_.length=y+1;for(let x=0,M=_.length;x<M;x++){const T=_[x];r.bufferSubData(p,T.start*g.BYTES_PER_ELEMENT,g,T.start,T.count)}d.clearUpdateRanges()}d.onUploadCallback()}function i(u){return u.isInterleavedBufferAttribute&&(u=u.data),t.get(u)}function s(u){u.isInterleavedBufferAttribute&&(u=u.data);const d=t.get(u);d&&(r.deleteBuffer(d.buffer),t.delete(u))}function l(u,d){if(u.isInterleavedBufferAttribute&&(u=u.data),u.isGLBufferAttribute){const g=t.get(u);(!g||g.version<u.version)&&t.set(u,{buffer:u.buffer,type:u.type,bytesPerElement:u.elementSize,version:u.version});return}const p=t.get(u);if(p===void 0)t.set(u,e(u,d));else if(p.version<u.version){if(p.size!==u.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");n(p.buffer,u,d),p.version=u.version}}return{get:i,remove:s,update:l}}var CI=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,RI=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,wI=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,BI=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,DI=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,OI=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,UI=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,NI=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,LI=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,II=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,PI=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,FI=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,zI=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,HI=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,GI=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,VI=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,XI=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,kI=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,YI=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,qI=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,JI=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,KI=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,WI=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,jI=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,QI=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,ZI=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,$I=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,tP=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,eP=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,nP=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,iP="gl_FragColor = linearToOutputTexel( gl_FragColor );",aP=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,sP=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,rP=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,oP=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,lP=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,uP=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,cP=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,fP=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,hP=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,dP=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,pP=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,mP=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,gP=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,_P=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,vP=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,yP=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,xP=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,AP=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,SP=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,MP=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,bP=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,EP=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,TP=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,CP=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,RP=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,wP=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,BP=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,DP=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,OP=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,UP=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,NP=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,LP=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,IP=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,PP=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,FP=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,zP=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,HP=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,GP=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,VP=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,XP=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,kP=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,YP=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,qP=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,JP=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,KP=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,WP=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,jP=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,QP=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,ZP=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,$P=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,tF=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,eF=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,nF=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,iF=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,aF=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,sF=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,rF=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,oF=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,lF=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		float depth = unpackRGBAToDepth( texture2D( depths, uv ) );
		#ifdef USE_REVERSEDEPTHBUF
			return step( depth, compare );
		#else
			return step( compare, depth );
		#endif
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		#ifdef USE_REVERSEDEPTHBUF
			float hard_shadow = step( distribution.x, compare );
		#else
			float hard_shadow = step( compare , distribution.x );
		#endif
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,uF=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,cF=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,fF=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,hF=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,dF=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,pF=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,mF=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,gF=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,_F=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,vF=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,yF=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,xF=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,AF=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,SF=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,MF=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,bF=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,EF=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const TF=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,CF=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,RF=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,wF=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,BF=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,DF=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,OF=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,UF=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	#ifdef USE_REVERSEDEPTHBUF
		float fragCoordZ = vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ];
	#else
		float fragCoordZ = 0.5 * vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ] + 0.5;
	#endif
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,NF=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,LF=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,IF=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,PF=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,FF=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,zF=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,HF=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,GF=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,VF=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,XF=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,kF=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,YF=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,qF=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,JF=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,KF=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,WF=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,jF=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,QF=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,ZF=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,$F=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,tz=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,ez=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,nz=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,iz=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,az=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,sz=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,mn={alphahash_fragment:CI,alphahash_pars_fragment:RI,alphamap_fragment:wI,alphamap_pars_fragment:BI,alphatest_fragment:DI,alphatest_pars_fragment:OI,aomap_fragment:UI,aomap_pars_fragment:NI,batching_pars_vertex:LI,batching_vertex:II,begin_vertex:PI,beginnormal_vertex:FI,bsdfs:zI,iridescence_fragment:HI,bumpmap_pars_fragment:GI,clipping_planes_fragment:VI,clipping_planes_pars_fragment:XI,clipping_planes_pars_vertex:kI,clipping_planes_vertex:YI,color_fragment:qI,color_pars_fragment:JI,color_pars_vertex:KI,color_vertex:WI,common:jI,cube_uv_reflection_fragment:QI,defaultnormal_vertex:ZI,displacementmap_pars_vertex:$I,displacementmap_vertex:tP,emissivemap_fragment:eP,emissivemap_pars_fragment:nP,colorspace_fragment:iP,colorspace_pars_fragment:aP,envmap_fragment:sP,envmap_common_pars_fragment:rP,envmap_pars_fragment:oP,envmap_pars_vertex:lP,envmap_physical_pars_fragment:yP,envmap_vertex:uP,fog_vertex:cP,fog_pars_vertex:fP,fog_fragment:hP,fog_pars_fragment:dP,gradientmap_pars_fragment:pP,lightmap_pars_fragment:mP,lights_lambert_fragment:gP,lights_lambert_pars_fragment:_P,lights_pars_begin:vP,lights_toon_fragment:xP,lights_toon_pars_fragment:AP,lights_phong_fragment:SP,lights_phong_pars_fragment:MP,lights_physical_fragment:bP,lights_physical_pars_fragment:EP,lights_fragment_begin:TP,lights_fragment_maps:CP,lights_fragment_end:RP,logdepthbuf_fragment:wP,logdepthbuf_pars_fragment:BP,logdepthbuf_pars_vertex:DP,logdepthbuf_vertex:OP,map_fragment:UP,map_pars_fragment:NP,map_particle_fragment:LP,map_particle_pars_fragment:IP,metalnessmap_fragment:PP,metalnessmap_pars_fragment:FP,morphinstance_vertex:zP,morphcolor_vertex:HP,morphnormal_vertex:GP,morphtarget_pars_vertex:VP,morphtarget_vertex:XP,normal_fragment_begin:kP,normal_fragment_maps:YP,normal_pars_fragment:qP,normal_pars_vertex:JP,normal_vertex:KP,normalmap_pars_fragment:WP,clearcoat_normal_fragment_begin:jP,clearcoat_normal_fragment_maps:QP,clearcoat_pars_fragment:ZP,iridescence_pars_fragment:$P,opaque_fragment:tF,packing:eF,premultiplied_alpha_fragment:nF,project_vertex:iF,dithering_fragment:aF,dithering_pars_fragment:sF,roughnessmap_fragment:rF,roughnessmap_pars_fragment:oF,shadowmap_pars_fragment:lF,shadowmap_pars_vertex:uF,shadowmap_vertex:cF,shadowmask_pars_fragment:fF,skinbase_vertex:hF,skinning_pars_vertex:dF,skinning_vertex:pF,skinnormal_vertex:mF,specularmap_fragment:gF,specularmap_pars_fragment:_F,tonemapping_fragment:vF,tonemapping_pars_fragment:yF,transmission_fragment:xF,transmission_pars_fragment:AF,uv_pars_fragment:SF,uv_pars_vertex:MF,uv_vertex:bF,worldpos_vertex:EF,background_vert:TF,background_frag:CF,backgroundCube_vert:RF,backgroundCube_frag:wF,cube_vert:BF,cube_frag:DF,depth_vert:OF,depth_frag:UF,distanceRGBA_vert:NF,distanceRGBA_frag:LF,equirect_vert:IF,equirect_frag:PF,linedashed_vert:FF,linedashed_frag:zF,meshbasic_vert:HF,meshbasic_frag:GF,meshlambert_vert:VF,meshlambert_frag:XF,meshmatcap_vert:kF,meshmatcap_frag:YF,meshnormal_vert:qF,meshnormal_frag:JF,meshphong_vert:KF,meshphong_frag:WF,meshphysical_vert:jF,meshphysical_frag:QF,meshtoon_vert:ZF,meshtoon_frag:$F,points_vert:tz,points_frag:ez,shadow_vert:nz,shadow_frag:iz,sprite_vert:az,sprite_frag:sz},ge={common:{diffuse:{value:new pe(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new fn},alphaMap:{value:null},alphaMapTransform:{value:new fn},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new fn}},envmap:{envMap:{value:null},envMapRotation:{value:new fn},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new fn}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new fn}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new fn},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new fn},normalScale:{value:new Ht(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new fn},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new fn}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new fn}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new fn}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new pe(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new pe(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new fn},alphaTest:{value:0},uvTransform:{value:new fn}},sprite:{diffuse:{value:new pe(16777215)},opacity:{value:1},center:{value:new Ht(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new fn},alphaMap:{value:null},alphaMapTransform:{value:new fn},alphaTest:{value:0}}},nl={basic:{uniforms:zs([ge.common,ge.specularmap,ge.envmap,ge.aomap,ge.lightmap,ge.fog]),vertexShader:mn.meshbasic_vert,fragmentShader:mn.meshbasic_frag},lambert:{uniforms:zs([ge.common,ge.specularmap,ge.envmap,ge.aomap,ge.lightmap,ge.emissivemap,ge.bumpmap,ge.normalmap,ge.displacementmap,ge.fog,ge.lights,{emissive:{value:new pe(0)}}]),vertexShader:mn.meshlambert_vert,fragmentShader:mn.meshlambert_frag},phong:{uniforms:zs([ge.common,ge.specularmap,ge.envmap,ge.aomap,ge.lightmap,ge.emissivemap,ge.bumpmap,ge.normalmap,ge.displacementmap,ge.fog,ge.lights,{emissive:{value:new pe(0)},specular:{value:new pe(1118481)},shininess:{value:30}}]),vertexShader:mn.meshphong_vert,fragmentShader:mn.meshphong_frag},standard:{uniforms:zs([ge.common,ge.envmap,ge.aomap,ge.lightmap,ge.emissivemap,ge.bumpmap,ge.normalmap,ge.displacementmap,ge.roughnessmap,ge.metalnessmap,ge.fog,ge.lights,{emissive:{value:new pe(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:mn.meshphysical_vert,fragmentShader:mn.meshphysical_frag},toon:{uniforms:zs([ge.common,ge.aomap,ge.lightmap,ge.emissivemap,ge.bumpmap,ge.normalmap,ge.displacementmap,ge.gradientmap,ge.fog,ge.lights,{emissive:{value:new pe(0)}}]),vertexShader:mn.meshtoon_vert,fragmentShader:mn.meshtoon_frag},matcap:{uniforms:zs([ge.common,ge.bumpmap,ge.normalmap,ge.displacementmap,ge.fog,{matcap:{value:null}}]),vertexShader:mn.meshmatcap_vert,fragmentShader:mn.meshmatcap_frag},points:{uniforms:zs([ge.points,ge.fog]),vertexShader:mn.points_vert,fragmentShader:mn.points_frag},dashed:{uniforms:zs([ge.common,ge.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:mn.linedashed_vert,fragmentShader:mn.linedashed_frag},depth:{uniforms:zs([ge.common,ge.displacementmap]),vertexShader:mn.depth_vert,fragmentShader:mn.depth_frag},normal:{uniforms:zs([ge.common,ge.bumpmap,ge.normalmap,ge.displacementmap,{opacity:{value:1}}]),vertexShader:mn.meshnormal_vert,fragmentShader:mn.meshnormal_frag},sprite:{uniforms:zs([ge.sprite,ge.fog]),vertexShader:mn.sprite_vert,fragmentShader:mn.sprite_frag},background:{uniforms:{uvTransform:{value:new fn},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:mn.background_vert,fragmentShader:mn.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new fn}},vertexShader:mn.backgroundCube_vert,fragmentShader:mn.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:mn.cube_vert,fragmentShader:mn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:mn.equirect_vert,fragmentShader:mn.equirect_frag},distanceRGBA:{uniforms:zs([ge.common,ge.displacementmap,{referencePosition:{value:new W},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:mn.distanceRGBA_vert,fragmentShader:mn.distanceRGBA_frag},shadow:{uniforms:zs([ge.lights,ge.fog,{color:{value:new pe(0)},opacity:{value:1}}]),vertexShader:mn.shadow_vert,fragmentShader:mn.shadow_frag}};nl.physical={uniforms:zs([nl.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new fn},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new fn},clearcoatNormalScale:{value:new Ht(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new fn},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new fn},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new fn},sheen:{value:0},sheenColor:{value:new pe(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new fn},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new fn},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new fn},transmissionSamplerSize:{value:new Ht},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new fn},attenuationDistance:{value:0},attenuationColor:{value:new pe(0)},specularColor:{value:new pe(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new fn},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new fn},anisotropyVector:{value:new Ht},anisotropyMap:{value:null},anisotropyMapTransform:{value:new fn}}]),vertexShader:mn.meshphysical_vert,fragmentShader:mn.meshphysical_frag};const jy={r:0,b:0,g:0},Ch=new Yr,rz=new Ye;function oz(r,t,e,n,i,s,l){const u=new pe(0);let d=s===!0?0:1,p,g,_=null,y=0,x=null;function M(D){let B=D.isScene===!0?D.background:null;return B&&B.isTexture&&(B=(D.backgroundBlurriness>0?e:t).get(B)),B}function T(D){let B=!1;const L=M(D);L===null?b(u,d):L&&L.isColor&&(b(L,1),B=!0);const P=r.xr.getEnvironmentBlendMode();P==="additive"?n.buffers.color.setClear(0,0,0,1,l):P==="alpha-blend"&&n.buffers.color.setClear(0,0,0,0,l),(r.autoClear||B)&&(n.buffers.depth.setTest(!0),n.buffers.depth.setMask(!0),n.buffers.color.setMask(!0),r.clear(r.autoClearColor,r.autoClearDepth,r.autoClearStencil))}function E(D,B){const L=M(B);L&&(L.isCubeTexture||L.mapping===Lm)?(g===void 0&&(g=new ta(new _d(1,1,1),new sl({name:"BackgroundCubeMaterial",uniforms:Sm(nl.backgroundCube.uniforms),vertexShader:nl.backgroundCube.vertexShader,fragmentShader:nl.backgroundCube.fragmentShader,side:Ks,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),g.geometry.deleteAttribute("normal"),g.geometry.deleteAttribute("uv"),g.onBeforeRender=function(P,H,F){this.matrixWorld.copyPosition(F.matrixWorld)},Object.defineProperty(g.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(g)),Ch.copy(B.backgroundRotation),Ch.x*=-1,Ch.y*=-1,Ch.z*=-1,L.isCubeTexture&&L.isRenderTargetTexture===!1&&(Ch.y*=-1,Ch.z*=-1),g.material.uniforms.envMap.value=L,g.material.uniforms.flipEnvMap.value=L.isCubeTexture&&L.isRenderTargetTexture===!1?-1:1,g.material.uniforms.backgroundBlurriness.value=B.backgroundBlurriness,g.material.uniforms.backgroundIntensity.value=B.backgroundIntensity,g.material.uniforms.backgroundRotation.value.setFromMatrix4(rz.makeRotationFromEuler(Ch)),g.material.toneMapped=Ln.getTransfer(L.colorSpace)!==ai,(_!==L||y!==L.version||x!==r.toneMapping)&&(g.material.needsUpdate=!0,_=L,y=L.version,x=r.toneMapping),g.layers.enableAll(),D.unshift(g,g.geometry,g.material,0,0,null)):L&&L.isTexture&&(p===void 0&&(p=new ta(new Fm(2,2),new sl({name:"BackgroundMaterial",uniforms:Sm(nl.background.uniforms),vertexShader:nl.background.vertexShader,fragmentShader:nl.background.fragmentShader,side:$l,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),p.geometry.deleteAttribute("normal"),Object.defineProperty(p.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(p)),p.material.uniforms.t2D.value=L,p.material.uniforms.backgroundIntensity.value=B.backgroundIntensity,p.material.toneMapped=Ln.getTransfer(L.colorSpace)!==ai,L.matrixAutoUpdate===!0&&L.updateMatrix(),p.material.uniforms.uvTransform.value.copy(L.matrix),(_!==L||y!==L.version||x!==r.toneMapping)&&(p.material.needsUpdate=!0,_=L,y=L.version,x=r.toneMapping),p.layers.enableAll(),D.unshift(p,p.geometry,p.material,0,0,null))}function b(D,B){D.getRGB(jy,jw(r)),n.buffers.color.setClear(jy.r,jy.g,jy.b,B,l)}function w(){g!==void 0&&(g.geometry.dispose(),g.material.dispose(),g=void 0),p!==void 0&&(p.geometry.dispose(),p.material.dispose(),p=void 0)}return{getClearColor:function(){return u},setClearColor:function(D,B=1){u.set(D),d=B,b(u,d)},getClearAlpha:function(){return d},setClearAlpha:function(D){d=D,b(u,d)},render:T,addToRenderList:E,dispose:w}}function lz(r,t){const e=r.getParameter(r.MAX_VERTEX_ATTRIBS),n={},i=y(null);let s=i,l=!1;function u(U,V,Q,et,rt){let ut=!1;const G=_(et,Q,V);s!==G&&(s=G,p(s.object)),ut=x(U,et,Q,rt),ut&&M(U,et,Q,rt),rt!==null&&t.update(rt,r.ELEMENT_ARRAY_BUFFER),(ut||l)&&(l=!1,B(U,V,Q,et),rt!==null&&r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,t.get(rt).buffer))}function d(){return r.createVertexArray()}function p(U){return r.bindVertexArray(U)}function g(U){return r.deleteVertexArray(U)}function _(U,V,Q){const et=Q.wireframe===!0;let rt=n[U.id];rt===void 0&&(rt={},n[U.id]=rt);let ut=rt[V.id];ut===void 0&&(ut={},rt[V.id]=ut);let G=ut[et];return G===void 0&&(G=y(d()),ut[et]=G),G}function y(U){const V=[],Q=[],et=[];for(let rt=0;rt<e;rt++)V[rt]=0,Q[rt]=0,et[rt]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:V,enabledAttributes:Q,attributeDivisors:et,object:U,attributes:{},index:null}}function x(U,V,Q,et){const rt=s.attributes,ut=V.attributes;let G=0;const q=Q.getAttributes();for(const K in q)if(q[K].location>=0){const I=rt[K];let nt=ut[K];if(nt===void 0&&(K==="instanceMatrix"&&U.instanceMatrix&&(nt=U.instanceMatrix),K==="instanceColor"&&U.instanceColor&&(nt=U.instanceColor)),I===void 0||I.attribute!==nt||nt&&I.data!==nt.data)return!0;G++}return s.attributesNum!==G||s.index!==et}function M(U,V,Q,et){const rt={},ut=V.attributes;let G=0;const q=Q.getAttributes();for(const K in q)if(q[K].location>=0){let I=ut[K];I===void 0&&(K==="instanceMatrix"&&U.instanceMatrix&&(I=U.instanceMatrix),K==="instanceColor"&&U.instanceColor&&(I=U.instanceColor));const nt={};nt.attribute=I,I&&I.data&&(nt.data=I.data),rt[K]=nt,G++}s.attributes=rt,s.attributesNum=G,s.index=et}function T(){const U=s.newAttributes;for(let V=0,Q=U.length;V<Q;V++)U[V]=0}function E(U){b(U,0)}function b(U,V){const Q=s.newAttributes,et=s.enabledAttributes,rt=s.attributeDivisors;Q[U]=1,et[U]===0&&(r.enableVertexAttribArray(U),et[U]=1),rt[U]!==V&&(r.vertexAttribDivisor(U,V),rt[U]=V)}function w(){const U=s.newAttributes,V=s.enabledAttributes;for(let Q=0,et=V.length;Q<et;Q++)V[Q]!==U[Q]&&(r.disableVertexAttribArray(Q),V[Q]=0)}function D(U,V,Q,et,rt,ut,G){G===!0?r.vertexAttribIPointer(U,V,Q,rt,ut):r.vertexAttribPointer(U,V,Q,et,rt,ut)}function B(U,V,Q,et){T();const rt=et.attributes,ut=Q.getAttributes(),G=V.defaultAttributeValues;for(const q in ut){const K=ut[q];if(K.location>=0){let lt=rt[q];if(lt===void 0&&(q==="instanceMatrix"&&U.instanceMatrix&&(lt=U.instanceMatrix),q==="instanceColor"&&U.instanceColor&&(lt=U.instanceColor)),lt!==void 0){const I=lt.normalized,nt=lt.itemSize,gt=t.get(lt);if(gt===void 0)continue;const bt=gt.buffer,St=gt.type,ft=gt.bytesPerElement,Mt=St===r.INT||St===r.UNSIGNED_INT||lt.gpuType===zA;if(lt.isInterleavedBufferAttribute){const Lt=lt.data,Yt=Lt.stride,$t=lt.offset;if(Lt.isInstancedInterleavedBuffer){for(let Me=0;Me<K.locationSize;Me++)b(K.location+Me,Lt.meshPerAttribute);U.isInstancedMesh!==!0&&et._maxInstanceCount===void 0&&(et._maxInstanceCount=Lt.meshPerAttribute*Lt.count)}else for(let Me=0;Me<K.locationSize;Me++)E(K.location+Me);r.bindBuffer(r.ARRAY_BUFFER,bt);for(let Me=0;Me<K.locationSize;Me++)D(K.location+Me,nt/K.locationSize,St,I,Yt*ft,($t+nt/K.locationSize*Me)*ft,Mt)}else{if(lt.isInstancedBufferAttribute){for(let Lt=0;Lt<K.locationSize;Lt++)b(K.location+Lt,lt.meshPerAttribute);U.isInstancedMesh!==!0&&et._maxInstanceCount===void 0&&(et._maxInstanceCount=lt.meshPerAttribute*lt.count)}else for(let Lt=0;Lt<K.locationSize;Lt++)E(K.location+Lt);r.bindBuffer(r.ARRAY_BUFFER,bt);for(let Lt=0;Lt<K.locationSize;Lt++)D(K.location+Lt,nt/K.locationSize,St,I,nt*ft,nt/K.locationSize*Lt*ft,Mt)}}else if(G!==void 0){const I=G[q];if(I!==void 0)switch(I.length){case 2:r.vertexAttrib2fv(K.location,I);break;case 3:r.vertexAttrib3fv(K.location,I);break;case 4:r.vertexAttrib4fv(K.location,I);break;default:r.vertexAttrib1fv(K.location,I)}}}}w()}function L(){F();for(const U in n){const V=n[U];for(const Q in V){const et=V[Q];for(const rt in et)g(et[rt].object),delete et[rt];delete V[Q]}delete n[U]}}function P(U){if(n[U.id]===void 0)return;const V=n[U.id];for(const Q in V){const et=V[Q];for(const rt in et)g(et[rt].object),delete et[rt];delete V[Q]}delete n[U.id]}function H(U){for(const V in n){const Q=n[V];if(Q[U.id]===void 0)continue;const et=Q[U.id];for(const rt in et)g(et[rt].object),delete et[rt];delete Q[U.id]}}function F(){O(),l=!0,s!==i&&(s=i,p(s.object))}function O(){i.geometry=null,i.program=null,i.wireframe=!1}return{setup:u,reset:F,resetDefaultState:O,dispose:L,releaseStatesOfGeometry:P,releaseStatesOfProgram:H,initAttributes:T,enableAttribute:E,disableUnusedAttributes:w}}function uz(r,t,e){let n;function i(p){n=p}function s(p,g){r.drawArrays(n,p,g),e.update(g,n,1)}function l(p,g,_){_!==0&&(r.drawArraysInstanced(n,p,g,_),e.update(g,n,_))}function u(p,g,_){if(_===0)return;t.get("WEBGL_multi_draw").multiDrawArraysWEBGL(n,p,0,g,0,_);let x=0;for(let M=0;M<_;M++)x+=g[M];e.update(x,n,1)}function d(p,g,_,y){if(_===0)return;const x=t.get("WEBGL_multi_draw");if(x===null)for(let M=0;M<p.length;M++)l(p[M],g[M],y[M]);else{x.multiDrawArraysInstancedWEBGL(n,p,0,g,0,y,0,_);let M=0;for(let T=0;T<_;T++)M+=g[T]*y[T];e.update(M,n,1)}}this.setMode=i,this.render=s,this.renderInstances=l,this.renderMultiDraw=u,this.renderMultiDrawInstances=d}function cz(r,t,e,n){let i;function s(){if(i!==void 0)return i;if(t.has("EXT_texture_filter_anisotropic")===!0){const H=t.get("EXT_texture_filter_anisotropic");i=r.getParameter(H.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function l(H){return!(H!==_s&&n.convert(H)!==r.getParameter(r.IMPLEMENTATION_COLOR_READ_FORMAT))}function u(H){const F=H===Im&&(t.has("EXT_color_buffer_half_float")||t.has("EXT_color_buffer_float"));return!(H!==bo&&n.convert(H)!==r.getParameter(r.IMPLEMENTATION_COLOR_READ_TYPE)&&H!==dr&&!F)}function d(H){if(H==="highp"){if(r.getShaderPrecisionFormat(r.VERTEX_SHADER,r.HIGH_FLOAT).precision>0&&r.getShaderPrecisionFormat(r.FRAGMENT_SHADER,r.HIGH_FLOAT).precision>0)return"highp";H="mediump"}return H==="mediump"&&r.getShaderPrecisionFormat(r.VERTEX_SHADER,r.MEDIUM_FLOAT).precision>0&&r.getShaderPrecisionFormat(r.FRAGMENT_SHADER,r.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let p=e.precision!==void 0?e.precision:"highp";const g=d(p);g!==p&&(console.warn("THREE.WebGLRenderer:",p,"not supported, using",g,"instead."),p=g);const _=e.logarithmicDepthBuffer===!0,y=e.reversedDepthBuffer===!0&&t.has("EXT_clip_control"),x=r.getParameter(r.MAX_TEXTURE_IMAGE_UNITS),M=r.getParameter(r.MAX_VERTEX_TEXTURE_IMAGE_UNITS),T=r.getParameter(r.MAX_TEXTURE_SIZE),E=r.getParameter(r.MAX_CUBE_MAP_TEXTURE_SIZE),b=r.getParameter(r.MAX_VERTEX_ATTRIBS),w=r.getParameter(r.MAX_VERTEX_UNIFORM_VECTORS),D=r.getParameter(r.MAX_VARYING_VECTORS),B=r.getParameter(r.MAX_FRAGMENT_UNIFORM_VECTORS),L=M>0,P=r.getParameter(r.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:s,getMaxPrecision:d,textureFormatReadable:l,textureTypeReadable:u,precision:p,logarithmicDepthBuffer:_,reversedDepthBuffer:y,maxTextures:x,maxVertexTextures:M,maxTextureSize:T,maxCubemapSize:E,maxAttributes:b,maxVertexUniforms:w,maxVaryings:D,maxFragmentUniforms:B,vertexTextures:L,maxSamples:P}}function fz(r){const t=this;let e=null,n=0,i=!1,s=!1;const l=new Iu,u=new fn,d={value:null,needsUpdate:!1};this.uniform=d,this.numPlanes=0,this.numIntersection=0,this.init=function(_,y){const x=_.length!==0||y||n!==0||i;return i=y,n=_.length,x},this.beginShadows=function(){s=!0,g(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(_,y){e=g(_,y,0)},this.setState=function(_,y,x){const M=_.clippingPlanes,T=_.clipIntersection,E=_.clipShadows,b=r.get(_);if(!i||M===null||M.length===0||s&&!E)s?g(null):p();else{const w=s?0:n,D=w*4;let B=b.clippingState||null;d.value=B,B=g(M,y,D,x);for(let L=0;L!==D;++L)B[L]=e[L];b.clippingState=B,this.numIntersection=T?this.numPlanes:0,this.numPlanes+=w}};function p(){d.value!==e&&(d.value=e,d.needsUpdate=n>0),t.numPlanes=n,t.numIntersection=0}function g(_,y,x,M){const T=_!==null?_.length:0;let E=null;if(T!==0){if(E=d.value,M!==!0||E===null){const b=x+T*4,w=y.matrixWorldInverse;u.getNormalMatrix(w),(E===null||E.length<b)&&(E=new Float32Array(b));for(let D=0,B=x;D!==T;++D,B+=4)l.copy(_[D]).applyMatrix4(w,u),l.normal.toArray(E,B),E[B+3]=l.constant}d.value=E,d.needsUpdate=!0}return t.numPlanes=T,t.numIntersection=0,E}}function hz(r){let t=new WeakMap;function e(l,u){return u===t_?l.mapping=Ku:u===e_&&(l.mapping=df),l}function n(l){if(l&&l.isTexture){const u=l.mapping;if(u===t_||u===e_)if(t.has(l)){const d=t.get(l).texture;return e(d,l.mapping)}else{const d=l.image;if(d&&d.height>0){const p=new $w(d.height);return p.fromEquirectangularTexture(r,l),t.set(l,p),l.addEventListener("dispose",i),e(p.texture,l.mapping)}else return null}}return l}function i(l){const u=l.target;u.removeEventListener("dispose",i);const d=t.get(u);d!==void 0&&(t.delete(u),d.dispose())}function s(){t=new WeakMap}return{get:n,dispose:s}}const Zp=4,lR=[.125,.215,.35,.446,.526,.582],zh=20,KM=new Yu,uR=new pe;let WM=null,jM=0,QM=0,ZM=!1;const Lh=(1+Math.sqrt(5))/2,Vp=1/Lh,cR=[new W(-Lh,Vp,0),new W(Lh,Vp,0),new W(-Vp,0,Lh),new W(Vp,0,Lh),new W(0,Lh,-Vp),new W(0,Lh,Vp),new W(-1,1,-1),new W(1,1,-1),new W(-1,1,1),new W(1,1,1)],dz=new W;class aE{constructor(t){this._renderer=t,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(t,e=0,n=.1,i=100,s={}){const{size:l=256,position:u=dz}=s;WM=this._renderer.getRenderTarget(),jM=this._renderer.getActiveCubeFace(),QM=this._renderer.getActiveMipmapLevel(),ZM=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(l);const d=this._allocateTargets();return d.depthBuffer=!0,this._sceneToCubeUV(t,n,i,d,u),e>0&&this._blur(d,0,0,e),this._applyPMREM(d),this._cleanup(d),d}fromEquirectangular(t,e=null){return this._fromTexture(t,e)}fromCubemap(t,e=null){return this._fromTexture(t,e)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=dR(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=hR(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(t){this._lodMax=Math.floor(Math.log2(t)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let t=0;t<this._lodPlanes.length;t++)this._lodPlanes[t].dispose()}_cleanup(t){this._renderer.setRenderTarget(WM,jM,QM),this._renderer.xr.enabled=ZM,t.scissorTest=!1,Qy(t,0,0,t.width,t.height)}_fromTexture(t,e){t.mapping===Ku||t.mapping===df?this._setSize(t.image.length===0?16:t.image[0].width||t.image[0].image.width):this._setSize(t.image.width/4),WM=this._renderer.getRenderTarget(),jM=this._renderer.getActiveCubeFace(),QM=this._renderer.getActiveMipmapLevel(),ZM=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const n=e||this._allocateTargets();return this._textureToCubeUV(t,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTargets(){const t=3*Math.max(this._cubeSize,112),e=4*this._cubeSize,n={magFilter:$i,minFilter:$i,generateMipmaps:!1,type:Im,format:_s,colorSpace:mf,depthBuffer:!1},i=fR(t,e,n);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==t||this._pingPongRenderTarget.height!==e){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=fR(t,e,n);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=pz(s)),this._blurMaterial=mz(s,t,e)}return i}_compileMaterial(t){const e=new ta(this._lodPlanes[0],t);this._renderer.compile(e,KM)}_sceneToCubeUV(t,e,n,i,s){const d=new Xi(90,1,e,n),p=[1,-1,1,1,1,1],g=[1,1,1,-1,-1,-1],_=this._renderer,y=_.autoClear,x=_.toneMapping;_.getClearColor(uR),_.toneMapping=jl,_.autoClear=!1,_.state.buffers.depth.getReversed()&&(_.setRenderTarget(i),_.clearDepth(),_.setRenderTarget(null));const T=new Gr({name:"PMREM.Background",side:Ks,depthWrite:!1,depthTest:!1}),E=new ta(new _d,T);let b=!1;const w=t.background;w?w.isColor&&(T.color.copy(w),t.background=null,b=!0):(T.color.copy(uR),b=!0);for(let D=0;D<6;D++){const B=D%3;B===0?(d.up.set(0,p[D],0),d.position.set(s.x,s.y,s.z),d.lookAt(s.x+g[D],s.y,s.z)):B===1?(d.up.set(0,0,p[D]),d.position.set(s.x,s.y,s.z),d.lookAt(s.x,s.y+g[D],s.z)):(d.up.set(0,p[D],0),d.position.set(s.x,s.y,s.z),d.lookAt(s.x,s.y,s.z+g[D]));const L=this._cubeSize;Qy(i,B*L,D>2?L:0,L,L),_.setRenderTarget(i),b&&_.render(E,d),_.render(t,d)}E.geometry.dispose(),E.material.dispose(),_.toneMapping=x,_.autoClear=y,t.background=w}_textureToCubeUV(t,e){const n=this._renderer,i=t.mapping===Ku||t.mapping===df;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=dR()),this._cubemapMaterial.uniforms.flipEnvMap.value=t.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=hR());const s=i?this._cubemapMaterial:this._equirectMaterial,l=new ta(this._lodPlanes[0],s),u=s.uniforms;u.envMap.value=t;const d=this._cubeSize;Qy(e,0,0,3*d,2*d),n.setRenderTarget(e),n.render(l,KM)}_applyPMREM(t){const e=this._renderer,n=e.autoClear;e.autoClear=!1;const i=this._lodPlanes.length;for(let s=1;s<i;s++){const l=Math.sqrt(this._sigmas[s]*this._sigmas[s]-this._sigmas[s-1]*this._sigmas[s-1]),u=cR[(i-s-1)%cR.length];this._blur(t,s-1,s,l,u)}e.autoClear=n}_blur(t,e,n,i,s){const l=this._pingPongRenderTarget;this._halfBlur(t,l,e,n,i,"latitudinal",s),this._halfBlur(l,t,n,n,i,"longitudinal",s)}_halfBlur(t,e,n,i,s,l,u){const d=this._renderer,p=this._blurMaterial;l!=="latitudinal"&&l!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const g=3,_=new ta(this._lodPlanes[i],p),y=p.uniforms,x=this._sizeLods[n]-1,M=isFinite(s)?Math.PI/(2*x):2*Math.PI/(2*zh-1),T=s/M,E=isFinite(s)?1+Math.floor(g*T):zh;E>zh&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${E} samples when the maximum is set to ${zh}`);const b=[];let w=0;for(let H=0;H<zh;++H){const F=H/T,O=Math.exp(-F*F/2);b.push(O),H===0?w+=O:H<E&&(w+=2*O)}for(let H=0;H<b.length;H++)b[H]=b[H]/w;y.envMap.value=t.texture,y.samples.value=E,y.weights.value=b,y.latitudinal.value=l==="latitudinal",u&&(y.poleAxis.value=u);const{_lodMax:D}=this;y.dTheta.value=M,y.mipInt.value=D-n;const B=this._sizeLods[i],L=3*B*(i>D-Zp?i-D+Zp:0),P=4*(this._cubeSize-B);Qy(e,L,P,3*B,2*B),d.setRenderTarget(e),d.render(_,KM)}}function pz(r){const t=[],e=[],n=[];let i=r;const s=r-Zp+1+lR.length;for(let l=0;l<s;l++){const u=Math.pow(2,i);e.push(u);let d=1/u;l>r-Zp?d=lR[l-r+Zp-1]:l===0&&(d=0),n.push(d);const p=1/(u-2),g=-p,_=1+p,y=[g,g,_,g,_,_,g,g,_,_,g,_],x=6,M=6,T=3,E=2,b=1,w=new Float32Array(T*M*x),D=new Float32Array(E*M*x),B=new Float32Array(b*M*x);for(let P=0;P<x;P++){const H=P%3*2/3-1,F=P>2?0:-1,O=[H,F,0,H+2/3,F,0,H+2/3,F+1,0,H,F,0,H+2/3,F+1,0,H,F+1,0];w.set(O,T*M*P),D.set(y,E*M*P);const U=[P,P,P,P,P,P];B.set(U,b*M*P)}const L=new un;L.setAttribute("position",new Vn(w,T)),L.setAttribute("uv",new Vn(D,E)),L.setAttribute("faceIndex",new Vn(B,b)),t.push(L),i>Zp&&i--}return{lodPlanes:t,sizeLods:e,sigmas:n}}function fR(r,t,e){const n=new tu(r,t,e);return n.texture.mapping=Lm,n.texture.name="PMREM.cubeUv",n.scissorTest=!0,n}function Qy(r,t,e,n,i){r.viewport.set(t,e,n,i),r.scissor.set(t,e,n,i)}function mz(r,t,e){const n=new Float32Array(zh),i=new W(0,1,0);return new sl({name:"SphericalGaussianBlur",defines:{n:zh,CUBEUV_TEXEL_WIDTH:1/t,CUBEUV_TEXEL_HEIGHT:1/e,CUBEUV_MAX_MIP:`${r}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:n},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:B1(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Xu,depthTest:!1,depthWrite:!1})}function hR(){return new sl({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:B1(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Xu,depthTest:!1,depthWrite:!1})}function dR(){return new sl({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:B1(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Xu,depthTest:!1,depthWrite:!1})}function B1(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function gz(r){let t=new WeakMap,e=null;function n(u){if(u&&u.isTexture){const d=u.mapping,p=d===t_||d===e_,g=d===Ku||d===df;if(p||g){let _=t.get(u);const y=_!==void 0?_.texture.pmremVersion:0;if(u.isRenderTargetTexture&&u.pmremVersion!==y)return e===null&&(e=new aE(r)),_=p?e.fromEquirectangular(u,_):e.fromCubemap(u,_),_.texture.pmremVersion=u.pmremVersion,t.set(u,_),_.texture;if(_!==void 0)return _.texture;{const x=u.image;return p&&x&&x.height>0||g&&x&&i(x)?(e===null&&(e=new aE(r)),_=p?e.fromEquirectangular(u):e.fromCubemap(u),_.texture.pmremVersion=u.pmremVersion,t.set(u,_),u.addEventListener("dispose",s),_.texture):null}}}return u}function i(u){let d=0;const p=6;for(let g=0;g<p;g++)u[g]!==void 0&&d++;return d===p}function s(u){const d=u.target;d.removeEventListener("dispose",s);const p=t.get(d);p!==void 0&&(t.delete(d),p.dispose())}function l(){t=new WeakMap,e!==null&&(e.dispose(),e=null)}return{get:n,dispose:l}}function _z(r){const t={};function e(n){if(t[n]!==void 0)return t[n];let i;switch(n){case"WEBGL_depth_texture":i=r.getExtension("WEBGL_depth_texture")||r.getExtension("MOZ_WEBGL_depth_texture")||r.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=r.getExtension("EXT_texture_filter_anisotropic")||r.getExtension("MOZ_EXT_texture_filter_anisotropic")||r.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=r.getExtension("WEBGL_compressed_texture_s3tc")||r.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||r.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=r.getExtension("WEBGL_compressed_texture_pvrtc")||r.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=r.getExtension(n)}return t[n]=i,i}return{has:function(n){return e(n)!==null},init:function(){e("EXT_color_buffer_float"),e("WEBGL_clip_cull_distance"),e("OES_texture_float_linear"),e("EXT_color_buffer_half_float"),e("WEBGL_multisampled_render_to_texture"),e("WEBGL_render_shared_exponent")},get:function(n){const i=e(n);return i===null&&im("THREE.WebGLRenderer: "+n+" extension not supported."),i}}}function vz(r,t,e,n){const i={},s=new WeakMap;function l(_){const y=_.target;y.index!==null&&t.remove(y.index);for(const M in y.attributes)t.remove(y.attributes[M]);y.removeEventListener("dispose",l),delete i[y.id];const x=s.get(y);x&&(t.remove(x),s.delete(y)),n.releaseStatesOfGeometry(y),y.isInstancedBufferGeometry===!0&&delete y._maxInstanceCount,e.memory.geometries--}function u(_,y){return i[y.id]===!0||(y.addEventListener("dispose",l),i[y.id]=!0,e.memory.geometries++),y}function d(_){const y=_.attributes;for(const x in y)t.update(y[x],r.ARRAY_BUFFER)}function p(_){const y=[],x=_.index,M=_.attributes.position;let T=0;if(x!==null){const w=x.array;T=x.version;for(let D=0,B=w.length;D<B;D+=3){const L=w[D+0],P=w[D+1],H=w[D+2];y.push(L,P,P,H,H,L)}}else if(M!==void 0){const w=M.array;T=M.version;for(let D=0,B=w.length/3-1;D<B;D+=3){const L=D+0,P=D+1,H=D+2;y.push(L,P,P,H,H,L)}}else return;const E=new(qw(y)?$E:ZE)(y,1);E.version=T;const b=s.get(_);b&&t.remove(b),s.set(_,E)}function g(_){const y=s.get(_);if(y){const x=_.index;x!==null&&y.version<x.version&&p(_)}else p(_);return s.get(_)}return{get:u,update:d,getWireframeAttribute:g}}function yz(r,t,e){let n;function i(y){n=y}let s,l;function u(y){s=y.type,l=y.bytesPerElement}function d(y,x){r.drawElements(n,x,s,y*l),e.update(x,n,1)}function p(y,x,M){M!==0&&(r.drawElementsInstanced(n,x,s,y*l,M),e.update(x,n,M))}function g(y,x,M){if(M===0)return;t.get("WEBGL_multi_draw").multiDrawElementsWEBGL(n,x,0,s,y,0,M);let E=0;for(let b=0;b<M;b++)E+=x[b];e.update(E,n,1)}function _(y,x,M,T){if(M===0)return;const E=t.get("WEBGL_multi_draw");if(E===null)for(let b=0;b<y.length;b++)p(y[b]/l,x[b],T[b]);else{E.multiDrawElementsInstancedWEBGL(n,x,0,s,y,0,T,0,M);let b=0;for(let w=0;w<M;w++)b+=x[w]*T[w];e.update(b,n,1)}}this.setMode=i,this.setIndex=u,this.render=d,this.renderInstances=p,this.renderMultiDraw=g,this.renderMultiDrawInstances=_}function xz(r){const t={geometries:0,textures:0},e={frame:0,calls:0,triangles:0,points:0,lines:0};function n(s,l,u){switch(e.calls++,l){case r.TRIANGLES:e.triangles+=u*(s/3);break;case r.LINES:e.lines+=u*(s/2);break;case r.LINE_STRIP:e.lines+=u*(s-1);break;case r.LINE_LOOP:e.lines+=u*s;break;case r.POINTS:e.points+=u*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",l);break}}function i(){e.calls=0,e.triangles=0,e.points=0,e.lines=0}return{memory:t,render:e,programs:null,autoReset:!0,reset:i,update:n}}function Az(r,t,e){const n=new WeakMap,i=new Gn;function s(l,u,d){const p=l.morphTargetInfluences,g=u.morphAttributes.position||u.morphAttributes.normal||u.morphAttributes.color,_=g!==void 0?g.length:0;let y=n.get(u);if(y===void 0||y.count!==_){let U=function(){F.dispose(),n.delete(u),u.removeEventListener("dispose",U)};var x=U;y!==void 0&&y.texture.dispose();const M=u.morphAttributes.position!==void 0,T=u.morphAttributes.normal!==void 0,E=u.morphAttributes.color!==void 0,b=u.morphAttributes.position||[],w=u.morphAttributes.normal||[],D=u.morphAttributes.color||[];let B=0;M===!0&&(B=1),T===!0&&(B=2),E===!0&&(B=3);let L=u.attributes.position.count*B,P=1;L>t.maxTextureSize&&(P=Math.ceil(L/t.maxTextureSize),L=t.maxTextureSize);const H=new Float32Array(L*P*4*_),F=new qA(H,L,P,_);F.type=dr,F.needsUpdate=!0;const O=B*4;for(let V=0;V<_;V++){const Q=b[V],et=w[V],rt=D[V],ut=L*P*4*V;for(let G=0;G<Q.count;G++){const q=G*O;M===!0&&(i.fromBufferAttribute(Q,G),H[ut+q+0]=i.x,H[ut+q+1]=i.y,H[ut+q+2]=i.z,H[ut+q+3]=0),T===!0&&(i.fromBufferAttribute(et,G),H[ut+q+4]=i.x,H[ut+q+5]=i.y,H[ut+q+6]=i.z,H[ut+q+7]=0),E===!0&&(i.fromBufferAttribute(rt,G),H[ut+q+8]=i.x,H[ut+q+9]=i.y,H[ut+q+10]=i.z,H[ut+q+11]=rt.itemSize===4?i.w:1)}}y={count:_,texture:F,size:new Ht(L,P)},n.set(u,y),u.addEventListener("dispose",U)}if(l.isInstancedMesh===!0&&l.morphTexture!==null)d.getUniforms().setValue(r,"morphTexture",l.morphTexture,e);else{let M=0;for(let E=0;E<p.length;E++)M+=p[E];const T=u.morphTargetsRelative?1:1-M;d.getUniforms().setValue(r,"morphTargetBaseInfluence",T),d.getUniforms().setValue(r,"morphTargetInfluences",p)}d.getUniforms().setValue(r,"morphTargetsTexture",y.texture,e),d.getUniforms().setValue(r,"morphTargetsTextureSize",y.size)}return{update:s}}function Sz(r,t,e,n){let i=new WeakMap;function s(d){const p=n.render.frame,g=d.geometry,_=t.get(d,g);if(i.get(_)!==p&&(t.update(_),i.set(_,p)),d.isInstancedMesh&&(d.hasEventListener("dispose",u)===!1&&d.addEventListener("dispose",u),i.get(d)!==p&&(e.update(d.instanceMatrix,r.ARRAY_BUFFER),d.instanceColor!==null&&e.update(d.instanceColor,r.ARRAY_BUFFER),i.set(d,p))),d.isSkinnedMesh){const y=d.skeleton;i.get(y)!==p&&(y.update(),i.set(y,p))}return _}function l(){i=new WeakMap}function u(d){const p=d.target;p.removeEventListener("dispose",u),e.remove(p.instanceMatrix),p.instanceColor!==null&&e.remove(p.instanceColor)}return{update:s,dispose:l}}const YB=new wi,pR=new r1(1,1),qB=new qA,JB=new JA,KB=new M_,mR=[],gR=[],_R=new Float32Array(16),vR=new Float32Array(9),yR=new Float32Array(4);function Hm(r,t,e){const n=r[0];if(n<=0||n>0)return r;const i=t*e;let s=mR[i];if(s===void 0&&(s=new Float32Array(i),mR[i]=s),t!==0){n.toArray(s,0);for(let l=1,u=0;l!==t;++l)u+=e,r[l].toArray(s,u)}return s}function Ca(r,t){if(r.length!==t.length)return!1;for(let e=0,n=r.length;e<n;e++)if(r[e]!==t[e])return!1;return!0}function Ra(r,t){for(let e=0,n=t.length;e<n;e++)r[e]=t[e]}function mS(r,t){let e=gR[t];e===void 0&&(e=new Int32Array(t),gR[t]=e);for(let n=0;n!==t;++n)e[n]=r.allocateTextureUnit();return e}function Mz(r,t){const e=this.cache;e[0]!==t&&(r.uniform1f(this.addr,t),e[0]=t)}function bz(r,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y)&&(r.uniform2f(this.addr,t.x,t.y),e[0]=t.x,e[1]=t.y);else{if(Ca(e,t))return;r.uniform2fv(this.addr,t),Ra(e,t)}}function Ez(r,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z)&&(r.uniform3f(this.addr,t.x,t.y,t.z),e[0]=t.x,e[1]=t.y,e[2]=t.z);else if(t.r!==void 0)(e[0]!==t.r||e[1]!==t.g||e[2]!==t.b)&&(r.uniform3f(this.addr,t.r,t.g,t.b),e[0]=t.r,e[1]=t.g,e[2]=t.b);else{if(Ca(e,t))return;r.uniform3fv(this.addr,t),Ra(e,t)}}function Tz(r,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z||e[3]!==t.w)&&(r.uniform4f(this.addr,t.x,t.y,t.z,t.w),e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.w);else{if(Ca(e,t))return;r.uniform4fv(this.addr,t),Ra(e,t)}}function Cz(r,t){const e=this.cache,n=t.elements;if(n===void 0){if(Ca(e,t))return;r.uniformMatrix2fv(this.addr,!1,t),Ra(e,t)}else{if(Ca(e,n))return;yR.set(n),r.uniformMatrix2fv(this.addr,!1,yR),Ra(e,n)}}function Rz(r,t){const e=this.cache,n=t.elements;if(n===void 0){if(Ca(e,t))return;r.uniformMatrix3fv(this.addr,!1,t),Ra(e,t)}else{if(Ca(e,n))return;vR.set(n),r.uniformMatrix3fv(this.addr,!1,vR),Ra(e,n)}}function wz(r,t){const e=this.cache,n=t.elements;if(n===void 0){if(Ca(e,t))return;r.uniformMatrix4fv(this.addr,!1,t),Ra(e,t)}else{if(Ca(e,n))return;_R.set(n),r.uniformMatrix4fv(this.addr,!1,_R),Ra(e,n)}}function Bz(r,t){const e=this.cache;e[0]!==t&&(r.uniform1i(this.addr,t),e[0]=t)}function Dz(r,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y)&&(r.uniform2i(this.addr,t.x,t.y),e[0]=t.x,e[1]=t.y);else{if(Ca(e,t))return;r.uniform2iv(this.addr,t),Ra(e,t)}}function Oz(r,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z)&&(r.uniform3i(this.addr,t.x,t.y,t.z),e[0]=t.x,e[1]=t.y,e[2]=t.z);else{if(Ca(e,t))return;r.uniform3iv(this.addr,t),Ra(e,t)}}function Uz(r,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z||e[3]!==t.w)&&(r.uniform4i(this.addr,t.x,t.y,t.z,t.w),e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.w);else{if(Ca(e,t))return;r.uniform4iv(this.addr,t),Ra(e,t)}}function Nz(r,t){const e=this.cache;e[0]!==t&&(r.uniform1ui(this.addr,t),e[0]=t)}function Lz(r,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y)&&(r.uniform2ui(this.addr,t.x,t.y),e[0]=t.x,e[1]=t.y);else{if(Ca(e,t))return;r.uniform2uiv(this.addr,t),Ra(e,t)}}function Iz(r,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z)&&(r.uniform3ui(this.addr,t.x,t.y,t.z),e[0]=t.x,e[1]=t.y,e[2]=t.z);else{if(Ca(e,t))return;r.uniform3uiv(this.addr,t),Ra(e,t)}}function Pz(r,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z||e[3]!==t.w)&&(r.uniform4ui(this.addr,t.x,t.y,t.z,t.w),e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.w);else{if(Ca(e,t))return;r.uniform4uiv(this.addr,t),Ra(e,t)}}function Fz(r,t,e){const n=this.cache,i=e.allocateTextureUnit();n[0]!==i&&(r.uniform1i(this.addr,i),n[0]=i);let s;this.type===r.SAMPLER_2D_SHADOW?(pR.compareFunction=WE,s=pR):s=YB,e.setTexture2D(t||s,i)}function zz(r,t,e){const n=this.cache,i=e.allocateTextureUnit();n[0]!==i&&(r.uniform1i(this.addr,i),n[0]=i),e.setTexture3D(t||JB,i)}function Hz(r,t,e){const n=this.cache,i=e.allocateTextureUnit();n[0]!==i&&(r.uniform1i(this.addr,i),n[0]=i),e.setTextureCube(t||KB,i)}function Gz(r,t,e){const n=this.cache,i=e.allocateTextureUnit();n[0]!==i&&(r.uniform1i(this.addr,i),n[0]=i),e.setTexture2DArray(t||qB,i)}function Vz(r){switch(r){case 5126:return Mz;case 35664:return bz;case 35665:return Ez;case 35666:return Tz;case 35674:return Cz;case 35675:return Rz;case 35676:return wz;case 5124:case 35670:return Bz;case 35667:case 35671:return Dz;case 35668:case 35672:return Oz;case 35669:case 35673:return Uz;case 5125:return Nz;case 36294:return Lz;case 36295:return Iz;case 36296:return Pz;case 35678:case 36198:case 36298:case 36306:case 35682:return Fz;case 35679:case 36299:case 36307:return zz;case 35680:case 36300:case 36308:case 36293:return Hz;case 36289:case 36303:case 36311:case 36292:return Gz}}function Xz(r,t){r.uniform1fv(this.addr,t)}function kz(r,t){const e=Hm(t,this.size,2);r.uniform2fv(this.addr,e)}function Yz(r,t){const e=Hm(t,this.size,3);r.uniform3fv(this.addr,e)}function qz(r,t){const e=Hm(t,this.size,4);r.uniform4fv(this.addr,e)}function Jz(r,t){const e=Hm(t,this.size,4);r.uniformMatrix2fv(this.addr,!1,e)}function Kz(r,t){const e=Hm(t,this.size,9);r.uniformMatrix3fv(this.addr,!1,e)}function Wz(r,t){const e=Hm(t,this.size,16);r.uniformMatrix4fv(this.addr,!1,e)}function jz(r,t){r.uniform1iv(this.addr,t)}function Qz(r,t){r.uniform2iv(this.addr,t)}function Zz(r,t){r.uniform3iv(this.addr,t)}function $z(r,t){r.uniform4iv(this.addr,t)}function tH(r,t){r.uniform1uiv(this.addr,t)}function eH(r,t){r.uniform2uiv(this.addr,t)}function nH(r,t){r.uniform3uiv(this.addr,t)}function iH(r,t){r.uniform4uiv(this.addr,t)}function aH(r,t,e){const n=this.cache,i=t.length,s=mS(e,i);Ca(n,s)||(r.uniform1iv(this.addr,s),Ra(n,s));for(let l=0;l!==i;++l)e.setTexture2D(t[l]||YB,s[l])}function sH(r,t,e){const n=this.cache,i=t.length,s=mS(e,i);Ca(n,s)||(r.uniform1iv(this.addr,s),Ra(n,s));for(let l=0;l!==i;++l)e.setTexture3D(t[l]||JB,s[l])}function rH(r,t,e){const n=this.cache,i=t.length,s=mS(e,i);Ca(n,s)||(r.uniform1iv(this.addr,s),Ra(n,s));for(let l=0;l!==i;++l)e.setTextureCube(t[l]||KB,s[l])}function oH(r,t,e){const n=this.cache,i=t.length,s=mS(e,i);Ca(n,s)||(r.uniform1iv(this.addr,s),Ra(n,s));for(let l=0;l!==i;++l)e.setTexture2DArray(t[l]||qB,s[l])}function lH(r){switch(r){case 5126:return Xz;case 35664:return kz;case 35665:return Yz;case 35666:return qz;case 35674:return Jz;case 35675:return Kz;case 35676:return Wz;case 5124:case 35670:return jz;case 35667:case 35671:return Qz;case 35668:case 35672:return Zz;case 35669:case 35673:return $z;case 5125:return tH;case 36294:return eH;case 36295:return nH;case 36296:return iH;case 35678:case 36198:case 36298:case 36306:case 35682:return aH;case 35679:case 36299:case 36307:return sH;case 35680:case 36300:case 36308:case 36293:return rH;case 36289:case 36303:case 36311:case 36292:return oH}}class uH{constructor(t,e,n){this.id=t,this.addr=n,this.cache=[],this.type=e.type,this.setValue=Vz(e.type)}}class cH{constructor(t,e,n){this.id=t,this.addr=n,this.cache=[],this.type=e.type,this.size=e.size,this.setValue=lH(e.type)}}class fH{constructor(t){this.id=t,this.seq=[],this.map={}}setValue(t,e,n){const i=this.seq;for(let s=0,l=i.length;s!==l;++s){const u=i[s];u.setValue(t,e[u.id],n)}}}const $M=/(\w+)(\])?(\[|\.)?/g;function xR(r,t){r.seq.push(t),r.map[t.id]=t}function hH(r,t,e){const n=r.name,i=n.length;for($M.lastIndex=0;;){const s=$M.exec(n),l=$M.lastIndex;let u=s[1];const d=s[2]==="]",p=s[3];if(d&&(u=u|0),p===void 0||p==="["&&l+2===i){xR(e,p===void 0?new uH(u,r,t):new cH(u,r,t));break}else{let _=e.map[u];_===void 0&&(_=new fH(u),xR(e,_)),e=_}}}class Ax{constructor(t,e){this.seq=[],this.map={};const n=t.getProgramParameter(e,t.ACTIVE_UNIFORMS);for(let i=0;i<n;++i){const s=t.getActiveUniform(e,i),l=t.getUniformLocation(e,s.name);hH(s,l,this)}}setValue(t,e,n,i){const s=this.map[e];s!==void 0&&s.setValue(t,n,i)}setOptional(t,e,n){const i=e[n];i!==void 0&&this.setValue(t,n,i)}static upload(t,e,n,i){for(let s=0,l=e.length;s!==l;++s){const u=e[s],d=n[u.id];d.needsUpdate!==!1&&u.setValue(t,d.value,i)}}static seqWithValue(t,e){const n=[];for(let i=0,s=t.length;i!==s;++i){const l=t[i];l.id in e&&n.push(l)}return n}}function AR(r,t,e){const n=r.createShader(t);return r.shaderSource(n,e),r.compileShader(n),n}const dH=37297;let pH=0;function mH(r,t){const e=r.split(`
`),n=[],i=Math.max(t-6,0),s=Math.min(t+6,e.length);for(let l=i;l<s;l++){const u=l+1;n.push(`${u===t?">":" "} ${u}: ${e[l]}`)}return n.join(`
`)}const SR=new fn;function gH(r){Ln._getMatrix(SR,Ln.workingColorSpace,r);const t=`mat3( ${SR.elements.map(e=>e.toFixed(4))} )`;switch(Ln.getTransfer(r)){case i_:return[t,"LinearTransferOETF"];case ai:return[t,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",r),[t,"LinearTransferOETF"]}}function MR(r,t,e){const n=r.getShaderParameter(t,r.COMPILE_STATUS),s=(r.getShaderInfoLog(t)||"").trim();if(n&&s==="")return"";const l=/ERROR: 0:(\d+)/.exec(s);if(l){const u=parseInt(l[1]);return e.toUpperCase()+`

`+s+`

`+mH(r.getShaderSource(t),u)}else return s}function _H(r,t){const e=gH(t);return[`vec4 ${r}( vec4 value ) {`,`	return ${e[1]}( vec4( value.rgb * ${e[0]}, value.a ) );`,"}"].join(`
`)}function vH(r,t){let e;switch(t){case bw:e="Linear";break;case Ew:e="Reinhard";break;case Tw:e="Cineon";break;case zE:e="ACESFilmic";break;case Rw:e="AgX";break;case ww:e="Neutral";break;case Cw:e="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),e="Linear"}return"vec3 "+r+"( vec3 color ) { return "+e+"ToneMapping( color ); }"}const Zy=new W;function yH(){Ln.getLuminanceCoefficients(Zy);const r=Zy.x.toFixed(4),t=Zy.y.toFixed(4),e=Zy.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${r}, ${t}, ${e} );`,"	return dot( weights, rgb );","}"].join(`
`)}function xH(r){return[r.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",r.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(M0).join(`
`)}function AH(r){const t=[];for(const e in r){const n=r[e];n!==!1&&t.push("#define "+e+" "+n)}return t.join(`
`)}function SH(r,t){const e={},n=r.getProgramParameter(t,r.ACTIVE_ATTRIBUTES);for(let i=0;i<n;i++){const s=r.getActiveAttrib(t,i),l=s.name;let u=1;s.type===r.FLOAT_MAT2&&(u=2),s.type===r.FLOAT_MAT3&&(u=3),s.type===r.FLOAT_MAT4&&(u=4),e[l]={type:s.type,location:r.getAttribLocation(t,l),locationSize:u}}return e}function M0(r){return r!==""}function bR(r,t){const e=t.numSpotLightShadows+t.numSpotLightMaps-t.numSpotLightShadowsWithMaps;return r.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,t.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,e).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,t.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function ER(r,t){return r.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}const MH=/^[ \t]*#include +<([\w\d./]+)>/gm;function sE(r){return r.replace(MH,EH)}const bH=new Map;function EH(r,t){let e=mn[t];if(e===void 0){const n=bH.get(t);if(n!==void 0)e=mn[n],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',t,n);else throw new Error("Can not resolve #include <"+t+">")}return sE(e)}const TH=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function TR(r){return r.replace(TH,CH)}function CH(r,t,e,n){let i="";for(let s=parseInt(t);s<parseInt(e);s++)i+=n.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function CR(r){let t=`precision ${r.precision} float;
	precision ${r.precision} int;
	precision ${r.precision} sampler2D;
	precision ${r.precision} samplerCube;
	precision ${r.precision} sampler3D;
	precision ${r.precision} sampler2DArray;
	precision ${r.precision} sampler2DShadow;
	precision ${r.precision} samplerCubeShadow;
	precision ${r.precision} sampler2DArrayShadow;
	precision ${r.precision} isampler2D;
	precision ${r.precision} isampler3D;
	precision ${r.precision} isamplerCube;
	precision ${r.precision} isampler2DArray;
	precision ${r.precision} usampler2D;
	precision ${r.precision} usampler3D;
	precision ${r.precision} usamplerCube;
	precision ${r.precision} usampler2DArray;
	`;return r.precision==="highp"?t+=`
#define HIGH_PRECISION`:r.precision==="mediump"?t+=`
#define MEDIUM_PRECISION`:r.precision==="lowp"&&(t+=`
#define LOW_PRECISION`),t}function RH(r){let t="SHADOWMAP_TYPE_BASIC";return r.shadowMapType===IA?t="SHADOWMAP_TYPE_PCF":r.shadowMapType===O0?t="SHADOWMAP_TYPE_PCF_SOFT":r.shadowMapType===el&&(t="SHADOWMAP_TYPE_VSM"),t}function wH(r){let t="ENVMAP_TYPE_CUBE";if(r.envMap)switch(r.envMapMode){case Ku:case df:t="ENVMAP_TYPE_CUBE";break;case Lm:t="ENVMAP_TYPE_CUBE_UV";break}return t}function BH(r){let t="ENVMAP_MODE_REFLECTION";if(r.envMap)switch(r.envMapMode){case df:t="ENVMAP_MODE_REFRACTION";break}return t}function DH(r){let t="ENVMAP_BLENDING_NONE";if(r.envMap)switch(r.combine){case A_:t="ENVMAP_BLENDING_MULTIPLY";break;case Sw:t="ENVMAP_BLENDING_MIX";break;case Mw:t="ENVMAP_BLENDING_ADD";break}return t}function OH(r){const t=r.envMapCubeUVHeight;if(t===null)return null;const e=Math.log2(t)-2,n=1/t;return{texelWidth:1/(3*Math.max(Math.pow(2,e),112)),texelHeight:n,maxMip:e}}function UH(r,t,e,n){const i=r.getContext(),s=e.defines;let l=e.vertexShader,u=e.fragmentShader;const d=RH(e),p=wH(e),g=BH(e),_=DH(e),y=OH(e),x=xH(e),M=AH(s),T=i.createProgram();let E,b,w=e.glslVersion?"#version "+e.glslVersion+`
`:"";e.isRawShaderMaterial?(E=["#define SHADER_TYPE "+e.shaderType,"#define SHADER_NAME "+e.shaderName,M].filter(M0).join(`
`),E.length>0&&(E+=`
`),b=["#define SHADER_TYPE "+e.shaderType,"#define SHADER_NAME "+e.shaderName,M].filter(M0).join(`
`),b.length>0&&(b+=`
`)):(E=[CR(e),"#define SHADER_TYPE "+e.shaderType,"#define SHADER_NAME "+e.shaderName,M,e.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",e.batching?"#define USE_BATCHING":"",e.batchingColor?"#define USE_BATCHING_COLOR":"",e.instancing?"#define USE_INSTANCING":"",e.instancingColor?"#define USE_INSTANCING_COLOR":"",e.instancingMorph?"#define USE_INSTANCING_MORPH":"",e.useFog&&e.fog?"#define USE_FOG":"",e.useFog&&e.fogExp2?"#define FOG_EXP2":"",e.map?"#define USE_MAP":"",e.envMap?"#define USE_ENVMAP":"",e.envMap?"#define "+g:"",e.lightMap?"#define USE_LIGHTMAP":"",e.aoMap?"#define USE_AOMAP":"",e.bumpMap?"#define USE_BUMPMAP":"",e.normalMap?"#define USE_NORMALMAP":"",e.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",e.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",e.displacementMap?"#define USE_DISPLACEMENTMAP":"",e.emissiveMap?"#define USE_EMISSIVEMAP":"",e.anisotropy?"#define USE_ANISOTROPY":"",e.anisotropyMap?"#define USE_ANISOTROPYMAP":"",e.clearcoatMap?"#define USE_CLEARCOATMAP":"",e.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",e.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",e.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",e.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",e.specularMap?"#define USE_SPECULARMAP":"",e.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",e.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",e.roughnessMap?"#define USE_ROUGHNESSMAP":"",e.metalnessMap?"#define USE_METALNESSMAP":"",e.alphaMap?"#define USE_ALPHAMAP":"",e.alphaHash?"#define USE_ALPHAHASH":"",e.transmission?"#define USE_TRANSMISSION":"",e.transmissionMap?"#define USE_TRANSMISSIONMAP":"",e.thicknessMap?"#define USE_THICKNESSMAP":"",e.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",e.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",e.mapUv?"#define MAP_UV "+e.mapUv:"",e.alphaMapUv?"#define ALPHAMAP_UV "+e.alphaMapUv:"",e.lightMapUv?"#define LIGHTMAP_UV "+e.lightMapUv:"",e.aoMapUv?"#define AOMAP_UV "+e.aoMapUv:"",e.emissiveMapUv?"#define EMISSIVEMAP_UV "+e.emissiveMapUv:"",e.bumpMapUv?"#define BUMPMAP_UV "+e.bumpMapUv:"",e.normalMapUv?"#define NORMALMAP_UV "+e.normalMapUv:"",e.displacementMapUv?"#define DISPLACEMENTMAP_UV "+e.displacementMapUv:"",e.metalnessMapUv?"#define METALNESSMAP_UV "+e.metalnessMapUv:"",e.roughnessMapUv?"#define ROUGHNESSMAP_UV "+e.roughnessMapUv:"",e.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+e.anisotropyMapUv:"",e.clearcoatMapUv?"#define CLEARCOATMAP_UV "+e.clearcoatMapUv:"",e.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+e.clearcoatNormalMapUv:"",e.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+e.clearcoatRoughnessMapUv:"",e.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+e.iridescenceMapUv:"",e.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+e.iridescenceThicknessMapUv:"",e.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+e.sheenColorMapUv:"",e.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+e.sheenRoughnessMapUv:"",e.specularMapUv?"#define SPECULARMAP_UV "+e.specularMapUv:"",e.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+e.specularColorMapUv:"",e.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+e.specularIntensityMapUv:"",e.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+e.transmissionMapUv:"",e.thicknessMapUv?"#define THICKNESSMAP_UV "+e.thicknessMapUv:"",e.vertexTangents&&e.flatShading===!1?"#define USE_TANGENT":"",e.vertexColors?"#define USE_COLOR":"",e.vertexAlphas?"#define USE_COLOR_ALPHA":"",e.vertexUv1s?"#define USE_UV1":"",e.vertexUv2s?"#define USE_UV2":"",e.vertexUv3s?"#define USE_UV3":"",e.pointsUvs?"#define USE_POINTS_UV":"",e.flatShading?"#define FLAT_SHADED":"",e.skinning?"#define USE_SKINNING":"",e.morphTargets?"#define USE_MORPHTARGETS":"",e.morphNormals&&e.flatShading===!1?"#define USE_MORPHNORMALS":"",e.morphColors?"#define USE_MORPHCOLORS":"",e.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+e.morphTextureStride:"",e.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+e.morphTargetsCount:"",e.doubleSided?"#define DOUBLE_SIDED":"",e.flipSided?"#define FLIP_SIDED":"",e.shadowMapEnabled?"#define USE_SHADOWMAP":"",e.shadowMapEnabled?"#define "+d:"",e.sizeAttenuation?"#define USE_SIZEATTENUATION":"",e.numLightProbes>0?"#define USE_LIGHT_PROBES":"",e.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",e.reversedDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(M0).join(`
`),b=[CR(e),"#define SHADER_TYPE "+e.shaderType,"#define SHADER_NAME "+e.shaderName,M,e.useFog&&e.fog?"#define USE_FOG":"",e.useFog&&e.fogExp2?"#define FOG_EXP2":"",e.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",e.map?"#define USE_MAP":"",e.matcap?"#define USE_MATCAP":"",e.envMap?"#define USE_ENVMAP":"",e.envMap?"#define "+p:"",e.envMap?"#define "+g:"",e.envMap?"#define "+_:"",y?"#define CUBEUV_TEXEL_WIDTH "+y.texelWidth:"",y?"#define CUBEUV_TEXEL_HEIGHT "+y.texelHeight:"",y?"#define CUBEUV_MAX_MIP "+y.maxMip+".0":"",e.lightMap?"#define USE_LIGHTMAP":"",e.aoMap?"#define USE_AOMAP":"",e.bumpMap?"#define USE_BUMPMAP":"",e.normalMap?"#define USE_NORMALMAP":"",e.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",e.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",e.emissiveMap?"#define USE_EMISSIVEMAP":"",e.anisotropy?"#define USE_ANISOTROPY":"",e.anisotropyMap?"#define USE_ANISOTROPYMAP":"",e.clearcoat?"#define USE_CLEARCOAT":"",e.clearcoatMap?"#define USE_CLEARCOATMAP":"",e.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",e.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",e.dispersion?"#define USE_DISPERSION":"",e.iridescence?"#define USE_IRIDESCENCE":"",e.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",e.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",e.specularMap?"#define USE_SPECULARMAP":"",e.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",e.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",e.roughnessMap?"#define USE_ROUGHNESSMAP":"",e.metalnessMap?"#define USE_METALNESSMAP":"",e.alphaMap?"#define USE_ALPHAMAP":"",e.alphaTest?"#define USE_ALPHATEST":"",e.alphaHash?"#define USE_ALPHAHASH":"",e.sheen?"#define USE_SHEEN":"",e.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",e.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",e.transmission?"#define USE_TRANSMISSION":"",e.transmissionMap?"#define USE_TRANSMISSIONMAP":"",e.thicknessMap?"#define USE_THICKNESSMAP":"",e.vertexTangents&&e.flatShading===!1?"#define USE_TANGENT":"",e.vertexColors||e.instancingColor||e.batchingColor?"#define USE_COLOR":"",e.vertexAlphas?"#define USE_COLOR_ALPHA":"",e.vertexUv1s?"#define USE_UV1":"",e.vertexUv2s?"#define USE_UV2":"",e.vertexUv3s?"#define USE_UV3":"",e.pointsUvs?"#define USE_POINTS_UV":"",e.gradientMap?"#define USE_GRADIENTMAP":"",e.flatShading?"#define FLAT_SHADED":"",e.doubleSided?"#define DOUBLE_SIDED":"",e.flipSided?"#define FLIP_SIDED":"",e.shadowMapEnabled?"#define USE_SHADOWMAP":"",e.shadowMapEnabled?"#define "+d:"",e.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",e.numLightProbes>0?"#define USE_LIGHT_PROBES":"",e.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",e.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",e.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",e.reversedDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",e.toneMapping!==jl?"#define TONE_MAPPING":"",e.toneMapping!==jl?mn.tonemapping_pars_fragment:"",e.toneMapping!==jl?vH("toneMapping",e.toneMapping):"",e.dithering?"#define DITHERING":"",e.opaque?"#define OPAQUE":"",mn.colorspace_pars_fragment,_H("linearToOutputTexel",e.outputColorSpace),yH(),e.useDepthPacking?"#define DEPTH_PACKING "+e.depthPacking:"",`
`].filter(M0).join(`
`)),l=sE(l),l=bR(l,e),l=ER(l,e),u=sE(u),u=bR(u,e),u=ER(u,e),l=TR(l),u=TR(u),e.isRawShaderMaterial!==!0&&(w=`#version 300 es
`,E=[x,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+E,b=["#define varying in",e.glslVersion===jb?"":"layout(location = 0) out highp vec4 pc_fragColor;",e.glslVersion===jb?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+b);const D=w+E+l,B=w+b+u,L=AR(i,i.VERTEX_SHADER,D),P=AR(i,i.FRAGMENT_SHADER,B);i.attachShader(T,L),i.attachShader(T,P),e.index0AttributeName!==void 0?i.bindAttribLocation(T,0,e.index0AttributeName):e.morphTargets===!0&&i.bindAttribLocation(T,0,"position"),i.linkProgram(T);function H(V){if(r.debug.checkShaderErrors){const Q=i.getProgramInfoLog(T)||"",et=i.getShaderInfoLog(L)||"",rt=i.getShaderInfoLog(P)||"",ut=Q.trim(),G=et.trim(),q=rt.trim();let K=!0,lt=!0;if(i.getProgramParameter(T,i.LINK_STATUS)===!1)if(K=!1,typeof r.debug.onShaderError=="function")r.debug.onShaderError(i,T,L,P);else{const I=MR(i,L,"vertex"),nt=MR(i,P,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(T,i.VALIDATE_STATUS)+`

Material Name: `+V.name+`
Material Type: `+V.type+`

Program Info Log: `+ut+`
`+I+`
`+nt)}else ut!==""?console.warn("THREE.WebGLProgram: Program Info Log:",ut):(G===""||q==="")&&(lt=!1);lt&&(V.diagnostics={runnable:K,programLog:ut,vertexShader:{log:G,prefix:E},fragmentShader:{log:q,prefix:b}})}i.deleteShader(L),i.deleteShader(P),F=new Ax(i,T),O=SH(i,T)}let F;this.getUniforms=function(){return F===void 0&&H(this),F};let O;this.getAttributes=function(){return O===void 0&&H(this),O};let U=e.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return U===!1&&(U=i.getProgramParameter(T,dH)),U},this.destroy=function(){n.releaseStatesOfProgram(this),i.deleteProgram(T),this.program=void 0},this.type=e.shaderType,this.name=e.shaderName,this.id=pH++,this.cacheKey=t,this.usedTimes=1,this.program=T,this.vertexShader=L,this.fragmentShader=P,this}let NH=0;class LH{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(t){const e=t.vertexShader,n=t.fragmentShader,i=this._getShaderStage(e),s=this._getShaderStage(n),l=this._getShaderCacheForMaterial(t);return l.has(i)===!1&&(l.add(i),i.usedTimes++),l.has(s)===!1&&(l.add(s),s.usedTimes++),this}remove(t){const e=this.materialCache.get(t);for(const n of e)n.usedTimes--,n.usedTimes===0&&this.shaderCache.delete(n.code);return this.materialCache.delete(t),this}getVertexShaderID(t){return this._getShaderStage(t.vertexShader).id}getFragmentShaderID(t){return this._getShaderStage(t.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(t){const e=this.materialCache;let n=e.get(t);return n===void 0&&(n=new Set,e.set(t,n)),n}_getShaderStage(t){const e=this.shaderCache;let n=e.get(t);return n===void 0&&(n=new IH(t),e.set(t,n)),n}}class IH{constructor(t){this.id=NH++,this.code=t,this.usedTimes=0}}function PH(r,t,e,n,i,s,l){const u=new Am,d=new LH,p=new Set,g=[],_=i.logarithmicDepthBuffer,y=i.vertexTextures;let x=i.precision;const M={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function T(O){return p.add(O),O===0?"uv":`uv${O}`}function E(O,U,V,Q,et){const rt=Q.fog,ut=et.geometry,G=O.isMeshStandardMaterial?Q.environment:null,q=(O.isMeshStandardMaterial?e:t).get(O.envMap||G),K=q&&q.mapping===Lm?q.image.height:null,lt=M[O.type];O.precision!==null&&(x=i.getMaxPrecision(O.precision),x!==O.precision&&console.warn("THREE.WebGLProgram.getParameters:",O.precision,"not supported, using",x,"instead."));const I=ut.morphAttributes.position||ut.morphAttributes.normal||ut.morphAttributes.color,nt=I!==void 0?I.length:0;let gt=0;ut.morphAttributes.position!==void 0&&(gt=1),ut.morphAttributes.normal!==void 0&&(gt=2),ut.morphAttributes.color!==void 0&&(gt=3);let bt,St,ft,Mt;if(lt){const ue=nl[lt];bt=ue.vertexShader,St=ue.fragmentShader}else bt=O.vertexShader,St=O.fragmentShader,d.update(O),ft=d.getVertexShaderID(O),Mt=d.getFragmentShaderID(O);const Lt=r.getRenderTarget(),Yt=r.state.buffers.depth.getReversed(),$t=et.isInstancedMesh===!0,Me=et.isBatchedMesh===!0,Pe=!!O.map,_e=!!O.matcap,Z=!!q,Ut=!!O.aoMap,Ot=!!O.lightMap,Gt=!!O.bumpMap,tt=!!O.normalMap,Zt=!!O.displacementMap,Xt=!!O.emissiveMap,jt=!!O.metalnessMap,de=!!O.roughnessMap,Ne=O.anisotropy>0,j=O.clearcoat>0,X=O.dispersion>0,pt=O.iridescence>0,wt=O.sheen>0,Nt=O.transmission>0,Ct=Ne&&!!O.anisotropyMap,re=j&&!!O.clearcoatMap,te=j&&!!O.clearcoatNormalMap,ve=j&&!!O.clearcoatRoughnessMap,le=pt&&!!O.iridescenceMap,qt=pt&&!!O.iridescenceThicknessMap,ee=wt&&!!O.sheenColorMap,Ae=wt&&!!O.sheenRoughnessMap,it=!!O.specularMap,vt=!!O.specularColorMap,Qt=!!O.specularIntensityMap,$=Nt&&!!O.transmissionMap,zt=Nt&&!!O.thicknessMap,Wt=!!O.gradientMap,se=!!O.alphaMap,Kt=O.alphaTest>0,It=!!O.alphaHash,ce=!!O.extensions;let be=jl;O.toneMapped&&(Lt===null||Lt.isXRRenderTarget===!0)&&(be=r.toneMapping);const $e={shaderID:lt,shaderType:O.type,shaderName:O.name,vertexShader:bt,fragmentShader:St,defines:O.defines,customVertexShaderID:ft,customFragmentShaderID:Mt,isRawShaderMaterial:O.isRawShaderMaterial===!0,glslVersion:O.glslVersion,precision:x,batching:Me,batchingColor:Me&&et._colorsTexture!==null,instancing:$t,instancingColor:$t&&et.instanceColor!==null,instancingMorph:$t&&et.morphTexture!==null,supportsVertexTextures:y,outputColorSpace:Lt===null?r.outputColorSpace:Lt.isXRRenderTarget===!0?Lt.texture.colorSpace:mf,alphaToCoverage:!!O.alphaToCoverage,map:Pe,matcap:_e,envMap:Z,envMapMode:Z&&q.mapping,envMapCubeUVHeight:K,aoMap:Ut,lightMap:Ot,bumpMap:Gt,normalMap:tt,displacementMap:y&&Zt,emissiveMap:Xt,normalMapObjectSpace:tt&&O.normalMapType===Pw,normalMapTangentSpace:tt&&O.normalMapType===xf,metalnessMap:jt,roughnessMap:de,anisotropy:Ne,anisotropyMap:Ct,clearcoat:j,clearcoatMap:re,clearcoatNormalMap:te,clearcoatRoughnessMap:ve,dispersion:X,iridescence:pt,iridescenceMap:le,iridescenceThicknessMap:qt,sheen:wt,sheenColorMap:ee,sheenRoughnessMap:Ae,specularMap:it,specularColorMap:vt,specularIntensityMap:Qt,transmission:Nt,transmissionMap:$,thicknessMap:zt,gradientMap:Wt,opaque:O.transparent===!1&&O.blending===Kh&&O.alphaToCoverage===!1,alphaMap:se,alphaTest:Kt,alphaHash:It,combine:O.combine,mapUv:Pe&&T(O.map.channel),aoMapUv:Ut&&T(O.aoMap.channel),lightMapUv:Ot&&T(O.lightMap.channel),bumpMapUv:Gt&&T(O.bumpMap.channel),normalMapUv:tt&&T(O.normalMap.channel),displacementMapUv:Zt&&T(O.displacementMap.channel),emissiveMapUv:Xt&&T(O.emissiveMap.channel),metalnessMapUv:jt&&T(O.metalnessMap.channel),roughnessMapUv:de&&T(O.roughnessMap.channel),anisotropyMapUv:Ct&&T(O.anisotropyMap.channel),clearcoatMapUv:re&&T(O.clearcoatMap.channel),clearcoatNormalMapUv:te&&T(O.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:ve&&T(O.clearcoatRoughnessMap.channel),iridescenceMapUv:le&&T(O.iridescenceMap.channel),iridescenceThicknessMapUv:qt&&T(O.iridescenceThicknessMap.channel),sheenColorMapUv:ee&&T(O.sheenColorMap.channel),sheenRoughnessMapUv:Ae&&T(O.sheenRoughnessMap.channel),specularMapUv:it&&T(O.specularMap.channel),specularColorMapUv:vt&&T(O.specularColorMap.channel),specularIntensityMapUv:Qt&&T(O.specularIntensityMap.channel),transmissionMapUv:$&&T(O.transmissionMap.channel),thicknessMapUv:zt&&T(O.thicknessMap.channel),alphaMapUv:se&&T(O.alphaMap.channel),vertexTangents:!!ut.attributes.tangent&&(tt||Ne),vertexColors:O.vertexColors,vertexAlphas:O.vertexColors===!0&&!!ut.attributes.color&&ut.attributes.color.itemSize===4,pointsUvs:et.isPoints===!0&&!!ut.attributes.uv&&(Pe||se),fog:!!rt,useFog:O.fog===!0,fogExp2:!!rt&&rt.isFogExp2,flatShading:O.flatShading===!0&&O.wireframe===!1,sizeAttenuation:O.sizeAttenuation===!0,logarithmicDepthBuffer:_,reversedDepthBuffer:Yt,skinning:et.isSkinnedMesh===!0,morphTargets:ut.morphAttributes.position!==void 0,morphNormals:ut.morphAttributes.normal!==void 0,morphColors:ut.morphAttributes.color!==void 0,morphTargetsCount:nt,morphTextureStride:gt,numDirLights:U.directional.length,numPointLights:U.point.length,numSpotLights:U.spot.length,numSpotLightMaps:U.spotLightMap.length,numRectAreaLights:U.rectArea.length,numHemiLights:U.hemi.length,numDirLightShadows:U.directionalShadowMap.length,numPointLightShadows:U.pointShadowMap.length,numSpotLightShadows:U.spotShadowMap.length,numSpotLightShadowsWithMaps:U.numSpotLightShadowsWithMaps,numLightProbes:U.numLightProbes,numClippingPlanes:l.numPlanes,numClipIntersection:l.numIntersection,dithering:O.dithering,shadowMapEnabled:r.shadowMap.enabled&&V.length>0,shadowMapType:r.shadowMap.type,toneMapping:be,decodeVideoTexture:Pe&&O.map.isVideoTexture===!0&&Ln.getTransfer(O.map.colorSpace)===ai,decodeVideoTextureEmissive:Xt&&O.emissiveMap.isVideoTexture===!0&&Ln.getTransfer(O.emissiveMap.colorSpace)===ai,premultipliedAlpha:O.premultipliedAlpha,doubleSided:O.side===il,flipSided:O.side===Ks,useDepthPacking:O.depthPacking>=0,depthPacking:O.depthPacking||0,index0AttributeName:O.index0AttributeName,extensionClipCullDistance:ce&&O.extensions.clipCullDistance===!0&&n.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(ce&&O.extensions.multiDraw===!0||Me)&&n.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:n.has("KHR_parallel_shader_compile"),customProgramCacheKey:O.customProgramCacheKey()};return $e.vertexUv1s=p.has(1),$e.vertexUv2s=p.has(2),$e.vertexUv3s=p.has(3),p.clear(),$e}function b(O){const U=[];if(O.shaderID?U.push(O.shaderID):(U.push(O.customVertexShaderID),U.push(O.customFragmentShaderID)),O.defines!==void 0)for(const V in O.defines)U.push(V),U.push(O.defines[V]);return O.isRawShaderMaterial===!1&&(w(U,O),D(U,O),U.push(r.outputColorSpace)),U.push(O.customProgramCacheKey),U.join()}function w(O,U){O.push(U.precision),O.push(U.outputColorSpace),O.push(U.envMapMode),O.push(U.envMapCubeUVHeight),O.push(U.mapUv),O.push(U.alphaMapUv),O.push(U.lightMapUv),O.push(U.aoMapUv),O.push(U.bumpMapUv),O.push(U.normalMapUv),O.push(U.displacementMapUv),O.push(U.emissiveMapUv),O.push(U.metalnessMapUv),O.push(U.roughnessMapUv),O.push(U.anisotropyMapUv),O.push(U.clearcoatMapUv),O.push(U.clearcoatNormalMapUv),O.push(U.clearcoatRoughnessMapUv),O.push(U.iridescenceMapUv),O.push(U.iridescenceThicknessMapUv),O.push(U.sheenColorMapUv),O.push(U.sheenRoughnessMapUv),O.push(U.specularMapUv),O.push(U.specularColorMapUv),O.push(U.specularIntensityMapUv),O.push(U.transmissionMapUv),O.push(U.thicknessMapUv),O.push(U.combine),O.push(U.fogExp2),O.push(U.sizeAttenuation),O.push(U.morphTargetsCount),O.push(U.morphAttributeCount),O.push(U.numDirLights),O.push(U.numPointLights),O.push(U.numSpotLights),O.push(U.numSpotLightMaps),O.push(U.numHemiLights),O.push(U.numRectAreaLights),O.push(U.numDirLightShadows),O.push(U.numPointLightShadows),O.push(U.numSpotLightShadows),O.push(U.numSpotLightShadowsWithMaps),O.push(U.numLightProbes),O.push(U.shadowMapType),O.push(U.toneMapping),O.push(U.numClippingPlanes),O.push(U.numClipIntersection),O.push(U.depthPacking)}function D(O,U){u.disableAll(),U.supportsVertexTextures&&u.enable(0),U.instancing&&u.enable(1),U.instancingColor&&u.enable(2),U.instancingMorph&&u.enable(3),U.matcap&&u.enable(4),U.envMap&&u.enable(5),U.normalMapObjectSpace&&u.enable(6),U.normalMapTangentSpace&&u.enable(7),U.clearcoat&&u.enable(8),U.iridescence&&u.enable(9),U.alphaTest&&u.enable(10),U.vertexColors&&u.enable(11),U.vertexAlphas&&u.enable(12),U.vertexUv1s&&u.enable(13),U.vertexUv2s&&u.enable(14),U.vertexUv3s&&u.enable(15),U.vertexTangents&&u.enable(16),U.anisotropy&&u.enable(17),U.alphaHash&&u.enable(18),U.batching&&u.enable(19),U.dispersion&&u.enable(20),U.batchingColor&&u.enable(21),U.gradientMap&&u.enable(22),O.push(u.mask),u.disableAll(),U.fog&&u.enable(0),U.useFog&&u.enable(1),U.flatShading&&u.enable(2),U.logarithmicDepthBuffer&&u.enable(3),U.reversedDepthBuffer&&u.enable(4),U.skinning&&u.enable(5),U.morphTargets&&u.enable(6),U.morphNormals&&u.enable(7),U.morphColors&&u.enable(8),U.premultipliedAlpha&&u.enable(9),U.shadowMapEnabled&&u.enable(10),U.doubleSided&&u.enable(11),U.flipSided&&u.enable(12),U.useDepthPacking&&u.enable(13),U.dithering&&u.enable(14),U.transmission&&u.enable(15),U.sheen&&u.enable(16),U.opaque&&u.enable(17),U.pointsUvs&&u.enable(18),U.decodeVideoTexture&&u.enable(19),U.decodeVideoTextureEmissive&&u.enable(20),U.alphaToCoverage&&u.enable(21),O.push(u.mask)}function B(O){const U=M[O.type];let V;if(U){const Q=nl[U];V=Qw.clone(Q.uniforms)}else V=O.uniforms;return V}function L(O,U){let V;for(let Q=0,et=g.length;Q<et;Q++){const rt=g[Q];if(rt.cacheKey===U){V=rt,++V.usedTimes;break}}return V===void 0&&(V=new UH(r,U,O,s),g.push(V)),V}function P(O){if(--O.usedTimes===0){const U=g.indexOf(O);g[U]=g[g.length-1],g.pop(),O.destroy()}}function H(O){d.remove(O)}function F(){d.dispose()}return{getParameters:E,getProgramCacheKey:b,getUniforms:B,acquireProgram:L,releaseProgram:P,releaseShaderCache:H,programs:g,dispose:F}}function FH(){let r=new WeakMap;function t(l){return r.has(l)}function e(l){let u=r.get(l);return u===void 0&&(u={},r.set(l,u)),u}function n(l){r.delete(l)}function i(l,u,d){r.get(l)[u]=d}function s(){r=new WeakMap}return{has:t,get:e,remove:n,update:i,dispose:s}}function zH(r,t){return r.groupOrder!==t.groupOrder?r.groupOrder-t.groupOrder:r.renderOrder!==t.renderOrder?r.renderOrder-t.renderOrder:r.material.id!==t.material.id?r.material.id-t.material.id:r.z!==t.z?r.z-t.z:r.id-t.id}function RR(r,t){return r.groupOrder!==t.groupOrder?r.groupOrder-t.groupOrder:r.renderOrder!==t.renderOrder?r.renderOrder-t.renderOrder:r.z!==t.z?t.z-r.z:r.id-t.id}function wR(){const r=[];let t=0;const e=[],n=[],i=[];function s(){t=0,e.length=0,n.length=0,i.length=0}function l(_,y,x,M,T,E){let b=r[t];return b===void 0?(b={id:_.id,object:_,geometry:y,material:x,groupOrder:M,renderOrder:_.renderOrder,z:T,group:E},r[t]=b):(b.id=_.id,b.object=_,b.geometry=y,b.material=x,b.groupOrder=M,b.renderOrder=_.renderOrder,b.z=T,b.group=E),t++,b}function u(_,y,x,M,T,E){const b=l(_,y,x,M,T,E);x.transmission>0?n.push(b):x.transparent===!0?i.push(b):e.push(b)}function d(_,y,x,M,T,E){const b=l(_,y,x,M,T,E);x.transmission>0?n.unshift(b):x.transparent===!0?i.unshift(b):e.unshift(b)}function p(_,y){e.length>1&&e.sort(_||zH),n.length>1&&n.sort(y||RR),i.length>1&&i.sort(y||RR)}function g(){for(let _=t,y=r.length;_<y;_++){const x=r[_];if(x.id===null)break;x.id=null,x.object=null,x.geometry=null,x.material=null,x.group=null}}return{opaque:e,transmissive:n,transparent:i,init:s,push:u,unshift:d,finish:g,sort:p}}function HH(){let r=new WeakMap;function t(n,i){const s=r.get(n);let l;return s===void 0?(l=new wR,r.set(n,[l])):i>=s.length?(l=new wR,s.push(l)):l=s[i],l}function e(){r=new WeakMap}return{get:t,dispose:e}}function GH(){const r={};return{get:function(t){if(r[t.id]!==void 0)return r[t.id];let e;switch(t.type){case"DirectionalLight":e={direction:new W,color:new pe};break;case"SpotLight":e={position:new W,direction:new W,color:new pe,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":e={position:new W,color:new pe,distance:0,decay:0};break;case"HemisphereLight":e={direction:new W,skyColor:new pe,groundColor:new pe};break;case"RectAreaLight":e={color:new pe,position:new W,halfWidth:new W,halfHeight:new W};break}return r[t.id]=e,e}}}function VH(){const r={};return{get:function(t){if(r[t.id]!==void 0)return r[t.id];let e;switch(t.type){case"DirectionalLight":e={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ht};break;case"SpotLight":e={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ht};break;case"PointLight":e={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ht,shadowCameraNear:1,shadowCameraFar:1e3};break}return r[t.id]=e,e}}}let XH=0;function kH(r,t){return(t.castShadow?2:0)-(r.castShadow?2:0)+(t.map?1:0)-(r.map?1:0)}function YH(r){const t=new GH,e=VH(),n={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let p=0;p<9;p++)n.probe.push(new W);const i=new W,s=new Ye,l=new Ye;function u(p){let g=0,_=0,y=0;for(let O=0;O<9;O++)n.probe[O].set(0,0,0);let x=0,M=0,T=0,E=0,b=0,w=0,D=0,B=0,L=0,P=0,H=0;p.sort(kH);for(let O=0,U=p.length;O<U;O++){const V=p[O],Q=V.color,et=V.intensity,rt=V.distance,ut=V.shadow&&V.shadow.map?V.shadow.map.texture:null;if(V.isAmbientLight)g+=Q.r*et,_+=Q.g*et,y+=Q.b*et;else if(V.isLightProbe){for(let G=0;G<9;G++)n.probe[G].addScaledVector(V.sh.coefficients[G],et);H++}else if(V.isDirectionalLight){const G=t.get(V);if(G.color.copy(V.color).multiplyScalar(V.intensity),V.castShadow){const q=V.shadow,K=e.get(V);K.shadowIntensity=q.intensity,K.shadowBias=q.bias,K.shadowNormalBias=q.normalBias,K.shadowRadius=q.radius,K.shadowMapSize=q.mapSize,n.directionalShadow[x]=K,n.directionalShadowMap[x]=ut,n.directionalShadowMatrix[x]=V.shadow.matrix,w++}n.directional[x]=G,x++}else if(V.isSpotLight){const G=t.get(V);G.position.setFromMatrixPosition(V.matrixWorld),G.color.copy(Q).multiplyScalar(et),G.distance=rt,G.coneCos=Math.cos(V.angle),G.penumbraCos=Math.cos(V.angle*(1-V.penumbra)),G.decay=V.decay,n.spot[T]=G;const q=V.shadow;if(V.map&&(n.spotLightMap[L]=V.map,L++,q.updateMatrices(V),V.castShadow&&P++),n.spotLightMatrix[T]=q.matrix,V.castShadow){const K=e.get(V);K.shadowIntensity=q.intensity,K.shadowBias=q.bias,K.shadowNormalBias=q.normalBias,K.shadowRadius=q.radius,K.shadowMapSize=q.mapSize,n.spotShadow[T]=K,n.spotShadowMap[T]=ut,B++}T++}else if(V.isRectAreaLight){const G=t.get(V);G.color.copy(Q).multiplyScalar(et),G.halfWidth.set(V.width*.5,0,0),G.halfHeight.set(0,V.height*.5,0),n.rectArea[E]=G,E++}else if(V.isPointLight){const G=t.get(V);if(G.color.copy(V.color).multiplyScalar(V.intensity),G.distance=V.distance,G.decay=V.decay,V.castShadow){const q=V.shadow,K=e.get(V);K.shadowIntensity=q.intensity,K.shadowBias=q.bias,K.shadowNormalBias=q.normalBias,K.shadowRadius=q.radius,K.shadowMapSize=q.mapSize,K.shadowCameraNear=q.camera.near,K.shadowCameraFar=q.camera.far,n.pointShadow[M]=K,n.pointShadowMap[M]=ut,n.pointShadowMatrix[M]=V.shadow.matrix,D++}n.point[M]=G,M++}else if(V.isHemisphereLight){const G=t.get(V);G.skyColor.copy(V.color).multiplyScalar(et),G.groundColor.copy(V.groundColor).multiplyScalar(et),n.hemi[b]=G,b++}}E>0&&(r.has("OES_texture_float_linear")===!0?(n.rectAreaLTC1=ge.LTC_FLOAT_1,n.rectAreaLTC2=ge.LTC_FLOAT_2):(n.rectAreaLTC1=ge.LTC_HALF_1,n.rectAreaLTC2=ge.LTC_HALF_2)),n.ambient[0]=g,n.ambient[1]=_,n.ambient[2]=y;const F=n.hash;(F.directionalLength!==x||F.pointLength!==M||F.spotLength!==T||F.rectAreaLength!==E||F.hemiLength!==b||F.numDirectionalShadows!==w||F.numPointShadows!==D||F.numSpotShadows!==B||F.numSpotMaps!==L||F.numLightProbes!==H)&&(n.directional.length=x,n.spot.length=T,n.rectArea.length=E,n.point.length=M,n.hemi.length=b,n.directionalShadow.length=w,n.directionalShadowMap.length=w,n.pointShadow.length=D,n.pointShadowMap.length=D,n.spotShadow.length=B,n.spotShadowMap.length=B,n.directionalShadowMatrix.length=w,n.pointShadowMatrix.length=D,n.spotLightMatrix.length=B+L-P,n.spotLightMap.length=L,n.numSpotLightShadowsWithMaps=P,n.numLightProbes=H,F.directionalLength=x,F.pointLength=M,F.spotLength=T,F.rectAreaLength=E,F.hemiLength=b,F.numDirectionalShadows=w,F.numPointShadows=D,F.numSpotShadows=B,F.numSpotMaps=L,F.numLightProbes=H,n.version=XH++)}function d(p,g){let _=0,y=0,x=0,M=0,T=0;const E=g.matrixWorldInverse;for(let b=0,w=p.length;b<w;b++){const D=p[b];if(D.isDirectionalLight){const B=n.directional[_];B.direction.setFromMatrixPosition(D.matrixWorld),i.setFromMatrixPosition(D.target.matrixWorld),B.direction.sub(i),B.direction.transformDirection(E),_++}else if(D.isSpotLight){const B=n.spot[x];B.position.setFromMatrixPosition(D.matrixWorld),B.position.applyMatrix4(E),B.direction.setFromMatrixPosition(D.matrixWorld),i.setFromMatrixPosition(D.target.matrixWorld),B.direction.sub(i),B.direction.transformDirection(E),x++}else if(D.isRectAreaLight){const B=n.rectArea[M];B.position.setFromMatrixPosition(D.matrixWorld),B.position.applyMatrix4(E),l.identity(),s.copy(D.matrixWorld),s.premultiply(E),l.extractRotation(s),B.halfWidth.set(D.width*.5,0,0),B.halfHeight.set(0,D.height*.5,0),B.halfWidth.applyMatrix4(l),B.halfHeight.applyMatrix4(l),M++}else if(D.isPointLight){const B=n.point[y];B.position.setFromMatrixPosition(D.matrixWorld),B.position.applyMatrix4(E),y++}else if(D.isHemisphereLight){const B=n.hemi[T];B.direction.setFromMatrixPosition(D.matrixWorld),B.direction.transformDirection(E),T++}}}return{setup:u,setupView:d,state:n}}function BR(r){const t=new YH(r),e=[],n=[];function i(g){p.camera=g,e.length=0,n.length=0}function s(g){e.push(g)}function l(g){n.push(g)}function u(){t.setup(e)}function d(g){t.setupView(e,g)}const p={lightsArray:e,shadowsArray:n,camera:null,lights:t,transmissionRenderTarget:{}};return{init:i,state:p,setupLights:u,setupLightsView:d,pushLight:s,pushShadow:l}}function qH(r){let t=new WeakMap;function e(i,s=0){const l=t.get(i);let u;return l===void 0?(u=new BR(r),t.set(i,[u])):s>=l.length?(u=new BR(r),l.push(u)):u=l[s],u}function n(){t=new WeakMap}return{get:e,dispose:n}}const JH=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,KH=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function WH(r,t,e){let n=new Pm;const i=new Ht,s=new Ht,l=new Gn,u=new d1({depthPacking:Iw}),d=new p1,p={},g=e.maxTextureSize,_={[$l]:Ks,[Ks]:$l,[il]:il},y=new sl({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Ht},radius:{value:4}},vertexShader:JH,fragmentShader:KH}),x=y.clone();x.defines.HORIZONTAL_PASS=1;const M=new un;M.setAttribute("position",new Vn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const T=new ta(M,y),E=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=IA;let b=this.type;this.render=function(P,H,F){if(E.enabled===!1||E.autoUpdate===!1&&E.needsUpdate===!1||P.length===0)return;const O=r.getRenderTarget(),U=r.getActiveCubeFace(),V=r.getActiveMipmapLevel(),Q=r.state;Q.setBlending(Xu),Q.buffers.depth.getReversed()?Q.buffers.color.setClear(0,0,0,0):Q.buffers.color.setClear(1,1,1,1),Q.buffers.depth.setTest(!0),Q.setScissorTest(!1);const et=b!==el&&this.type===el,rt=b===el&&this.type!==el;for(let ut=0,G=P.length;ut<G;ut++){const q=P[ut],K=q.shadow;if(K===void 0){console.warn("THREE.WebGLShadowMap:",q,"has no shadow.");continue}if(K.autoUpdate===!1&&K.needsUpdate===!1)continue;i.copy(K.mapSize);const lt=K.getFrameExtents();if(i.multiply(lt),s.copy(K.mapSize),(i.x>g||i.y>g)&&(i.x>g&&(s.x=Math.floor(g/lt.x),i.x=s.x*lt.x,K.mapSize.x=s.x),i.y>g&&(s.y=Math.floor(g/lt.y),i.y=s.y*lt.y,K.mapSize.y=s.y)),K.map===null||et===!0||rt===!0){const nt=this.type!==el?{minFilter:Fa,magFilter:Fa}:{};K.map!==null&&K.map.dispose(),K.map=new tu(i.x,i.y,nt),K.map.texture.name=q.name+".shadowMap",K.camera.updateProjectionMatrix()}r.setRenderTarget(K.map),r.clear();const I=K.getViewportCount();for(let nt=0;nt<I;nt++){const gt=K.getViewport(nt);l.set(s.x*gt.x,s.y*gt.y,s.x*gt.z,s.y*gt.w),Q.viewport(l),K.updateMatrices(q,nt),n=K.getFrustum(),B(H,F,K.camera,q,this.type)}K.isPointLightShadow!==!0&&this.type===el&&w(K,F),K.needsUpdate=!1}b=this.type,E.needsUpdate=!1,r.setRenderTarget(O,U,V)};function w(P,H){const F=t.update(T);y.defines.VSM_SAMPLES!==P.blurSamples&&(y.defines.VSM_SAMPLES=P.blurSamples,x.defines.VSM_SAMPLES=P.blurSamples,y.needsUpdate=!0,x.needsUpdate=!0),P.mapPass===null&&(P.mapPass=new tu(i.x,i.y)),y.uniforms.shadow_pass.value=P.map.texture,y.uniforms.resolution.value=P.mapSize,y.uniforms.radius.value=P.radius,r.setRenderTarget(P.mapPass),r.clear(),r.renderBufferDirect(H,null,F,y,T,null),x.uniforms.shadow_pass.value=P.mapPass.texture,x.uniforms.resolution.value=P.mapSize,x.uniforms.radius.value=P.radius,r.setRenderTarget(P.map),r.clear(),r.renderBufferDirect(H,null,F,x,T,null)}function D(P,H,F,O){let U=null;const V=F.isPointLight===!0?P.customDistanceMaterial:P.customDepthMaterial;if(V!==void 0)U=V;else if(U=F.isPointLight===!0?d:u,r.localClippingEnabled&&H.clipShadows===!0&&Array.isArray(H.clippingPlanes)&&H.clippingPlanes.length!==0||H.displacementMap&&H.displacementScale!==0||H.alphaMap&&H.alphaTest>0||H.map&&H.alphaTest>0||H.alphaToCoverage===!0){const Q=U.uuid,et=H.uuid;let rt=p[Q];rt===void 0&&(rt={},p[Q]=rt);let ut=rt[et];ut===void 0&&(ut=U.clone(),rt[et]=ut,H.addEventListener("dispose",L)),U=ut}if(U.visible=H.visible,U.wireframe=H.wireframe,O===el?U.side=H.shadowSide!==null?H.shadowSide:H.side:U.side=H.shadowSide!==null?H.shadowSide:_[H.side],U.alphaMap=H.alphaMap,U.alphaTest=H.alphaToCoverage===!0?.5:H.alphaTest,U.map=H.map,U.clipShadows=H.clipShadows,U.clippingPlanes=H.clippingPlanes,U.clipIntersection=H.clipIntersection,U.displacementMap=H.displacementMap,U.displacementScale=H.displacementScale,U.displacementBias=H.displacementBias,U.wireframeLinewidth=H.wireframeLinewidth,U.linewidth=H.linewidth,F.isPointLight===!0&&U.isMeshDistanceMaterial===!0){const Q=r.properties.get(U);Q.light=F}return U}function B(P,H,F,O,U){if(P.visible===!1)return;if(P.layers.test(H.layers)&&(P.isMesh||P.isLine||P.isPoints)&&(P.castShadow||P.receiveShadow&&U===el)&&(!P.frustumCulled||n.intersectsObject(P))){P.modelViewMatrix.multiplyMatrices(F.matrixWorldInverse,P.matrixWorld);const et=t.update(P),rt=P.material;if(Array.isArray(rt)){const ut=et.groups;for(let G=0,q=ut.length;G<q;G++){const K=ut[G],lt=rt[K.materialIndex];if(lt&&lt.visible){const I=D(P,lt,O,U);P.onBeforeShadow(r,P,H,F,et,I,K),r.renderBufferDirect(F,null,et,I,P,K),P.onAfterShadow(r,P,H,F,et,I,K)}}}else if(rt.visible){const ut=D(P,rt,O,U);P.onBeforeShadow(r,P,H,F,et,ut,null),r.renderBufferDirect(F,null,et,ut,P,null),P.onAfterShadow(r,P,H,F,et,ut,null)}}const Q=P.children;for(let et=0,rt=Q.length;et<rt;et++)B(Q[et],H,F,O,U)}function L(P){P.target.removeEventListener("dispose",L);for(const F in p){const O=p[F],U=P.target.uuid;U in O&&(O[U].dispose(),delete O[U])}}}const jH={[Lx]:Ix,[Px]:Hx,[Fx]:Gx,[ad]:zx,[Ix]:Lx,[Hx]:Px,[Gx]:Fx,[zx]:ad};function QH(r,t){function e(){let $=!1;const zt=new Gn;let Wt=null;const se=new Gn(0,0,0,0);return{setMask:function(Kt){Wt!==Kt&&!$&&(r.colorMask(Kt,Kt,Kt,Kt),Wt=Kt)},setLocked:function(Kt){$=Kt},setClear:function(Kt,It,ce,be,$e){$e===!0&&(Kt*=be,It*=be,ce*=be),zt.set(Kt,It,ce,be),se.equals(zt)===!1&&(r.clearColor(Kt,It,ce,be),se.copy(zt))},reset:function(){$=!1,Wt=null,se.set(-1,0,0,0)}}}function n(){let $=!1,zt=!1,Wt=null,se=null,Kt=null;return{setReversed:function(It){if(zt!==It){const ce=t.get("EXT_clip_control");It?ce.clipControlEXT(ce.LOWER_LEFT_EXT,ce.ZERO_TO_ONE_EXT):ce.clipControlEXT(ce.LOWER_LEFT_EXT,ce.NEGATIVE_ONE_TO_ONE_EXT),zt=It;const be=Kt;Kt=null,this.setClear(be)}},getReversed:function(){return zt},setTest:function(It){It?Lt(r.DEPTH_TEST):Yt(r.DEPTH_TEST)},setMask:function(It){Wt!==It&&!$&&(r.depthMask(It),Wt=It)},setFunc:function(It){if(zt&&(It=jH[It]),se!==It){switch(It){case Lx:r.depthFunc(r.NEVER);break;case Ix:r.depthFunc(r.ALWAYS);break;case Px:r.depthFunc(r.LESS);break;case ad:r.depthFunc(r.LEQUAL);break;case Fx:r.depthFunc(r.EQUAL);break;case zx:r.depthFunc(r.GEQUAL);break;case Hx:r.depthFunc(r.GREATER);break;case Gx:r.depthFunc(r.NOTEQUAL);break;default:r.depthFunc(r.LEQUAL)}se=It}},setLocked:function(It){$=It},setClear:function(It){Kt!==It&&(zt&&(It=1-It),r.clearDepth(It),Kt=It)},reset:function(){$=!1,Wt=null,se=null,Kt=null,zt=!1}}}function i(){let $=!1,zt=null,Wt=null,se=null,Kt=null,It=null,ce=null,be=null,$e=null;return{setTest:function(ue){$||(ue?Lt(r.STENCIL_TEST):Yt(r.STENCIL_TEST))},setMask:function(ue){zt!==ue&&!$&&(r.stencilMask(ue),zt=ue)},setFunc:function(ue,Ee,Le){(Wt!==ue||se!==Ee||Kt!==Le)&&(r.stencilFunc(ue,Ee,Le),Wt=ue,se=Ee,Kt=Le)},setOp:function(ue,Ee,Le){(It!==ue||ce!==Ee||be!==Le)&&(r.stencilOp(ue,Ee,Le),It=ue,ce=Ee,be=Le)},setLocked:function(ue){$=ue},setClear:function(ue){$e!==ue&&(r.clearStencil(ue),$e=ue)},reset:function(){$=!1,zt=null,Wt=null,se=null,Kt=null,It=null,ce=null,be=null,$e=null}}}const s=new e,l=new n,u=new i,d=new WeakMap,p=new WeakMap;let g={},_={},y=new WeakMap,x=[],M=null,T=!1,E=null,b=null,w=null,D=null,B=null,L=null,P=null,H=new pe(0,0,0),F=0,O=!1,U=null,V=null,Q=null,et=null,rt=null;const ut=r.getParameter(r.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let G=!1,q=0;const K=r.getParameter(r.VERSION);K.indexOf("WebGL")!==-1?(q=parseFloat(/^WebGL (\d)/.exec(K)[1]),G=q>=1):K.indexOf("OpenGL ES")!==-1&&(q=parseFloat(/^OpenGL ES (\d)/.exec(K)[1]),G=q>=2);let lt=null,I={};const nt=r.getParameter(r.SCISSOR_BOX),gt=r.getParameter(r.VIEWPORT),bt=new Gn().fromArray(nt),St=new Gn().fromArray(gt);function ft($,zt,Wt,se){const Kt=new Uint8Array(4),It=r.createTexture();r.bindTexture($,It),r.texParameteri($,r.TEXTURE_MIN_FILTER,r.NEAREST),r.texParameteri($,r.TEXTURE_MAG_FILTER,r.NEAREST);for(let ce=0;ce<Wt;ce++)$===r.TEXTURE_3D||$===r.TEXTURE_2D_ARRAY?r.texImage3D(zt,0,r.RGBA,1,1,se,0,r.RGBA,r.UNSIGNED_BYTE,Kt):r.texImage2D(zt+ce,0,r.RGBA,1,1,0,r.RGBA,r.UNSIGNED_BYTE,Kt);return It}const Mt={};Mt[r.TEXTURE_2D]=ft(r.TEXTURE_2D,r.TEXTURE_2D,1),Mt[r.TEXTURE_CUBE_MAP]=ft(r.TEXTURE_CUBE_MAP,r.TEXTURE_CUBE_MAP_POSITIVE_X,6),Mt[r.TEXTURE_2D_ARRAY]=ft(r.TEXTURE_2D_ARRAY,r.TEXTURE_2D_ARRAY,1,1),Mt[r.TEXTURE_3D]=ft(r.TEXTURE_3D,r.TEXTURE_3D,1,1),s.setClear(0,0,0,1),l.setClear(1),u.setClear(0),Lt(r.DEPTH_TEST),l.setFunc(ad),Gt(!1),tt(kb),Lt(r.CULL_FACE),Ut(Xu);function Lt($){g[$]!==!0&&(r.enable($),g[$]=!0)}function Yt($){g[$]!==!1&&(r.disable($),g[$]=!1)}function $t($,zt){return _[$]!==zt?(r.bindFramebuffer($,zt),_[$]=zt,$===r.DRAW_FRAMEBUFFER&&(_[r.FRAMEBUFFER]=zt),$===r.FRAMEBUFFER&&(_[r.DRAW_FRAMEBUFFER]=zt),!0):!1}function Me($,zt){let Wt=x,se=!1;if($){Wt=y.get(zt),Wt===void 0&&(Wt=[],y.set(zt,Wt));const Kt=$.textures;if(Wt.length!==Kt.length||Wt[0]!==r.COLOR_ATTACHMENT0){for(let It=0,ce=Kt.length;It<ce;It++)Wt[It]=r.COLOR_ATTACHMENT0+It;Wt.length=Kt.length,se=!0}}else Wt[0]!==r.BACK&&(Wt[0]=r.BACK,se=!0);se&&r.drawBuffers(Wt)}function Pe($){return M!==$?(r.useProgram($),M=$,!0):!1}const _e={[tf]:r.FUNC_ADD,[sw]:r.FUNC_SUBTRACT,[rw]:r.FUNC_REVERSE_SUBTRACT};_e[ow]=r.MIN,_e[lw]=r.MAX;const Z={[uw]:r.ZERO,[cw]:r.ONE,[fw]:r.SRC_COLOR,[Ux]:r.SRC_ALPHA,[_w]:r.SRC_ALPHA_SATURATE,[mw]:r.DST_COLOR,[dw]:r.DST_ALPHA,[hw]:r.ONE_MINUS_SRC_COLOR,[Nx]:r.ONE_MINUS_SRC_ALPHA,[gw]:r.ONE_MINUS_DST_COLOR,[pw]:r.ONE_MINUS_DST_ALPHA,[vw]:r.CONSTANT_COLOR,[yw]:r.ONE_MINUS_CONSTANT_COLOR,[xw]:r.CONSTANT_ALPHA,[Aw]:r.ONE_MINUS_CONSTANT_ALPHA};function Ut($,zt,Wt,se,Kt,It,ce,be,$e,ue){if($===Xu){T===!0&&(Yt(r.BLEND),T=!1);return}if(T===!1&&(Lt(r.BLEND),T=!0),$!==aw){if($!==E||ue!==O){if((b!==tf||B!==tf)&&(r.blendEquation(r.FUNC_ADD),b=tf,B=tf),ue)switch($){case Kh:r.blendFuncSeparate(r.ONE,r.ONE_MINUS_SRC_ALPHA,r.ONE,r.ONE_MINUS_SRC_ALPHA);break;case Yb:r.blendFunc(r.ONE,r.ONE);break;case qb:r.blendFuncSeparate(r.ZERO,r.ONE_MINUS_SRC_COLOR,r.ZERO,r.ONE);break;case Jb:r.blendFuncSeparate(r.DST_COLOR,r.ONE_MINUS_SRC_ALPHA,r.ZERO,r.ONE);break;default:console.error("THREE.WebGLState: Invalid blending: ",$);break}else switch($){case Kh:r.blendFuncSeparate(r.SRC_ALPHA,r.ONE_MINUS_SRC_ALPHA,r.ONE,r.ONE_MINUS_SRC_ALPHA);break;case Yb:r.blendFuncSeparate(r.SRC_ALPHA,r.ONE,r.ONE,r.ONE);break;case qb:console.error("THREE.WebGLState: SubtractiveBlending requires material.premultipliedAlpha = true");break;case Jb:console.error("THREE.WebGLState: MultiplyBlending requires material.premultipliedAlpha = true");break;default:console.error("THREE.WebGLState: Invalid blending: ",$);break}w=null,D=null,L=null,P=null,H.set(0,0,0),F=0,E=$,O=ue}return}Kt=Kt||zt,It=It||Wt,ce=ce||se,(zt!==b||Kt!==B)&&(r.blendEquationSeparate(_e[zt],_e[Kt]),b=zt,B=Kt),(Wt!==w||se!==D||It!==L||ce!==P)&&(r.blendFuncSeparate(Z[Wt],Z[se],Z[It],Z[ce]),w=Wt,D=se,L=It,P=ce),(be.equals(H)===!1||$e!==F)&&(r.blendColor(be.r,be.g,be.b,$e),H.copy(be),F=$e),E=$,O=!1}function Ot($,zt){$.side===il?Yt(r.CULL_FACE):Lt(r.CULL_FACE);let Wt=$.side===Ks;zt&&(Wt=!Wt),Gt(Wt),$.blending===Kh&&$.transparent===!1?Ut(Xu):Ut($.blending,$.blendEquation,$.blendSrc,$.blendDst,$.blendEquationAlpha,$.blendSrcAlpha,$.blendDstAlpha,$.blendColor,$.blendAlpha,$.premultipliedAlpha),l.setFunc($.depthFunc),l.setTest($.depthTest),l.setMask($.depthWrite),s.setMask($.colorWrite);const se=$.stencilWrite;u.setTest(se),se&&(u.setMask($.stencilWriteMask),u.setFunc($.stencilFunc,$.stencilRef,$.stencilFuncMask),u.setOp($.stencilFail,$.stencilZFail,$.stencilZPass)),Xt($.polygonOffset,$.polygonOffsetFactor,$.polygonOffsetUnits),$.alphaToCoverage===!0?Lt(r.SAMPLE_ALPHA_TO_COVERAGE):Yt(r.SAMPLE_ALPHA_TO_COVERAGE)}function Gt($){U!==$&&($?r.frontFace(r.CW):r.frontFace(r.CCW),U=$)}function tt($){$!==ew?(Lt(r.CULL_FACE),$!==V&&($===kb?r.cullFace(r.BACK):$===nw?r.cullFace(r.FRONT):r.cullFace(r.FRONT_AND_BACK))):Yt(r.CULL_FACE),V=$}function Zt($){$!==Q&&(G&&r.lineWidth($),Q=$)}function Xt($,zt,Wt){$?(Lt(r.POLYGON_OFFSET_FILL),(et!==zt||rt!==Wt)&&(r.polygonOffset(zt,Wt),et=zt,rt=Wt)):Yt(r.POLYGON_OFFSET_FILL)}function jt($){$?Lt(r.SCISSOR_TEST):Yt(r.SCISSOR_TEST)}function de($){$===void 0&&($=r.TEXTURE0+ut-1),lt!==$&&(r.activeTexture($),lt=$)}function Ne($,zt,Wt){Wt===void 0&&(lt===null?Wt=r.TEXTURE0+ut-1:Wt=lt);let se=I[Wt];se===void 0&&(se={type:void 0,texture:void 0},I[Wt]=se),(se.type!==$||se.texture!==zt)&&(lt!==Wt&&(r.activeTexture(Wt),lt=Wt),r.bindTexture($,zt||Mt[$]),se.type=$,se.texture=zt)}function j(){const $=I[lt];$!==void 0&&$.type!==void 0&&(r.bindTexture($.type,null),$.type=void 0,$.texture=void 0)}function X(){try{r.compressedTexImage2D(...arguments)}catch($){console.error("THREE.WebGLState:",$)}}function pt(){try{r.compressedTexImage3D(...arguments)}catch($){console.error("THREE.WebGLState:",$)}}function wt(){try{r.texSubImage2D(...arguments)}catch($){console.error("THREE.WebGLState:",$)}}function Nt(){try{r.texSubImage3D(...arguments)}catch($){console.error("THREE.WebGLState:",$)}}function Ct(){try{r.compressedTexSubImage2D(...arguments)}catch($){console.error("THREE.WebGLState:",$)}}function re(){try{r.compressedTexSubImage3D(...arguments)}catch($){console.error("THREE.WebGLState:",$)}}function te(){try{r.texStorage2D(...arguments)}catch($){console.error("THREE.WebGLState:",$)}}function ve(){try{r.texStorage3D(...arguments)}catch($){console.error("THREE.WebGLState:",$)}}function le(){try{r.texImage2D(...arguments)}catch($){console.error("THREE.WebGLState:",$)}}function qt(){try{r.texImage3D(...arguments)}catch($){console.error("THREE.WebGLState:",$)}}function ee($){bt.equals($)===!1&&(r.scissor($.x,$.y,$.z,$.w),bt.copy($))}function Ae($){St.equals($)===!1&&(r.viewport($.x,$.y,$.z,$.w),St.copy($))}function it($,zt){let Wt=p.get(zt);Wt===void 0&&(Wt=new WeakMap,p.set(zt,Wt));let se=Wt.get($);se===void 0&&(se=r.getUniformBlockIndex(zt,$.name),Wt.set($,se))}function vt($,zt){const se=p.get(zt).get($);d.get(zt)!==se&&(r.uniformBlockBinding(zt,se,$.__bindingPointIndex),d.set(zt,se))}function Qt(){r.disable(r.BLEND),r.disable(r.CULL_FACE),r.disable(r.DEPTH_TEST),r.disable(r.POLYGON_OFFSET_FILL),r.disable(r.SCISSOR_TEST),r.disable(r.STENCIL_TEST),r.disable(r.SAMPLE_ALPHA_TO_COVERAGE),r.blendEquation(r.FUNC_ADD),r.blendFunc(r.ONE,r.ZERO),r.blendFuncSeparate(r.ONE,r.ZERO,r.ONE,r.ZERO),r.blendColor(0,0,0,0),r.colorMask(!0,!0,!0,!0),r.clearColor(0,0,0,0),r.depthMask(!0),r.depthFunc(r.LESS),l.setReversed(!1),r.clearDepth(1),r.stencilMask(4294967295),r.stencilFunc(r.ALWAYS,0,4294967295),r.stencilOp(r.KEEP,r.KEEP,r.KEEP),r.clearStencil(0),r.cullFace(r.BACK),r.frontFace(r.CCW),r.polygonOffset(0,0),r.activeTexture(r.TEXTURE0),r.bindFramebuffer(r.FRAMEBUFFER,null),r.bindFramebuffer(r.DRAW_FRAMEBUFFER,null),r.bindFramebuffer(r.READ_FRAMEBUFFER,null),r.useProgram(null),r.lineWidth(1),r.scissor(0,0,r.canvas.width,r.canvas.height),r.viewport(0,0,r.canvas.width,r.canvas.height),g={},lt=null,I={},_={},y=new WeakMap,x=[],M=null,T=!1,E=null,b=null,w=null,D=null,B=null,L=null,P=null,H=new pe(0,0,0),F=0,O=!1,U=null,V=null,Q=null,et=null,rt=null,bt.set(0,0,r.canvas.width,r.canvas.height),St.set(0,0,r.canvas.width,r.canvas.height),s.reset(),l.reset(),u.reset()}return{buffers:{color:s,depth:l,stencil:u},enable:Lt,disable:Yt,bindFramebuffer:$t,drawBuffers:Me,useProgram:Pe,setBlending:Ut,setMaterial:Ot,setFlipSided:Gt,setCullFace:tt,setLineWidth:Zt,setPolygonOffset:Xt,setScissorTest:jt,activeTexture:de,bindTexture:Ne,unbindTexture:j,compressedTexImage2D:X,compressedTexImage3D:pt,texImage2D:le,texImage3D:qt,updateUBOMapping:it,uniformBlockBinding:vt,texStorage2D:te,texStorage3D:ve,texSubImage2D:wt,texSubImage3D:Nt,compressedTexSubImage2D:Ct,compressedTexSubImage3D:re,scissor:ee,viewport:Ae,reset:Qt}}function ZH(r,t,e,n,i,s,l){const u=t.has("WEBGL_multisampled_render_to_texture")?t.get("WEBGL_multisampled_render_to_texture"):null,d=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),p=new Ht,g=new WeakMap;let _;const y=new WeakMap;let x=!1;try{x=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function M(j,X){return x?new OffscreenCanvas(j,X):s_("canvas")}function T(j,X,pt){let wt=1;const Nt=Ne(j);if((Nt.width>pt||Nt.height>pt)&&(wt=pt/Math.max(Nt.width,Nt.height)),wt<1)if(typeof HTMLImageElement<"u"&&j instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&j instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&j instanceof ImageBitmap||typeof VideoFrame<"u"&&j instanceof VideoFrame){const Ct=Math.floor(wt*Nt.width),re=Math.floor(wt*Nt.height);_===void 0&&(_=M(Ct,re));const te=X?M(Ct,re):_;return te.width=Ct,te.height=re,te.getContext("2d").drawImage(j,0,0,Ct,re),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Nt.width+"x"+Nt.height+") to ("+Ct+"x"+re+")."),te}else return"data"in j&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Nt.width+"x"+Nt.height+")."),j;return j}function E(j){return j.generateMipmaps}function b(j){r.generateMipmap(j)}function w(j){return j.isWebGLCubeRenderTarget?r.TEXTURE_CUBE_MAP:j.isWebGL3DRenderTarget?r.TEXTURE_3D:j.isWebGLArrayRenderTarget||j.isCompressedArrayTexture?r.TEXTURE_2D_ARRAY:r.TEXTURE_2D}function D(j,X,pt,wt,Nt=!1){if(j!==null){if(r[j]!==void 0)return r[j];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+j+"'")}let Ct=X;if(X===r.RED&&(pt===r.FLOAT&&(Ct=r.R32F),pt===r.HALF_FLOAT&&(Ct=r.R16F),pt===r.UNSIGNED_BYTE&&(Ct=r.R8)),X===r.RED_INTEGER&&(pt===r.UNSIGNED_BYTE&&(Ct=r.R8UI),pt===r.UNSIGNED_SHORT&&(Ct=r.R16UI),pt===r.UNSIGNED_INT&&(Ct=r.R32UI),pt===r.BYTE&&(Ct=r.R8I),pt===r.SHORT&&(Ct=r.R16I),pt===r.INT&&(Ct=r.R32I)),X===r.RG&&(pt===r.FLOAT&&(Ct=r.RG32F),pt===r.HALF_FLOAT&&(Ct=r.RG16F),pt===r.UNSIGNED_BYTE&&(Ct=r.RG8)),X===r.RG_INTEGER&&(pt===r.UNSIGNED_BYTE&&(Ct=r.RG8UI),pt===r.UNSIGNED_SHORT&&(Ct=r.RG16UI),pt===r.UNSIGNED_INT&&(Ct=r.RG32UI),pt===r.BYTE&&(Ct=r.RG8I),pt===r.SHORT&&(Ct=r.RG16I),pt===r.INT&&(Ct=r.RG32I)),X===r.RGB_INTEGER&&(pt===r.UNSIGNED_BYTE&&(Ct=r.RGB8UI),pt===r.UNSIGNED_SHORT&&(Ct=r.RGB16UI),pt===r.UNSIGNED_INT&&(Ct=r.RGB32UI),pt===r.BYTE&&(Ct=r.RGB8I),pt===r.SHORT&&(Ct=r.RGB16I),pt===r.INT&&(Ct=r.RGB32I)),X===r.RGBA_INTEGER&&(pt===r.UNSIGNED_BYTE&&(Ct=r.RGBA8UI),pt===r.UNSIGNED_SHORT&&(Ct=r.RGBA16UI),pt===r.UNSIGNED_INT&&(Ct=r.RGBA32UI),pt===r.BYTE&&(Ct=r.RGBA8I),pt===r.SHORT&&(Ct=r.RGBA16I),pt===r.INT&&(Ct=r.RGBA32I)),X===r.RGB&&pt===r.UNSIGNED_INT_5_9_9_9_REV&&(Ct=r.RGB9_E5),X===r.RGBA){const re=Nt?i_:Ln.getTransfer(wt);pt===r.FLOAT&&(Ct=r.RGBA32F),pt===r.HALF_FLOAT&&(Ct=r.RGBA16F),pt===r.UNSIGNED_BYTE&&(Ct=re===ai?r.SRGB8_ALPHA8:r.RGBA8),pt===r.UNSIGNED_SHORT_4_4_4_4&&(Ct=r.RGBA4),pt===r.UNSIGNED_SHORT_5_5_5_1&&(Ct=r.RGB5_A1)}return(Ct===r.R16F||Ct===r.R32F||Ct===r.RG16F||Ct===r.RG32F||Ct===r.RGBA16F||Ct===r.RGBA32F)&&t.get("EXT_color_buffer_float"),Ct}function B(j,X){let pt;return j?X===null||X===Wu||X===pm?pt=r.DEPTH24_STENCIL8:X===dr?pt=r.DEPTH32F_STENCIL8:X===dm&&(pt=r.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):X===null||X===Wu||X===pm?pt=r.DEPTH_COMPONENT24:X===dr?pt=r.DEPTH_COMPONENT32F:X===dm&&(pt=r.DEPTH_COMPONENT16),pt}function L(j,X){return E(j)===!0||j.isFramebufferTexture&&j.minFilter!==Fa&&j.minFilter!==$i?Math.log2(Math.max(X.width,X.height))+1:j.mipmaps!==void 0&&j.mipmaps.length>0?j.mipmaps.length:j.isCompressedTexture&&Array.isArray(j.image)?X.mipmaps.length:1}function P(j){const X=j.target;X.removeEventListener("dispose",P),F(X),X.isVideoTexture&&g.delete(X)}function H(j){const X=j.target;X.removeEventListener("dispose",H),U(X)}function F(j){const X=n.get(j);if(X.__webglInit===void 0)return;const pt=j.source,wt=y.get(pt);if(wt){const Nt=wt[X.__cacheKey];Nt.usedTimes--,Nt.usedTimes===0&&O(j),Object.keys(wt).length===0&&y.delete(pt)}n.remove(j)}function O(j){const X=n.get(j);r.deleteTexture(X.__webglTexture);const pt=j.source,wt=y.get(pt);delete wt[X.__cacheKey],l.memory.textures--}function U(j){const X=n.get(j);if(j.depthTexture&&(j.depthTexture.dispose(),n.remove(j.depthTexture)),j.isWebGLCubeRenderTarget)for(let wt=0;wt<6;wt++){if(Array.isArray(X.__webglFramebuffer[wt]))for(let Nt=0;Nt<X.__webglFramebuffer[wt].length;Nt++)r.deleteFramebuffer(X.__webglFramebuffer[wt][Nt]);else r.deleteFramebuffer(X.__webglFramebuffer[wt]);X.__webglDepthbuffer&&r.deleteRenderbuffer(X.__webglDepthbuffer[wt])}else{if(Array.isArray(X.__webglFramebuffer))for(let wt=0;wt<X.__webglFramebuffer.length;wt++)r.deleteFramebuffer(X.__webglFramebuffer[wt]);else r.deleteFramebuffer(X.__webglFramebuffer);if(X.__webglDepthbuffer&&r.deleteRenderbuffer(X.__webglDepthbuffer),X.__webglMultisampledFramebuffer&&r.deleteFramebuffer(X.__webglMultisampledFramebuffer),X.__webglColorRenderbuffer)for(let wt=0;wt<X.__webglColorRenderbuffer.length;wt++)X.__webglColorRenderbuffer[wt]&&r.deleteRenderbuffer(X.__webglColorRenderbuffer[wt]);X.__webglDepthRenderbuffer&&r.deleteRenderbuffer(X.__webglDepthRenderbuffer)}const pt=j.textures;for(let wt=0,Nt=pt.length;wt<Nt;wt++){const Ct=n.get(pt[wt]);Ct.__webglTexture&&(r.deleteTexture(Ct.__webglTexture),l.memory.textures--),n.remove(pt[wt])}n.remove(j)}let V=0;function Q(){V=0}function et(){const j=V;return j>=i.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+j+" texture units while this GPU supports only "+i.maxTextures),V+=1,j}function rt(j){const X=[];return X.push(j.wrapS),X.push(j.wrapT),X.push(j.wrapR||0),X.push(j.magFilter),X.push(j.minFilter),X.push(j.anisotropy),X.push(j.internalFormat),X.push(j.format),X.push(j.type),X.push(j.generateMipmaps),X.push(j.premultiplyAlpha),X.push(j.flipY),X.push(j.unpackAlignment),X.push(j.colorSpace),X.join()}function ut(j,X){const pt=n.get(j);if(j.isVideoTexture&&jt(j),j.isRenderTargetTexture===!1&&j.isExternalTexture!==!0&&j.version>0&&pt.__version!==j.version){const wt=j.image;if(wt===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(wt.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Mt(pt,j,X);return}}else j.isExternalTexture&&(pt.__webglTexture=j.sourceTexture?j.sourceTexture:null);e.bindTexture(r.TEXTURE_2D,pt.__webglTexture,r.TEXTURE0+X)}function G(j,X){const pt=n.get(j);if(j.isRenderTargetTexture===!1&&j.version>0&&pt.__version!==j.version){Mt(pt,j,X);return}e.bindTexture(r.TEXTURE_2D_ARRAY,pt.__webglTexture,r.TEXTURE0+X)}function q(j,X){const pt=n.get(j);if(j.isRenderTargetTexture===!1&&j.version>0&&pt.__version!==j.version){Mt(pt,j,X);return}e.bindTexture(r.TEXTURE_3D,pt.__webglTexture,r.TEXTURE0+X)}function K(j,X){const pt=n.get(j);if(j.version>0&&pt.__version!==j.version){Lt(pt,j,X);return}e.bindTexture(r.TEXTURE_CUBE_MAP,pt.__webglTexture,r.TEXTURE0+X)}const lt={[pf]:r.REPEAT,[zr]:r.CLAMP_TO_EDGE,[hm]:r.MIRRORED_REPEAT},I={[Fa]:r.NEAREST,[FA]:r.NEAREST_MIPMAP_NEAREST,[Hh]:r.NEAREST_MIPMAP_LINEAR,[$i]:r.LINEAR,[nm]:r.LINEAR_MIPMAP_NEAREST,[yo]:r.LINEAR_MIPMAP_LINEAR},nt={[Fw]:r.NEVER,[kw]:r.ALWAYS,[zw]:r.LESS,[WE]:r.LEQUAL,[Hw]:r.EQUAL,[Xw]:r.GEQUAL,[Gw]:r.GREATER,[Vw]:r.NOTEQUAL};function gt(j,X){if(X.type===dr&&t.has("OES_texture_float_linear")===!1&&(X.magFilter===$i||X.magFilter===nm||X.magFilter===Hh||X.magFilter===yo||X.minFilter===$i||X.minFilter===nm||X.minFilter===Hh||X.minFilter===yo)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),r.texParameteri(j,r.TEXTURE_WRAP_S,lt[X.wrapS]),r.texParameteri(j,r.TEXTURE_WRAP_T,lt[X.wrapT]),(j===r.TEXTURE_3D||j===r.TEXTURE_2D_ARRAY)&&r.texParameteri(j,r.TEXTURE_WRAP_R,lt[X.wrapR]),r.texParameteri(j,r.TEXTURE_MAG_FILTER,I[X.magFilter]),r.texParameteri(j,r.TEXTURE_MIN_FILTER,I[X.minFilter]),X.compareFunction&&(r.texParameteri(j,r.TEXTURE_COMPARE_MODE,r.COMPARE_REF_TO_TEXTURE),r.texParameteri(j,r.TEXTURE_COMPARE_FUNC,nt[X.compareFunction])),t.has("EXT_texture_filter_anisotropic")===!0){if(X.magFilter===Fa||X.minFilter!==Hh&&X.minFilter!==yo||X.type===dr&&t.has("OES_texture_float_linear")===!1)return;if(X.anisotropy>1||n.get(X).__currentAnisotropy){const pt=t.get("EXT_texture_filter_anisotropic");r.texParameterf(j,pt.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(X.anisotropy,i.getMaxAnisotropy())),n.get(X).__currentAnisotropy=X.anisotropy}}}function bt(j,X){let pt=!1;j.__webglInit===void 0&&(j.__webglInit=!0,X.addEventListener("dispose",P));const wt=X.source;let Nt=y.get(wt);Nt===void 0&&(Nt={},y.set(wt,Nt));const Ct=rt(X);if(Ct!==j.__cacheKey){Nt[Ct]===void 0&&(Nt[Ct]={texture:r.createTexture(),usedTimes:0},l.memory.textures++,pt=!0),Nt[Ct].usedTimes++;const re=Nt[j.__cacheKey];re!==void 0&&(Nt[j.__cacheKey].usedTimes--,re.usedTimes===0&&O(X)),j.__cacheKey=Ct,j.__webglTexture=Nt[Ct].texture}return pt}function St(j,X,pt){return Math.floor(Math.floor(j/pt)/X)}function ft(j,X,pt,wt){const Ct=j.updateRanges;if(Ct.length===0)e.texSubImage2D(r.TEXTURE_2D,0,0,0,X.width,X.height,pt,wt,X.data);else{Ct.sort((qt,ee)=>qt.start-ee.start);let re=0;for(let qt=1;qt<Ct.length;qt++){const ee=Ct[re],Ae=Ct[qt],it=ee.start+ee.count,vt=St(Ae.start,X.width,4),Qt=St(ee.start,X.width,4);Ae.start<=it+1&&vt===Qt&&St(Ae.start+Ae.count-1,X.width,4)===vt?ee.count=Math.max(ee.count,Ae.start+Ae.count-ee.start):(++re,Ct[re]=Ae)}Ct.length=re+1;const te=r.getParameter(r.UNPACK_ROW_LENGTH),ve=r.getParameter(r.UNPACK_SKIP_PIXELS),le=r.getParameter(r.UNPACK_SKIP_ROWS);r.pixelStorei(r.UNPACK_ROW_LENGTH,X.width);for(let qt=0,ee=Ct.length;qt<ee;qt++){const Ae=Ct[qt],it=Math.floor(Ae.start/4),vt=Math.ceil(Ae.count/4),Qt=it%X.width,$=Math.floor(it/X.width),zt=vt,Wt=1;r.pixelStorei(r.UNPACK_SKIP_PIXELS,Qt),r.pixelStorei(r.UNPACK_SKIP_ROWS,$),e.texSubImage2D(r.TEXTURE_2D,0,Qt,$,zt,Wt,pt,wt,X.data)}j.clearUpdateRanges(),r.pixelStorei(r.UNPACK_ROW_LENGTH,te),r.pixelStorei(r.UNPACK_SKIP_PIXELS,ve),r.pixelStorei(r.UNPACK_SKIP_ROWS,le)}}function Mt(j,X,pt){let wt=r.TEXTURE_2D;(X.isDataArrayTexture||X.isCompressedArrayTexture)&&(wt=r.TEXTURE_2D_ARRAY),X.isData3DTexture&&(wt=r.TEXTURE_3D);const Nt=bt(j,X),Ct=X.source;e.bindTexture(wt,j.__webglTexture,r.TEXTURE0+pt);const re=n.get(Ct);if(Ct.version!==re.__version||Nt===!0){e.activeTexture(r.TEXTURE0+pt);const te=Ln.getPrimaries(Ln.workingColorSpace),ve=X.colorSpace===Fu?null:Ln.getPrimaries(X.colorSpace),le=X.colorSpace===Fu||te===ve?r.NONE:r.BROWSER_DEFAULT_WEBGL;r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,X.flipY),r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,X.premultiplyAlpha),r.pixelStorei(r.UNPACK_ALIGNMENT,X.unpackAlignment),r.pixelStorei(r.UNPACK_COLORSPACE_CONVERSION_WEBGL,le);let qt=T(X.image,!1,i.maxTextureSize);qt=de(X,qt);const ee=s.convert(X.format,X.colorSpace),Ae=s.convert(X.type);let it=D(X.internalFormat,ee,Ae,X.colorSpace,X.isVideoTexture);gt(wt,X);let vt;const Qt=X.mipmaps,$=X.isVideoTexture!==!0,zt=re.__version===void 0||Nt===!0,Wt=Ct.dataReady,se=L(X,qt);if(X.isDepthTexture)it=B(X.format===gm,X.type),zt&&($?e.texStorage2D(r.TEXTURE_2D,1,it,qt.width,qt.height):e.texImage2D(r.TEXTURE_2D,0,it,qt.width,qt.height,0,ee,Ae,null));else if(X.isDataTexture)if(Qt.length>0){$&&zt&&e.texStorage2D(r.TEXTURE_2D,se,it,Qt[0].width,Qt[0].height);for(let Kt=0,It=Qt.length;Kt<It;Kt++)vt=Qt[Kt],$?Wt&&e.texSubImage2D(r.TEXTURE_2D,Kt,0,0,vt.width,vt.height,ee,Ae,vt.data):e.texImage2D(r.TEXTURE_2D,Kt,it,vt.width,vt.height,0,ee,Ae,vt.data);X.generateMipmaps=!1}else $?(zt&&e.texStorage2D(r.TEXTURE_2D,se,it,qt.width,qt.height),Wt&&ft(X,qt,ee,Ae)):e.texImage2D(r.TEXTURE_2D,0,it,qt.width,qt.height,0,ee,Ae,qt.data);else if(X.isCompressedTexture)if(X.isCompressedArrayTexture){$&&zt&&e.texStorage3D(r.TEXTURE_2D_ARRAY,se,it,Qt[0].width,Qt[0].height,qt.depth);for(let Kt=0,It=Qt.length;Kt<It;Kt++)if(vt=Qt[Kt],X.format!==_s)if(ee!==null)if($){if(Wt)if(X.layerUpdates.size>0){const ce=iE(vt.width,vt.height,X.format,X.type);for(const be of X.layerUpdates){const $e=vt.data.subarray(be*ce/vt.data.BYTES_PER_ELEMENT,(be+1)*ce/vt.data.BYTES_PER_ELEMENT);e.compressedTexSubImage3D(r.TEXTURE_2D_ARRAY,Kt,0,0,be,vt.width,vt.height,1,ee,$e)}X.clearLayerUpdates()}else e.compressedTexSubImage3D(r.TEXTURE_2D_ARRAY,Kt,0,0,0,vt.width,vt.height,qt.depth,ee,vt.data)}else e.compressedTexImage3D(r.TEXTURE_2D_ARRAY,Kt,it,vt.width,vt.height,qt.depth,0,vt.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else $?Wt&&e.texSubImage3D(r.TEXTURE_2D_ARRAY,Kt,0,0,0,vt.width,vt.height,qt.depth,ee,Ae,vt.data):e.texImage3D(r.TEXTURE_2D_ARRAY,Kt,it,vt.width,vt.height,qt.depth,0,ee,Ae,vt.data)}else{$&&zt&&e.texStorage2D(r.TEXTURE_2D,se,it,Qt[0].width,Qt[0].height);for(let Kt=0,It=Qt.length;Kt<It;Kt++)vt=Qt[Kt],X.format!==_s?ee!==null?$?Wt&&e.compressedTexSubImage2D(r.TEXTURE_2D,Kt,0,0,vt.width,vt.height,ee,vt.data):e.compressedTexImage2D(r.TEXTURE_2D,Kt,it,vt.width,vt.height,0,vt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):$?Wt&&e.texSubImage2D(r.TEXTURE_2D,Kt,0,0,vt.width,vt.height,ee,Ae,vt.data):e.texImage2D(r.TEXTURE_2D,Kt,it,vt.width,vt.height,0,ee,Ae,vt.data)}else if(X.isDataArrayTexture)if($){if(zt&&e.texStorage3D(r.TEXTURE_2D_ARRAY,se,it,qt.width,qt.height,qt.depth),Wt)if(X.layerUpdates.size>0){const Kt=iE(qt.width,qt.height,X.format,X.type);for(const It of X.layerUpdates){const ce=qt.data.subarray(It*Kt/qt.data.BYTES_PER_ELEMENT,(It+1)*Kt/qt.data.BYTES_PER_ELEMENT);e.texSubImage3D(r.TEXTURE_2D_ARRAY,0,0,0,It,qt.width,qt.height,1,ee,Ae,ce)}X.clearLayerUpdates()}else e.texSubImage3D(r.TEXTURE_2D_ARRAY,0,0,0,0,qt.width,qt.height,qt.depth,ee,Ae,qt.data)}else e.texImage3D(r.TEXTURE_2D_ARRAY,0,it,qt.width,qt.height,qt.depth,0,ee,Ae,qt.data);else if(X.isData3DTexture)$?(zt&&e.texStorage3D(r.TEXTURE_3D,se,it,qt.width,qt.height,qt.depth),Wt&&e.texSubImage3D(r.TEXTURE_3D,0,0,0,0,qt.width,qt.height,qt.depth,ee,Ae,qt.data)):e.texImage3D(r.TEXTURE_3D,0,it,qt.width,qt.height,qt.depth,0,ee,Ae,qt.data);else if(X.isFramebufferTexture){if(zt)if($)e.texStorage2D(r.TEXTURE_2D,se,it,qt.width,qt.height);else{let Kt=qt.width,It=qt.height;for(let ce=0;ce<se;ce++)e.texImage2D(r.TEXTURE_2D,ce,it,Kt,It,0,ee,Ae,null),Kt>>=1,It>>=1}}else if(Qt.length>0){if($&&zt){const Kt=Ne(Qt[0]);e.texStorage2D(r.TEXTURE_2D,se,it,Kt.width,Kt.height)}for(let Kt=0,It=Qt.length;Kt<It;Kt++)vt=Qt[Kt],$?Wt&&e.texSubImage2D(r.TEXTURE_2D,Kt,0,0,ee,Ae,vt):e.texImage2D(r.TEXTURE_2D,Kt,it,ee,Ae,vt);X.generateMipmaps=!1}else if($){if(zt){const Kt=Ne(qt);e.texStorage2D(r.TEXTURE_2D,se,it,Kt.width,Kt.height)}Wt&&e.texSubImage2D(r.TEXTURE_2D,0,0,0,ee,Ae,qt)}else e.texImage2D(r.TEXTURE_2D,0,it,ee,Ae,qt);E(X)&&b(wt),re.__version=Ct.version,X.onUpdate&&X.onUpdate(X)}j.__version=X.version}function Lt(j,X,pt){if(X.image.length!==6)return;const wt=bt(j,X),Nt=X.source;e.bindTexture(r.TEXTURE_CUBE_MAP,j.__webglTexture,r.TEXTURE0+pt);const Ct=n.get(Nt);if(Nt.version!==Ct.__version||wt===!0){e.activeTexture(r.TEXTURE0+pt);const re=Ln.getPrimaries(Ln.workingColorSpace),te=X.colorSpace===Fu?null:Ln.getPrimaries(X.colorSpace),ve=X.colorSpace===Fu||re===te?r.NONE:r.BROWSER_DEFAULT_WEBGL;r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,X.flipY),r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,X.premultiplyAlpha),r.pixelStorei(r.UNPACK_ALIGNMENT,X.unpackAlignment),r.pixelStorei(r.UNPACK_COLORSPACE_CONVERSION_WEBGL,ve);const le=X.isCompressedTexture||X.image[0].isCompressedTexture,qt=X.image[0]&&X.image[0].isDataTexture,ee=[];for(let It=0;It<6;It++)!le&&!qt?ee[It]=T(X.image[It],!0,i.maxCubemapSize):ee[It]=qt?X.image[It].image:X.image[It],ee[It]=de(X,ee[It]);const Ae=ee[0],it=s.convert(X.format,X.colorSpace),vt=s.convert(X.type),Qt=D(X.internalFormat,it,vt,X.colorSpace),$=X.isVideoTexture!==!0,zt=Ct.__version===void 0||wt===!0,Wt=Nt.dataReady;let se=L(X,Ae);gt(r.TEXTURE_CUBE_MAP,X);let Kt;if(le){$&&zt&&e.texStorage2D(r.TEXTURE_CUBE_MAP,se,Qt,Ae.width,Ae.height);for(let It=0;It<6;It++){Kt=ee[It].mipmaps;for(let ce=0;ce<Kt.length;ce++){const be=Kt[ce];X.format!==_s?it!==null?$?Wt&&e.compressedTexSubImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+It,ce,0,0,be.width,be.height,it,be.data):e.compressedTexImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+It,ce,Qt,be.width,be.height,0,be.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):$?Wt&&e.texSubImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+It,ce,0,0,be.width,be.height,it,vt,be.data):e.texImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+It,ce,Qt,be.width,be.height,0,it,vt,be.data)}}}else{if(Kt=X.mipmaps,$&&zt){Kt.length>0&&se++;const It=Ne(ee[0]);e.texStorage2D(r.TEXTURE_CUBE_MAP,se,Qt,It.width,It.height)}for(let It=0;It<6;It++)if(qt){$?Wt&&e.texSubImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+It,0,0,0,ee[It].width,ee[It].height,it,vt,ee[It].data):e.texImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+It,0,Qt,ee[It].width,ee[It].height,0,it,vt,ee[It].data);for(let ce=0;ce<Kt.length;ce++){const $e=Kt[ce].image[It].image;$?Wt&&e.texSubImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+It,ce+1,0,0,$e.width,$e.height,it,vt,$e.data):e.texImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+It,ce+1,Qt,$e.width,$e.height,0,it,vt,$e.data)}}else{$?Wt&&e.texSubImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+It,0,0,0,it,vt,ee[It]):e.texImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+It,0,Qt,it,vt,ee[It]);for(let ce=0;ce<Kt.length;ce++){const be=Kt[ce];$?Wt&&e.texSubImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+It,ce+1,0,0,it,vt,be.image[It]):e.texImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+It,ce+1,Qt,it,vt,be.image[It])}}}E(X)&&b(r.TEXTURE_CUBE_MAP),Ct.__version=Nt.version,X.onUpdate&&X.onUpdate(X)}j.__version=X.version}function Yt(j,X,pt,wt,Nt,Ct){const re=s.convert(pt.format,pt.colorSpace),te=s.convert(pt.type),ve=D(pt.internalFormat,re,te,pt.colorSpace),le=n.get(X),qt=n.get(pt);if(qt.__renderTarget=X,!le.__hasExternalTextures){const ee=Math.max(1,X.width>>Ct),Ae=Math.max(1,X.height>>Ct);Nt===r.TEXTURE_3D||Nt===r.TEXTURE_2D_ARRAY?e.texImage3D(Nt,Ct,ve,ee,Ae,X.depth,0,re,te,null):e.texImage2D(Nt,Ct,ve,ee,Ae,0,re,te,null)}e.bindFramebuffer(r.FRAMEBUFFER,j),Xt(X)?u.framebufferTexture2DMultisampleEXT(r.FRAMEBUFFER,wt,Nt,qt.__webglTexture,0,Zt(X)):(Nt===r.TEXTURE_2D||Nt>=r.TEXTURE_CUBE_MAP_POSITIVE_X&&Nt<=r.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&r.framebufferTexture2D(r.FRAMEBUFFER,wt,Nt,qt.__webglTexture,Ct),e.bindFramebuffer(r.FRAMEBUFFER,null)}function $t(j,X,pt){if(r.bindRenderbuffer(r.RENDERBUFFER,j),X.depthBuffer){const wt=X.depthTexture,Nt=wt&&wt.isDepthTexture?wt.type:null,Ct=B(X.stencilBuffer,Nt),re=X.stencilBuffer?r.DEPTH_STENCIL_ATTACHMENT:r.DEPTH_ATTACHMENT,te=Zt(X);Xt(X)?u.renderbufferStorageMultisampleEXT(r.RENDERBUFFER,te,Ct,X.width,X.height):pt?r.renderbufferStorageMultisample(r.RENDERBUFFER,te,Ct,X.width,X.height):r.renderbufferStorage(r.RENDERBUFFER,Ct,X.width,X.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,re,r.RENDERBUFFER,j)}else{const wt=X.textures;for(let Nt=0;Nt<wt.length;Nt++){const Ct=wt[Nt],re=s.convert(Ct.format,Ct.colorSpace),te=s.convert(Ct.type),ve=D(Ct.internalFormat,re,te,Ct.colorSpace),le=Zt(X);pt&&Xt(X)===!1?r.renderbufferStorageMultisample(r.RENDERBUFFER,le,ve,X.width,X.height):Xt(X)?u.renderbufferStorageMultisampleEXT(r.RENDERBUFFER,le,ve,X.width,X.height):r.renderbufferStorage(r.RENDERBUFFER,ve,X.width,X.height)}}r.bindRenderbuffer(r.RENDERBUFFER,null)}function Me(j,X){if(X&&X.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(e.bindFramebuffer(r.FRAMEBUFFER,j),!(X.depthTexture&&X.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const wt=n.get(X.depthTexture);wt.__renderTarget=X,(!wt.__webglTexture||X.depthTexture.image.width!==X.width||X.depthTexture.image.height!==X.height)&&(X.depthTexture.image.width=X.width,X.depthTexture.image.height=X.height,X.depthTexture.needsUpdate=!0),ut(X.depthTexture,0);const Nt=wt.__webglTexture,Ct=Zt(X);if(X.depthTexture.format===mm)Xt(X)?u.framebufferTexture2DMultisampleEXT(r.FRAMEBUFFER,r.DEPTH_ATTACHMENT,r.TEXTURE_2D,Nt,0,Ct):r.framebufferTexture2D(r.FRAMEBUFFER,r.DEPTH_ATTACHMENT,r.TEXTURE_2D,Nt,0);else if(X.depthTexture.format===gm)Xt(X)?u.framebufferTexture2DMultisampleEXT(r.FRAMEBUFFER,r.DEPTH_STENCIL_ATTACHMENT,r.TEXTURE_2D,Nt,0,Ct):r.framebufferTexture2D(r.FRAMEBUFFER,r.DEPTH_STENCIL_ATTACHMENT,r.TEXTURE_2D,Nt,0);else throw new Error("Unknown depthTexture format")}function Pe(j){const X=n.get(j),pt=j.isWebGLCubeRenderTarget===!0;if(X.__boundDepthTexture!==j.depthTexture){const wt=j.depthTexture;if(X.__depthDisposeCallback&&X.__depthDisposeCallback(),wt){const Nt=()=>{delete X.__boundDepthTexture,delete X.__depthDisposeCallback,wt.removeEventListener("dispose",Nt)};wt.addEventListener("dispose",Nt),X.__depthDisposeCallback=Nt}X.__boundDepthTexture=wt}if(j.depthTexture&&!X.__autoAllocateDepthBuffer){if(pt)throw new Error("target.depthTexture not supported in Cube render targets");const wt=j.texture.mipmaps;wt&&wt.length>0?Me(X.__webglFramebuffer[0],j):Me(X.__webglFramebuffer,j)}else if(pt){X.__webglDepthbuffer=[];for(let wt=0;wt<6;wt++)if(e.bindFramebuffer(r.FRAMEBUFFER,X.__webglFramebuffer[wt]),X.__webglDepthbuffer[wt]===void 0)X.__webglDepthbuffer[wt]=r.createRenderbuffer(),$t(X.__webglDepthbuffer[wt],j,!1);else{const Nt=j.stencilBuffer?r.DEPTH_STENCIL_ATTACHMENT:r.DEPTH_ATTACHMENT,Ct=X.__webglDepthbuffer[wt];r.bindRenderbuffer(r.RENDERBUFFER,Ct),r.framebufferRenderbuffer(r.FRAMEBUFFER,Nt,r.RENDERBUFFER,Ct)}}else{const wt=j.texture.mipmaps;if(wt&&wt.length>0?e.bindFramebuffer(r.FRAMEBUFFER,X.__webglFramebuffer[0]):e.bindFramebuffer(r.FRAMEBUFFER,X.__webglFramebuffer),X.__webglDepthbuffer===void 0)X.__webglDepthbuffer=r.createRenderbuffer(),$t(X.__webglDepthbuffer,j,!1);else{const Nt=j.stencilBuffer?r.DEPTH_STENCIL_ATTACHMENT:r.DEPTH_ATTACHMENT,Ct=X.__webglDepthbuffer;r.bindRenderbuffer(r.RENDERBUFFER,Ct),r.framebufferRenderbuffer(r.FRAMEBUFFER,Nt,r.RENDERBUFFER,Ct)}}e.bindFramebuffer(r.FRAMEBUFFER,null)}function _e(j,X,pt){const wt=n.get(j);X!==void 0&&Yt(wt.__webglFramebuffer,j,j.texture,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,0),pt!==void 0&&Pe(j)}function Z(j){const X=j.texture,pt=n.get(j),wt=n.get(X);j.addEventListener("dispose",H);const Nt=j.textures,Ct=j.isWebGLCubeRenderTarget===!0,re=Nt.length>1;if(re||(wt.__webglTexture===void 0&&(wt.__webglTexture=r.createTexture()),wt.__version=X.version,l.memory.textures++),Ct){pt.__webglFramebuffer=[];for(let te=0;te<6;te++)if(X.mipmaps&&X.mipmaps.length>0){pt.__webglFramebuffer[te]=[];for(let ve=0;ve<X.mipmaps.length;ve++)pt.__webglFramebuffer[te][ve]=r.createFramebuffer()}else pt.__webglFramebuffer[te]=r.createFramebuffer()}else{if(X.mipmaps&&X.mipmaps.length>0){pt.__webglFramebuffer=[];for(let te=0;te<X.mipmaps.length;te++)pt.__webglFramebuffer[te]=r.createFramebuffer()}else pt.__webglFramebuffer=r.createFramebuffer();if(re)for(let te=0,ve=Nt.length;te<ve;te++){const le=n.get(Nt[te]);le.__webglTexture===void 0&&(le.__webglTexture=r.createTexture(),l.memory.textures++)}if(j.samples>0&&Xt(j)===!1){pt.__webglMultisampledFramebuffer=r.createFramebuffer(),pt.__webglColorRenderbuffer=[],e.bindFramebuffer(r.FRAMEBUFFER,pt.__webglMultisampledFramebuffer);for(let te=0;te<Nt.length;te++){const ve=Nt[te];pt.__webglColorRenderbuffer[te]=r.createRenderbuffer(),r.bindRenderbuffer(r.RENDERBUFFER,pt.__webglColorRenderbuffer[te]);const le=s.convert(ve.format,ve.colorSpace),qt=s.convert(ve.type),ee=D(ve.internalFormat,le,qt,ve.colorSpace,j.isXRRenderTarget===!0),Ae=Zt(j);r.renderbufferStorageMultisample(r.RENDERBUFFER,Ae,ee,j.width,j.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0+te,r.RENDERBUFFER,pt.__webglColorRenderbuffer[te])}r.bindRenderbuffer(r.RENDERBUFFER,null),j.depthBuffer&&(pt.__webglDepthRenderbuffer=r.createRenderbuffer(),$t(pt.__webglDepthRenderbuffer,j,!0)),e.bindFramebuffer(r.FRAMEBUFFER,null)}}if(Ct){e.bindTexture(r.TEXTURE_CUBE_MAP,wt.__webglTexture),gt(r.TEXTURE_CUBE_MAP,X);for(let te=0;te<6;te++)if(X.mipmaps&&X.mipmaps.length>0)for(let ve=0;ve<X.mipmaps.length;ve++)Yt(pt.__webglFramebuffer[te][ve],j,X,r.COLOR_ATTACHMENT0,r.TEXTURE_CUBE_MAP_POSITIVE_X+te,ve);else Yt(pt.__webglFramebuffer[te],j,X,r.COLOR_ATTACHMENT0,r.TEXTURE_CUBE_MAP_POSITIVE_X+te,0);E(X)&&b(r.TEXTURE_CUBE_MAP),e.unbindTexture()}else if(re){for(let te=0,ve=Nt.length;te<ve;te++){const le=Nt[te],qt=n.get(le);let ee=r.TEXTURE_2D;(j.isWebGL3DRenderTarget||j.isWebGLArrayRenderTarget)&&(ee=j.isWebGL3DRenderTarget?r.TEXTURE_3D:r.TEXTURE_2D_ARRAY),e.bindTexture(ee,qt.__webglTexture),gt(ee,le),Yt(pt.__webglFramebuffer,j,le,r.COLOR_ATTACHMENT0+te,ee,0),E(le)&&b(ee)}e.unbindTexture()}else{let te=r.TEXTURE_2D;if((j.isWebGL3DRenderTarget||j.isWebGLArrayRenderTarget)&&(te=j.isWebGL3DRenderTarget?r.TEXTURE_3D:r.TEXTURE_2D_ARRAY),e.bindTexture(te,wt.__webglTexture),gt(te,X),X.mipmaps&&X.mipmaps.length>0)for(let ve=0;ve<X.mipmaps.length;ve++)Yt(pt.__webglFramebuffer[ve],j,X,r.COLOR_ATTACHMENT0,te,ve);else Yt(pt.__webglFramebuffer,j,X,r.COLOR_ATTACHMENT0,te,0);E(X)&&b(te),e.unbindTexture()}j.depthBuffer&&Pe(j)}function Ut(j){const X=j.textures;for(let pt=0,wt=X.length;pt<wt;pt++){const Nt=X[pt];if(E(Nt)){const Ct=w(j),re=n.get(Nt).__webglTexture;e.bindTexture(Ct,re),b(Ct),e.unbindTexture()}}}const Ot=[],Gt=[];function tt(j){if(j.samples>0){if(Xt(j)===!1){const X=j.textures,pt=j.width,wt=j.height;let Nt=r.COLOR_BUFFER_BIT;const Ct=j.stencilBuffer?r.DEPTH_STENCIL_ATTACHMENT:r.DEPTH_ATTACHMENT,re=n.get(j),te=X.length>1;if(te)for(let le=0;le<X.length;le++)e.bindFramebuffer(r.FRAMEBUFFER,re.__webglMultisampledFramebuffer),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0+le,r.RENDERBUFFER,null),e.bindFramebuffer(r.FRAMEBUFFER,re.__webglFramebuffer),r.framebufferTexture2D(r.DRAW_FRAMEBUFFER,r.COLOR_ATTACHMENT0+le,r.TEXTURE_2D,null,0);e.bindFramebuffer(r.READ_FRAMEBUFFER,re.__webglMultisampledFramebuffer);const ve=j.texture.mipmaps;ve&&ve.length>0?e.bindFramebuffer(r.DRAW_FRAMEBUFFER,re.__webglFramebuffer[0]):e.bindFramebuffer(r.DRAW_FRAMEBUFFER,re.__webglFramebuffer);for(let le=0;le<X.length;le++){if(j.resolveDepthBuffer&&(j.depthBuffer&&(Nt|=r.DEPTH_BUFFER_BIT),j.stencilBuffer&&j.resolveStencilBuffer&&(Nt|=r.STENCIL_BUFFER_BIT)),te){r.framebufferRenderbuffer(r.READ_FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.RENDERBUFFER,re.__webglColorRenderbuffer[le]);const qt=n.get(X[le]).__webglTexture;r.framebufferTexture2D(r.DRAW_FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,qt,0)}r.blitFramebuffer(0,0,pt,wt,0,0,pt,wt,Nt,r.NEAREST),d===!0&&(Ot.length=0,Gt.length=0,Ot.push(r.COLOR_ATTACHMENT0+le),j.depthBuffer&&j.resolveDepthBuffer===!1&&(Ot.push(Ct),Gt.push(Ct),r.invalidateFramebuffer(r.DRAW_FRAMEBUFFER,Gt)),r.invalidateFramebuffer(r.READ_FRAMEBUFFER,Ot))}if(e.bindFramebuffer(r.READ_FRAMEBUFFER,null),e.bindFramebuffer(r.DRAW_FRAMEBUFFER,null),te)for(let le=0;le<X.length;le++){e.bindFramebuffer(r.FRAMEBUFFER,re.__webglMultisampledFramebuffer),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0+le,r.RENDERBUFFER,re.__webglColorRenderbuffer[le]);const qt=n.get(X[le]).__webglTexture;e.bindFramebuffer(r.FRAMEBUFFER,re.__webglFramebuffer),r.framebufferTexture2D(r.DRAW_FRAMEBUFFER,r.COLOR_ATTACHMENT0+le,r.TEXTURE_2D,qt,0)}e.bindFramebuffer(r.DRAW_FRAMEBUFFER,re.__webglMultisampledFramebuffer)}else if(j.depthBuffer&&j.resolveDepthBuffer===!1&&d){const X=j.stencilBuffer?r.DEPTH_STENCIL_ATTACHMENT:r.DEPTH_ATTACHMENT;r.invalidateFramebuffer(r.DRAW_FRAMEBUFFER,[X])}}}function Zt(j){return Math.min(i.maxSamples,j.samples)}function Xt(j){const X=n.get(j);return j.samples>0&&t.has("WEBGL_multisampled_render_to_texture")===!0&&X.__useRenderToTexture!==!1}function jt(j){const X=l.render.frame;g.get(j)!==X&&(g.set(j,X),j.update())}function de(j,X){const pt=j.colorSpace,wt=j.format,Nt=j.type;return j.isCompressedTexture===!0||j.isVideoTexture===!0||pt!==mf&&pt!==Fu&&(Ln.getTransfer(pt)===ai?(wt!==_s||Nt!==bo)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",pt)),X}function Ne(j){return typeof HTMLImageElement<"u"&&j instanceof HTMLImageElement?(p.width=j.naturalWidth||j.width,p.height=j.naturalHeight||j.height):typeof VideoFrame<"u"&&j instanceof VideoFrame?(p.width=j.displayWidth,p.height=j.displayHeight):(p.width=j.width,p.height=j.height),p}this.allocateTextureUnit=et,this.resetTextureUnits=Q,this.setTexture2D=ut,this.setTexture2DArray=G,this.setTexture3D=q,this.setTextureCube=K,this.rebindTextures=_e,this.setupRenderTarget=Z,this.updateRenderTargetMipmap=Ut,this.updateMultisampleRenderTarget=tt,this.setupDepthRenderbuffer=Pe,this.setupFrameBufferTexture=Yt,this.useMultisampledRTT=Xt}function WB(r,t){function e(n,i=Fu){let s;const l=Ln.getTransfer(i);if(n===bo)return r.UNSIGNED_BYTE;if(n===HA)return r.UNSIGNED_SHORT_4_4_4_4;if(n===GA)return r.UNSIGNED_SHORT_5_5_5_1;if(n===VE)return r.UNSIGNED_INT_5_9_9_9_REV;if(n===HE)return r.BYTE;if(n===GE)return r.SHORT;if(n===dm)return r.UNSIGNED_SHORT;if(n===zA)return r.INT;if(n===Wu)return r.UNSIGNED_INT;if(n===dr)return r.FLOAT;if(n===Im)return r.HALF_FLOAT;if(n===XE)return r.ALPHA;if(n===kE)return r.RGB;if(n===_s)return r.RGBA;if(n===mm)return r.DEPTH_COMPONENT;if(n===gm)return r.DEPTH_STENCIL;if(n===VA)return r.RED;if(n===S_)return r.RED_INTEGER;if(n===YE)return r.RG;if(n===XA)return r.RG_INTEGER;if(n===kA)return r.RGBA_INTEGER;if(n===U0||n===N0||n===L0||n===I0)if(l===ai)if(s=t.get("WEBGL_compressed_texture_s3tc_srgb"),s!==null){if(n===U0)return s.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(n===N0)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(n===L0)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(n===I0)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(s=t.get("WEBGL_compressed_texture_s3tc"),s!==null){if(n===U0)return s.COMPRESSED_RGB_S3TC_DXT1_EXT;if(n===N0)return s.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(n===L0)return s.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(n===I0)return s.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(n===Vx||n===Xx||n===kx||n===Yx)if(s=t.get("WEBGL_compressed_texture_pvrtc"),s!==null){if(n===Vx)return s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(n===Xx)return s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(n===kx)return s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(n===Yx)return s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(n===qx||n===Jx||n===Kx)if(s=t.get("WEBGL_compressed_texture_etc"),s!==null){if(n===qx||n===Jx)return l===ai?s.COMPRESSED_SRGB8_ETC2:s.COMPRESSED_RGB8_ETC2;if(n===Kx)return l===ai?s.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:s.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(n===Wx||n===jx||n===Qx||n===Zx||n===$x||n===tA||n===eA||n===nA||n===iA||n===aA||n===sA||n===rA||n===oA||n===lA)if(s=t.get("WEBGL_compressed_texture_astc"),s!==null){if(n===Wx)return l===ai?s.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:s.COMPRESSED_RGBA_ASTC_4x4_KHR;if(n===jx)return l===ai?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:s.COMPRESSED_RGBA_ASTC_5x4_KHR;if(n===Qx)return l===ai?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:s.COMPRESSED_RGBA_ASTC_5x5_KHR;if(n===Zx)return l===ai?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:s.COMPRESSED_RGBA_ASTC_6x5_KHR;if(n===$x)return l===ai?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:s.COMPRESSED_RGBA_ASTC_6x6_KHR;if(n===tA)return l===ai?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:s.COMPRESSED_RGBA_ASTC_8x5_KHR;if(n===eA)return l===ai?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:s.COMPRESSED_RGBA_ASTC_8x6_KHR;if(n===nA)return l===ai?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:s.COMPRESSED_RGBA_ASTC_8x8_KHR;if(n===iA)return l===ai?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:s.COMPRESSED_RGBA_ASTC_10x5_KHR;if(n===aA)return l===ai?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:s.COMPRESSED_RGBA_ASTC_10x6_KHR;if(n===sA)return l===ai?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:s.COMPRESSED_RGBA_ASTC_10x8_KHR;if(n===rA)return l===ai?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:s.COMPRESSED_RGBA_ASTC_10x10_KHR;if(n===oA)return l===ai?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:s.COMPRESSED_RGBA_ASTC_12x10_KHR;if(n===lA)return l===ai?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:s.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(n===P0||n===uA||n===cA)if(s=t.get("EXT_texture_compression_bptc"),s!==null){if(n===P0)return l===ai?s.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:s.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(n===uA)return s.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(n===cA)return s.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(n===qE||n===fA||n===hA||n===dA)if(s=t.get("EXT_texture_compression_rgtc"),s!==null){if(n===P0)return s.COMPRESSED_RED_RGTC1_EXT;if(n===fA)return s.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(n===hA)return s.COMPRESSED_RED_GREEN_RGTC2_EXT;if(n===dA)return s.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return n===pm?r.UNSIGNED_INT_24_8:r[n]!==void 0?r[n]:null}return{convert:e}}class jB extends wi{constructor(t=null){super(),this.sourceTexture=t,this.isExternalTexture=!0}}const $H=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,tG=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class eG{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(t,e){if(this.texture===null){const n=new jB(t.texture);(t.depthNear!==e.depthNear||t.depthFar!==e.depthFar)&&(this.depthNear=t.depthNear,this.depthFar=t.depthFar),this.texture=n}}getMesh(t){if(this.texture!==null&&this.mesh===null){const e=t.cameras[0].viewport,n=new sl({vertexShader:$H,fragmentShader:tG,uniforms:{depthColor:{value:this.texture},depthWidth:{value:e.z},depthHeight:{value:e.w}}});this.mesh=new ta(new Fm(20,20),n)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class nG extends nu{constructor(t,e){super();const n=this;let i=null,s=1,l=null,u="local-floor",d=1,p=null,g=null,_=null,y=null,x=null,M=null;const T=new eG,E={},b=e.getContextAttributes();let w=null,D=null;const B=[],L=[],P=new Ht;let H=null;const F=new Xi;F.viewport=new Gn;const O=new Xi;O.viewport=new Gn;const U=[F,O],V=new FB;let Q=null,et=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(ft){let Mt=B[ft];return Mt===void 0&&(Mt=new xx,B[ft]=Mt),Mt.getTargetRaySpace()},this.getControllerGrip=function(ft){let Mt=B[ft];return Mt===void 0&&(Mt=new xx,B[ft]=Mt),Mt.getGripSpace()},this.getHand=function(ft){let Mt=B[ft];return Mt===void 0&&(Mt=new xx,B[ft]=Mt),Mt.getHandSpace()};function rt(ft){const Mt=L.indexOf(ft.inputSource);if(Mt===-1)return;const Lt=B[Mt];Lt!==void 0&&(Lt.update(ft.inputSource,ft.frame,p||l),Lt.dispatchEvent({type:ft.type,data:ft.inputSource}))}function ut(){i.removeEventListener("select",rt),i.removeEventListener("selectstart",rt),i.removeEventListener("selectend",rt),i.removeEventListener("squeeze",rt),i.removeEventListener("squeezestart",rt),i.removeEventListener("squeezeend",rt),i.removeEventListener("end",ut),i.removeEventListener("inputsourceschange",G);for(let ft=0;ft<B.length;ft++){const Mt=L[ft];Mt!==null&&(L[ft]=null,B[ft].disconnect(Mt))}Q=null,et=null,T.reset();for(const ft in E)delete E[ft];t.setRenderTarget(w),x=null,y=null,_=null,i=null,D=null,St.stop(),n.isPresenting=!1,t.setPixelRatio(H),t.setSize(P.width,P.height,!1),n.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(ft){s=ft,n.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(ft){u=ft,n.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return p||l},this.setReferenceSpace=function(ft){p=ft},this.getBaseLayer=function(){return y!==null?y:x},this.getBinding=function(){return _},this.getFrame=function(){return M},this.getSession=function(){return i},this.setSession=async function(ft){if(i=ft,i!==null){if(w=t.getRenderTarget(),i.addEventListener("select",rt),i.addEventListener("selectstart",rt),i.addEventListener("selectend",rt),i.addEventListener("squeeze",rt),i.addEventListener("squeezestart",rt),i.addEventListener("squeezeend",rt),i.addEventListener("end",ut),i.addEventListener("inputsourceschange",G),b.xrCompatible!==!0&&await e.makeXRCompatible(),H=t.getPixelRatio(),t.getSize(P),typeof XRWebGLBinding<"u"&&(_=new XRWebGLBinding(i,e)),_!==null&&"createProjectionLayer"in XRWebGLBinding.prototype){let Lt=null,Yt=null,$t=null;b.depth&&($t=b.stencil?e.DEPTH24_STENCIL8:e.DEPTH_COMPONENT24,Lt=b.stencil?gm:mm,Yt=b.stencil?pm:Wu);const Me={colorFormat:e.RGBA8,depthFormat:$t,scaleFactor:s};y=_.createProjectionLayer(Me),i.updateRenderState({layers:[y]}),t.setPixelRatio(1),t.setSize(y.textureWidth,y.textureHeight,!1),D=new tu(y.textureWidth,y.textureHeight,{format:_s,type:bo,depthTexture:new r1(y.textureWidth,y.textureHeight,Yt,void 0,void 0,void 0,void 0,void 0,void 0,Lt),stencilBuffer:b.stencil,colorSpace:t.outputColorSpace,samples:b.antialias?4:0,resolveDepthBuffer:y.ignoreDepthValues===!1,resolveStencilBuffer:y.ignoreDepthValues===!1})}else{const Lt={antialias:b.antialias,alpha:!0,depth:b.depth,stencil:b.stencil,framebufferScaleFactor:s};x=new XRWebGLLayer(i,e,Lt),i.updateRenderState({baseLayer:x}),t.setPixelRatio(1),t.setSize(x.framebufferWidth,x.framebufferHeight,!1),D=new tu(x.framebufferWidth,x.framebufferHeight,{format:_s,type:bo,colorSpace:t.outputColorSpace,stencilBuffer:b.stencil,resolveDepthBuffer:x.ignoreDepthValues===!1,resolveStencilBuffer:x.ignoreDepthValues===!1})}D.isXRRenderTarget=!0,this.setFoveation(d),p=null,l=await i.requestReferenceSpace(u),St.setContext(i),St.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode},this.getDepthTexture=function(){return T.getDepthTexture()};function G(ft){for(let Mt=0;Mt<ft.removed.length;Mt++){const Lt=ft.removed[Mt],Yt=L.indexOf(Lt);Yt>=0&&(L[Yt]=null,B[Yt].disconnect(Lt))}for(let Mt=0;Mt<ft.added.length;Mt++){const Lt=ft.added[Mt];let Yt=L.indexOf(Lt);if(Yt===-1){for(let Me=0;Me<B.length;Me++)if(Me>=L.length){L.push(Lt),Yt=Me;break}else if(L[Me]===null){L[Me]=Lt,Yt=Me;break}if(Yt===-1)break}const $t=B[Yt];$t&&$t.connect(Lt)}}const q=new W,K=new W;function lt(ft,Mt,Lt){q.setFromMatrixPosition(Mt.matrixWorld),K.setFromMatrixPosition(Lt.matrixWorld);const Yt=q.distanceTo(K),$t=Mt.projectionMatrix.elements,Me=Lt.projectionMatrix.elements,Pe=$t[14]/($t[10]-1),_e=$t[14]/($t[10]+1),Z=($t[9]+1)/$t[5],Ut=($t[9]-1)/$t[5],Ot=($t[8]-1)/$t[0],Gt=(Me[8]+1)/Me[0],tt=Pe*Ot,Zt=Pe*Gt,Xt=Yt/(-Ot+Gt),jt=Xt*-Ot;if(Mt.matrixWorld.decompose(ft.position,ft.quaternion,ft.scale),ft.translateX(jt),ft.translateZ(Xt),ft.matrixWorld.compose(ft.position,ft.quaternion,ft.scale),ft.matrixWorldInverse.copy(ft.matrixWorld).invert(),$t[10]===-1)ft.projectionMatrix.copy(Mt.projectionMatrix),ft.projectionMatrixInverse.copy(Mt.projectionMatrixInverse);else{const de=Pe+Xt,Ne=_e+Xt,j=tt-jt,X=Zt+(Yt-jt),pt=Z*_e/Ne*de,wt=Ut*_e/Ne*de;ft.projectionMatrix.makePerspective(j,X,pt,wt,de,Ne),ft.projectionMatrixInverse.copy(ft.projectionMatrix).invert()}}function I(ft,Mt){Mt===null?ft.matrixWorld.copy(ft.matrix):ft.matrixWorld.multiplyMatrices(Mt.matrixWorld,ft.matrix),ft.matrixWorldInverse.copy(ft.matrixWorld).invert()}this.updateCamera=function(ft){if(i===null)return;let Mt=ft.near,Lt=ft.far;T.texture!==null&&(T.depthNear>0&&(Mt=T.depthNear),T.depthFar>0&&(Lt=T.depthFar)),V.near=O.near=F.near=Mt,V.far=O.far=F.far=Lt,(Q!==V.near||et!==V.far)&&(i.updateRenderState({depthNear:V.near,depthFar:V.far}),Q=V.near,et=V.far),V.layers.mask=ft.layers.mask|6,F.layers.mask=V.layers.mask&3,O.layers.mask=V.layers.mask&5;const Yt=ft.parent,$t=V.cameras;I(V,Yt);for(let Me=0;Me<$t.length;Me++)I($t[Me],Yt);$t.length===2?lt(V,F,O):V.projectionMatrix.copy(F.projectionMatrix),nt(ft,V,Yt)};function nt(ft,Mt,Lt){Lt===null?ft.matrix.copy(Mt.matrixWorld):(ft.matrix.copy(Lt.matrixWorld),ft.matrix.invert(),ft.matrix.multiply(Mt.matrixWorld)),ft.matrix.decompose(ft.position,ft.quaternion,ft.scale),ft.updateMatrixWorld(!0),ft.projectionMatrix.copy(Mt.projectionMatrix),ft.projectionMatrixInverse.copy(Mt.projectionMatrixInverse),ft.isPerspectiveCamera&&(ft.fov=xm*2*Math.atan(1/ft.projectionMatrix.elements[5]),ft.zoom=1)}this.getCamera=function(){return V},this.getFoveation=function(){if(!(y===null&&x===null))return d},this.setFoveation=function(ft){d=ft,y!==null&&(y.fixedFoveation=ft),x!==null&&x.fixedFoveation!==void 0&&(x.fixedFoveation=ft)},this.hasDepthSensing=function(){return T.texture!==null},this.getDepthSensingMesh=function(){return T.getMesh(V)},this.getCameraTexture=function(ft){return E[ft]};let gt=null;function bt(ft,Mt){if(g=Mt.getViewerPose(p||l),M=Mt,g!==null){const Lt=g.views;x!==null&&(t.setRenderTargetFramebuffer(D,x.framebuffer),t.setRenderTarget(D));let Yt=!1;Lt.length!==V.cameras.length&&(V.cameras.length=0,Yt=!0);for(let _e=0;_e<Lt.length;_e++){const Z=Lt[_e];let Ut=null;if(x!==null)Ut=x.getViewport(Z);else{const Gt=_.getViewSubImage(y,Z);Ut=Gt.viewport,_e===0&&(t.setRenderTargetTextures(D,Gt.colorTexture,Gt.depthStencilTexture),t.setRenderTarget(D))}let Ot=U[_e];Ot===void 0&&(Ot=new Xi,Ot.layers.enable(_e),Ot.viewport=new Gn,U[_e]=Ot),Ot.matrix.fromArray(Z.transform.matrix),Ot.matrix.decompose(Ot.position,Ot.quaternion,Ot.scale),Ot.projectionMatrix.fromArray(Z.projectionMatrix),Ot.projectionMatrixInverse.copy(Ot.projectionMatrix).invert(),Ot.viewport.set(Ut.x,Ut.y,Ut.width,Ut.height),_e===0&&(V.matrix.copy(Ot.matrix),V.matrix.decompose(V.position,V.quaternion,V.scale)),Yt===!0&&V.cameras.push(Ot)}const $t=i.enabledFeatures;if($t&&$t.includes("depth-sensing")&&i.depthUsage=="gpu-optimized"&&_){const _e=_.getDepthInformation(Lt[0]);_e&&_e.isValid&&_e.texture&&T.init(_e,i.renderState)}if($t&&$t.includes("camera-access")&&(t.state.unbindTexture(),_))for(let _e=0;_e<Lt.length;_e++){const Z=Lt[_e].camera;if(Z){let Ut=E[Z];Ut||(Ut=new jB,E[Z]=Ut);const Ot=_.getCameraImage(Z);Ut.sourceTexture=Ot}}}for(let Lt=0;Lt<B.length;Lt++){const Yt=L[Lt],$t=B[Lt];Yt!==null&&$t!==void 0&&$t.update(Yt,Mt,p||l)}gt&&gt(ft,Mt),Mt.detectedPlanes&&n.dispatchEvent({type:"planesdetected",data:Mt}),M=null}const St=new kB;St.setAnimationLoop(bt),this.setAnimationLoop=function(ft){gt=ft},this.dispose=function(){}}}const Rh=new Yr,iG=new Ye;function aG(r,t){function e(E,b){E.matrixAutoUpdate===!0&&E.updateMatrix(),b.value.copy(E.matrix)}function n(E,b){b.color.getRGB(E.fogColor.value,jw(r)),b.isFog?(E.fogNear.value=b.near,E.fogFar.value=b.far):b.isFogExp2&&(E.fogDensity.value=b.density)}function i(E,b,w,D,B){b.isMeshBasicMaterial||b.isMeshLambertMaterial?s(E,b):b.isMeshToonMaterial?(s(E,b),_(E,b)):b.isMeshPhongMaterial?(s(E,b),g(E,b)):b.isMeshStandardMaterial?(s(E,b),y(E,b),b.isMeshPhysicalMaterial&&x(E,b,B)):b.isMeshMatcapMaterial?(s(E,b),M(E,b)):b.isMeshDepthMaterial?s(E,b):b.isMeshDistanceMaterial?(s(E,b),T(E,b)):b.isMeshNormalMaterial?s(E,b):b.isLineBasicMaterial?(l(E,b),b.isLineDashedMaterial&&u(E,b)):b.isPointsMaterial?d(E,b,w,D):b.isSpriteMaterial?p(E,b):b.isShadowMaterial?(E.color.value.copy(b.color),E.opacity.value=b.opacity):b.isShaderMaterial&&(b.uniformsNeedUpdate=!1)}function s(E,b){E.opacity.value=b.opacity,b.color&&E.diffuse.value.copy(b.color),b.emissive&&E.emissive.value.copy(b.emissive).multiplyScalar(b.emissiveIntensity),b.map&&(E.map.value=b.map,e(b.map,E.mapTransform)),b.alphaMap&&(E.alphaMap.value=b.alphaMap,e(b.alphaMap,E.alphaMapTransform)),b.bumpMap&&(E.bumpMap.value=b.bumpMap,e(b.bumpMap,E.bumpMapTransform),E.bumpScale.value=b.bumpScale,b.side===Ks&&(E.bumpScale.value*=-1)),b.normalMap&&(E.normalMap.value=b.normalMap,e(b.normalMap,E.normalMapTransform),E.normalScale.value.copy(b.normalScale),b.side===Ks&&E.normalScale.value.negate()),b.displacementMap&&(E.displacementMap.value=b.displacementMap,e(b.displacementMap,E.displacementMapTransform),E.displacementScale.value=b.displacementScale,E.displacementBias.value=b.displacementBias),b.emissiveMap&&(E.emissiveMap.value=b.emissiveMap,e(b.emissiveMap,E.emissiveMapTransform)),b.specularMap&&(E.specularMap.value=b.specularMap,e(b.specularMap,E.specularMapTransform)),b.alphaTest>0&&(E.alphaTest.value=b.alphaTest);const w=t.get(b),D=w.envMap,B=w.envMapRotation;D&&(E.envMap.value=D,Rh.copy(B),Rh.x*=-1,Rh.y*=-1,Rh.z*=-1,D.isCubeTexture&&D.isRenderTargetTexture===!1&&(Rh.y*=-1,Rh.z*=-1),E.envMapRotation.value.setFromMatrix4(iG.makeRotationFromEuler(Rh)),E.flipEnvMap.value=D.isCubeTexture&&D.isRenderTargetTexture===!1?-1:1,E.reflectivity.value=b.reflectivity,E.ior.value=b.ior,E.refractionRatio.value=b.refractionRatio),b.lightMap&&(E.lightMap.value=b.lightMap,E.lightMapIntensity.value=b.lightMapIntensity,e(b.lightMap,E.lightMapTransform)),b.aoMap&&(E.aoMap.value=b.aoMap,E.aoMapIntensity.value=b.aoMapIntensity,e(b.aoMap,E.aoMapTransform))}function l(E,b){E.diffuse.value.copy(b.color),E.opacity.value=b.opacity,b.map&&(E.map.value=b.map,e(b.map,E.mapTransform))}function u(E,b){E.dashSize.value=b.dashSize,E.totalSize.value=b.dashSize+b.gapSize,E.scale.value=b.scale}function d(E,b,w,D){E.diffuse.value.copy(b.color),E.opacity.value=b.opacity,E.size.value=b.size*w,E.scale.value=D*.5,b.map&&(E.map.value=b.map,e(b.map,E.uvTransform)),b.alphaMap&&(E.alphaMap.value=b.alphaMap,e(b.alphaMap,E.alphaMapTransform)),b.alphaTest>0&&(E.alphaTest.value=b.alphaTest)}function p(E,b){E.diffuse.value.copy(b.color),E.opacity.value=b.opacity,E.rotation.value=b.rotation,b.map&&(E.map.value=b.map,e(b.map,E.mapTransform)),b.alphaMap&&(E.alphaMap.value=b.alphaMap,e(b.alphaMap,E.alphaMapTransform)),b.alphaTest>0&&(E.alphaTest.value=b.alphaTest)}function g(E,b){E.specular.value.copy(b.specular),E.shininess.value=Math.max(b.shininess,1e-4)}function _(E,b){b.gradientMap&&(E.gradientMap.value=b.gradientMap)}function y(E,b){E.metalness.value=b.metalness,b.metalnessMap&&(E.metalnessMap.value=b.metalnessMap,e(b.metalnessMap,E.metalnessMapTransform)),E.roughness.value=b.roughness,b.roughnessMap&&(E.roughnessMap.value=b.roughnessMap,e(b.roughnessMap,E.roughnessMapTransform)),b.envMap&&(E.envMapIntensity.value=b.envMapIntensity)}function x(E,b,w){E.ior.value=b.ior,b.sheen>0&&(E.sheenColor.value.copy(b.sheenColor).multiplyScalar(b.sheen),E.sheenRoughness.value=b.sheenRoughness,b.sheenColorMap&&(E.sheenColorMap.value=b.sheenColorMap,e(b.sheenColorMap,E.sheenColorMapTransform)),b.sheenRoughnessMap&&(E.sheenRoughnessMap.value=b.sheenRoughnessMap,e(b.sheenRoughnessMap,E.sheenRoughnessMapTransform))),b.clearcoat>0&&(E.clearcoat.value=b.clearcoat,E.clearcoatRoughness.value=b.clearcoatRoughness,b.clearcoatMap&&(E.clearcoatMap.value=b.clearcoatMap,e(b.clearcoatMap,E.clearcoatMapTransform)),b.clearcoatRoughnessMap&&(E.clearcoatRoughnessMap.value=b.clearcoatRoughnessMap,e(b.clearcoatRoughnessMap,E.clearcoatRoughnessMapTransform)),b.clearcoatNormalMap&&(E.clearcoatNormalMap.value=b.clearcoatNormalMap,e(b.clearcoatNormalMap,E.clearcoatNormalMapTransform),E.clearcoatNormalScale.value.copy(b.clearcoatNormalScale),b.side===Ks&&E.clearcoatNormalScale.value.negate())),b.dispersion>0&&(E.dispersion.value=b.dispersion),b.iridescence>0&&(E.iridescence.value=b.iridescence,E.iridescenceIOR.value=b.iridescenceIOR,E.iridescenceThicknessMinimum.value=b.iridescenceThicknessRange[0],E.iridescenceThicknessMaximum.value=b.iridescenceThicknessRange[1],b.iridescenceMap&&(E.iridescenceMap.value=b.iridescenceMap,e(b.iridescenceMap,E.iridescenceMapTransform)),b.iridescenceThicknessMap&&(E.iridescenceThicknessMap.value=b.iridescenceThicknessMap,e(b.iridescenceThicknessMap,E.iridescenceThicknessMapTransform))),b.transmission>0&&(E.transmission.value=b.transmission,E.transmissionSamplerMap.value=w.texture,E.transmissionSamplerSize.value.set(w.width,w.height),b.transmissionMap&&(E.transmissionMap.value=b.transmissionMap,e(b.transmissionMap,E.transmissionMapTransform)),E.thickness.value=b.thickness,b.thicknessMap&&(E.thicknessMap.value=b.thicknessMap,e(b.thicknessMap,E.thicknessMapTransform)),E.attenuationDistance.value=b.attenuationDistance,E.attenuationColor.value.copy(b.attenuationColor)),b.anisotropy>0&&(E.anisotropyVector.value.set(b.anisotropy*Math.cos(b.anisotropyRotation),b.anisotropy*Math.sin(b.anisotropyRotation)),b.anisotropyMap&&(E.anisotropyMap.value=b.anisotropyMap,e(b.anisotropyMap,E.anisotropyMapTransform))),E.specularIntensity.value=b.specularIntensity,E.specularColor.value.copy(b.specularColor),b.specularColorMap&&(E.specularColorMap.value=b.specularColorMap,e(b.specularColorMap,E.specularColorMapTransform)),b.specularIntensityMap&&(E.specularIntensityMap.value=b.specularIntensityMap,e(b.specularIntensityMap,E.specularIntensityMapTransform))}function M(E,b){b.matcap&&(E.matcap.value=b.matcap)}function T(E,b){const w=t.get(b).light;E.referencePosition.value.setFromMatrixPosition(w.matrixWorld),E.nearDistance.value=w.shadow.camera.near,E.farDistance.value=w.shadow.camera.far}return{refreshFogUniforms:n,refreshMaterialUniforms:i}}function sG(r,t,e,n){let i={},s={},l=[];const u=r.getParameter(r.MAX_UNIFORM_BUFFER_BINDINGS);function d(w,D){const B=D.program;n.uniformBlockBinding(w,B)}function p(w,D){let B=i[w.id];B===void 0&&(M(w),B=g(w),i[w.id]=B,w.addEventListener("dispose",E));const L=D.program;n.updateUBOMapping(w,L);const P=t.render.frame;s[w.id]!==P&&(y(w),s[w.id]=P)}function g(w){const D=_();w.__bindingPointIndex=D;const B=r.createBuffer(),L=w.__size,P=w.usage;return r.bindBuffer(r.UNIFORM_BUFFER,B),r.bufferData(r.UNIFORM_BUFFER,L,P),r.bindBuffer(r.UNIFORM_BUFFER,null),r.bindBufferBase(r.UNIFORM_BUFFER,D,B),B}function _(){for(let w=0;w<u;w++)if(l.indexOf(w)===-1)return l.push(w),w;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function y(w){const D=i[w.id],B=w.uniforms,L=w.__cache;r.bindBuffer(r.UNIFORM_BUFFER,D);for(let P=0,H=B.length;P<H;P++){const F=Array.isArray(B[P])?B[P]:[B[P]];for(let O=0,U=F.length;O<U;O++){const V=F[O];if(x(V,P,O,L)===!0){const Q=V.__offset,et=Array.isArray(V.value)?V.value:[V.value];let rt=0;for(let ut=0;ut<et.length;ut++){const G=et[ut],q=T(G);typeof G=="number"||typeof G=="boolean"?(V.__data[0]=G,r.bufferSubData(r.UNIFORM_BUFFER,Q+rt,V.__data)):G.isMatrix3?(V.__data[0]=G.elements[0],V.__data[1]=G.elements[1],V.__data[2]=G.elements[2],V.__data[3]=0,V.__data[4]=G.elements[3],V.__data[5]=G.elements[4],V.__data[6]=G.elements[5],V.__data[7]=0,V.__data[8]=G.elements[6],V.__data[9]=G.elements[7],V.__data[10]=G.elements[8],V.__data[11]=0):(G.toArray(V.__data,rt),rt+=q.storage/Float32Array.BYTES_PER_ELEMENT)}r.bufferSubData(r.UNIFORM_BUFFER,Q,V.__data)}}}r.bindBuffer(r.UNIFORM_BUFFER,null)}function x(w,D,B,L){const P=w.value,H=D+"_"+B;if(L[H]===void 0)return typeof P=="number"||typeof P=="boolean"?L[H]=P:L[H]=P.clone(),!0;{const F=L[H];if(typeof P=="number"||typeof P=="boolean"){if(F!==P)return L[H]=P,!0}else if(F.equals(P)===!1)return F.copy(P),!0}return!1}function M(w){const D=w.uniforms;let B=0;const L=16;for(let H=0,F=D.length;H<F;H++){const O=Array.isArray(D[H])?D[H]:[D[H]];for(let U=0,V=O.length;U<V;U++){const Q=O[U],et=Array.isArray(Q.value)?Q.value:[Q.value];for(let rt=0,ut=et.length;rt<ut;rt++){const G=et[rt],q=T(G),K=B%L,lt=K%q.boundary,I=K+lt;B+=lt,I!==0&&L-I<q.storage&&(B+=L-I),Q.__data=new Float32Array(q.storage/Float32Array.BYTES_PER_ELEMENT),Q.__offset=B,B+=q.storage}}}const P=B%L;return P>0&&(B+=L-P),w.__size=B,w.__cache={},this}function T(w){const D={boundary:0,storage:0};return typeof w=="number"||typeof w=="boolean"?(D.boundary=4,D.storage=4):w.isVector2?(D.boundary=8,D.storage=8):w.isVector3||w.isColor?(D.boundary=16,D.storage=12):w.isVector4?(D.boundary=16,D.storage=16):w.isMatrix3?(D.boundary=48,D.storage=48):w.isMatrix4?(D.boundary=64,D.storage=64):w.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",w),D}function E(w){const D=w.target;D.removeEventListener("dispose",E);const B=l.indexOf(D.__bindingPointIndex);l.splice(B,1),r.deleteBuffer(i[D.id]),delete i[D.id],delete s[D.id]}function b(){for(const w in i)r.deleteBuffer(i[w]);l=[],i={},s={}}return{bind:d,update:p,dispose:b}}class QB{constructor(t={}){const{canvas:e=Jw(),context:n=null,depth:i=!0,stencil:s=!1,alpha:l=!1,antialias:u=!1,premultipliedAlpha:d=!0,preserveDrawingBuffer:p=!1,powerPreference:g="default",failIfMajorPerformanceCaveat:_=!1,reversedDepthBuffer:y=!1}=t;this.isWebGLRenderer=!0;let x;if(n!==null){if(typeof WebGLRenderingContext<"u"&&n instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");x=n.getContextAttributes().alpha}else x=l;const M=new Uint32Array(4),T=new Int32Array(4);let E=null,b=null;const w=[],D=[];this.domElement=e,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=jl,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const B=this;let L=!1;this._outputColorSpace=ps;let P=0,H=0,F=null,O=-1,U=null;const V=new Gn,Q=new Gn;let et=null;const rt=new pe(0);let ut=0,G=e.width,q=e.height,K=1,lt=null,I=null;const nt=new Gn(0,0,G,q),gt=new Gn(0,0,G,q);let bt=!1;const St=new Pm;let ft=!1,Mt=!1;const Lt=new Ye,Yt=new W,$t=new Gn,Me={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let Pe=!1;function _e(){return F===null?K:1}let Z=n;function Ut(k,ot){return e.getContext(k,ot)}try{const k={alpha:!0,depth:i,stencil:s,antialias:u,premultipliedAlpha:d,preserveDrawingBuffer:p,powerPreference:g,failIfMajorPerformanceCaveat:_};if("setAttribute"in e&&e.setAttribute("data-engine",`three.js r${x_}`),e.addEventListener("webglcontextlost",Wt,!1),e.addEventListener("webglcontextrestored",se,!1),e.addEventListener("webglcontextcreationerror",Kt,!1),Z===null){const ot="webgl2";if(Z=Ut(ot,k),Z===null)throw Ut(ot)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(k){throw console.error("THREE.WebGLRenderer: "+k.message),k}let Ot,Gt,tt,Zt,Xt,jt,de,Ne,j,X,pt,wt,Nt,Ct,re,te,ve,le,qt,ee,Ae,it,vt,Qt;function $(){Ot=new _z(Z),Ot.init(),it=new WB(Z,Ot),Gt=new cz(Z,Ot,t,it),tt=new QH(Z,Ot),Gt.reversedDepthBuffer&&y&&tt.buffers.depth.setReversed(!0),Zt=new xz(Z),Xt=new FH,jt=new ZH(Z,Ot,tt,Xt,Gt,it,Zt),de=new hz(B),Ne=new gz(B),j=new TI(Z),vt=new lz(Z,j),X=new vz(Z,j,Zt,vt),pt=new Sz(Z,X,j,Zt),qt=new Az(Z,Gt,jt),te=new fz(Xt),wt=new PH(B,de,Ne,Ot,Gt,vt,te),Nt=new aG(B,Xt),Ct=new HH,re=new qH(Ot),le=new oz(B,de,Ne,tt,pt,x,d),ve=new WH(B,pt,Gt),Qt=new sG(Z,Zt,Gt,tt),ee=new uz(Z,Ot,Zt),Ae=new yz(Z,Ot,Zt),Zt.programs=wt.programs,B.capabilities=Gt,B.extensions=Ot,B.properties=Xt,B.renderLists=Ct,B.shadowMap=ve,B.state=tt,B.info=Zt}$();const zt=new nG(B,Z);this.xr=zt,this.getContext=function(){return Z},this.getContextAttributes=function(){return Z.getContextAttributes()},this.forceContextLoss=function(){const k=Ot.get("WEBGL_lose_context");k&&k.loseContext()},this.forceContextRestore=function(){const k=Ot.get("WEBGL_lose_context");k&&k.restoreContext()},this.getPixelRatio=function(){return K},this.setPixelRatio=function(k){k!==void 0&&(K=k,this.setSize(G,q,!1))},this.getSize=function(k){return k.set(G,q)},this.setSize=function(k,ot,yt=!0){if(zt.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}G=k,q=ot,e.width=Math.floor(k*K),e.height=Math.floor(ot*K),yt===!0&&(e.style.width=k+"px",e.style.height=ot+"px"),this.setViewport(0,0,k,ot)},this.getDrawingBufferSize=function(k){return k.set(G*K,q*K).floor()},this.setDrawingBufferSize=function(k,ot,yt){G=k,q=ot,K=yt,e.width=Math.floor(k*yt),e.height=Math.floor(ot*yt),this.setViewport(0,0,k,ot)},this.getCurrentViewport=function(k){return k.copy(V)},this.getViewport=function(k){return k.copy(nt)},this.setViewport=function(k,ot,yt,Tt){k.isVector4?nt.set(k.x,k.y,k.z,k.w):nt.set(k,ot,yt,Tt),tt.viewport(V.copy(nt).multiplyScalar(K).round())},this.getScissor=function(k){return k.copy(gt)},this.setScissor=function(k,ot,yt,Tt){k.isVector4?gt.set(k.x,k.y,k.z,k.w):gt.set(k,ot,yt,Tt),tt.scissor(Q.copy(gt).multiplyScalar(K).round())},this.getScissorTest=function(){return bt},this.setScissorTest=function(k){tt.setScissorTest(bt=k)},this.setOpaqueSort=function(k){lt=k},this.setTransparentSort=function(k){I=k},this.getClearColor=function(k){return k.copy(le.getClearColor())},this.setClearColor=function(){le.setClearColor(...arguments)},this.getClearAlpha=function(){return le.getClearAlpha()},this.setClearAlpha=function(){le.setClearAlpha(...arguments)},this.clear=function(k=!0,ot=!0,yt=!0){let Tt=0;if(k){let dt=!1;if(F!==null){const kt=F.texture.format;dt=kt===kA||kt===XA||kt===S_}if(dt){const kt=F.texture.type,ne=kt===bo||kt===Wu||kt===dm||kt===pm||kt===HA||kt===GA,ye=le.getClearColor(),he=le.getClearAlpha(),Ue=ye.r,Be=ye.g,Ce=ye.b;ne?(M[0]=Ue,M[1]=Be,M[2]=Ce,M[3]=he,Z.clearBufferuiv(Z.COLOR,0,M)):(T[0]=Ue,T[1]=Be,T[2]=Ce,T[3]=he,Z.clearBufferiv(Z.COLOR,0,T))}else Tt|=Z.COLOR_BUFFER_BIT}ot&&(Tt|=Z.DEPTH_BUFFER_BIT),yt&&(Tt|=Z.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),Z.clear(Tt)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",Wt,!1),e.removeEventListener("webglcontextrestored",se,!1),e.removeEventListener("webglcontextcreationerror",Kt,!1),le.dispose(),Ct.dispose(),re.dispose(),Xt.dispose(),de.dispose(),Ne.dispose(),pt.dispose(),vt.dispose(),Qt.dispose(),wt.dispose(),zt.dispose(),zt.removeEventListener("sessionstart",Le),zt.removeEventListener("sessionend",ie),Te.stop()};function Wt(k){k.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),L=!0}function se(){console.log("THREE.WebGLRenderer: Context Restored."),L=!1;const k=Zt.autoReset,ot=ve.enabled,yt=ve.autoUpdate,Tt=ve.needsUpdate,dt=ve.type;$(),Zt.autoReset=k,ve.enabled=ot,ve.autoUpdate=yt,ve.needsUpdate=Tt,ve.type=dt}function Kt(k){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",k.statusMessage)}function It(k){const ot=k.target;ot.removeEventListener("dispose",It),ce(ot)}function ce(k){be(k),Xt.remove(k)}function be(k){const ot=Xt.get(k).programs;ot!==void 0&&(ot.forEach(function(yt){wt.releaseProgram(yt)}),k.isShaderMaterial&&wt.releaseShaderCache(k))}this.renderBufferDirect=function(k,ot,yt,Tt,dt,kt){ot===null&&(ot=Me);const ne=dt.isMesh&&dt.matrixWorld.determinant()<0,ye=gn(k,ot,yt,Tt,dt);tt.setMaterial(Tt,ne);let he=yt.index,Ue=1;if(Tt.wireframe===!0){if(he=X.getWireframeAttribute(yt),he===void 0)return;Ue=2}const Be=yt.drawRange,Ce=yt.attributes.position;let tn=Be.start*Ue,sn=(Be.start+Be.count)*Ue;kt!==null&&(tn=Math.max(tn,kt.start*Ue),sn=Math.min(sn,(kt.start+kt.count)*Ue)),he!==null?(tn=Math.max(tn,0),sn=Math.min(sn,he.count)):Ce!=null&&(tn=Math.max(tn,0),sn=Math.min(sn,Ce.count));const ci=sn-tn;if(ci<0||ci===1/0)return;vt.setup(dt,Tt,ye,yt,he);let Kn,rn=ee;if(he!==null&&(Kn=j.get(he),rn=Ae,rn.setIndex(Kn)),dt.isMesh)Tt.wireframe===!0?(tt.setLineWidth(Tt.wireframeLinewidth*_e()),rn.setMode(Z.LINES)):rn.setMode(Z.TRIANGLES);else if(dt.isLine){let ze=Tt.linewidth;ze===void 0&&(ze=1),tt.setLineWidth(ze*_e()),dt.isLineSegments?rn.setMode(Z.LINES):dt.isLineLoop?rn.setMode(Z.LINE_LOOP):rn.setMode(Z.LINE_STRIP)}else dt.isPoints?rn.setMode(Z.POINTS):dt.isSprite&&rn.setMode(Z.TRIANGLES);if(dt.isBatchedMesh)if(dt._multiDrawInstances!==null)im("THREE.WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),rn.renderMultiDrawInstances(dt._multiDrawStarts,dt._multiDrawCounts,dt._multiDrawCount,dt._multiDrawInstances);else if(Ot.get("WEBGL_multi_draw"))rn.renderMultiDraw(dt._multiDrawStarts,dt._multiDrawCounts,dt._multiDrawCount);else{const ze=dt._multiDrawStarts,fi=dt._multiDrawCounts,_n=dt._multiDrawCount,ha=he?j.get(he).bytesPerElement:1,Ws=Xt.get(Tt).currentProgram.getUniforms();for(let da=0;da<_n;da++)Ws.setValue(Z,"_gl_DrawID",da),rn.render(ze[da]/ha,fi[da])}else if(dt.isInstancedMesh)rn.renderInstances(tn,ci,dt.count);else if(yt.isInstancedBufferGeometry){const ze=yt._maxInstanceCount!==void 0?yt._maxInstanceCount:1/0,fi=Math.min(yt.instanceCount,ze);rn.renderInstances(tn,ci,fi)}else rn.render(tn,ci)};function $e(k,ot,yt){k.transparent===!0&&k.side===il&&k.forceSinglePass===!1?(k.side=Ks,k.needsUpdate=!0,Xn(k,ot,yt),k.side=$l,k.needsUpdate=!0,Xn(k,ot,yt),k.side=il):Xn(k,ot,yt)}this.compile=function(k,ot,yt=null){yt===null&&(yt=k),b=re.get(yt),b.init(ot),D.push(b),yt.traverseVisible(function(dt){dt.isLight&&dt.layers.test(ot.layers)&&(b.pushLight(dt),dt.castShadow&&b.pushShadow(dt))}),k!==yt&&k.traverseVisible(function(dt){dt.isLight&&dt.layers.test(ot.layers)&&(b.pushLight(dt),dt.castShadow&&b.pushShadow(dt))}),b.setupLights();const Tt=new Set;return k.traverse(function(dt){if(!(dt.isMesh||dt.isPoints||dt.isLine||dt.isSprite))return;const kt=dt.material;if(kt)if(Array.isArray(kt))for(let ne=0;ne<kt.length;ne++){const ye=kt[ne];$e(ye,yt,dt),Tt.add(ye)}else $e(kt,yt,dt),Tt.add(kt)}),b=D.pop(),Tt},this.compileAsync=function(k,ot,yt=null){const Tt=this.compile(k,ot,yt);return new Promise(dt=>{function kt(){if(Tt.forEach(function(ne){Xt.get(ne).currentProgram.isReady()&&Tt.delete(ne)}),Tt.size===0){dt(k);return}setTimeout(kt,10)}Ot.get("KHR_parallel_shader_compile")!==null?kt():setTimeout(kt,10)})};let ue=null;function Ee(k){ue&&ue(k)}function Le(){Te.stop()}function ie(){Te.start()}const Te=new kB;Te.setAnimationLoop(Ee),typeof self<"u"&&Te.setContext(self),this.setAnimationLoop=function(k){ue=k,zt.setAnimationLoop(k),k===null?Te.stop():Te.start()},zt.addEventListener("sessionstart",Le),zt.addEventListener("sessionend",ie),this.render=function(k,ot){if(ot!==void 0&&ot.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(L===!0)return;if(k.matrixWorldAutoUpdate===!0&&k.updateMatrixWorld(),ot.parent===null&&ot.matrixWorldAutoUpdate===!0&&ot.updateMatrixWorld(),zt.enabled===!0&&zt.isPresenting===!0&&(zt.cameraAutoUpdate===!0&&zt.updateCamera(ot),ot=zt.getCamera()),k.isScene===!0&&k.onBeforeRender(B,k,ot,F),b=re.get(k,D.length),b.init(ot),D.push(b),Lt.multiplyMatrices(ot.projectionMatrix,ot.matrixWorldInverse),St.setFromProjectionMatrix(Lt,Hr,ot.reversedDepth),Mt=this.localClippingEnabled,ft=te.init(this.clippingPlanes,Mt),E=Ct.get(k,w.length),E.init(),w.push(E),zt.enabled===!0&&zt.isPresenting===!0){const kt=B.xr.getDepthSensingMesh();kt!==null&&Re(kt,ot,-1/0,B.sortObjects)}Re(k,ot,0,B.sortObjects),E.finish(),B.sortObjects===!0&&E.sort(lt,I),Pe=zt.enabled===!1||zt.isPresenting===!1||zt.hasDepthSensing()===!1,Pe&&le.addToRenderList(E,k),this.info.render.frame++,ft===!0&&te.beginShadows();const yt=b.state.shadowsArray;ve.render(yt,k,ot),ft===!0&&te.endShadows(),this.info.autoReset===!0&&this.info.reset();const Tt=E.opaque,dt=E.transmissive;if(b.setupLights(),ot.isArrayCamera){const kt=ot.cameras;if(dt.length>0)for(let ne=0,ye=kt.length;ne<ye;ne++){const he=kt[ne];gi(Tt,dt,k,he)}Pe&&le.render(k);for(let ne=0,ye=kt.length;ne<ye;ne++){const he=kt[ne];Ie(E,k,he,he.viewport)}}else dt.length>0&&gi(Tt,dt,k,ot),Pe&&le.render(k),Ie(E,k,ot);F!==null&&H===0&&(jt.updateMultisampleRenderTarget(F),jt.updateRenderTargetMipmap(F)),k.isScene===!0&&k.onAfterRender(B,k,ot),vt.resetDefaultState(),O=-1,U=null,D.pop(),D.length>0?(b=D[D.length-1],ft===!0&&te.setGlobalState(B.clippingPlanes,b.state.camera)):b=null,w.pop(),w.length>0?E=w[w.length-1]:E=null};function Re(k,ot,yt,Tt){if(k.visible===!1)return;if(k.layers.test(ot.layers)){if(k.isGroup)yt=k.renderOrder;else if(k.isLOD)k.autoUpdate===!0&&k.update(ot);else if(k.isLight)b.pushLight(k),k.castShadow&&b.pushShadow(k);else if(k.isSprite){if(!k.frustumCulled||St.intersectsSprite(k)){Tt&&$t.setFromMatrixPosition(k.matrixWorld).applyMatrix4(Lt);const ne=pt.update(k),ye=k.material;ye.visible&&E.push(k,ne,ye,yt,$t.z,null)}}else if((k.isMesh||k.isLine||k.isPoints)&&(!k.frustumCulled||St.intersectsObject(k))){const ne=pt.update(k),ye=k.material;if(Tt&&(k.boundingSphere!==void 0?(k.boundingSphere===null&&k.computeBoundingSphere(),$t.copy(k.boundingSphere.center)):(ne.boundingSphere===null&&ne.computeBoundingSphere(),$t.copy(ne.boundingSphere.center)),$t.applyMatrix4(k.matrixWorld).applyMatrix4(Lt)),Array.isArray(ye)){const he=ne.groups;for(let Ue=0,Be=he.length;Ue<Be;Ue++){const Ce=he[Ue],tn=ye[Ce.materialIndex];tn&&tn.visible&&E.push(k,ne,tn,yt,$t.z,Ce)}}else ye.visible&&E.push(k,ne,ye,yt,$t.z,null)}}const kt=k.children;for(let ne=0,ye=kt.length;ne<ye;ne++)Re(kt[ne],ot,yt,Tt)}function Ie(k,ot,yt,Tt){const dt=k.opaque,kt=k.transmissive,ne=k.transparent;b.setupLightsView(yt),ft===!0&&te.setGlobalState(B.clippingPlanes,yt),Tt&&tt.viewport(V.copy(Tt)),dt.length>0&&qe(dt,ot,yt),kt.length>0&&qe(kt,ot,yt),ne.length>0&&qe(ne,ot,yt),tt.buffers.depth.setTest(!0),tt.buffers.depth.setMask(!0),tt.buffers.color.setMask(!0),tt.setPolygonOffset(!1)}function gi(k,ot,yt,Tt){if((yt.isScene===!0?yt.overrideMaterial:null)!==null)return;b.state.transmissionRenderTarget[Tt.id]===void 0&&(b.state.transmissionRenderTarget[Tt.id]=new tu(1,1,{generateMipmaps:!0,type:Ot.has("EXT_color_buffer_half_float")||Ot.has("EXT_color_buffer_float")?Im:bo,minFilter:yo,samples:4,stencilBuffer:s,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:Ln.workingColorSpace}));const kt=b.state.transmissionRenderTarget[Tt.id],ne=Tt.viewport||V;kt.setSize(ne.z*B.transmissionResolutionScale,ne.w*B.transmissionResolutionScale);const ye=B.getRenderTarget(),he=B.getActiveCubeFace(),Ue=B.getActiveMipmapLevel();B.setRenderTarget(kt),B.getClearColor(rt),ut=B.getClearAlpha(),ut<1&&B.setClearColor(16777215,.5),B.clear(),Pe&&le.render(yt);const Be=B.toneMapping;B.toneMapping=jl;const Ce=Tt.viewport;if(Tt.viewport!==void 0&&(Tt.viewport=void 0),b.setupLightsView(Tt),ft===!0&&te.setGlobalState(B.clippingPlanes,Tt),qe(k,yt,Tt),jt.updateMultisampleRenderTarget(kt),jt.updateRenderTargetMipmap(kt),Ot.has("WEBGL_multisampled_render_to_texture")===!1){let tn=!1;for(let sn=0,ci=ot.length;sn<ci;sn++){const Kn=ot[sn],rn=Kn.object,ze=Kn.geometry,fi=Kn.material,_n=Kn.group;if(fi.side===il&&rn.layers.test(Tt.layers)){const ha=fi.side;fi.side=Ks,fi.needsUpdate=!0,Tn(rn,yt,Tt,ze,fi,_n),fi.side=ha,fi.needsUpdate=!0,tn=!0}}tn===!0&&(jt.updateMultisampleRenderTarget(kt),jt.updateRenderTargetMipmap(kt))}B.setRenderTarget(ye,he,Ue),B.setClearColor(rt,ut),Ce!==void 0&&(Tt.viewport=Ce),B.toneMapping=Be}function qe(k,ot,yt){const Tt=ot.isScene===!0?ot.overrideMaterial:null;for(let dt=0,kt=k.length;dt<kt;dt++){const ne=k[dt],ye=ne.object,he=ne.geometry,Ue=ne.group;let Be=ne.material;Be.allowOverride===!0&&Tt!==null&&(Be=Tt),ye.layers.test(yt.layers)&&Tn(ye,ot,yt,he,Be,Ue)}}function Tn(k,ot,yt,Tt,dt,kt){k.onBeforeRender(B,ot,yt,Tt,dt,kt),k.modelViewMatrix.multiplyMatrices(yt.matrixWorldInverse,k.matrixWorld),k.normalMatrix.getNormalMatrix(k.modelViewMatrix),dt.onBeforeRender(B,ot,yt,Tt,k,kt),dt.transparent===!0&&dt.side===il&&dt.forceSinglePass===!1?(dt.side=Ks,dt.needsUpdate=!0,B.renderBufferDirect(yt,ot,Tt,dt,k,kt),dt.side=$l,dt.needsUpdate=!0,B.renderBufferDirect(yt,ot,Tt,dt,k,kt),dt.side=il):B.renderBufferDirect(yt,ot,Tt,dt,k,kt),k.onAfterRender(B,ot,yt,Tt,dt,kt)}function Xn(k,ot,yt){ot.isScene!==!0&&(ot=Me);const Tt=Xt.get(k),dt=b.state.lights,kt=b.state.shadowsArray,ne=dt.state.version,ye=wt.getParameters(k,dt.state,kt,ot,yt),he=wt.getProgramCacheKey(ye);let Ue=Tt.programs;Tt.environment=k.isMeshStandardMaterial?ot.environment:null,Tt.fog=ot.fog,Tt.envMap=(k.isMeshStandardMaterial?Ne:de).get(k.envMap||Tt.environment),Tt.envMapRotation=Tt.environment!==null&&k.envMap===null?ot.environmentRotation:k.envMapRotation,Ue===void 0&&(k.addEventListener("dispose",It),Ue=new Map,Tt.programs=Ue);let Be=Ue.get(he);if(Be!==void 0){if(Tt.currentProgram===Be&&Tt.lightsStateVersion===ne)return An(k,ye),Be}else ye.uniforms=wt.getUniforms(k),k.onBeforeCompile(ye,B),Be=wt.acquireProgram(ye,he),Ue.set(he,Be),Tt.uniforms=ye.uniforms;const Ce=Tt.uniforms;return(!k.isShaderMaterial&&!k.isRawShaderMaterial||k.clipping===!0)&&(Ce.clippingPlanes=te.uniform),An(k,ye),Tt.needsLights=On(k),Tt.lightsStateVersion=ne,Tt.needsLights&&(Ce.ambientLightColor.value=dt.state.ambient,Ce.lightProbe.value=dt.state.probe,Ce.directionalLights.value=dt.state.directional,Ce.directionalLightShadows.value=dt.state.directionalShadow,Ce.spotLights.value=dt.state.spot,Ce.spotLightShadows.value=dt.state.spotShadow,Ce.rectAreaLights.value=dt.state.rectArea,Ce.ltc_1.value=dt.state.rectAreaLTC1,Ce.ltc_2.value=dt.state.rectAreaLTC2,Ce.pointLights.value=dt.state.point,Ce.pointLightShadows.value=dt.state.pointShadow,Ce.hemisphereLights.value=dt.state.hemi,Ce.directionalShadowMap.value=dt.state.directionalShadowMap,Ce.directionalShadowMatrix.value=dt.state.directionalShadowMatrix,Ce.spotShadowMap.value=dt.state.spotShadowMap,Ce.spotLightMatrix.value=dt.state.spotLightMatrix,Ce.spotLightMap.value=dt.state.spotLightMap,Ce.pointShadowMap.value=dt.state.pointShadowMap,Ce.pointShadowMatrix.value=dt.state.pointShadowMatrix),Tt.currentProgram=Be,Tt.uniformsList=null,Be}function Je(k){if(k.uniformsList===null){const ot=k.currentProgram.getUniforms();k.uniformsList=Ax.seqWithValue(ot.seq,k.uniforms)}return k.uniformsList}function An(k,ot){const yt=Xt.get(k);yt.outputColorSpace=ot.outputColorSpace,yt.batching=ot.batching,yt.batchingColor=ot.batchingColor,yt.instancing=ot.instancing,yt.instancingColor=ot.instancingColor,yt.instancingMorph=ot.instancingMorph,yt.skinning=ot.skinning,yt.morphTargets=ot.morphTargets,yt.morphNormals=ot.morphNormals,yt.morphColors=ot.morphColors,yt.morphTargetsCount=ot.morphTargetsCount,yt.numClippingPlanes=ot.numClippingPlanes,yt.numIntersection=ot.numClipIntersection,yt.vertexAlphas=ot.vertexAlphas,yt.vertexTangents=ot.vertexTangents,yt.toneMapping=ot.toneMapping}function gn(k,ot,yt,Tt,dt){ot.isScene!==!0&&(ot=Me),jt.resetTextureUnits();const kt=ot.fog,ne=Tt.isMeshStandardMaterial?ot.environment:null,ye=F===null?B.outputColorSpace:F.isXRRenderTarget===!0?F.texture.colorSpace:mf,he=(Tt.isMeshStandardMaterial?Ne:de).get(Tt.envMap||ne),Ue=Tt.vertexColors===!0&&!!yt.attributes.color&&yt.attributes.color.itemSize===4,Be=!!yt.attributes.tangent&&(!!Tt.normalMap||Tt.anisotropy>0),Ce=!!yt.morphAttributes.position,tn=!!yt.morphAttributes.normal,sn=!!yt.morphAttributes.color;let ci=jl;Tt.toneMapped&&(F===null||F.isXRRenderTarget===!0)&&(ci=B.toneMapping);const Kn=yt.morphAttributes.position||yt.morphAttributes.normal||yt.morphAttributes.color,rn=Kn!==void 0?Kn.length:0,ze=Xt.get(Tt),fi=b.state.lights;if(ft===!0&&(Mt===!0||k!==U)){const xi=k===U&&Tt.id===O;te.setState(Tt,k,xi)}let _n=!1;Tt.version===ze.__version?(ze.needsLights&&ze.lightsStateVersion!==fi.state.version||ze.outputColorSpace!==ye||dt.isBatchedMesh&&ze.batching===!1||!dt.isBatchedMesh&&ze.batching===!0||dt.isBatchedMesh&&ze.batchingColor===!0&&dt.colorTexture===null||dt.isBatchedMesh&&ze.batchingColor===!1&&dt.colorTexture!==null||dt.isInstancedMesh&&ze.instancing===!1||!dt.isInstancedMesh&&ze.instancing===!0||dt.isSkinnedMesh&&ze.skinning===!1||!dt.isSkinnedMesh&&ze.skinning===!0||dt.isInstancedMesh&&ze.instancingColor===!0&&dt.instanceColor===null||dt.isInstancedMesh&&ze.instancingColor===!1&&dt.instanceColor!==null||dt.isInstancedMesh&&ze.instancingMorph===!0&&dt.morphTexture===null||dt.isInstancedMesh&&ze.instancingMorph===!1&&dt.morphTexture!==null||ze.envMap!==he||Tt.fog===!0&&ze.fog!==kt||ze.numClippingPlanes!==void 0&&(ze.numClippingPlanes!==te.numPlanes||ze.numIntersection!==te.numIntersection)||ze.vertexAlphas!==Ue||ze.vertexTangents!==Be||ze.morphTargets!==Ce||ze.morphNormals!==tn||ze.morphColors!==sn||ze.toneMapping!==ci||ze.morphTargetsCount!==rn)&&(_n=!0):(_n=!0,ze.__version=Tt.version);let ha=ze.currentProgram;_n===!0&&(ha=Xn(Tt,ot,dt));let Ws=!1,da=!1,Yi=!1;const Qn=ha.getUniforms(),wa=ze.uniforms;if(tt.useProgram(ha.program)&&(Ws=!0,da=!0,Yi=!0),Tt.id!==O&&(O=Tt.id,da=!0),Ws||U!==k){tt.buffers.depth.getReversed()&&k.reversedDepth!==!0&&(k._reversedDepth=!0,k.updateProjectionMatrix()),Qn.setValue(Z,"projectionMatrix",k.projectionMatrix),Qn.setValue(Z,"viewMatrix",k.matrixWorldInverse);const ma=Qn.map.cameraPosition;ma!==void 0&&ma.setValue(Z,Yt.setFromMatrixPosition(k.matrixWorld)),Gt.logarithmicDepthBuffer&&Qn.setValue(Z,"logDepthBufFC",2/(Math.log(k.far+1)/Math.LN2)),(Tt.isMeshPhongMaterial||Tt.isMeshToonMaterial||Tt.isMeshLambertMaterial||Tt.isMeshBasicMaterial||Tt.isMeshStandardMaterial||Tt.isShaderMaterial)&&Qn.setValue(Z,"isOrthographic",k.isOrthographicCamera===!0),U!==k&&(U=k,da=!0,Yi=!0)}if(dt.isSkinnedMesh){Qn.setOptional(Z,dt,"bindMatrix"),Qn.setOptional(Z,dt,"bindMatrixInverse");const xi=dt.skeleton;xi&&(xi.boneTexture===null&&xi.computeBoneTexture(),Qn.setValue(Z,"boneTexture",xi.boneTexture,jt))}dt.isBatchedMesh&&(Qn.setOptional(Z,dt,"batchingTexture"),Qn.setValue(Z,"batchingTexture",dt._matricesTexture,jt),Qn.setOptional(Z,dt,"batchingIdTexture"),Qn.setValue(Z,"batchingIdTexture",dt._indirectTexture,jt),Qn.setOptional(Z,dt,"batchingColorTexture"),dt._colorsTexture!==null&&Qn.setValue(Z,"batchingColorTexture",dt._colorsTexture,jt));const pa=yt.morphAttributes;if((pa.position!==void 0||pa.normal!==void 0||pa.color!==void 0)&&qt.update(dt,yt,ha),(da||ze.receiveShadow!==dt.receiveShadow)&&(ze.receiveShadow=dt.receiveShadow,Qn.setValue(Z,"receiveShadow",dt.receiveShadow)),Tt.isMeshGouraudMaterial&&Tt.envMap!==null&&(wa.envMap.value=he,wa.flipEnvMap.value=he.isCubeTexture&&he.isRenderTargetTexture===!1?-1:1),Tt.isMeshStandardMaterial&&Tt.envMap===null&&ot.environment!==null&&(wa.envMapIntensity.value=ot.environmentIntensity),da&&(Qn.setValue(Z,"toneMappingExposure",B.toneMappingExposure),ze.needsLights&&Fi(wa,Yi),kt&&Tt.fog===!0&&Nt.refreshFogUniforms(wa,kt),Nt.refreshMaterialUniforms(wa,Tt,K,q,b.state.transmissionRenderTarget[k.id]),Ax.upload(Z,Je(ze),wa,jt)),Tt.isShaderMaterial&&Tt.uniformsNeedUpdate===!0&&(Ax.upload(Z,Je(ze),wa,jt),Tt.uniformsNeedUpdate=!1),Tt.isSpriteMaterial&&Qn.setValue(Z,"center",dt.center),Qn.setValue(Z,"modelViewMatrix",dt.modelViewMatrix),Qn.setValue(Z,"normalMatrix",dt.normalMatrix),Qn.setValue(Z,"modelMatrix",dt.matrixWorld),Tt.isShaderMaterial||Tt.isRawShaderMaterial){const xi=Tt.uniformsGroups;for(let ma=0,iu=xi.length;ma<iu;ma++){const qi=xi[ma];Qt.update(qi,ha),Qt.bind(qi,ha)}}return ha}function Fi(k,ot){k.ambientLightColor.needsUpdate=ot,k.lightProbe.needsUpdate=ot,k.directionalLights.needsUpdate=ot,k.directionalLightShadows.needsUpdate=ot,k.pointLights.needsUpdate=ot,k.pointLightShadows.needsUpdate=ot,k.spotLights.needsUpdate=ot,k.spotLightShadows.needsUpdate=ot,k.rectAreaLights.needsUpdate=ot,k.hemisphereLights.needsUpdate=ot}function On(k){return k.isMeshLambertMaterial||k.isMeshToonMaterial||k.isMeshPhongMaterial||k.isMeshStandardMaterial||k.isShadowMaterial||k.isShaderMaterial&&k.lights===!0}this.getActiveCubeFace=function(){return P},this.getActiveMipmapLevel=function(){return H},this.getRenderTarget=function(){return F},this.setRenderTargetTextures=function(k,ot,yt){const Tt=Xt.get(k);Tt.__autoAllocateDepthBuffer=k.resolveDepthBuffer===!1,Tt.__autoAllocateDepthBuffer===!1&&(Tt.__useRenderToTexture=!1),Xt.get(k.texture).__webglTexture=ot,Xt.get(k.depthTexture).__webglTexture=Tt.__autoAllocateDepthBuffer?void 0:yt,Tt.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(k,ot){const yt=Xt.get(k);yt.__webglFramebuffer=ot,yt.__useDefaultFramebuffer=ot===void 0};const Bn=Z.createFramebuffer();this.setRenderTarget=function(k,ot=0,yt=0){F=k,P=ot,H=yt;let Tt=!0,dt=null,kt=!1,ne=!1;if(k){const he=Xt.get(k);if(he.__useDefaultFramebuffer!==void 0)tt.bindFramebuffer(Z.FRAMEBUFFER,null),Tt=!1;else if(he.__webglFramebuffer===void 0)jt.setupRenderTarget(k);else if(he.__hasExternalTextures)jt.rebindTextures(k,Xt.get(k.texture).__webglTexture,Xt.get(k.depthTexture).__webglTexture);else if(k.depthBuffer){const Ce=k.depthTexture;if(he.__boundDepthTexture!==Ce){if(Ce!==null&&Xt.has(Ce)&&(k.width!==Ce.image.width||k.height!==Ce.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");jt.setupDepthRenderbuffer(k)}}const Ue=k.texture;(Ue.isData3DTexture||Ue.isDataArrayTexture||Ue.isCompressedArrayTexture)&&(ne=!0);const Be=Xt.get(k).__webglFramebuffer;k.isWebGLCubeRenderTarget?(Array.isArray(Be[ot])?dt=Be[ot][yt]:dt=Be[ot],kt=!0):k.samples>0&&jt.useMultisampledRTT(k)===!1?dt=Xt.get(k).__webglMultisampledFramebuffer:Array.isArray(Be)?dt=Be[yt]:dt=Be,V.copy(k.viewport),Q.copy(k.scissor),et=k.scissorTest}else V.copy(nt).multiplyScalar(K).floor(),Q.copy(gt).multiplyScalar(K).floor(),et=bt;if(yt!==0&&(dt=Bn),tt.bindFramebuffer(Z.FRAMEBUFFER,dt)&&Tt&&tt.drawBuffers(k,dt),tt.viewport(V),tt.scissor(Q),tt.setScissorTest(et),kt){const he=Xt.get(k.texture);Z.framebufferTexture2D(Z.FRAMEBUFFER,Z.COLOR_ATTACHMENT0,Z.TEXTURE_CUBE_MAP_POSITIVE_X+ot,he.__webglTexture,yt)}else if(ne){const he=ot;for(let Ue=0;Ue<k.textures.length;Ue++){const Be=Xt.get(k.textures[Ue]);Z.framebufferTextureLayer(Z.FRAMEBUFFER,Z.COLOR_ATTACHMENT0+Ue,Be.__webglTexture,yt,he)}}else if(k!==null&&yt!==0){const he=Xt.get(k.texture);Z.framebufferTexture2D(Z.FRAMEBUFFER,Z.COLOR_ATTACHMENT0,Z.TEXTURE_2D,he.__webglTexture,yt)}O=-1},this.readRenderTargetPixels=function(k,ot,yt,Tt,dt,kt,ne,ye=0){if(!(k&&k.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let he=Xt.get(k).__webglFramebuffer;if(k.isWebGLCubeRenderTarget&&ne!==void 0&&(he=he[ne]),he){tt.bindFramebuffer(Z.FRAMEBUFFER,he);try{const Ue=k.textures[ye],Be=Ue.format,Ce=Ue.type;if(!Gt.textureFormatReadable(Be)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!Gt.textureTypeReadable(Ce)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}ot>=0&&ot<=k.width-Tt&&yt>=0&&yt<=k.height-dt&&(k.textures.length>1&&Z.readBuffer(Z.COLOR_ATTACHMENT0+ye),Z.readPixels(ot,yt,Tt,dt,it.convert(Be),it.convert(Ce),kt))}finally{const Ue=F!==null?Xt.get(F).__webglFramebuffer:null;tt.bindFramebuffer(Z.FRAMEBUFFER,Ue)}}},this.readRenderTargetPixelsAsync=async function(k,ot,yt,Tt,dt,kt,ne,ye=0){if(!(k&&k.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let he=Xt.get(k).__webglFramebuffer;if(k.isWebGLCubeRenderTarget&&ne!==void 0&&(he=he[ne]),he)if(ot>=0&&ot<=k.width-Tt&&yt>=0&&yt<=k.height-dt){tt.bindFramebuffer(Z.FRAMEBUFFER,he);const Ue=k.textures[ye],Be=Ue.format,Ce=Ue.type;if(!Gt.textureFormatReadable(Be))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!Gt.textureTypeReadable(Ce))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const tn=Z.createBuffer();Z.bindBuffer(Z.PIXEL_PACK_BUFFER,tn),Z.bufferData(Z.PIXEL_PACK_BUFFER,kt.byteLength,Z.STREAM_READ),k.textures.length>1&&Z.readBuffer(Z.COLOR_ATTACHMENT0+ye),Z.readPixels(ot,yt,Tt,dt,it.convert(Be),it.convert(Ce),0);const sn=F!==null?Xt.get(F).__webglFramebuffer:null;tt.bindFramebuffer(Z.FRAMEBUFFER,sn);const ci=Z.fenceSync(Z.SYNC_GPU_COMMANDS_COMPLETE,0);return Z.flush(),await qU(Z,ci,4),Z.bindBuffer(Z.PIXEL_PACK_BUFFER,tn),Z.getBufferSubData(Z.PIXEL_PACK_BUFFER,0,kt),Z.deleteBuffer(tn),Z.deleteSync(ci),kt}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(k,ot=null,yt=0){const Tt=Math.pow(2,-yt),dt=Math.floor(k.image.width*Tt),kt=Math.floor(k.image.height*Tt),ne=ot!==null?ot.x:0,ye=ot!==null?ot.y:0;jt.setTexture2D(k,0),Z.copyTexSubImage2D(Z.TEXTURE_2D,yt,0,0,ne,ye,dt,kt),tt.unbindTexture()};const fa=Z.createFramebuffer(),_i=Z.createFramebuffer();this.copyTextureToTexture=function(k,ot,yt=null,Tt=null,dt=0,kt=null){kt===null&&(dt!==0?(im("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),kt=dt,dt=0):kt=0);let ne,ye,he,Ue,Be,Ce,tn,sn,ci;const Kn=k.isCompressedTexture?k.mipmaps[kt]:k.image;if(yt!==null)ne=yt.max.x-yt.min.x,ye=yt.max.y-yt.min.y,he=yt.isBox3?yt.max.z-yt.min.z:1,Ue=yt.min.x,Be=yt.min.y,Ce=yt.isBox3?yt.min.z:0;else{const pa=Math.pow(2,-dt);ne=Math.floor(Kn.width*pa),ye=Math.floor(Kn.height*pa),k.isDataArrayTexture?he=Kn.depth:k.isData3DTexture?he=Math.floor(Kn.depth*pa):he=1,Ue=0,Be=0,Ce=0}Tt!==null?(tn=Tt.x,sn=Tt.y,ci=Tt.z):(tn=0,sn=0,ci=0);const rn=it.convert(ot.format),ze=it.convert(ot.type);let fi;ot.isData3DTexture?(jt.setTexture3D(ot,0),fi=Z.TEXTURE_3D):ot.isDataArrayTexture||ot.isCompressedArrayTexture?(jt.setTexture2DArray(ot,0),fi=Z.TEXTURE_2D_ARRAY):(jt.setTexture2D(ot,0),fi=Z.TEXTURE_2D),Z.pixelStorei(Z.UNPACK_FLIP_Y_WEBGL,ot.flipY),Z.pixelStorei(Z.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ot.premultiplyAlpha),Z.pixelStorei(Z.UNPACK_ALIGNMENT,ot.unpackAlignment);const _n=Z.getParameter(Z.UNPACK_ROW_LENGTH),ha=Z.getParameter(Z.UNPACK_IMAGE_HEIGHT),Ws=Z.getParameter(Z.UNPACK_SKIP_PIXELS),da=Z.getParameter(Z.UNPACK_SKIP_ROWS),Yi=Z.getParameter(Z.UNPACK_SKIP_IMAGES);Z.pixelStorei(Z.UNPACK_ROW_LENGTH,Kn.width),Z.pixelStorei(Z.UNPACK_IMAGE_HEIGHT,Kn.height),Z.pixelStorei(Z.UNPACK_SKIP_PIXELS,Ue),Z.pixelStorei(Z.UNPACK_SKIP_ROWS,Be),Z.pixelStorei(Z.UNPACK_SKIP_IMAGES,Ce);const Qn=k.isDataArrayTexture||k.isData3DTexture,wa=ot.isDataArrayTexture||ot.isData3DTexture;if(k.isDepthTexture){const pa=Xt.get(k),xi=Xt.get(ot),ma=Xt.get(pa.__renderTarget),iu=Xt.get(xi.__renderTarget);tt.bindFramebuffer(Z.READ_FRAMEBUFFER,ma.__webglFramebuffer),tt.bindFramebuffer(Z.DRAW_FRAMEBUFFER,iu.__webglFramebuffer);for(let qi=0;qi<he;qi++)Qn&&(Z.framebufferTextureLayer(Z.READ_FRAMEBUFFER,Z.COLOR_ATTACHMENT0,Xt.get(k).__webglTexture,dt,Ce+qi),Z.framebufferTextureLayer(Z.DRAW_FRAMEBUFFER,Z.COLOR_ATTACHMENT0,Xt.get(ot).__webglTexture,kt,ci+qi)),Z.blitFramebuffer(Ue,Be,ne,ye,tn,sn,ne,ye,Z.DEPTH_BUFFER_BIT,Z.NEAREST);tt.bindFramebuffer(Z.READ_FRAMEBUFFER,null),tt.bindFramebuffer(Z.DRAW_FRAMEBUFFER,null)}else if(dt!==0||k.isRenderTargetTexture||Xt.has(k)){const pa=Xt.get(k),xi=Xt.get(ot);tt.bindFramebuffer(Z.READ_FRAMEBUFFER,fa),tt.bindFramebuffer(Z.DRAW_FRAMEBUFFER,_i);for(let ma=0;ma<he;ma++)Qn?Z.framebufferTextureLayer(Z.READ_FRAMEBUFFER,Z.COLOR_ATTACHMENT0,pa.__webglTexture,dt,Ce+ma):Z.framebufferTexture2D(Z.READ_FRAMEBUFFER,Z.COLOR_ATTACHMENT0,Z.TEXTURE_2D,pa.__webglTexture,dt),wa?Z.framebufferTextureLayer(Z.DRAW_FRAMEBUFFER,Z.COLOR_ATTACHMENT0,xi.__webglTexture,kt,ci+ma):Z.framebufferTexture2D(Z.DRAW_FRAMEBUFFER,Z.COLOR_ATTACHMENT0,Z.TEXTURE_2D,xi.__webglTexture,kt),dt!==0?Z.blitFramebuffer(Ue,Be,ne,ye,tn,sn,ne,ye,Z.COLOR_BUFFER_BIT,Z.NEAREST):wa?Z.copyTexSubImage3D(fi,kt,tn,sn,ci+ma,Ue,Be,ne,ye):Z.copyTexSubImage2D(fi,kt,tn,sn,Ue,Be,ne,ye);tt.bindFramebuffer(Z.READ_FRAMEBUFFER,null),tt.bindFramebuffer(Z.DRAW_FRAMEBUFFER,null)}else wa?k.isDataTexture||k.isData3DTexture?Z.texSubImage3D(fi,kt,tn,sn,ci,ne,ye,he,rn,ze,Kn.data):ot.isCompressedArrayTexture?Z.compressedTexSubImage3D(fi,kt,tn,sn,ci,ne,ye,he,rn,Kn.data):Z.texSubImage3D(fi,kt,tn,sn,ci,ne,ye,he,rn,ze,Kn):k.isDataTexture?Z.texSubImage2D(Z.TEXTURE_2D,kt,tn,sn,ne,ye,rn,ze,Kn.data):k.isCompressedTexture?Z.compressedTexSubImage2D(Z.TEXTURE_2D,kt,tn,sn,Kn.width,Kn.height,rn,Kn.data):Z.texSubImage2D(Z.TEXTURE_2D,kt,tn,sn,ne,ye,rn,ze,Kn);Z.pixelStorei(Z.UNPACK_ROW_LENGTH,_n),Z.pixelStorei(Z.UNPACK_IMAGE_HEIGHT,ha),Z.pixelStorei(Z.UNPACK_SKIP_PIXELS,Ws),Z.pixelStorei(Z.UNPACK_SKIP_ROWS,da),Z.pixelStorei(Z.UNPACK_SKIP_IMAGES,Yi),kt===0&&ot.generateMipmaps&&Z.generateMipmap(fi),tt.unbindTexture()},this.copyTextureToTexture3D=function(k,ot,yt=null,Tt=null,dt=0){return im('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(k,ot,yt,Tt,dt)},this.initRenderTarget=function(k){Xt.get(k).__webglFramebuffer===void 0&&jt.setupRenderTarget(k)},this.initTexture=function(k){k.isCubeTexture?jt.setTextureCube(k,0):k.isData3DTexture?jt.setTexture3D(k,0):k.isDataArrayTexture||k.isCompressedArrayTexture?jt.setTexture2DArray(k,0):jt.setTexture2D(k,0),tt.unbindTexture()},this.resetState=function(){P=0,H=0,F=null,tt.reset(),vt.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Hr}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(t){this._outputColorSpace=t;const e=this.getContext();e.drawingBufferColorSpace=Ln._getDrawingBufferColorSpace(t),e.unpackColorSpace=Ln._getUnpackColorSpace()}}const rG=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:zE,AddEquation:tf,AddOperation:Mw,AdditiveAnimationBlendMode:JE,AdditiveBlending:Yb,AgXToneMapping:Rw,AlphaFormat:XE,AlwaysCompare:kw,AlwaysDepth:Ix,AlwaysStencilFunc:Wb,AmbientLight:OB,AnimationAction:GB,AnimationClip:bm,AnimationLoader:yL,AnimationMixer:qL,AnimationObjectGroup:kL,AnimationUtils:mL,ArcCurve:rB,ArrayCamera:FB,ArrowHelper:_I,AttachedBindMode:Kb,Audio:zB,AudioAnalyser:NL,AudioContext:b1,AudioListener:DL,AudioLoader:RL,AxesHelper:vI,BackSide:Ks,BasicDepthPacking:Lw,BasicShadowMap:iw,BatchedMesh:iB,Bone:QA,BooleanKeyframeTrack:vd,Box2:eI,Box3:Za,Box3Helper:mI,BoxGeometry:_d,BoxHelper:pI,BufferAttribute:Vn,BufferGeometry:un,BufferGeometryLoader:IB,ByteType:HE,Cache:Jl,Camera:KA,CameraHelper:dI,CanvasTexture:FN,CapsuleGeometry:eS,CatmullRomCurve3:oB,CineonToneMapping:Tw,CircleGeometry:nS,ClampToEdgeWrapping:zr,Clock:E1,Color:pe,ColorKeyframeTrack:_1,ColorManagement:Ln,CompressedArrayTexture:IN,CompressedCubeTexture:PN,CompressedTexture:tS,CompressedTextureLoader:xL,ConeGeometry:C_,ConstantAlphaFactor:xw,ConstantColorFactor:vw,Controls:xI,CubeCamera:Zw,CubeReflectionMapping:Ku,CubeRefractionMapping:df,CubeTexture:M_,CubeTextureLoader:AL,CubeUVReflectionMapping:Lm,CubicBezierCurve:l1,CubicBezierCurve3:lB,CubicInterpolant:TB,CullFaceBack:kb,CullFaceFront:nw,CullFaceFrontBack:WO,CullFaceNone:ew,Curve:ol,CurvePath:cB,CustomBlending:aw,CustomToneMapping:Cw,CylinderGeometry:T_,Cylindrical:tI,Data3DTexture:JA,DataArrayTexture:qA,DataTexture:Ql,DataTextureLoader:SL,DataUtils:oN,DecrementStencilOp:rU,DecrementWrapStencilOp:lU,DefaultLoadingManager:wB,DepthFormat:mm,DepthStencilFormat:gm,DepthTexture:r1,DetachedBindMode:Bw,DirectionalLight:S1,DirectionalLightHelper:hI,DiscreteInterpolant:CB,DodecahedronGeometry:iS,DoubleSide:il,DstAlphaFactor:dw,DstColorFactor:mw,DynamicCopyUsage:MU,DynamicDrawUsage:_U,DynamicReadUsage:xU,EdgesGeometry:sB,EllipseCurve:aS,EqualCompare:Hw,EqualDepth:Fx,EqualStencilFunc:hU,EquirectangularReflectionMapping:t_,EquirectangularRefractionMapping:e_,Euler:Yr,EventDispatcher:nu,ExtrudeGeometry:sS,FileLoader:qr,Float16BufferAttribute:pN,Float32BufferAttribute:Oe,FloatType:dr,Fog:jA,FogExp2:WA,FramebufferTexture:LN,FrontSide:$l,Frustum:Pm,FrustumArray:ZA,GLBufferAttribute:QL,GLSL1:EU,GLSL3:jb,GreaterCompare:Gw,GreaterDepth:Hx,GreaterEqualCompare:Xw,GreaterEqualDepth:zx,GreaterEqualStencilFunc:gU,GreaterStencilFunc:pU,GridHelper:cI,Group:Gu,HalfFloatType:Im,HemisphereLight:DB,HemisphereLightHelper:uI,IcosahedronGeometry:rS,ImageBitmapLoader:PB,ImageLoader:u_,ImageUtils:Kw,IncrementStencilOp:sU,IncrementWrapStencilOp:oU,InstancedBufferAttribute:sd,InstancedBufferGeometry:LB,InstancedInterleavedBuffer:jL,InstancedMesh:i1,Int16BufferAttribute:hN,Int32BufferAttribute:dN,Int8BufferAttribute:uN,IntType:zA,InterleavedBuffer:b_,InterleavedBufferAttribute:gf,Interpolant:zm,InterpolateDiscrete:_m,InterpolateLinear:vm,InterpolateSmooth:yx,InterpolationSamplingMode:RU,InterpolationSamplingType:CU,InvertStencilOp:uU,KeepStencilOp:Nh,KeyframeTrack:To,LOD:nB,LatheGeometry:oS,Layers:Am,LessCompare:zw,LessDepth:Px,LessEqualCompare:WE,LessEqualDepth:ad,LessEqualStencilFunc:dU,LessStencilFunc:fU,Light:Sf,LightProbe:NB,Line:ju,Line3:aI,LineBasicMaterial:ys,LineCurve:u1,LineCurve3:uB,LineDashedMaterial:MB,LineLoop:a1,LineSegments:rl,LinearFilter:$i,LinearInterpolant:g1,LinearMipMapLinearFilter:$O,LinearMipMapNearestFilter:ZO,LinearMipmapLinearFilter:yo,LinearMipmapNearestFilter:nm,LinearSRGBColorSpace:mf,LinearToneMapping:bw,LinearTransfer:i_,Loader:xs,LoaderUtils:uf,LoadingManager:v1,LoopOnce:Dw,LoopPingPong:Uw,LoopRepeat:Ow,MOUSE:Oh,Material:Ta,MaterialLoader:pS,MathUtils:Yw,Matrix2:w1,Matrix3:fn,Matrix4:Ye,MaxEquation:lw,Mesh:ta,MeshBasicMaterial:Gr,MeshDepthMaterial:d1,MeshDistanceMaterial:p1,MeshLambertMaterial:AB,MeshMatcapMaterial:SB,MeshNormalMaterial:xB,MeshPhongMaterial:vB,MeshPhysicalMaterial:Eo,MeshStandardMaterial:B_,MeshToonMaterial:yB,MinEquation:ow,MirroredRepeatWrapping:hm,MixOperation:Sw,MultiplyBlending:Jb,MultiplyOperation:A_,NearestFilter:Fa,NearestMipMapLinearFilter:QO,NearestMipMapNearestFilter:jO,NearestMipmapLinearFilter:Hh,NearestMipmapNearestFilter:FA,NeutralToneMapping:ww,NeverCompare:Fw,NeverDepth:Lx,NeverStencilFunc:cU,NoBlending:Xu,NoColorSpace:Fu,NoToneMapping:jl,NormalAnimationBlendMode:YA,NormalBlending:Kh,NotEqualCompare:Vw,NotEqualDepth:Gx,NotEqualStencilFunc:mU,NumberKeyframeTrack:od,Object3D:Pn,ObjectLoader:TL,ObjectSpaceNormalMap:Pw,OctahedronGeometry:R_,OneFactor:cw,OneMinusConstantAlphaFactor:Aw,OneMinusConstantColorFactor:yw,OneMinusDstAlphaFactor:pw,OneMinusDstColorFactor:gw,OneMinusSrcAlphaFactor:Nx,OneMinusSrcColorFactor:hw,OrthographicCamera:Yu,PCFShadowMap:IA,PCFSoftShadowMap:O0,PMREMGenerator:aE,Path:vA,PerspectiveCamera:Xi,Plane:Iu,PlaneGeometry:Fm,PlaneHelper:gI,PointLight:A1,PointLightHelper:oI,Points:s1,PointsMaterial:$A,PolarGridHelper:fI,PolyhedronGeometry:Af,PositionalAudio:UL,PropertyBinding:Hn,PropertyMixer:HB,QuadraticBezierCurve:c1,QuadraticBezierCurve3:f1,Quaternion:za,QuaternionKeyframeTrack:ld,QuaternionLinearInterpolant:RB,RED_GREEN_RGTC2_Format:hA,RED_RGTC1_Format:qE,REVISION:x_,RGBADepthPacking:Iw,RGBAFormat:_s,RGBAIntegerFormat:kA,RGBA_ASTC_10x10_Format:rA,RGBA_ASTC_10x5_Format:iA,RGBA_ASTC_10x6_Format:aA,RGBA_ASTC_10x8_Format:sA,RGBA_ASTC_12x10_Format:oA,RGBA_ASTC_12x12_Format:lA,RGBA_ASTC_4x4_Format:Wx,RGBA_ASTC_5x4_Format:jx,RGBA_ASTC_5x5_Format:Qx,RGBA_ASTC_6x5_Format:Zx,RGBA_ASTC_6x6_Format:$x,RGBA_ASTC_8x5_Format:tA,RGBA_ASTC_8x6_Format:eA,RGBA_ASTC_8x8_Format:nA,RGBA_BPTC_Format:P0,RGBA_ETC2_EAC_Format:Kx,RGBA_PVRTC_2BPPV1_Format:Yx,RGBA_PVRTC_4BPPV1_Format:kx,RGBA_S3TC_DXT1_Format:N0,RGBA_S3TC_DXT3_Format:L0,RGBA_S3TC_DXT5_Format:I0,RGBDepthPacking:eU,RGBFormat:kE,RGBIntegerFormat:tU,RGB_BPTC_SIGNED_Format:uA,RGB_BPTC_UNSIGNED_Format:cA,RGB_ETC1_Format:qx,RGB_ETC2_Format:Jx,RGB_PVRTC_2BPPV1_Format:Xx,RGB_PVRTC_4BPPV1_Format:Vx,RGB_S3TC_DXT1_Format:U0,RGDepthPacking:nU,RGFormat:YE,RGIntegerFormat:XA,RawShaderMaterial:_B,Ray:gd,Raycaster:VB,RectAreaLight:M1,RedFormat:VA,RedIntegerFormat:S_,ReinhardToneMapping:Ew,RenderTarget:QE,RenderTarget3D:JL,RepeatWrapping:pf,ReplaceStencilOp:aU,ReverseSubtractEquation:rw,RingGeometry:lS,SIGNED_RED_GREEN_RGTC2_Format:dA,SIGNED_RED_RGTC1_Format:fA,SRGBColorSpace:ps,SRGBTransfer:ai,Scene:t1,ShaderChunk:mn,ShaderLib:nl,ShaderMaterial:sl,ShadowMaterial:gB,Shape:jh,ShapeGeometry:uS,ShapePath:yI,ShapeUtils:al,ShortType:GE,Skeleton:E_,SkeletonHelper:rI,SkinnedMesh:n1,Source:nf,Sphere:Ha,SphereGeometry:w_,Spherical:nE,SphericalHarmonics3:UB,SplineCurve:h1,SpotLight:x1,SpotLightHelper:sI,Sprite:eB,SpriteMaterial:e1,SrcAlphaFactor:Ux,SrcAlphaSaturateFactor:_w,SrcColorFactor:fw,StaticCopyUsage:SU,StaticDrawUsage:a_,StaticReadUsage:yU,StereoCamera:wL,StreamCopyUsage:bU,StreamDrawUsage:vU,StreamReadUsage:AU,StringKeyframeTrack:yd,SubtractEquation:sw,SubtractiveBlending:qb,TOUCH:Uh,TangentSpaceNormalMap:xf,TetrahedronGeometry:cS,Texture:wi,TextureLoader:BB,TextureUtils:EI,Timer:ZL,TimestampQuery:TU,TorusGeometry:fS,TorusKnotGeometry:hS,Triangle:hr,TriangleFanDrawMode:pA,TriangleStripDrawMode:KE,TrianglesDrawMode:Nw,TubeGeometry:dS,UVMapping:PA,Uint16BufferAttribute:ZE,Uint32BufferAttribute:$E,Uint8BufferAttribute:cN,Uint8ClampedBufferAttribute:fN,Uniform:R1,UniformsGroup:WL,UniformsLib:ge,UniformsUtils:Qw,UnsignedByteType:bo,UnsignedInt248Type:pm,UnsignedInt5999Type:VE,UnsignedIntType:Wu,UnsignedShort4444Type:HA,UnsignedShort5551Type:GA,UnsignedShortType:dm,VSMShadowMap:el,Vector2:Ht,Vector3:W,Vector4:Gn,VectorKeyframeTrack:ud,VideoFrameTexture:NN,VideoTexture:aB,WebGL3DRenderTarget:QU,WebGLArrayRenderTarget:jU,WebGLCoordinateSystem:Hr,WebGLCubeRenderTarget:$w,WebGLRenderTarget:tu,WebGLRenderer:QB,WebGLUtils:WB,WebGPUCoordinateSystem:ym,WebXRController:xx,WireframeGeometry:mB,WrapAroundEnding:n_,ZeroCurvatureEnding:Gh,ZeroFactor:uw,ZeroSlopeEnding:Vh,ZeroStencilOp:iU,createCanvasElement:Jw},Symbol.toStringTag,{value:"Module"}));var tb={exports:{}},Uu={};/**
 * @license React
 * react-reconciler-constants.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DR;function oG(){return DR||(DR=1,Uu.ConcurrentRoot=1,Uu.ContinuousEventPriority=8,Uu.DefaultEventPriority=32,Uu.DiscreteEventPriority=2,Uu.IdleEventPriority=268435456,Uu.LegacyRoot=0,Uu.NoEventPriority=0),Uu}var OR;function lG(){return OR||(OR=1,tb.exports=oG()),tb.exports}var Sx=lG(),eb={exports:{}},nb={},ib={exports:{}},ab={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UR;function uG(){if(UR)return ab;UR=1;var r=md();function t(_,y){return _===y&&(_!==0||1/_===1/y)||_!==_&&y!==y}var e=typeof Object.is=="function"?Object.is:t,n=r.useState,i=r.useEffect,s=r.useLayoutEffect,l=r.useDebugValue;function u(_,y){var x=y(),M=n({inst:{value:x,getSnapshot:y}}),T=M[0].inst,E=M[1];return s(function(){T.value=x,T.getSnapshot=y,d(T)&&E({inst:T})},[_,x,y]),i(function(){return d(T)&&E({inst:T}),_(function(){d(T)&&E({inst:T})})},[_]),l(x),x}function d(_){var y=_.getSnapshot;_=_.value;try{var x=y();return!e(_,x)}catch{return!0}}function p(_,y){return y()}var g=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p:u;return ab.useSyncExternalStore=r.useSyncExternalStore!==void 0?r.useSyncExternalStore:g,ab}var NR;function cG(){return NR||(NR=1,ib.exports=uG()),ib.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LR;function fG(){if(LR)return nb;LR=1;var r=md(),t=cG();function e(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}var n=typeof Object.is=="function"?Object.is:e,i=t.useSyncExternalStore,s=r.useRef,l=r.useEffect,u=r.useMemo,d=r.useDebugValue;return nb.useSyncExternalStoreWithSelector=function(p,g,_,y,x){var M=s(null);if(M.current===null){var T={hasValue:!1,value:null};M.current=T}else T=M.current;M=u(function(){function b(P){if(!w){if(w=!0,D=P,P=y(P),x!==void 0&&T.hasValue){var H=T.value;if(x(H,P))return B=H}return B=P}if(H=B,n(D,P))return H;var F=y(P);return x!==void 0&&x(H,F)?(D=P,H):(D=P,B=F)}var w=!1,D,B,L=_===void 0?null:_;return[function(){return b(g())},L===null?void 0:function(){return b(L())}]},[g,_,y,x]);var E=i(p,M[0],M[1]);return l(function(){T.hasValue=!0,T.value=E},[E]),d(E),E},nb}var IR;function hG(){return IR||(IR=1,eb.exports=fG()),eb.exports}var dG=hG();const pG=Nm(dG),PR=r=>{let t;const e=new Set,n=(p,g)=>{const _=typeof p=="function"?p(t):p;if(!Object.is(_,t)){const y=t;t=g??(typeof _!="object"||_===null)?_:Object.assign({},t,_),e.forEach(x=>x(t,y))}},i=()=>t,u={setState:n,getState:i,getInitialState:()=>d,subscribe:p=>(e.add(p),()=>e.delete(p))},d=t=r(n,i,u);return u},mG=r=>r?PR(r):PR,{useSyncExternalStoreWithSelector:gG}=pG,_G=r=>r;function vG(r,t=_G,e){const n=gG(r.subscribe,r.getState,r.getInitialState,t,e);return zO.useDebugValue(n),n}const FR=(r,t)=>{const e=mG(r),n=(i,s=t)=>vG(e,i,s);return Object.assign(n,e),n},yG=(r,t)=>r?FR(r,t):FR,xG=r=>typeof r=="object"&&typeof r.then=="function",kh=[];function ZB(r,t,e=(n,i)=>n===i){if(r===t)return!0;if(!r||!t)return!1;const n=r.length;if(t.length!==n)return!1;for(let i=0;i<n;i++)if(!e(r[i],t[i]))return!1;return!0}function $B(r,t=null,e=!1,n={}){t===null&&(t=[r]);for(const s of kh)if(ZB(t,s.keys,s.equal)){if(e)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return n.lifespan&&n.lifespan>0&&(s.timeout&&clearTimeout(s.timeout),s.timeout=setTimeout(s.remove,n.lifespan)),s.response;if(!e)throw s.promise}const i={keys:t,equal:n.equal,remove:()=>{const s=kh.indexOf(i);s!==-1&&kh.splice(s,1)},promise:(xG(r)?r:r(...t)).then(s=>{i.response=s,n.lifespan&&n.lifespan>0&&(i.timeout=setTimeout(i.remove,n.lifespan))}).catch(s=>i.error=s)};if(kh.push(i),!e)throw i.promise}const AG=(r,t,e)=>$B(r,t,!1,e),SG=(r,t,e)=>void $B(r,t,!0,e),MG=r=>{if(r===void 0||r.length===0)kh.splice(0,kh.length);else{const t=kh.find(e=>ZB(r,e.keys,e.equal));t&&t.remove()}};var sb={exports:{}},rb={exports:{}},ob={exports:{}},lb={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zR;function bG(){return zR||(zR=1,function(r){function t(G,q){var K=G.length;G.push(q);t:for(;0<K;){var lt=K-1>>>1,I=G[lt];if(0<i(I,q))G[lt]=q,G[K]=I,K=lt;else break t}}function e(G){return G.length===0?null:G[0]}function n(G){if(G.length===0)return null;var q=G[0],K=G.pop();if(K!==q){G[0]=K;t:for(var lt=0,I=G.length,nt=I>>>1;lt<nt;){var gt=2*(lt+1)-1,bt=G[gt],St=gt+1,ft=G[St];if(0>i(bt,K))St<I&&0>i(ft,bt)?(G[lt]=ft,G[St]=K,lt=St):(G[lt]=bt,G[gt]=K,lt=gt);else if(St<I&&0>i(ft,K))G[lt]=ft,G[St]=K,lt=St;else break t}}return q}function i(G,q){var K=G.sortIndex-q.sortIndex;return K!==0?K:G.id-q.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;r.unstable_now=function(){return s.now()}}else{var l=Date,u=l.now();r.unstable_now=function(){return l.now()-u}}var d=[],p=[],g=1,_=null,y=3,x=!1,M=!1,T=!1,E=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;function D(G){for(var q=e(p);q!==null;){if(q.callback===null)n(p);else if(q.startTime<=G)n(p),q.sortIndex=q.expirationTime,t(d,q);else break;q=e(p)}}function B(G){if(T=!1,D(G),!M)if(e(d)!==null)M=!0,rt();else{var q=e(p);q!==null&&ut(B,q.startTime-G)}}var L=!1,P=-1,H=5,F=-1;function O(){return!(r.unstable_now()-F<H)}function U(){if(L){var G=r.unstable_now();F=G;var q=!0;try{t:{M=!1,T&&(T=!1,b(P),P=-1),x=!0;var K=y;try{e:{for(D(G),_=e(d);_!==null&&!(_.expirationTime>G&&O());){var lt=_.callback;if(typeof lt=="function"){_.callback=null,y=_.priorityLevel;var I=lt(_.expirationTime<=G);if(G=r.unstable_now(),typeof I=="function"){_.callback=I,D(G),q=!0;break e}_===e(d)&&n(d),D(G)}else n(d);_=e(d)}if(_!==null)q=!0;else{var nt=e(p);nt!==null&&ut(B,nt.startTime-G),q=!1}}break t}finally{_=null,y=K,x=!1}q=void 0}}finally{q?V():L=!1}}}var V;if(typeof w=="function")V=function(){w(U)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,et=Q.port2;Q.port1.onmessage=U,V=function(){et.postMessage(null)}}else V=function(){E(U,0)};function rt(){L||(L=!0,V())}function ut(G,q){P=E(function(){G(r.unstable_now())},q)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(G){G.callback=null},r.unstable_continueExecution=function(){M||x||(M=!0,rt())},r.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<G?Math.floor(1e3/G):5},r.unstable_getCurrentPriorityLevel=function(){return y},r.unstable_getFirstCallbackNode=function(){return e(d)},r.unstable_next=function(G){switch(y){case 1:case 2:case 3:var q=3;break;default:q=y}var K=y;y=q;try{return G()}finally{y=K}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(G,q){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var K=y;y=G;try{return q()}finally{y=K}},r.unstable_scheduleCallback=function(G,q,K){var lt=r.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?lt+K:lt):K=lt,G){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=K+I,G={id:g++,callback:q,priorityLevel:G,startTime:K,expirationTime:I,sortIndex:-1},K>lt?(G.sortIndex=K,t(p,G),e(d)===null&&G===e(p)&&(T?(b(P),P=-1):T=!0,ut(B,K-lt))):(G.sortIndex=I,t(d,G),M||x||(M=!0,rt())),G},r.unstable_shouldYield=O,r.unstable_wrapCallback=function(G){var q=y;return function(){var K=y;y=q;try{return G.apply(this,arguments)}finally{y=K}}}}(lb)),lb}var HR;function EG(){return HR||(HR=1,ob.exports=bG()),ob.exports}/**
 * @license React
 * react-reconciler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GR;function TG(){return GR||(GR=1,function(r){r.exports=function(t){function e(c,f,v,S){return new _g(c,f,v,S)}function n(){}function i(c){var f="https://react.dev/errors/"+c;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)f+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+c+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(c){return c===null||typeof c!="object"?null:(c=zo&&c[zo]||c["@@iterator"],typeof c=="function"?c:null)}function l(c){if(c==null)return null;if(typeof c=="function")return c.$$typeof===Ag?null:c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case Ml:return"Fragment";case $s:return"Portal";case kd:return"Profiler";case Qf:return"StrictMode";case Yd:return"Suspense";case vc:return"SuspenseList"}if(typeof c=="object")switch(c.$$typeof){case Ar:return(c.displayName||"Context")+".Provider";case yg:return(c._context.displayName||"Context")+".Consumer";case $f:var f=c.render;return c=c.displayName,c||(c=f.displayName||f.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case qd:return f=c.displayName||null,f!==null?f:l(c.type)||"Memo";case tr:f=c._payload,c=c._init;try{return l(c(f))}catch{}}return null}function u(c){if($r===void 0)try{throw Error()}catch(v){var f=v.stack.trim().match(/\n( *(at )?)/);$r=f&&f[1]||"",Ho=-1<v.stack.indexOf(`
    at`)?" (<anonymous>)":-1<v.stack.indexOf("@")?"@unknown:0:0":""}return`
`+$r+c+Ho}function d(c,f){if(!c||lu)return"";lu=!0;var v=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var S={DetermineComponentFrameRoot:function(){try{if(f){var me=function(){throw Error()};if(Object.defineProperty(me.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(me,[])}catch(an){var Se=an}Reflect.construct(c,[],me)}else{try{me.call()}catch(an){Se=an}c.call(me.prototype)}}else{try{throw Error()}catch(an){Se=an}(me=c())&&typeof me.catch=="function"&&me.catch(function(){})}}catch(an){if(an&&Se&&typeof an.stack=="string")return[an.stack,Se.stack]}return[null,null]}};S.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var R=Object.getOwnPropertyDescriptor(S.DetermineComponentFrameRoot,"name");R&&R.configurable&&Object.defineProperty(S.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var N=S.DetermineComponentFrameRoot(),J=N[0],st=N[1];if(J&&st){var _t=J.split(`
`),Pt=st.split(`
`);for(R=S=0;S<_t.length&&!_t[S].includes("DetermineComponentFrameRoot");)S++;for(;R<Pt.length&&!Pt[R].includes("DetermineComponentFrameRoot");)R++;if(S===_t.length||R===Pt.length)for(S=_t.length-1,R=Pt.length-1;1<=S&&0<=R&&_t[S]!==Pt[R];)R--;for(;1<=S&&0<=R;S--,R--)if(_t[S]!==Pt[R]){if(S!==1||R!==1)do if(S--,R--,0>R||_t[S]!==Pt[R]){var oe=`
`+_t[S].replace(" at new "," at ");return c.displayName&&oe.includes("<anonymous>")&&(oe=oe.replace("<anonymous>",c.displayName)),oe}while(1<=S&&0<=R);break}}}finally{lu=!1,Error.prepareStackTrace=v}return(v=c?c.displayName||c.name:"")?u(v):""}function p(c){switch(c.tag){case 26:case 27:case 5:return u(c.type);case 16:return u("Lazy");case 13:return u("Suspense");case 19:return u("SuspenseList");case 0:case 15:return c=d(c.type,!1),c;case 11:return c=d(c.type.render,!1),c;case 1:return c=d(c.type,!0),c;default:return""}}function g(c){try{var f="";do f+=p(c),c=c.return;while(c);return f}catch(v){return`
Error generating stack: `+v.message+`
`+v.stack}}function _(c){var f=c,v=c;if(c.alternate)for(;f.return;)f=f.return;else{c=f;do f=c,(f.flags&4098)!==0&&(v=f.return),c=f.return;while(c)}return f.tag===3?v:null}function y(c){if(_(c)!==c)throw Error(i(188))}function x(c){var f=c.alternate;if(!f){if(f=_(c),f===null)throw Error(i(188));return f!==c?null:c}for(var v=c,S=f;;){var R=v.return;if(R===null)break;var N=R.alternate;if(N===null){if(S=R.return,S!==null){v=S;continue}break}if(R.child===N.child){for(N=R.child;N;){if(N===v)return y(R),c;if(N===S)return y(R),f;N=N.sibling}throw Error(i(188))}if(v.return!==S.return)v=R,S=N;else{for(var J=!1,st=R.child;st;){if(st===v){J=!0,v=R,S=N;break}if(st===S){J=!0,S=R,v=N;break}st=st.sibling}if(!J){for(st=N.child;st;){if(st===v){J=!0,v=N,S=R;break}if(st===S){J=!0,S=N,v=R;break}st=st.sibling}if(!J)throw Error(i(189))}}if(v.alternate!==S)throw Error(i(190))}if(v.tag!==3)throw Error(i(188));return v.stateNode.current===v?c:f}function M(c){var f=c.tag;if(f===5||f===26||f===27||f===6)return c;for(c=c.child;c!==null;){if(f=M(c),f!==null)return f;c=c.sibling}return null}function T(c){var f=c.tag;if(f===5||f===26||f===27||f===6)return c;for(c=c.child;c!==null;){if(c.tag!==4&&(f=T(c),f!==null))return f;c=c.sibling}return null}function E(c){return{current:c}}function b(c){0>ko||(c.current=Oi[ko],Oi[ko]=null,ko--)}function w(c,f){ko++,Oi[ko]=c.current,c.current=f}function D(c){return c>>>=0,c===0?32:31-(zv(c)/Hv|0)|0}function B(c){var f=c&42;if(f!==0)return f;switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return c&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return c}}function L(c,f){var v=c.pendingLanes;if(v===0)return 0;var S=0,R=c.suspendedLanes,N=c.pingedLanes,J=c.warmLanes;c=c.finishedLanes!==0;var st=v&134217727;return st!==0?(v=st&~R,v!==0?S=B(v):(N&=st,N!==0?S=B(N):c||(J=st&~J,J!==0&&(S=B(J))))):(st=v&~R,st!==0?S=B(st):N!==0?S=B(N):c||(J=v&~J,J!==0&&(S=B(J)))),S===0?0:f!==0&&f!==S&&(f&R)===0&&(R=S&-S,J=f&-f,R>=J||R===32&&(J&4194176)!==0)?f:S}function P(c,f){return(c.pendingLanes&~(c.suspendedLanes&~c.pingedLanes)&f)===0}function H(c,f){switch(c){case 1:case 2:case 4:case 8:return f+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function F(){var c=eo;return eo<<=1,(eo&4194176)===0&&(eo=128),c}function O(){var c=fu;return fu<<=1,(fu&62914560)===0&&(fu=4194304),c}function U(c){for(var f=[],v=0;31>v;v++)f.push(c);return f}function V(c,f){c.pendingLanes|=f,f!==268435456&&(c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0)}function Q(c,f,v,S,R,N){var J=c.pendingLanes;c.pendingLanes=v,c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0,c.expiredLanes&=v,c.entangledLanes&=v,c.errorRecoveryDisabledLanes&=v,c.shellSuspendCounter=0;var st=c.entanglements,_t=c.expirationTimes,Pt=c.hiddenUpdates;for(v=J&~v;0<v;){var oe=31-Ja(v),me=1<<oe;st[oe]=0,_t[oe]=-1;var Se=Pt[oe];if(Se!==null)for(Pt[oe]=null,oe=0;oe<Se.length;oe++){var an=Se[oe];an!==null&&(an.lane&=-536870913)}v&=~me}S!==0&&et(c,S,0),N!==0&&R===0&&c.tag!==0&&(c.suspendedLanes|=N&~(J&~f))}function et(c,f,v){c.pendingLanes|=f,c.suspendedLanes&=~f;var S=31-Ja(f);c.entangledLanes|=f,c.entanglements[S]=c.entanglements[S]|1073741824|v&4194218}function rt(c,f){var v=c.entangledLanes|=f;for(c=c.entanglements;v;){var S=31-Ja(v),R=1<<S;R&f|c[S]&f&&(c[S]|=f),v&=~R}}function ut(c){return c&=-c,2<c?8<c?(c&134217727)!==0?32:268435456:8:2}function G(c){if(rs&&typeof rs.onCommitFiberRoot=="function")try{rs.onCommitFiberRoot(Ui,c,void 0,(c.current.flags&128)===128)}catch{}}function q(c){if(typeof Xv=="function"&&aa(c),rs&&typeof rs.setStrictMode=="function")try{rs.setStrictMode(Ui,c)}catch{}}function K(c,f){return c===f&&(c!==0||1/c===1/f)||c!==c&&f!==f}function lt(c,f){if(typeof c=="object"&&c!==null){var v=Hg.get(c);return v!==void 0?v:(f={value:c,source:f,stack:g(f)},Hg.set(c,f),f)}return{value:c,source:f,stack:g(f)}}function I(c,f){hu[du++]=Cc,hu[du++]=pu,pu=c,Cc=f}function nt(c,f,v){Es[Ts++]=br,Es[Ts++]=Er,Es[Ts++]=Bl,Bl=c;var S=br;c=Er;var R=32-Ja(S)-1;S&=~(1<<R),v+=1;var N=32-Ja(f)+R;if(30<N){var J=R-R%5;N=(S&(1<<J)-1).toString(32),S>>=J,R-=J,br=1<<32-Ja(f)+R|v<<R|S,Er=N+c}else br=1<<N|v<<R|S,Er=c}function gt(c){c.return!==null&&(I(c,1),nt(c,1,0))}function bt(c){for(;c===pu;)pu=hu[--du],hu[du]=null,Cc=hu[--du],hu[du]=null;for(;c===Bl;)Bl=Es[--Ts],Es[Ts]=null,Er=Es[--Ts],Es[Ts]=null,br=Es[--Ts],Es[Ts]=null}function St(c,f){w(no,f),w(Rc,c),w(Ki,null),c=av(f),b(Ki),w(Ki,c)}function ft(){b(Ki),b(Rc),b(no)}function Mt(c){c.memoizedState!==null&&w(mu,c);var f=Ki.current,v=Sc(f,c.type);f!==v&&(w(Rc,c),w(Ki,v))}function Lt(c){Rc.current===c&&(b(Ki),b(Rc)),mu.current===c&&(b(mu),Ya?Sr._currentValue=El:Sr._currentValue2=El)}function Yt(c){var f=Error(i(418,""));throw Z(lt(f,c)),lh}function $t(c,f){if(!Aa)throw Error(i(175));wv(c.stateNode,c.type,c.memoizedProps,f,c)||Yt(c)}function Me(c){for(Sa=c.return;Sa;)switch(Sa.tag){case 3:case 27:sa=!0;return;case 5:case 13:sa=!1;return;default:Sa=Sa.return}}function Pe(c){if(!Aa||c!==Sa)return!1;if(!Dn)return Me(c),Dn=!0,!1;var f=!1;if(ti?c.tag!==3&&c.tag!==27&&(c.tag!==5||ep(c.type)&&!ln(c.type,c.memoizedProps))&&(f=!0):c.tag!==3&&(c.tag!==5||ep(c.type)&&!ln(c.type,c.memoizedProps))&&(f=!0),f&&Ma&&Yt(c),Me(c),c.tag===13){if(!Aa)throw Error(i(316));if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(i(317));Ma=Dv(c)}else Ma=Sa?Ig(c.stateNode):null;return!0}function _e(){Aa&&(Ma=Sa=null,Dn=!1)}function Z(c){ir===null?ir=[c]:ir.push(c)}function Ut(){for(var c=gu,f=Tr=gu=0;f<c;){var v=ar[f];ar[f++]=null;var S=ar[f];ar[f++]=null;var R=ar[f];ar[f++]=null;var N=ar[f];if(ar[f++]=null,S!==null&&R!==null){var J=S.pending;J===null?R.next=R:(R.next=J.next,J.next=R),S.pending=R}N!==0&&Zt(v,R,N)}}function Ot(c,f,v,S){ar[gu++]=c,ar[gu++]=f,ar[gu++]=v,ar[gu++]=S,Tr|=S,c.lanes|=S,c=c.alternate,c!==null&&(c.lanes|=S)}function Gt(c,f,v,S){return Ot(c,f,v,S),Xt(c)}function tt(c,f){return Ot(c,null,null,f),Xt(c)}function Zt(c,f,v){c.lanes|=v;var S=c.alternate;S!==null&&(S.lanes|=v);for(var R=!1,N=c.return;N!==null;)N.childLanes|=v,S=N.alternate,S!==null&&(S.childLanes|=v),N.tag===22&&(c=N.stateNode,c===null||c._visibility&1||(R=!0)),c=N,N=N.return;R&&f!==null&&c.tag===3&&(N=c.stateNode,R=31-Ja(v),N=N.hiddenUpdates,c=N[R],c===null?N[R]=[f]:c.push(f),f.lane=v|536870912)}function Xt(c){if(50<Pc)throw Pc=0,gp=null,Error(i(185));for(var f=c.return;f!==null;)c=f,f=c.return;return c.tag===3?c.stateNode:null}function jt(c){c!==Yo&&c.next===null&&(Yo===null?uh=Yo=c:Yo=Yo.next=c),si=!0,_u||(_u=!0,wt(Ne))}function de(c,f){if(!Gg&&si){Gg=!0;do for(var v=!1,S=uh;S!==null;){if(c!==0){var R=S.pendingLanes;if(R===0)var N=0;else{var J=S.suspendedLanes,st=S.pingedLanes;N=(1<<31-Ja(42|c)+1)-1,N&=R&~(J&~st),N=N&201326677?N&201326677|1:N?N|2:0}N!==0&&(v=!0,pt(S,N))}else N=Sn,N=L(S,S===qn?N:0),(N&3)===0||P(S,N)||(v=!0,pt(S,N));S=S.next}while(v);Gg=!1}}function Ne(){si=_u=!1;var c=0;wc!==0&&(lv()&&(c=wc),wc=0);for(var f=nr(),v=null,S=uh;S!==null;){var R=S.next,N=j(S,f);N===0?(S.next=null,v===null?uh=R:v.next=R,R===null&&(Yo=v)):(v=S,(c!==0||(N&3)!==0)&&(si=!0)),S=R}de(c)}function j(c,f){for(var v=c.suspendedLanes,S=c.pingedLanes,R=c.expirationTimes,N=c.pendingLanes&-62914561;0<N;){var J=31-Ja(N),st=1<<J,_t=R[J];_t===-1?((st&v)===0||(st&S)!==0)&&(R[J]=H(st,f)):_t<=f&&(c.expiredLanes|=st),N&=~st}if(f=qn,v=Sn,v=L(c,c===f?v:0),S=c.callbackNode,v===0||c===f&&Zn===2||c.cancelPendingCommit!==null)return S!==null&&S!==null&&sp(S),c.callbackNode=null,c.callbackPriority=0;if((v&3)===0||P(c,v)){if(f=v&-v,f===c.callbackPriority)return f;switch(S!==null&&sp(S),ut(v)){case 2:case 8:v=Vv;break;case 32:v=lp;break;case 268435456:v=US;break;default:v=lp}return S=X.bind(null,c),v=oh(v,S),c.callbackPriority=f,c.callbackNode=v,f}return S!==null&&S!==null&&sp(S),c.callbackPriority=2,c.callbackNode=null,2}function X(c,f){var v=c.callbackNode;if(xr()&&c.callbackNode!==v)return null;var S=Sn;return S=L(c,c===qn?S:0),S===0?null:(vl(c,S,f),j(c,nr()),c.callbackNode!=null&&c.callbackNode===v?X.bind(null,c):null)}function pt(c,f){if(xr())return null;vl(c,f,!0)}function wt(c){Tg?Xo(function(){(Nn&6)!==0?oh(op,c):c()}):oh(op,c)}function Nt(){return wc===0&&(wc=F()),wc}function Ct(c,f){if(Bc===null){var v=Bc=[];vu=0,Cs=Nt(),yu={status:"pending",value:void 0,then:function(S){v.push(S)}}}return vu++,f.then(re,re),f}function re(){if(--vu===0&&Bc!==null){yu!==null&&(yu.status="fulfilled");var c=Bc;Bc=null,Cs=0,yu=null;for(var f=0;f<c.length;f++)(0,c[f])()}}function te(c,f){var v=[],S={status:"pending",value:null,reason:null,then:function(R){v.push(R)}};return c.then(function(){S.status="fulfilled",S.value=f;for(var R=0;R<v.length;R++)(0,v[R])(f)},function(R){for(S.status="rejected",S.reason=R,R=0;R<v.length;R++)(0,v[R])(void 0)}),S}function ve(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function le(c,f){c=c.updateQueue,f.updateQueue===c&&(f.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,callbacks:null})}function qt(c){return{lane:c,tag:0,payload:null,callback:null,next:null}}function ee(c,f,v){var S=c.updateQueue;if(S===null)return null;if(S=S.shared,(Nn&2)!==0){var R=S.pending;return R===null?f.next=f:(f.next=R.next,R.next=f),S.pending=f,f=Xt(c),Zt(c,null,v),f}return Ot(c,S,f,v),Xt(c)}function Ae(c,f,v){if(f=f.updateQueue,f!==null&&(f=f.shared,(v&4194176)!==0)){var S=f.lanes;S&=c.pendingLanes,v|=S,f.lanes=v,rt(c,v)}}function it(c,f){var v=c.updateQueue,S=c.alternate;if(S!==null&&(S=S.updateQueue,v===S)){var R=null,N=null;if(v=v.firstBaseUpdate,v!==null){do{var J={lane:v.lane,tag:v.tag,payload:v.payload,callback:null,next:null};N===null?R=N=J:N=N.next=J,v=v.next}while(v!==null);N===null?R=N=f:N=N.next=f}else R=N=f;v={baseState:S.baseState,firstBaseUpdate:R,lastBaseUpdate:N,shared:S.shared,callbacks:S.callbacks},c.updateQueue=v;return}c=v.lastBaseUpdate,c===null?v.firstBaseUpdate=f:c.next=f,v.lastBaseUpdate=f}function vt(){if(xu){var c=yu;if(c!==null)throw c}}function Qt(c,f,v,S){xu=!1;var R=c.updateQueue;qo=!1;var N=R.firstBaseUpdate,J=R.lastBaseUpdate,st=R.shared.pending;if(st!==null){R.shared.pending=null;var _t=st,Pt=_t.next;_t.next=null,J===null?N=Pt:J.next=Pt,J=_t;var oe=c.alternate;oe!==null&&(oe=oe.updateQueue,st=oe.lastBaseUpdate,st!==J&&(st===null?oe.firstBaseUpdate=Pt:st.next=Pt,oe.lastBaseUpdate=_t))}if(N!==null){var me=R.baseState;J=0,oe=Pt=_t=null,st=N;do{var Se=st.lane&-536870913,an=Se!==st.lane;if(an?(Sn&Se)===Se:(S&Se)===Se){Se!==0&&Se===Cs&&(xu=!0),oe!==null&&(oe=oe.next={lane:0,tag:st.tag,payload:st.payload,callback:null,next:null});t:{var Ls=c,zl=st;Se=f;var Hl=v;switch(zl.tag){case 1:if(Ls=zl.payload,typeof Ls=="function"){me=Ls.call(Hl,me,Se);break t}me=Ls;break t;case 3:Ls.flags=Ls.flags&-65537|128;case 0:if(Ls=zl.payload,Se=typeof Ls=="function"?Ls.call(Hl,me,Se):Ls,Se==null)break t;me=Xd({},me,Se);break t;case 2:qo=!0}}Se=st.callback,Se!==null&&(c.flags|=64,an&&(c.flags|=8192),an=R.callbacks,an===null?R.callbacks=[Se]:an.push(Se))}else an={lane:Se,tag:st.tag,payload:st.payload,callback:st.callback,next:null},oe===null?(Pt=oe=an,_t=me):oe=oe.next=an,J|=Se;if(st=st.next,st===null){if(st=R.shared.pending,st===null)break;an=st,st=an.next,an.next=null,R.lastBaseUpdate=an,R.shared.pending=null}}while(!0);oe===null&&(_t=me),R.baseState=_t,R.firstBaseUpdate=Pt,R.lastBaseUpdate=oe,N===null&&(R.shared.lanes=0),Us|=J,c.lanes=J,c.memoizedState=me}}function $(c,f){if(typeof c!="function")throw Error(i(191,c));c.call(f)}function zt(c,f){var v=c.callbacks;if(v!==null)for(c.callbacks=null,c=0;c<v.length;c++)$(v[c],f)}function Wt(c,f){if(os(c,f))return!0;if(typeof c!="object"||c===null||typeof f!="object"||f===null)return!1;var v=Object.keys(c),S=Object.keys(f);if(v.length!==S.length)return!1;for(S=0;S<v.length;S++){var R=v[S];if(!io.call(f,R)||!os(c[R],f[R]))return!1}return!0}function se(c){return c=c.status,c==="fulfilled"||c==="rejected"}function Kt(){}function It(c,f,v){switch(v=c[v],v===void 0?c.push(f):v!==f&&(f.then(Kt,Kt),f=v),f.status){case"fulfilled":return f.value;case"rejected":throw c=f.reason,c===Dc?Error(i(483)):c;default:if(typeof f.status=="string")f.then(Kt,Kt);else{if(c=qn,c!==null&&100<c.shellSuspendCounter)throw Error(i(482));c=f,c.status="pending",c.then(function(S){if(f.status==="pending"){var R=f;R.status="fulfilled",R.value=S}},function(S){if(f.status==="pending"){var R=f;R.status="rejected",R.reason=S}})}switch(f.status){case"fulfilled":return f.value;case"rejected":throw c=f.reason,c===Dc?Error(i(483)):c}throw Dl=f,Dc}}function ce(){if(Dl===null)throw Error(i(459));var c=Dl;return Dl=null,c}function be(c){var f=Ul;return Ul+=1,Ol===null&&(Ol=[]),It(Ol,c,f)}function $e(c,f){f=f.props.ref,c.ref=f!==void 0?f:null}function ue(c,f){throw f.$$typeof===TS?Error(i(525)):(c=Object.prototype.toString.call(f),Error(i(31,c==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":c)))}function Ee(c){var f=c._init;return f(c._payload)}function Le(c){function f(Et,ct){if(c){var Dt=Et.deletions;Dt===null?(Et.deletions=[ct],Et.flags|=16):Dt.push(ct)}}function v(Et,ct){if(!c)return null;for(;ct!==null;)f(Et,ct),ct=ct.sibling;return null}function S(Et){for(var ct=new Map;Et!==null;)Et.key!==null?ct.set(Et.key,Et):ct.set(Et.index,Et),Et=Et.sibling;return ct}function R(Et,ct){return Et=Zs(Et,ct),Et.index=0,Et.sibling=null,Et}function N(Et,ct,Dt){return Et.index=Dt,c?(Dt=Et.alternate,Dt!==null?(Dt=Dt.index,Dt<ct?(Et.flags|=33554434,ct):Dt):(Et.flags|=33554434,ct)):(Et.flags|=1048576,ct)}function J(Et){return c&&Et.alternate===null&&(Et.flags|=33554434),Et}function st(Et,ct,Dt,ae){return ct===null||ct.tag!==6?(ct=Gd(Dt,Et.mode,ae),ct.return=Et,ct):(ct=R(ct,Dt),ct.return=Et,ct)}function _t(Et,ct,Dt,ae){var Fe=Dt.type;return Fe===Ml?oe(Et,ct,Dt.props.children,ae,Dt.key):ct!==null&&(ct.elementType===Fe||typeof Fe=="object"&&Fe!==null&&Fe.$$typeof===tr&&Ee(Fe)===ct.type)?(ct=R(ct,Dt.props),$e(ct,Dt),ct.return=Et,ct):(ct=Zr(Dt.type,Dt.key,Dt.props,null,Et.mode,ae),$e(ct,Dt),ct.return=Et,ct)}function Pt(Et,ct,Dt,ae){return ct===null||ct.tag!==4||ct.stateNode.containerInfo!==Dt.containerInfo||ct.stateNode.implementation!==Dt.implementation?(ct=vg(Dt,Et.mode,ae),ct.return=Et,ct):(ct=R(ct,Dt.children||[]),ct.return=Et,ct)}function oe(Et,ct,Dt,ae,Fe){return ct===null||ct.tag!==7?(ct=Mi(Dt,Et.mode,ae,Fe),ct.return=Et,ct):(ct=R(ct,Dt),ct.return=Et,ct)}function me(Et,ct,Dt){if(typeof ct=="string"&&ct!==""||typeof ct=="number"||typeof ct=="bigint")return ct=Gd(""+ct,Et.mode,Dt),ct.return=Et,ct;if(typeof ct=="object"&&ct!==null){switch(ct.$$typeof){case jf:return Dt=Zr(ct.type,ct.key,ct.props,null,Et.mode,Dt),$e(Dt,ct),Dt.return=Et,Dt;case $s:return ct=vg(ct,Et.mode,Dt),ct.return=Et,ct;case tr:var ae=ct._init;return ct=ae(ct._payload),me(Et,ct,Dt)}if(yc(ct)||s(ct))return ct=Mi(ct,Et.mode,Dt,null),ct.return=Et,ct;if(typeof ct.then=="function")return me(Et,be(ct),Dt);if(ct.$$typeof===Ar)return me(Et,Lf(Et,ct),Dt);ue(Et,ct)}return null}function Se(Et,ct,Dt,ae){var Fe=ct!==null?ct.key:null;if(typeof Dt=="string"&&Dt!==""||typeof Dt=="number"||typeof Dt=="bigint")return Fe!==null?null:st(Et,ct,""+Dt,ae);if(typeof Dt=="object"&&Dt!==null){switch(Dt.$$typeof){case jf:return Dt.key===Fe?_t(Et,ct,Dt,ae):null;case $s:return Dt.key===Fe?Pt(Et,ct,Dt,ae):null;case tr:return Fe=Dt._init,Dt=Fe(Dt._payload),Se(Et,ct,Dt,ae)}if(yc(Dt)||s(Dt))return Fe!==null?null:oe(Et,ct,Dt,ae,null);if(typeof Dt.then=="function")return Se(Et,ct,be(Dt),ae);if(Dt.$$typeof===Ar)return Se(Et,ct,Lf(Et,Dt),ae);ue(Et,Dt)}return null}function an(Et,ct,Dt,ae,Fe){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return Et=Et.get(Dt)||null,st(ct,Et,""+ae,Fe);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case jf:return Et=Et.get(ae.key===null?Dt:ae.key)||null,_t(ct,Et,ae,Fe);case $s:return Et=Et.get(ae.key===null?Dt:ae.key)||null,Pt(ct,Et,ae,Fe);case tr:var di=ae._init;return ae=di(ae._payload),an(Et,ct,Dt,ae,Fe)}if(yc(ae)||s(ae))return Et=Et.get(Dt)||null,oe(ct,Et,ae,Fe,null);if(typeof ae.then=="function")return an(Et,ct,Dt,be(ae),Fe);if(ae.$$typeof===Ar)return an(Et,ct,Dt,Lf(ct,ae),Fe);ue(ct,ae)}return null}function Ls(Et,ct,Dt,ae){for(var Fe=null,di=null,Qe=ct,zn=ct=0,Ni=null;Qe!==null&&zn<Dt.length;zn++){Qe.index>zn?(Ni=Qe,Qe=null):Ni=Qe.sibling;var yn=Se(Et,Qe,Dt[zn],ae);if(yn===null){Qe===null&&(Qe=Ni);break}c&&Qe&&yn.alternate===null&&f(Et,Qe),ct=N(yn,ct,zn),di===null?Fe=yn:di.sibling=yn,di=yn,Qe=Ni}if(zn===Dt.length)return v(Et,Qe),Dn&&I(Et,zn),Fe;if(Qe===null){for(;zn<Dt.length;zn++)Qe=me(Et,Dt[zn],ae),Qe!==null&&(ct=N(Qe,ct,zn),di===null?Fe=Qe:di.sibling=Qe,di=Qe);return Dn&&I(Et,zn),Fe}for(Qe=S(Qe);zn<Dt.length;zn++)Ni=an(Qe,Et,zn,Dt[zn],ae),Ni!==null&&(c&&Ni.alternate!==null&&Qe.delete(Ni.key===null?zn:Ni.key),ct=N(Ni,ct,zn),di===null?Fe=Ni:di.sibling=Ni,di=Ni);return c&&Qe.forEach(function(fo){return f(Et,fo)}),Dn&&I(Et,zn),Fe}function zl(Et,ct,Dt,ae){if(Dt==null)throw Error(i(151));for(var Fe=null,di=null,Qe=ct,zn=ct=0,Ni=null,yn=Dt.next();Qe!==null&&!yn.done;zn++,yn=Dt.next()){Qe.index>zn?(Ni=Qe,Qe=null):Ni=Qe.sibling;var fo=Se(Et,Qe,yn.value,ae);if(fo===null){Qe===null&&(Qe=Ni);break}c&&Qe&&fo.alternate===null&&f(Et,Qe),ct=N(fo,ct,zn),di===null?Fe=fo:di.sibling=fo,di=fo,Qe=Ni}if(yn.done)return v(Et,Qe),Dn&&I(Et,zn),Fe;if(Qe===null){for(;!yn.done;zn++,yn=Dt.next())yn=me(Et,yn.value,ae),yn!==null&&(ct=N(yn,ct,zn),di===null?Fe=yn:di.sibling=yn,di=yn);return Dn&&I(Et,zn),Fe}for(Qe=S(Qe);!yn.done;zn++,yn=Dt.next())yn=an(Qe,Et,zn,yn.value,ae),yn!==null&&(c&&yn.alternate!==null&&Qe.delete(yn.key===null?zn:yn.key),ct=N(yn,ct,zn),di===null?Fe=yn:di.sibling=yn,di=yn);return c&&Qe.forEach(function(_p){return f(Et,_p)}),Dn&&I(Et,zn),Fe}function Hl(Et,ct,Dt,ae){if(typeof Dt=="object"&&Dt!==null&&Dt.type===Ml&&Dt.key===null&&(Dt=Dt.props.children),typeof Dt=="object"&&Dt!==null){switch(Dt.$$typeof){case jf:t:{for(var Fe=Dt.key;ct!==null;){if(ct.key===Fe){if(Fe=Dt.type,Fe===Ml){if(ct.tag===7){v(Et,ct.sibling),ae=R(ct,Dt.props.children),ae.return=Et,Et=ae;break t}}else if(ct.elementType===Fe||typeof Fe=="object"&&Fe!==null&&Fe.$$typeof===tr&&Ee(Fe)===ct.type){v(Et,ct.sibling),ae=R(ct,Dt.props),$e(ae,Dt),ae.return=Et,Et=ae;break t}v(Et,ct);break}else f(Et,ct);ct=ct.sibling}Dt.type===Ml?(ae=Mi(Dt.props.children,Et.mode,ae,Dt.key),ae.return=Et,Et=ae):(ae=Zr(Dt.type,Dt.key,Dt.props,null,Et.mode,ae),$e(ae,Dt),ae.return=Et,Et=ae)}return J(Et);case $s:t:{for(Fe=Dt.key;ct!==null;){if(ct.key===Fe)if(ct.tag===4&&ct.stateNode.containerInfo===Dt.containerInfo&&ct.stateNode.implementation===Dt.implementation){v(Et,ct.sibling),ae=R(ct,Dt.children||[]),ae.return=Et,Et=ae;break t}else{v(Et,ct);break}else f(Et,ct);ct=ct.sibling}ae=vg(Dt,Et.mode,ae),ae.return=Et,Et=ae}return J(Et);case tr:return Fe=Dt._init,Dt=Fe(Dt._payload),Hl(Et,ct,Dt,ae)}if(yc(Dt))return Ls(Et,ct,Dt,ae);if(s(Dt)){if(Fe=s(Dt),typeof Fe!="function")throw Error(i(150));return Dt=Fe.call(Dt),zl(Et,ct,Dt,ae)}if(typeof Dt.then=="function")return Hl(Et,ct,be(Dt),ae);if(Dt.$$typeof===Ar)return Hl(Et,ct,Lf(Et,Dt),ae);ue(Et,Dt)}return typeof Dt=="string"&&Dt!==""||typeof Dt=="number"||typeof Dt=="bigint"?(Dt=""+Dt,ct!==null&&ct.tag===6?(v(Et,ct.sibling),ae=R(ct,Dt),ae.return=Et,Et=ae):(v(Et,ct),ae=Gd(Dt,Et.mode,ae),ae.return=Et,Et=ae),J(Et)):v(Et,ct)}return function(Et,ct,Dt,ae){try{Ul=0;var Fe=Hl(Et,ct,Dt,ae);return Ol=null,Fe}catch(Qe){if(Qe===Dc)throw Qe;var di=e(29,Qe,null,Et.mode);return di.lanes=ae,di.return=Et,di}finally{}}}function ie(c,f){c=Ua,w(Oc,c),w(ri,f),Ua=c|f.baseLanes}function Te(){w(Oc,Ua),w(ri,ri.current)}function Re(){Ua=Oc.current,b(ri),b(Oc)}function Ie(c){var f=c.alternate;w(Wi,Wi.current&1),w(Rs,c),ei===null&&(f===null||ri.current!==null||f.memoizedState!==null)&&(ei=c)}function gi(c){if(c.tag===22){if(w(Wi,Wi.current),w(Rs,c),ei===null){var f=c.alternate;f!==null&&f.memoizedState!==null&&(ei=c)}}else qe()}function qe(){w(Wi,Wi.current),w(Rs,Rs.current)}function Tn(c){b(Rs),ei===c&&(ei=null),b(Wi)}function Xn(c){for(var f=c;f!==null;){if(f.tag===13){var v=f.memoizedState;if(v!==null&&(v=v.dehydrated,v===null||Zd(v)||$d(v)))return f}else if(f.tag===19&&f.memoizedProps.revealOrder!==void 0){if((f.flags&128)!==0)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===c)break;for(;f.sibling===null;){if(f.return===null||f.return===c)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}function Je(){throw Error(i(321))}function An(c,f){if(f===null)return!1;for(var v=0;v<f.length&&v<c.length;v++)if(!os(c[v],f[v]))return!1;return!0}function gn(c,f,v,S,R,N){return Jo=N,hn=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,je.H=c===null||c.memoizedState===null?Il:Ka,Ll=!1,N=v(S,R),Ll=!1,Au&&(N=On(f,v,S,R)),Fi(c),N}function Fi(c){je.H=bi;var f=Ve!==null&&Ve.next!==null;if(Jo=0,Un=Ve=hn=null,sr=!1,Su=0,ra=null,f)throw Error(i(300));c===null||ni||(c=c.dependencies,c!==null&&Nf(c)&&(ni=!0))}function On(c,f,v,S){hn=c;var R=0;do{if(Au&&(ra=null),Su=0,Au=!1,25<=R)throw Error(i(301));if(R+=1,Un=Ve=null,c.updateQueue!=null){var N=c.updateQueue;N.lastEffect=null,N.events=null,N.stores=null,N.memoCache!=null&&(N.memoCache.index=0)}je.H=ws,N=f(v,S)}while(Au);return N}function Bn(){var c=je.H,f=c.useState()[0];return f=typeof f.then=="function"?Tt(f):f,c=c.useState()[0],(Ve!==null?Ve.memoizedState:null)!==c&&(hn.flags|=1024),f}function fa(){var c=up!==0;return up=0,c}function _i(c,f,v){f.updateQueue=c.updateQueue,f.flags&=-2053,c.lanes&=~v}function k(c){if(sr){for(c=c.memoizedState;c!==null;){var f=c.queue;f!==null&&(f.pending=null),c=c.next}sr=!1}Jo=0,Un=Ve=hn=null,Au=!1,Su=up=0,ra=null}function ot(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Un===null?hn.memoizedState=Un=c:Un=Un.next=c,Un}function yt(){if(Ve===null){var c=hn.alternate;c=c!==null?c.memoizedState:null}else c=Ve.next;var f=Un===null?hn.memoizedState:Un.next;if(f!==null)Un=f,Ve=c;else{if(c===null)throw hn.alternate===null?Error(i(467)):Error(i(310));Ve=c,c={memoizedState:Ve.memoizedState,baseState:Ve.baseState,baseQueue:Ve.baseQueue,queue:Ve.queue,next:null},Un===null?hn.memoizedState=Un=c:Un=Un.next=c}return Un}function Tt(c){var f=Su;return Su+=1,ra===null&&(ra=[]),c=It(ra,c,f),f=hn,(Un===null?f.memoizedState:Un.next)===null&&(f=f.alternate,je.H=f===null||f.memoizedState===null?Il:Ka),c}function dt(c){if(c!==null&&typeof c=="object"){if(typeof c.then=="function")return Tt(c);if(c.$$typeof===Ar)return _a(c)}throw Error(i(438,String(c)))}function kt(c){var f=null,v=hn.updateQueue;if(v!==null&&(f=v.memoCache),f==null){var S=hn.alternate;S!==null&&(S=S.updateQueue,S!==null&&(S=S.memoCache,S!=null&&(f={data:S.data.map(function(R){return R.slice()}),index:0})))}if(f==null&&(f={data:[],index:0}),v===null&&(v=cp(),hn.updateQueue=v),v.memoCache=f,v=f.data[f.index],v===void 0)for(v=f.data[f.index]=Array(c),S=0;S<c;S++)v[S]=iv;return f.index++,v}function ne(c,f){return typeof f=="function"?f(c):f}function ye(c){var f=yt();return he(f,Ve,c)}function he(c,f,v){var S=c.queue;if(S===null)throw Error(i(311));S.lastRenderedReducer=v;var R=c.baseQueue,N=S.pending;if(N!==null){if(R!==null){var J=R.next;R.next=N.next,N.next=J}f.baseQueue=R=N,S.pending=null}if(N=c.baseState,R===null)c.memoizedState=N;else{f=R.next;var st=J=null,_t=null,Pt=f,oe=!1;do{var me=Pt.lane&-536870913;if(me!==Pt.lane?(Sn&me)===me:(Jo&me)===me){var Se=Pt.revertLane;if(Se===0)_t!==null&&(_t=_t.next={lane:0,revertLane:0,action:Pt.action,hasEagerState:Pt.hasEagerState,eagerState:Pt.eagerState,next:null}),me===Cs&&(oe=!0);else if((Jo&Se)===Se){Pt=Pt.next,Se===Cs&&(oe=!0);continue}else me={lane:0,revertLane:Pt.revertLane,action:Pt.action,hasEagerState:Pt.hasEagerState,eagerState:Pt.eagerState,next:null},_t===null?(st=_t=me,J=N):_t=_t.next=me,hn.lanes|=Se,Us|=Se;me=Pt.action,Ll&&v(N,me),N=Pt.hasEagerState?Pt.eagerState:v(N,me)}else Se={lane:me,revertLane:Pt.revertLane,action:Pt.action,hasEagerState:Pt.hasEagerState,eagerState:Pt.eagerState,next:null},_t===null?(st=_t=Se,J=N):_t=_t.next=Se,hn.lanes|=me,Us|=me;Pt=Pt.next}while(Pt!==null&&Pt!==f);if(_t===null?J=N:_t.next=st,!os(N,c.memoizedState)&&(ni=!0,oe&&(v=yu,v!==null)))throw v;c.memoizedState=N,c.baseState=J,c.baseQueue=_t,S.lastRenderedState=N}return R===null&&(S.lanes=0),[c.memoizedState,S.dispatch]}function Ue(c){var f=yt(),v=f.queue;if(v===null)throw Error(i(311));v.lastRenderedReducer=c;var S=v.dispatch,R=v.pending,N=f.memoizedState;if(R!==null){v.pending=null;var J=R=R.next;do N=c(N,J.action),J=J.next;while(J!==R);os(N,f.memoizedState)||(ni=!0),f.memoizedState=N,f.baseQueue===null&&(f.baseState=N),v.lastRenderedState=N}return[N,S]}function Be(c,f,v){var S=hn,R=yt(),N=Dn;if(N){if(v===void 0)throw Error(i(407));v=v()}else v=f();var J=!os((Ve||R).memoizedState,v);if(J&&(R.memoizedState=v,ni=!0),R=R.queue,Xm(sn.bind(null,S,R,c),[c]),R.getSnapshot!==f||J||Un!==null&&Un.memoizedState.tag&1){if(S.flags|=2048,qi(9,tn.bind(null,S,R,v,f),{destroy:void 0},null),qn===null)throw Error(i(349));N||(Jo&60)!==0||Ce(S,f,v)}return v}function Ce(c,f,v){c.flags|=16384,c={getSnapshot:f,value:v},f=hn.updateQueue,f===null?(f=cp(),hn.updateQueue=f,f.stores=[c]):(v=f.stores,v===null?f.stores=[c]:v.push(c))}function tn(c,f,v,S){f.value=v,f.getSnapshot=S,ci(f)&&Kn(c)}function sn(c,f,v){return v(function(){ci(f)&&Kn(c)})}function ci(c){var f=c.getSnapshot;c=c.value;try{var v=f();return!os(c,v)}catch{return!0}}function Kn(c){var f=tt(c,2);f!==null&&ia(f,c,2)}function rn(c){var f=ot();if(typeof c=="function"){var v=c;if(c=v(),Ll){q(!0);try{v()}finally{q(!1)}}}return f.memoizedState=f.baseState=c,f.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ne,lastRenderedState:c},f}function ze(c,f,v,S){return c.baseState=v,he(c,Ve,typeof S=="function"?S:ne)}function fi(c,f,v,S,R){if(wf(c))throw Error(i(485));if(c=f.action,c!==null){var N={payload:R,action:c,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(J){N.listeners.push(J)}};je.T!==null?v(!0):N.isTransition=!1,S(N),v=f.pending,v===null?(N.next=f.pending=N,_n(f,N)):(N.next=v.next,f.pending=v.next=N)}}function _n(c,f){var v=f.action,S=f.payload,R=c.state;if(f.isTransition){var N=je.T,J={};je.T=J;try{var st=v(R,S),_t=je.S;_t!==null&&_t(J,st),ha(c,f,st)}catch(Pt){da(c,f,Pt)}finally{je.T=N}}else try{N=v(R,S),ha(c,f,N)}catch(Pt){da(c,f,Pt)}}function ha(c,f,v){v!==null&&typeof v=="object"&&typeof v.then=="function"?v.then(function(S){Ws(c,f,S)},function(S){return da(c,f,S)}):Ws(c,f,v)}function Ws(c,f,v){f.status="fulfilled",f.value=v,Yi(f),c.state=v,f=c.pending,f!==null&&(v=f.next,v===f?c.pending=null:(v=v.next,f.next=v,_n(c,v)))}function da(c,f,v){var S=c.pending;if(c.pending=null,S!==null){S=S.next;do f.status="rejected",f.reason=v,Yi(f),f=f.next;while(f!==S)}c.action=null}function Yi(c){c=c.listeners;for(var f=0;f<c.length;f++)(0,c[f])()}function Qn(c,f){return f}function wa(c,f){if(Dn){var v=qn.formState;if(v!==null){t:{var S=hn;if(Dn){if(Ma){var R=Lg(Ma,sa);if(R){Ma=Ig(R),S=Ev(R);break t}}Yt(S)}S=!1}S&&(f=v[0])}}v=ot(),v.memoizedState=v.baseState=f,S={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qn,lastRenderedState:f},v.queue=S,v=Jm.bind(null,hn,S),S.dispatch=v,S=rn(!1);var N=ec.bind(null,hn,!1,S.queue);return S=ot(),R={state:f,dispatch:null,action:c,pending:null},S.queue=R,v=fi.bind(null,hn,R,N,v),R.dispatch=v,S.memoizedState=c,[f,v,!1]}function pa(c){var f=yt();return xi(f,Ve,c)}function xi(c,f,v){f=he(c,f,Qn)[0],c=ye(ne)[0],f=typeof f=="object"&&f!==null&&typeof f.then=="function"?Tt(f):f;var S=yt(),R=S.queue,N=R.dispatch;return v!==S.memoizedState&&(hn.flags|=2048,qi(9,ma.bind(null,R,v),{destroy:void 0},null)),[f,N,c]}function ma(c,f){c.action=f}function iu(c){var f=yt(),v=Ve;if(v!==null)return xi(f,v,c);yt(),f=f.memoizedState,v=yt();var S=v.queue.dispatch;return v.memoizedState=c,[f,S,!1]}function qi(c,f,v,S){return c={tag:c,create:f,inst:v,deps:S,next:null},f=hn.updateQueue,f===null&&(f=cp(),hn.updateQueue=f),v=f.lastEffect,v===null?f.lastEffect=c.next=c:(S=v.next,v.next=c,c.next=S,f.lastEffect=c),c}function N_(){return yt().memoizedState}function bf(c,f,v,S){var R=ot();hn.flags|=c,R.memoizedState=qi(1|f,v,{destroy:void 0},S===void 0?null:S)}function Ef(c,f,v,S){var R=yt();S=S===void 0?null:S;var N=R.memoizedState.inst;Ve!==null&&S!==null&&An(S,Ve.memoizedState.deps)?R.memoizedState=qi(f,v,N,S):(hn.flags|=c,R.memoizedState=qi(1|f,v,N,S))}function Ad(c,f){bf(8390656,8,c,f)}function Xm(c,f){Ef(2048,8,c,f)}function L_(c,f){return Ef(4,2,c,f)}function Tf(c,f){return Ef(4,4,c,f)}function Sd(c,f){if(typeof f=="function"){c=c();var v=f(c);return function(){typeof v=="function"?v():f(null)}}if(f!=null)return c=c(),f.current=c,function(){f.current=null}}function Md(c,f,v){v=v!=null?v.concat([c]):null,Ef(4,4,Sd.bind(null,f,c),v)}function ll(){}function au(c,f){var v=yt();f=f===void 0?null:f;var S=v.memoizedState;return f!==null&&An(f,S[1])?S[0]:(v.memoizedState=[c,f],c)}function km(c,f){var v=yt();f=f===void 0?null:f;var S=v.memoizedState;if(f!==null&&An(f,S[1]))return S[0];if(S=c(),Ll){q(!0);try{c()}finally{q(!1)}}return v.memoizedState=[S,f],S}function Cf(c,f,v){return v===void 0||(Jo&1073741824)!==0?c.memoizedState=f:(c.memoizedState=v,c=hg(),hn.lanes|=c,Us|=c,v)}function Ym(c,f,v,S){return os(v,f)?v:ri.current!==null?(c=Cf(c,v,S),os(c,f)||(ni=!0),c):(Jo&42)===0?(ni=!0,c.memoizedState=v):(c=hg(),hn.lanes|=c,Us|=c,f)}function $u(c,f,v,S,R){var N=Vo();Da(N!==0&&8>N?N:8);var J=je.T,st={};je.T=st,ec(c,!1,f,v);try{var _t=R(),Pt=je.S;if(Pt!==null&&Pt(st,_t),_t!==null&&typeof _t=="object"&&typeof _t.then=="function"){var oe=te(_t,S);ul(c,f,oe,Bi(c))}else ul(c,f,S,Bi(c))}catch(me){ul(c,f,{then:function(){},status:"rejected",reason:me},Bi())}finally{Da(N),je.T=J}}function Wr(c){var f=c.memoizedState;if(f!==null)return f;f={memoizedState:El,baseState:El,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ne,lastRenderedState:El},next:null};var v={};return f.next={memoizedState:v,baseState:v,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ne,lastRenderedState:v},next:null},c.memoizedState=f,c=c.alternate,c!==null&&(c.memoizedState=f),f}function Rf(){return _a(Sr)}function tc(){return yt().memoizedState}function Co(){return yt().memoizedState}function qm(c){for(var f=c.return;f!==null;){switch(f.tag){case 24:case 3:var v=Bi();c=qt(v);var S=ee(f,c,v);S!==null&&(ia(S,f,v),Ae(S,f,v)),f={cache:dl()},c.payload=f;return}f=f.return}}function bd(c,f,v){var S=Bi();v={lane:S,revertLane:0,action:v,hasEagerState:!1,eagerState:null,next:null},wf(c)?Va(f,v):(v=Gt(c,f,v,S),v!==null&&(ia(v,c,S),cl(v,f,S)))}function Jm(c,f,v){var S=Bi();ul(c,f,v,S)}function ul(c,f,v,S){var R={lane:S,revertLane:0,action:v,hasEagerState:!1,eagerState:null,next:null};if(wf(c))Va(f,R);else{var N=c.alternate;if(c.lanes===0&&(N===null||N.lanes===0)&&(N=f.lastRenderedReducer,N!==null))try{var J=f.lastRenderedState,st=N(J,v);if(R.hasEagerState=!0,R.eagerState=st,os(st,J))return Ot(c,f,R,0),qn===null&&Ut(),!1}catch{}finally{}if(v=Gt(c,f,R,S),v!==null)return ia(v,c,S),cl(v,f,S),!0}return!1}function ec(c,f,v,S){if(S={lane:2,revertLane:Nt(),action:S,hasEagerState:!1,eagerState:null,next:null},wf(c)){if(f)throw Error(i(479))}else f=Gt(c,v,S,2),f!==null&&ia(f,c,2)}function wf(c){var f=c.alternate;return c===hn||f!==null&&f===hn}function Va(c,f){Au=sr=!0;var v=c.pending;v===null?f.next=f:(f.next=v.next,v.next=f),c.pending=f}function cl(c,f,v){if((v&4194176)!==0){var S=f.lanes;S&=c.pendingLanes,v|=S,f.lanes=v,rt(c,v)}}function nc(c,f,v,S){f=c.memoizedState,v=v(S,f),v=v==null?f:Xd({},f,v),c.memoizedState=v,c.lanes===0&&(c.updateQueue.baseState=v)}function ic(c,f,v,S,R,N,J){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(S,N,J):f.prototype&&f.prototype.isPureReactComponent?!Wt(v,S)||!Wt(R,N):!0}function I_(c,f,v,S){c=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(v,S),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(v,S),f.state!==c&&so.enqueueReplaceState(f,f.state,null)}function Ro(c,f){var v=f;if("ref"in f){v={};for(var S in f)S!=="ref"&&(v[S]=f[S])}if(c=c.defaultProps){v===f&&(v=Xd({},v));for(var R in c)v[R]===void 0&&(v[R]=c[R])}return v}function ac(c,f){try{var v=c.onUncaughtError;v(f.value,{componentStack:f.stack})}catch(S){setTimeout(function(){throw S})}}function sc(c,f,v){try{var S=c.onCaughtError;S(v.value,{componentStack:v.stack,errorBoundary:f.tag===1?f.stateNode:null})}catch(R){setTimeout(function(){throw R})}}function rc(c,f,v){return v=qt(v),v.tag=3,v.payload={element:null},v.callback=function(){ac(c,f)},v}function Km(c){return c=qt(c),c.tag=3,c}function P_(c,f,v,S){var R=v.type.getDerivedStateFromError;if(typeof R=="function"){var N=S.value;c.payload=function(){return R(N)},c.callback=function(){sc(f,v,S)}}var J=v.stateNode;J!==null&&typeof J.componentDidCatch=="function"&&(c.callback=function(){sc(f,v,S),typeof R!="function"&&(Pl===null?Pl=new Set([this]):Pl.add(this));var st=S.stack;this.componentDidCatch(S.value,{componentStack:st!==null?st:""})})}function SS(c,f,v,S,R){if(v.flags|=32768,S!==null&&typeof S=="object"&&typeof S.then=="function"){if(f=v.alternate,f!==null&&Uf(f,v,R,!0),v=Rs.current,v!==null){switch(v.tag){case 13:return ei===null?Io():v.alternate===null&&ii===0&&(ii=3),v.flags&=-257,v.flags|=65536,v.lanes=R,S===fh?v.flags|=16384:(f=v.updateQueue,f===null?v.updateQueue=new Set([S]):f.add(S),ou(c,S,R)),!1;case 22:return v.flags|=65536,S===fh?v.flags|=16384:(f=v.updateQueue,f===null?(f={transitions:null,markerInstances:null,retryQueue:new Set([S])},v.updateQueue=f):(v=f.retryQueue,v===null?f.retryQueue=new Set([S]):v.add(S)),ou(c,S,R)),!1}throw Error(i(435,v.tag))}return ou(c,S,R),Io(),!1}if(Dn)return f=Rs.current,f!==null?((f.flags&65536)===0&&(f.flags|=256),f.flags|=65536,f.lanes=R,S!==lh&&(c=Error(i(422),{cause:S}),Z(lt(c,v)))):(S!==lh&&(f=Error(i(423),{cause:S}),Z(lt(f,v))),c=c.current.alternate,c.flags|=65536,R&=-R,c.lanes|=R,S=lt(S,v),R=rc(c.stateNode,S,R),it(c,R),ii!==4&&(ii=2)),!1;var N=Error(i(520),{cause:S});if(N=lt(N,v),bu===null?bu=[N]:bu.push(N),ii!==4&&(ii=2),f===null)return!0;S=lt(S,v),v=f;do{switch(v.tag){case 3:return v.flags|=65536,c=R&-R,v.lanes|=c,c=rc(v.stateNode,S,c),it(v,c),!1;case 1:if(f=v.type,N=v.stateNode,(v.flags&128)===0&&(typeof f.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(Pl===null||!Pl.has(N))))return v.flags|=65536,R&=-R,v.lanes|=R,R=Km(R),P_(R,c,v,S),it(v,R),!1}v=v.return}while(v!==null);return!1}function ga(c,f,v,S){f.child=c===null?ao(f,null,v,S):Nl(f,c.child,v,S)}function Ed(c,f,v,S,R){v=v.render;var N=f.ref;if("ref"in S){var J={};for(var st in S)st!=="ref"&&(J[st]=S[st])}else J=S;return hl(f),S=gn(c,f,v,J,N,R),st=fa(),c!==null&&!ni?(_i(c,f,R),wo(c,f,R)):(Dn&&st&&gt(f),f.flags|=1,ga(c,f,S,R),f.child)}function F_(c,f,v,S,R){if(c===null){var N=v.type;return typeof N=="function"&&!qf(N)&&N.defaultProps===void 0&&v.compare===null?(f.tag=15,f.type=N,z_(c,f,N,S,R)):(c=Zr(v.type,null,S,f,f.mode,R),c.ref=f.ref,c.return=f,f.child=c)}if(N=c.child,!$m(c,R)){var J=N.memoizedProps;if(v=v.compare,v=v!==null?v:Wt,v(J,S)&&c.ref===f.ref)return wo(c,f,R)}return f.flags|=1,c=Zs(N,S),c.ref=f.ref,c.return=f,f.child=c}function z_(c,f,v,S,R){if(c!==null){var N=c.memoizedProps;if(Wt(N,S)&&c.ref===f.ref)if(ni=!1,f.pendingProps=S=N,$m(c,R))(c.flags&131072)!==0&&(ni=!0);else return f.lanes=c.lanes,wo(c,f,R)}return Td(c,f,v,S,R)}function H_(c,f,v){var S=f.pendingProps,R=S.children,N=(f.stateNode._pendingVisibility&2)!==0,J=c!==null?c.memoizedState:null;if(Bf(c,f),S.mode==="hidden"||N){if((f.flags&128)!==0){if(S=J!==null?J.baseLanes|v:v,c!==null){for(R=f.child=c.child,N=0;R!==null;)N=N|R.lanes|R.childLanes,R=R.sibling;f.childLanes=N&~S}else f.childLanes=0,f.child=null;return G_(c,f,S,v)}if((v&536870912)!==0)f.memoizedState={baseLanes:0,cachePool:null},c!==null&&Rd(f,J!==null?J.cachePool:null),J!==null?ie(f,J):Te(),gi(f);else return f.lanes=f.childLanes=536870912,G_(c,f,J!==null?J.baseLanes|v:v,v)}else J!==null?(Rd(f,J.cachePool),ie(f,J),qe(),f.memoizedState=null):(c!==null&&Rd(f,null),Te(),qe());return ga(c,f,R,v),f.child}function G_(c,f,v,S){var R=eg();return R=R===null?null:{parent:Ya?oi._currentValue:oi._currentValue2,pool:R},f.memoizedState={baseLanes:v,cachePool:R},c!==null&&Rd(f,null),Te(),gi(f),c!==null&&Uf(c,f,S,!0),null}function Bf(c,f){var v=f.ref;if(v===null)c!==null&&c.ref!==null&&(f.flags|=2097664);else{if(typeof v!="function"&&typeof v!="object")throw Error(i(284));(c===null||c.ref!==v)&&(f.flags|=2097664)}}function Td(c,f,v,S,R){return hl(f),v=gn(c,f,v,S,void 0,R),S=fa(),c!==null&&!ni?(_i(c,f,R),wo(c,f,R)):(Dn&&S&&gt(f),f.flags|=1,ga(c,f,v,R),f.child)}function V_(c,f,v,S,R,N){return hl(f),f.updateQueue=null,v=On(f,S,v,R),Fi(c),S=fa(),c!==null&&!ni?(_i(c,f,N),wo(c,f,N)):(Dn&&S&&gt(f),f.flags|=1,ga(c,f,v,N),f.child)}function X_(c,f,v,S,R){if(hl(f),f.stateNode===null){var N=wl,J=v.contextType;typeof J=="object"&&J!==null&&(N=_a(J)),N=new v(S,N),f.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,N.updater=so,f.stateNode=N,N._reactInternals=f,N=f.stateNode,N.props=S,N.state=f.memoizedState,N.refs={},ve(f),J=v.contextType,N.context=typeof J=="object"&&J!==null?_a(J):wl,N.state=f.memoizedState,J=v.getDerivedStateFromProps,typeof J=="function"&&(nc(f,v,J,S),N.state=f.memoizedState),typeof v.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(J=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),J!==N.state&&so.enqueueReplaceState(N,N.state,null),Qt(f,S,N,R),vt(),N.state=f.memoizedState),typeof N.componentDidMount=="function"&&(f.flags|=4194308),S=!0}else if(c===null){N=f.stateNode;var st=f.memoizedProps,_t=Ro(v,st);N.props=_t;var Pt=N.context,oe=v.contextType;J=wl,typeof oe=="object"&&oe!==null&&(J=_a(oe));var me=v.getDerivedStateFromProps;oe=typeof me=="function"||typeof N.getSnapshotBeforeUpdate=="function",st=f.pendingProps!==st,oe||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(st||Pt!==J)&&I_(f,N,S,J),qo=!1;var Se=f.memoizedState;N.state=Se,Qt(f,S,N,R),vt(),Pt=f.memoizedState,st||Se!==Pt||qo?(typeof me=="function"&&(nc(f,v,me,S),Pt=f.memoizedState),(_t=qo||ic(f,v,_t,S,Se,Pt,J))?(oe||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(f.flags|=4194308)):(typeof N.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=S,f.memoizedState=Pt),N.props=S,N.state=Pt,N.context=J,S=_t):(typeof N.componentDidMount=="function"&&(f.flags|=4194308),S=!1)}else{N=f.stateNode,le(c,f),J=f.memoizedProps,oe=Ro(v,J),N.props=oe,me=f.pendingProps,Se=N.context,Pt=v.contextType,_t=wl,typeof Pt=="object"&&Pt!==null&&(_t=_a(Pt)),st=v.getDerivedStateFromProps,(Pt=typeof st=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(J!==me||Se!==_t)&&I_(f,N,S,_t),qo=!1,Se=f.memoizedState,N.state=Se,Qt(f,S,N,R),vt();var an=f.memoizedState;J!==me||Se!==an||qo||c!==null&&c.dependencies!==null&&Nf(c.dependencies)?(typeof st=="function"&&(nc(f,v,st,S),an=f.memoizedState),(oe=qo||ic(f,v,oe,S,Se,an,_t)||c!==null&&c.dependencies!==null&&Nf(c.dependencies))?(Pt||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(S,an,_t),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(S,an,_t)),typeof N.componentDidUpdate=="function"&&(f.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof N.componentDidUpdate!="function"||J===c.memoizedProps&&Se===c.memoizedState||(f.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||J===c.memoizedProps&&Se===c.memoizedState||(f.flags|=1024),f.memoizedProps=S,f.memoizedState=an),N.props=S,N.state=an,N.context=_t,S=oe):(typeof N.componentDidUpdate!="function"||J===c.memoizedProps&&Se===c.memoizedState||(f.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||J===c.memoizedProps&&Se===c.memoizedState||(f.flags|=1024),S=!1)}return N=S,Bf(c,f),S=(f.flags&128)!==0,N||S?(N=f.stateNode,v=S&&typeof v.getDerivedStateFromError!="function"?null:N.render(),f.flags|=1,c!==null&&S?(f.child=Nl(f,c.child,null,R),f.child=Nl(f,null,v,R)):ga(c,f,v,R),f.memoizedState=N.state,c=f.child):c=wo(c,f,R),c}function k_(c,f,v,S){return _e(),f.flags|=256,ga(c,f,v,S),f.child}function Wm(c){return{baseLanes:c,cachePool:ng()}}function Df(c,f,v){return c=c!==null?c.childLanes&~v:0,f&&(c|=Ns),c}function Y_(c,f,v){var S=f.pendingProps,R=!1,N=(f.flags&128)!==0,J;if((J=N)||(J=c!==null&&c.memoizedState===null?!1:(Wi.current&2)!==0),J&&(R=!0,f.flags&=-129),J=(f.flags&32)!==0,f.flags&=-33,c===null){if(Dn){if(R?Ie(f):qe(),Dn){var st=Ma,_t;(_t=st)&&(st=Rv(st,sa),st!==null?(f.memoizedState={dehydrated:st,treeContext:Bl!==null?{id:br,overflow:Er}:null,retryLane:536870912},_t=e(18,null,null,0),_t.stateNode=st,_t.return=f,f.child=_t,Sa=f,Ma=null,_t=!0):_t=!1),_t||Yt(f)}if(st=f.memoizedState,st!==null&&(st=st.dehydrated,st!==null))return $d(st)?f.lanes=16:f.lanes=536870912,null;Tn(f)}return st=S.children,S=S.fallback,R?(qe(),R=f.mode,st=Qm({mode:"hidden",children:st},R),S=Mi(S,R,v,null),st.return=f,S.return=f,st.sibling=S,f.child=st,R=f.child,R.memoizedState=Wm(v),R.childLanes=Df(c,J,v),f.memoizedState=dp,S):(Ie(f),jm(f,st))}if(_t=c.memoizedState,_t!==null&&(st=_t.dehydrated,st!==null)){if(N)f.flags&256?(Ie(f),f.flags&=-257,f=Cd(c,f,v)):f.memoizedState!==null?(qe(),f.child=c.child,f.flags|=128,f=null):(qe(),R=S.fallback,st=f.mode,S=Qm({mode:"visible",children:S.children},st),R=Mi(R,st,v,null),R.flags|=2,S.return=f,R.return=f,S.sibling=R,f.child=S,Nl(f,c.child,null,v),S=f.child,S.memoizedState=Wm(v),S.childLanes=Df(c,J,v),f.memoizedState=dp,f=R);else if(Ie(f),$d(st))J=Mv(st).digest,S=Error(i(419)),S.stack="",S.digest=J,Z({value:S,source:null,stack:null}),f=Cd(c,f,v);else if(ni||Uf(c,f,v,!1),J=(v&c.childLanes)!==0,ni||J){if(J=qn,J!==null){if(S=v&-v,(S&42)!==0)S=1;else switch(S){case 2:S=1;break;case 8:S=4;break;case 32:S=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:S=64;break;case 268435456:S=134217728;break;default:S=0}if(S=(S&(J.suspendedLanes|v))!==0?0:S,S!==0&&S!==_t.retryLane)throw _t.retryLane=S,tt(c,S),ia(J,c,S),hp}Zd(st)||Io(),f=Cd(c,f,v)}else Zd(st)?(f.flags|=128,f.child=c.child,f=Po.bind(null,c),bv(st,f),f=null):(c=_t.treeContext,Aa&&(Ma=Cv(st),Sa=f,Dn=!0,ir=null,sa=!1,c!==null&&(Es[Ts++]=br,Es[Ts++]=Er,Es[Ts++]=Bl,br=c.id,Er=c.overflow,Bl=f)),f=jm(f,S.children),f.flags|=4096);return f}return R?(qe(),R=S.fallback,st=f.mode,_t=c.child,N=_t.sibling,S=Zs(_t,{mode:"hidden",children:S.children}),S.subtreeFlags=_t.subtreeFlags&31457280,N!==null?R=Zs(N,R):(R=Mi(R,st,v,null),R.flags|=2),R.return=f,S.return=f,S.sibling=R,f.child=S,S=R,R=f.child,st=c.child.memoizedState,st===null?st=Wm(v):(_t=st.cachePool,_t!==null?(N=Ya?oi._currentValue:oi._currentValue2,_t=_t.parent!==N?{parent:N,pool:N}:_t):_t=ng(),st={baseLanes:st.baseLanes|v,cachePool:_t}),R.memoizedState=st,R.childLanes=Df(c,J,v),f.memoizedState=dp,S):(Ie(f),v=c.child,c=v.sibling,v=Zs(v,{mode:"visible",children:S.children}),v.return=f,v.sibling=null,c!==null&&(J=f.deletions,J===null?(f.deletions=[c],f.flags|=16):J.push(c)),f.child=v,f.memoizedState=null,v)}function jm(c,f){return f=Qm({mode:"visible",children:f},c.mode),f.return=c,c.child=f}function Qm(c,f){return Kf(c,f,0,null)}function Cd(c,f,v){return Nl(f,c.child,null,v),c=jm(f,f.pendingProps.children),c.flags|=2,f.memoizedState=null,c}function q_(c,f,v){c.lanes|=f;var S=c.alternate;S!==null&&(S.lanes|=f),Of(c.return,f,v)}function Zm(c,f,v,S,R){var N=c.memoizedState;N===null?c.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:S,tail:v,tailMode:R}:(N.isBackwards=f,N.rendering=null,N.renderingStartTime=0,N.last=S,N.tail=v,N.tailMode=R)}function J_(c,f,v){var S=f.pendingProps,R=S.revealOrder,N=S.tail;if(ga(c,f,S.children,v),S=Wi.current,(S&2)!==0)S=S&1|2,f.flags|=128;else{if(c!==null&&(c.flags&128)!==0)t:for(c=f.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&q_(c,v,f);else if(c.tag===19)q_(c,v,f);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===f)break t;for(;c.sibling===null;){if(c.return===null||c.return===f)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}S&=1}switch(w(Wi,S),R){case"forwards":for(v=f.child,R=null;v!==null;)c=v.alternate,c!==null&&Xn(c)===null&&(R=v),v=v.sibling;v=R,v===null?(R=f.child,f.child=null):(R=v.sibling,v.sibling=null),Zm(f,!1,R,v,N);break;case"backwards":for(v=null,R=f.child,f.child=null;R!==null;){if(c=R.alternate,c!==null&&Xn(c)===null){f.child=R;break}c=R.sibling,R.sibling=v,v=R,R=c}Zm(f,!0,v,null,N);break;case"together":Zm(f,!1,null,null,void 0);break;default:f.memoizedState=null}return f.child}function wo(c,f,v){if(c!==null&&(f.dependencies=c.dependencies),Us|=f.lanes,(v&f.childLanes)===0)if(c!==null){if(Uf(c,f,v,!1),(v&f.childLanes)===0)return null}else return null;if(c!==null&&f.child!==c.child)throw Error(i(153));if(f.child!==null){for(c=f.child,v=Zs(c,c.pendingProps),f.child=v,v.return=f;c.sibling!==null;)c=c.sibling,v=v.sibling=Zs(c,c.pendingProps),v.return=f;v.sibling=null}return f.child}function $m(c,f){return(c.lanes&f)!==0?!0:(c=c.dependencies,!!(c!==null&&Nf(c)))}function MS(c,f,v){switch(f.tag){case 3:St(f,f.stateNode.containerInfo),fl(f,oi,c.memoizedState.cache),_e();break;case 27:case 5:Mt(f);break;case 4:St(f,f.stateNode.containerInfo);break;case 10:fl(f,f.type,f.memoizedProps.value);break;case 13:var S=f.memoizedState;if(S!==null)return S.dehydrated!==null?(Ie(f),f.flags|=128,null):(v&f.child.childLanes)!==0?Y_(c,f,v):(Ie(f),c=wo(c,f,v),c!==null?c.sibling:null);Ie(f);break;case 19:var R=(c.flags&128)!==0;if(S=(v&f.childLanes)!==0,S||(Uf(c,f,v,!1),S=(v&f.childLanes)!==0),R){if(S)return J_(c,f,v);f.flags|=128}if(R=f.memoizedState,R!==null&&(R.rendering=null,R.tail=null,R.lastEffect=null),w(Wi,Wi.current),S)break;return null;case 22:case 23:return f.lanes=0,H_(c,f,v);case 24:fl(f,oi,c.memoizedState.cache)}return wo(c,f,v)}function K_(c,f,v){if(c!==null)if(c.memoizedProps!==f.pendingProps)ni=!0;else{if(!$m(c,v)&&(f.flags&128)===0)return ni=!1,MS(c,f,v);ni=(c.flags&131072)!==0}else ni=!1,Dn&&(f.flags&1048576)!==0&&nt(f,Cc,f.index);switch(f.lanes=0,f.tag){case 16:t:{c=f.pendingProps;var S=f.elementType,R=S._init;if(S=R(S._payload),f.type=S,typeof S=="function")qf(S)?(c=Ro(S,c),f.tag=1,f=X_(null,f,S,c,v)):(f.tag=0,f=Td(null,f,S,c,v));else{if(S!=null){if(R=S.$$typeof,R===$f){f.tag=11,f=Ed(null,f,S,c,v);break t}else if(R===qd){f.tag=14,f=F_(null,f,S,c,v);break t}}throw f=l(S)||S,Error(i(306,f,""))}}return f;case 0:return Td(c,f,f.type,f.pendingProps,v);case 1:return S=f.type,R=Ro(S,f.pendingProps),X_(c,f,S,R,v);case 3:t:{if(St(f,f.stateNode.containerInfo),c===null)throw Error(i(387));var N=f.pendingProps;R=f.memoizedState,S=R.element,le(c,f),Qt(f,N,null,v);var J=f.memoizedState;if(N=J.cache,fl(f,oi,N),N!==R.cache&&su(f,[oi],v,!0),vt(),N=J.element,Aa&&R.isDehydrated)if(R={element:N,isDehydrated:!1,cache:J.cache},f.updateQueue.baseState=R,f.memoizedState=R,f.flags&256){f=k_(c,f,N,v);break t}else if(N!==S){S=lt(Error(i(424)),f),Z(S),f=k_(c,f,N,v);break t}else for(Aa&&(Ma=Tv(f.stateNode.containerInfo),Sa=f,Dn=!0,ir=null,sa=!0),v=ao(f,null,N,v),f.child=v;v;)v.flags=v.flags&-3|4096,v=v.sibling;else{if(_e(),N===S){f=wo(c,f,v);break t}ga(c,f,N,v)}f=f.child}return f;case 26:if(bs)return Bf(c,f),c===null?(v=zg(f.type,null,f.pendingProps,null))?f.memoizedState=v:Dn||(f.stateNode=ap(f.type,f.pendingProps,no.current,f)):f.memoizedState=zg(f.type,c.memoizedProps,f.pendingProps,c.memoizedState),null;case 27:if(ti)return Mt(f),c===null&&ti&&Dn&&(S=f.stateNode=Mr(f.type,f.pendingProps,no.current,Ki.current,!1),Sa=f,sa=!0,Ma=tp(S)),S=f.pendingProps.children,c!==null||Dn?ga(c,f,S,v):f.child=Nl(f,null,S,v),Bf(c,f),f.child;case 5:return c===null&&Dn&&(np(f.type,f.pendingProps,Ki.current),(R=S=Ma)&&(S=BS(S,f.type,f.pendingProps,sa),S!==null?(f.stateNode=S,Sa=f,Ma=tp(S),sa=!1,R=!0):R=!1),R||Yt(f)),Mt(f),R=f.type,N=f.pendingProps,J=c!==null?c.memoizedProps:null,S=N.children,ln(R,N)?S=null:J!==null&&ln(R,J)&&(f.flags|=32),f.memoizedState!==null&&(R=gn(c,f,Bn,null,null,v),Ya?Sr._currentValue=R:Sr._currentValue2=R),Bf(c,f),ga(c,f,S,v),f.child;case 6:return c===null&&Dn&&(Uv(f.pendingProps,Ki.current),(c=v=Ma)&&(v=Pg(v,f.pendingProps,sa),v!==null?(f.stateNode=v,Sa=f,Ma=null,c=!0):c=!1),c||Yt(f)),null;case 13:return Y_(c,f,v);case 4:return St(f,f.stateNode.containerInfo),S=f.pendingProps,c===null?f.child=Nl(f,null,S,v):ga(c,f,S,v),f.child;case 11:return Ed(c,f,f.type,f.pendingProps,v);case 7:return ga(c,f,f.pendingProps,v),f.child;case 8:return ga(c,f,f.pendingProps.children,v),f.child;case 12:return ga(c,f,f.pendingProps.children,v),f.child;case 10:return S=f.pendingProps,fl(f,f.type,S.value),ga(c,f,S.children,v),f.child;case 9:return R=f.type._context,S=f.pendingProps.children,hl(f),R=_a(R),S=S(R),f.flags|=1,ga(c,f,S,v),f.child;case 14:return F_(c,f,f.type,f.pendingProps,v);case 15:return z_(c,f,f.type,f.pendingProps,v);case 19:return J_(c,f,v);case 22:return H_(c,f,v);case 24:return hl(f),S=_a(oi),c===null?(R=eg(),R===null&&(R=qn,N=dl(),R.pooledCache=N,N.refCount++,N!==null&&(R.pooledCacheLanes|=v),R=N),f.memoizedState={parent:S,cache:R},ve(f),fl(f,oi,R)):((c.lanes&v)!==0&&(le(c,f),Qt(f,null,null,v),vt()),R=c.memoizedState,N=f.memoizedState,R.parent!==S?(R={parent:S,cache:S},f.memoizedState=R,f.lanes===0&&(f.memoizedState=f.updateQueue.baseState=R),fl(f,oi,S)):(S=N.cache,fl(f,oi,S),S!==R.cache&&su(f,[oi],v,!0))),ga(c,f,f.pendingProps.children,v),f.child;case 29:throw f.pendingProps}throw Error(i(156,f.tag))}function fl(c,f,v){Ya?(w(Ko,f._currentValue),f._currentValue=v):(w(Ko,f._currentValue2),f._currentValue2=v)}function Bo(c){var f=Ko.current;Ya?c._currentValue=f:c._currentValue2=f,b(Ko)}function Of(c,f,v){for(;c!==null;){var S=c.alternate;if((c.childLanes&f)!==f?(c.childLanes|=f,S!==null&&(S.childLanes|=f)):S!==null&&(S.childLanes&f)!==f&&(S.childLanes|=f),c===v)break;c=c.return}}function su(c,f,v,S){var R=c.child;for(R!==null&&(R.return=c);R!==null;){var N=R.dependencies;if(N!==null){var J=R.child;N=N.firstContext;t:for(;N!==null;){var st=N;N=R;for(var _t=0;_t<f.length;_t++)if(st.context===f[_t]){N.lanes|=v,st=N.alternate,st!==null&&(st.lanes|=v),Of(N.return,v,c),S||(J=null);break t}N=st.next}}else if(R.tag===18){if(J=R.return,J===null)throw Error(i(341));J.lanes|=v,N=J.alternate,N!==null&&(N.lanes|=v),Of(J,v,c),J=null}else J=R.child;if(J!==null)J.return=R;else for(J=R;J!==null;){if(J===c){J=null;break}if(R=J.sibling,R!==null){R.return=J.return,J=R;break}J=J.return}R=J}}function Uf(c,f,v,S){c=null;for(var R=f,N=!1;R!==null;){if(!N){if((R.flags&524288)!==0)N=!0;else if((R.flags&262144)!==0)break}if(R.tag===10){var J=R.alternate;if(J===null)throw Error(i(387));if(J=J.memoizedProps,J!==null){var st=R.type;os(R.pendingProps.value,J.value)||(c!==null?c.push(st):c=[st])}}else if(R===mu.current){if(J=R.alternate,J===null)throw Error(i(387));J.memoizedState.memoizedState!==R.memoizedState.memoizedState&&(c!==null?c.push(Sr):c=[Sr])}R=R.return}c!==null&&su(f,c,v,S),f.flags|=262144}function Nf(c){for(c=c.firstContext;c!==null;){var f=c.context;if(!os(Ya?f._currentValue:f._currentValue2,c.memoizedValue))return!0;c=c.next}return!1}function hl(c){Rr=c,Bs=null,c=c.dependencies,c!==null&&(c.firstContext=null)}function _a(c){return tg(Rr,c)}function Lf(c,f){return Rr===null&&hl(c),tg(c,f)}function tg(c,f){var v=Ya?f._currentValue:f._currentValue2;if(f={context:f,memoizedValue:v,next:null},Bs===null){if(c===null)throw Error(i(308));Bs=f,c.dependencies={lanes:0,firstContext:f},c.flags|=524288}else Bs=Bs.next=f;return v}function dl(){return{controller:new Uc,data:new Map,refCount:0}}function If(c){c.refCount--,c.refCount===0&&kv(Yv,function(){c.controller.abort()})}function eg(){var c=ro.current;return c!==null?c:qn.pooledCache}function Rd(c,f){f===null?w(ro,ro.current):w(ro,f.pool)}function ng(){var c=eg();return c===null?null:{parent:Ya?oi._currentValue:oi._currentValue2,pool:c}}function ts(c){c.flags|=4}function oc(c,f){if(c!==null&&c.child===f.child)return!1;if((f.flags&16)!==0)return!0;for(c=f.child;c!==null;){if((c.flags&13878)!==0||(c.subtreeFlags&13878)!==0)return!0;c=c.sibling}return!1}function ru(c,f,v,S){if(Ji)for(v=f.child;v!==null;){if(v.tag===5||v.tag===6)eh(c,v.stateNode);else if(!(v.tag===4||ti&&v.tag===27)&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===f)break;for(;v.sibling===null;){if(v.return===null||v.return===f)return;v=v.return}v.sibling.return=v.return,v=v.sibling}else if(er)for(var R=f.child;R!==null;){if(R.tag===5){var N=R.stateNode;v&&S&&(N=Ug(N,R.type,R.memoizedProps)),eh(c,N)}else if(R.tag===6)N=R.stateNode,v&&S&&(N=Ng(N,R.memoizedProps)),eh(c,N);else if(R.tag!==4){if(R.tag===22&&R.memoizedState!==null)N=R.child,N!==null&&(N.return=R),ru(c,R,!0,!0);else if(R.child!==null){R.child.return=R,R=R.child;continue}}if(R===f)break;for(;R.sibling===null;){if(R.return===null||R.return===f)return;R=R.return}R.sibling.return=R.return,R=R.sibling}}function W_(c,f,v,S){if(er)for(var R=f.child;R!==null;){if(R.tag===5){var N=R.stateNode;v&&S&&(N=Ug(N,R.type,R.memoizedProps)),Og(c,N)}else if(R.tag===6)N=R.stateNode,v&&S&&(N=Ng(N,R.memoizedProps)),Og(c,N);else if(R.tag!==4){if(R.tag===22&&R.memoizedState!==null)N=R.child,N!==null&&(N.return=R),W_(c,R,!(R.memoizedProps!==null&&R.memoizedProps.mode==="manual"),!0);else if(R.child!==null){R.child.return=R,R=R.child;continue}}if(R===f)break;for(;R.sibling===null;){if(R.return===null||R.return===f)return;R=R.return}R.sibling.return=R.return,R=R.sibling}}function Pf(c,f){if(er&&oc(c,f)){c=f.stateNode;var v=c.containerInfo,S=nh();W_(S,f,!1,!1),c.pendingChildren=S,ts(f),Qd(v,S)}}function wd(c,f,v,S){if(Ji)c.memoizedProps!==S&&ts(f);else if(er){var R=c.stateNode,N=c.memoizedProps;if((c=oc(c,f))||N!==S){var J=Ki.current;N=bc(R,v,N,S,!c,null),N===R?f.stateNode=R:(Go(N,v,S,J)&&ts(f),f.stateNode=N,c?ru(N,f,!1,!1):ts(f))}else f.stateNode=R}}function Bd(c,f,v){if(bg(f,v)){if(c.flags|=16777216,!Wd(f,v))if(yl())c.flags|=8192;else throw Dl=fh,ch}else c.flags&=-16777217}function Dd(c,f){if(Iv(f)){if(c.flags|=16777216,!cu(f))if(yl())c.flags|=8192;else throw Dl=fh,ch}else c.flags&=-16777217}function lc(c,f){f!==null&&(c.flags|=4),c.flags&16384&&(f=c.tag!==22?O():536870912,c.lanes|=f,uo|=f)}function uc(c,f){if(!Dn)switch(c.tailMode){case"hidden":f=c.tail;for(var v=null;f!==null;)f.alternate!==null&&(v=f),f=f.sibling;v===null?c.tail=null:v.sibling=null;break;case"collapsed":v=c.tail;for(var S=null;v!==null;)v.alternate!==null&&(S=v),v=v.sibling;S===null?f||c.tail===null?c.tail=null:c.tail.sibling=null:S.sibling=null}}function vi(c){var f=c.alternate!==null&&c.alternate.child===c.child,v=0,S=0;if(f)for(var R=c.child;R!==null;)v|=R.lanes|R.childLanes,S|=R.subtreeFlags&31457280,S|=R.flags&31457280,R.return=c,R=R.sibling;else for(R=c.child;R!==null;)v|=R.lanes|R.childLanes,S|=R.subtreeFlags,S|=R.flags,R.return=c,R=R.sibling;return c.subtreeFlags|=S,c.childLanes=v,f}function j_(c,f,v){var S=f.pendingProps;switch(bt(f),f.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vi(f),null;case 1:return vi(f),null;case 3:return v=f.stateNode,S=null,c!==null&&(S=c.memoizedState.cache),f.memoizedState.cache!==S&&(f.flags|=2048),Bo(oi),ft(),v.pendingContext&&(v.context=v.pendingContext,v.pendingContext=null),(c===null||c.child===null)&&(Pe(f)?ts(f):c===null||c.memoizedState.isDehydrated&&(f.flags&256)===0||(f.flags|=1024,ir!==null&&(kf(ir),ir=null))),Pf(c,f),vi(f),null;case 26:if(bs){v=f.type;var R=f.memoizedState;return c===null?(ts(f),R!==null?(vi(f),Dd(f,R)):(vi(f),Bd(f,v,S))):R?R!==c.memoizedState?(ts(f),vi(f),Dd(f,R)):(vi(f),f.flags&=-16777217):(Ji?c.memoizedProps!==S&&ts(f):wd(c,f,v,S),vi(f),Bd(f,v,S)),null}case 27:if(ti){if(Lt(f),v=no.current,R=f.type,c!==null&&f.stateNode!=null)Ji?c.memoizedProps!==S&&ts(f):wd(c,f,R,S);else{if(!S){if(f.stateNode===null)throw Error(i(166));return vi(f),null}c=Ki.current,Pe(f)?$t(f,c):(c=Mr(R,S,v,c,!0),f.stateNode=c,ts(f))}return vi(f),null}case 5:if(Lt(f),v=f.type,c!==null&&f.stateNode!=null)wd(c,f,v,S);else{if(!S){if(f.stateNode===null)throw Error(i(166));return vi(f),null}c=Ki.current,Pe(f)?$t(f,c):(R=Mg(v,S,no.current,c,f),ru(R,f,!1,!1),f.stateNode=R,Go(R,v,S,c)&&ts(f))}return vi(f),Bd(f,f.type,f.pendingProps),null;case 6:if(c&&f.stateNode!=null)v=c.memoizedProps,Ji?v!==S&&ts(f):er&&(v!==S?(f.stateNode=Wn(S,no.current,Ki.current,f),ts(f)):f.stateNode=c.stateNode);else{if(typeof S!="string"&&f.stateNode===null)throw Error(i(166));if(c=no.current,v=Ki.current,Pe(f)){if(!Aa)throw Error(i(176));if(c=f.stateNode,v=f.memoizedProps,S=null,R=Sa,R!==null)switch(R.tag){case 27:case 5:S=R.memoizedProps}Fg(c,v,f,S)||Yt(f)}else f.stateNode=Wn(S,c,v,f)}return vi(f),null;case 13:if(S=f.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(R=Pe(f),S!==null&&S.dehydrated!==null){if(c===null){if(!R)throw Error(i(318));if(!Aa)throw Error(i(344));if(R=f.memoizedState,R=R!==null?R.dehydrated:null,!R)throw Error(i(317));Bv(R,f)}else _e(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;vi(f),R=!1}else ir!==null&&(kf(ir),ir=null),R=!0;if(!R)return f.flags&256?(Tn(f),f):(Tn(f),null)}if(Tn(f),(f.flags&128)!==0)return f.lanes=v,f;if(v=S!==null,c=c!==null&&c.memoizedState!==null,v){S=f.child,R=null,S.alternate!==null&&S.alternate.memoizedState!==null&&S.alternate.memoizedState.cachePool!==null&&(R=S.alternate.memoizedState.cachePool.pool);var N=null;S.memoizedState!==null&&S.memoizedState.cachePool!==null&&(N=S.memoizedState.cachePool.pool),N!==R&&(S.flags|=2048)}return v!==c&&v&&(f.child.flags|=8192),lc(f,f.updateQueue),vi(f),null;case 4:return ft(),Pf(c,f),c===null&&Di(f.stateNode.containerInfo),vi(f),null;case 10:return Bo(f.type),vi(f),null;case 19:if(b(Wi),R=f.memoizedState,R===null)return vi(f),null;if(S=(f.flags&128)!==0,N=R.rendering,N===null)if(S)uc(R,!1);else{if(ii!==0||c!==null&&(c.flags&128)!==0)for(c=f.child;c!==null;){if(N=Xn(c),N!==null){for(f.flags|=128,uc(R,!1),c=N.updateQueue,f.updateQueue=c,lc(f,c),f.subtreeFlags=0,c=v,v=f.child;v!==null;)Jf(v,c),v=v.sibling;return w(Wi,Wi.current&1|2),f.child}c=c.sibling}R.tail!==null&&nr()>Ic&&(f.flags|=128,S=!0,uc(R,!1),f.lanes=4194304)}else{if(!S)if(c=Xn(N),c!==null){if(f.flags|=128,S=!0,c=c.updateQueue,f.updateQueue=c,lc(f,c),uc(R,!0),R.tail===null&&R.tailMode==="hidden"&&!N.alternate&&!Dn)return vi(f),null}else 2*nr()-R.renderingStartTime>Ic&&v!==536870912&&(f.flags|=128,S=!0,uc(R,!1),f.lanes=4194304);R.isBackwards?(N.sibling=f.child,f.child=N):(c=R.last,c!==null?c.sibling=N:f.child=N,R.last=N)}return R.tail!==null?(f=R.tail,R.rendering=f,R.tail=f.sibling,R.renderingStartTime=nr(),f.sibling=null,c=Wi.current,w(Wi,S?c&1|2:c&1),f):(vi(f),null);case 22:case 23:return Tn(f),Re(),S=f.memoizedState!==null,c!==null?c.memoizedState!==null!==S&&(f.flags|=8192):S&&(f.flags|=8192),S?(v&536870912)!==0&&(f.flags&128)===0&&(vi(f),f.subtreeFlags&6&&(f.flags|=8192)):vi(f),v=f.updateQueue,v!==null&&lc(f,v.retryQueue),v=null,c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(v=c.memoizedState.cachePool.pool),S=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(S=f.memoizedState.cachePool.pool),S!==v&&(f.flags|=2048),c!==null&&b(ro),null;case 24:return v=null,c!==null&&(v=c.memoizedState.cache),f.memoizedState.cache!==v&&(f.flags|=2048),Bo(oi),vi(f),null;case 25:return null}throw Error(i(156,f.tag))}function bS(c,f){switch(bt(f),f.tag){case 1:return c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 3:return Bo(oi),ft(),c=f.flags,(c&65536)!==0&&(c&128)===0?(f.flags=c&-65537|128,f):null;case 26:case 27:case 5:return Lt(f),null;case 13:if(Tn(f),c=f.memoizedState,c!==null&&c.dehydrated!==null){if(f.alternate===null)throw Error(i(340));_e()}return c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 19:return b(Wi),null;case 4:return ft(),null;case 10:return Bo(f.type),null;case 22:case 23:return Tn(f),Re(),c!==null&&b(ro),c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 24:return Bo(oi),null;case 25:return null;default:return null}}function Q_(c,f){switch(bt(f),f.tag){case 3:Bo(oi),ft();break;case 26:case 27:case 5:Lt(f);break;case 4:ft();break;case 13:Tn(f);break;case 19:b(Wi);break;case 10:Bo(f.type);break;case 22:case 23:Tn(f),Re(),c!==null&&b(ro);break;case 24:Bo(oi)}}function Ff(c,f){try{var v=f.updateQueue,S=v!==null?v.lastEffect:null;if(S!==null){var R=S.next;v=R;do{if((v.tag&c)===c){S=void 0;var N=v.create,J=v.inst;S=N(),J.destroy=S}v=v.next}while(v!==R)}}catch(st){kn(f,f.return,st)}}function pl(c,f,v){try{var S=f.updateQueue,R=S!==null?S.lastEffect:null;if(R!==null){var N=R.next;S=N;do{if((S.tag&c)===c){var J=S.inst,st=J.destroy;if(st!==void 0){J.destroy=void 0,R=f;var _t=v;try{st()}catch(Pt){kn(R,_t,Pt)}}}S=S.next}while(S!==N)}}catch(Pt){kn(f,f.return,Pt)}}function Z_(c){var f=c.updateQueue;if(f!==null){var v=c.stateNode;try{zt(f,v)}catch(S){kn(c,c.return,S)}}}function es(c,f,v){v.props=Ro(c.type,c.memoizedProps),v.state=c.memoizedState;try{v.componentWillUnmount()}catch(S){kn(c,f,S)}}function yr(c,f){try{var v=c.ref;if(v!==null){var S=c.stateNode;switch(c.tag){case 26:case 27:case 5:var R=Ac(S);break;default:R=S}typeof v=="function"?c.refCleanup=v(R):v.current=R}}catch(N){kn(c,f,N)}}function ns(c,f){var v=c.ref,S=c.refCleanup;if(v!==null)if(typeof S=="function")try{S()}catch(R){kn(c,f,R)}finally{c.refCleanup=null,c=c.alternate,c!=null&&(c.refCleanup=null)}else if(typeof v=="function")try{v(null)}catch(R){kn(c,f,R)}else v.current=null}function ig(c){var f=c.type,v=c.memoizedProps,S=c.stateNode;try{RS(S,f,v,c)}catch(R){kn(c,c.return,R)}}function ag(c,f,v){try{mv(c.stateNode,c.type,v,f,c)}catch(S){kn(c,c.return,S)}}function sg(c){return c.tag===5||c.tag===3||(bs?c.tag===26:!1)||(ti?c.tag===27:!1)||c.tag===4}function zf(c){t:for(;;){for(;c.sibling===null;){if(c.return===null||sg(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&(!ti||c.tag!==27)&&c.tag!==18;){if(c.flags&2||c.child===null||c.tag===4)continue t;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function rg(c,f,v){var S=c.tag;if(S===5||S===6)c=c.stateNode,f?_v(v,c,f):wg(v,c);else if(!(S===4||ti&&S===27)&&(c=c.child,c!==null))for(rg(c,f,v),c=c.sibling;c!==null;)rg(c,f,v),c=c.sibling}function Do(c,f,v){var S=c.tag;if(S===5||S===6)c=c.stateNode,f?gv(v,c,f):dv(v,c);else if(!(S===4||ti&&S===27)&&(c=c.child,c!==null))for(Do(c,f,v),c=c.sibling;c!==null;)Do(c,f,v),c=c.sibling}function Od(c,f,v){c=c.containerInfo;try{Ec(c,v)}catch(S){kn(f,f.return,S)}}function Hf(c,f){for(Jd(c.containerInfo),nn=f;nn!==null;)if(c=nn,f=c.child,(c.subtreeFlags&1028)!==0&&f!==null)f.return=c,nn=f;else for(;nn!==null;){c=nn;var v=c.alternate;switch(f=c.flags,c.tag){case 0:break;case 11:case 15:break;case 1:if((f&1024)!==0&&v!==null){f=void 0;var S=c,R=v.memoizedProps;v=v.memoizedState;var N=S.stateNode;try{var J=Ro(S.type,R,S.elementType===S.type);f=N.getSnapshotBeforeUpdate(J,v),N.__reactInternalSnapshotBeforeUpdate=f}catch(st){kn(S,S.return,st)}}break;case 3:(f&1024)!==0&&Ji&&Sv(c.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((f&1024)!==0)throw Error(i(163))}if(f=c.sibling,f!==null){f.return=c.return,nn=f;break}nn=c.return}return J=vn,vn=!1,J}function Ud(c,f,v){var S=v.flags;switch(v.tag){case 0:case 11:case 15:Uo(c,v),S&4&&Ff(5,v);break;case 1:if(Uo(c,v),S&4)if(c=v.stateNode,f===null)try{c.componentDidMount()}catch(st){kn(v,v.return,st)}else{var R=Ro(v.type,f.memoizedProps);f=f.memoizedState;try{c.componentDidUpdate(R,f,c.__reactInternalSnapshotBeforeUpdate)}catch(st){kn(v,v.return,st)}}S&64&&Z_(v),S&512&&yr(v,v.return);break;case 3:if(Uo(c,v),S&64&&(S=v.updateQueue,S!==null)){if(c=null,v.child!==null)switch(v.child.tag){case 27:case 5:c=Ac(v.child.stateNode);break;case 1:c=v.child.stateNode}try{zt(S,c)}catch(st){kn(v,v.return,st)}}break;case 26:if(bs){Uo(c,v),S&512&&yr(v,v.return);break}case 27:case 5:Uo(c,v),f===null&&S&4&&ig(v),S&512&&yr(v,v.return);break;case 12:Uo(c,v);break;case 13:Uo(c,v),S&4&&Nd(c,v);break;case 22:if(R=v.memoizedState!==null||oo,!R){f=f!==null&&f.memoizedState!==null||Ei;var N=oo,J=Ei;oo=R,(Ei=f)&&!J?No(c,v,(v.subtreeFlags&8772)!==0):Uo(c,v),oo=N,Ei=J}S&512&&(v.memoizedProps.mode==="manual"?yr(v,v.return):ns(v,v.return));break;default:Uo(c,v)}}function og(c){var f=c.alternate;f!==null&&(c.alternate=null,og(f)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(f=c.stateNode,f!==null&&CS(f)),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}function va(c,f,v){for(v=v.child;v!==null;)ml(c,f,v),v=v.sibling}function ml(c,f,v){if(rs&&typeof rs.onCommitFiberUnmount=="function")try{rs.onCommitFiberUnmount(Ui,v)}catch{}switch(v.tag){case 26:if(bs){Ei||ns(v,f),va(c,f,v),v.memoizedState?uu(v.memoizedState):v.stateNode&&Tc(v.stateNode);break}case 27:if(ti){Ei||ns(v,f);var S=Ge,R=cn;Ge=v.stateNode,va(c,f,v),Rl(v.stateNode),Ge=S,cn=R;break}case 5:Ei||ns(v,f);case 6:if(Ji){if(S=Ge,R=cn,Ge=null,va(c,f,v),Ge=S,cn=R,Ge!==null)if(cn)try{vv(Ge,v.stateNode)}catch(N){kn(v,f,N)}else try{Bg(Ge,v.stateNode)}catch(N){kn(v,f,N)}}else va(c,f,v);break;case 18:Ji&&Ge!==null&&(cn?ih(Ge,v.stateNode):Ov(Ge,v.stateNode));break;case 4:Ji?(S=Ge,R=cn,Ge=v.stateNode.containerInfo,cn=!0,va(c,f,v),Ge=S,cn=R):(er&&Od(v.stateNode,v,nh()),va(c,f,v));break;case 0:case 11:case 14:case 15:Ei||pl(2,v,f),Ei||pl(4,v,f),va(c,f,v);break;case 1:Ei||(ns(v,f),S=v.stateNode,typeof S.componentWillUnmount=="function"&&es(v,f,S)),va(c,f,v);break;case 21:va(c,f,v);break;case 22:Ei||ns(v,f),Ei=(S=Ei)||v.memoizedState!==null,va(c,f,v),Ei=S;break;default:va(c,f,v)}}function Nd(c,f){if(Aa&&f.memoizedState===null&&(c=f.alternate,c!==null&&(c=c.memoizedState,c!==null&&(c=c.dehydrated,c!==null))))try{OS(c)}catch(v){kn(f,f.return,v)}}function $_(c){switch(c.tag){case 13:case 19:var f=c.stateNode;return f===null&&(f=c.stateNode=new Yn),f;case 22:return c=c.stateNode,f=c._retryCache,f===null&&(f=c._retryCache=new Yn),f;default:throw Error(i(435,c.tag))}}function Oo(c,f){var v=$_(c);f.forEach(function(S){var R=Sl.bind(null,c,S);v.has(S)||(v.add(S),S.then(R,R))})}function Xa(c,f){var v=f.deletions;if(v!==null)for(var S=0;S<v.length;S++){var R=v[S],N=c,J=f;if(Ji){var st=J;t:for(;st!==null;){switch(st.tag){case 27:case 5:Ge=st.stateNode,cn=!1;break t;case 3:Ge=st.stateNode.containerInfo,cn=!0;break t;case 4:Ge=st.stateNode.containerInfo,cn=!0;break t}st=st.return}if(Ge===null)throw Error(i(160));ml(N,J,R),Ge=null,cn=!1}else ml(N,J,R);N=R.alternate,N!==null&&(N.return=null),R.return=null}if(f.subtreeFlags&13878)for(f=f.child;f!==null;)lg(f,c),f=f.sibling}function lg(c,f){var v=c.alternate,S=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:Xa(f,c),is(c),S&4&&(pl(3,c,c.return),Ff(3,c),pl(5,c,c.return));break;case 1:Xa(f,c),is(c),S&512&&(Ei||v===null||ns(v,v.return)),S&64&&oo&&(c=c.updateQueue,c!==null&&(S=c.callbacks,S!==null&&(v=c.shared.hiddenCallbacks,c.shared.hiddenCallbacks=v===null?S:v.concat(S))));break;case 26:if(bs){var R=Si;Xa(f,c),is(c),S&512&&(Ei||v===null||ns(v,v.return)),S&4&&(S=v!==null?v.memoizedState:null,f=c.memoizedState,v===null?f===null?c.stateNode===null?c.stateNode=sh(R,c.type,c.memoizedProps,c):rh(R,c.type,c.stateNode):c.stateNode=Nv(R,f,c.memoizedProps):S!==f?(S===null?v.stateNode!==null&&Tc(v.stateNode):uu(S),f===null?rh(R,c.type,c.stateNode):Nv(R,f,c.memoizedProps)):f===null&&c.stateNode!==null&&ag(c,c.memoizedProps,v.memoizedProps));break}case 27:if(ti&&S&4&&c.alternate===null){R=c.stateNode;var N=c.memoizedProps;try{Cl(R),Fv(c.type,N,R,c)}catch(oe){kn(c,c.return,oe)}}case 5:if(Xa(f,c),is(c),S&512&&(Ei||v===null||ns(v,v.return)),Ji){if(c.flags&32){f=c.stateNode;try{Dg(f)}catch(oe){kn(c,c.return,oe)}}S&4&&c.stateNode!=null&&(f=c.memoizedProps,ag(c,f,v!==null?v.memoizedProps:f)),S&1024&&(Xg=!0)}break;case 6:if(Xa(f,c),is(c),S&4&&Ji){if(c.stateNode===null)throw Error(i(162));S=c.memoizedProps,v=v!==null?v.memoizedProps:S,f=c.stateNode;try{pv(f,v,S)}catch(oe){kn(c,c.return,oe)}}break;case 3:if(bs?(Lv(),R=Si,Si=ip(f.containerInfo),Xa(f,c),Si=R):Xa(f,c),is(c),S&4){if(Ji&&Aa&&v!==null&&v.memoizedState.isDehydrated)try{DS(f.containerInfo)}catch(oe){kn(c,c.return,oe)}if(er){S=f.containerInfo,v=f.pendingChildren;try{Ec(S,v)}catch(oe){kn(c,c.return,oe)}}}Xg&&(Xg=!1,tv(c));break;case 4:bs?(v=Si,Si=ip(c.stateNode.containerInfo),Xa(f,c),is(c),Si=v):(Xa(f,c),is(c)),S&4&&er&&Od(c.stateNode,c,c.stateNode.pendingChildren);break;case 12:Xa(f,c),is(c);break;case 13:Xa(f,c),is(c),c.child.flags&8192&&c.memoizedState!==null!=(v!==null&&v.memoizedState!==null)&&(Wa=nr()),S&4&&(S=c.updateQueue,S!==null&&(c.updateQueue=null,Oo(c,S)));break;case 22:S&512&&(Ei||v===null||ns(v,v.return)),R=c.memoizedState!==null;var J=v!==null&&v.memoizedState!==null,st=oo,_t=Ei;if(oo=st||R,Ei=_t||J,Xa(f,c),Ei=_t,oo=st,is(c),f=c.stateNode,f._current=c,f._visibility&=-3,f._visibility|=f._pendingVisibility&2,S&8192&&(f._visibility=R?f._visibility&-2:f._visibility|1,R&&(f=oo||Ei,v===null||J||f||cc(c)),Ji&&(c.memoizedProps===null||c.memoizedProps.mode!=="manual"))){t:if(v=null,Ji)for(f=c;;){if(f.tag===5||bs&&f.tag===26||ti&&f.tag===27){if(v===null){J=v=f;try{N=J.stateNode,R?yv(N):Av(J.stateNode,J.memoizedProps)}catch(oe){kn(J,J.return,oe)}}}else if(f.tag===6){if(v===null){J=f;try{var Pt=J.stateNode;R?xv(Pt):wS(Pt,J.memoizedProps)}catch(oe){kn(J,J.return,oe)}}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===c)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===c)break t;for(;f.sibling===null;){if(f.return===null||f.return===c)break t;v===f&&(v=null),f=f.return}v===f&&(v=null),f.sibling.return=f.return,f=f.sibling}}S&4&&(S=c.updateQueue,S!==null&&(v=S.retryQueue,v!==null&&(S.retryQueue=null,Oo(c,v))));break;case 19:Xa(f,c),is(c),S&4&&(S=c.updateQueue,S!==null&&(c.updateQueue=null,Oo(c,S)));break;case 21:break;default:Xa(f,c),is(c)}}function is(c){var f=c.flags;if(f&2){try{if(Ji&&(!ti||c.tag!==27)){t:{for(var v=c.return;v!==null;){if(sg(v)){var S=v;break t}v=v.return}throw Error(i(160))}switch(S.tag){case 27:if(ti){var R=S.stateNode,N=zf(c);Do(c,N,R);break}case 5:var J=S.stateNode;S.flags&32&&(Dg(J),S.flags&=-33);var st=zf(c);Do(c,st,J);break;case 3:case 4:var _t=S.stateNode.containerInfo,Pt=zf(c);rg(c,Pt,_t);break;default:throw Error(i(161))}}}catch(oe){kn(c,c.return,oe)}c.flags&=-3}f&4096&&(c.flags&=-4097)}function tv(c){if(c.subtreeFlags&1024)for(c=c.child;c!==null;){var f=c;tv(f),f.tag===5&&f.flags&1024&&jd(f.stateNode),c=c.sibling}}function Uo(c,f){if(f.subtreeFlags&8772)for(f=f.child;f!==null;)Ud(c,f.alternate,f),f=f.sibling}function cc(c){for(c=c.child;c!==null;){var f=c;switch(f.tag){case 0:case 11:case 14:case 15:pl(4,f,f.return),cc(f);break;case 1:ns(f,f.return);var v=f.stateNode;typeof v.componentWillUnmount=="function"&&es(f,f.return,v),cc(f);break;case 26:case 27:case 5:ns(f,f.return),cc(f);break;case 22:ns(f,f.return),f.memoizedState===null&&cc(f);break;default:cc(f)}c=c.sibling}}function No(c,f,v){for(v=v&&(f.subtreeFlags&8772)!==0,f=f.child;f!==null;){var S=f.alternate,R=c,N=f,J=N.flags;switch(N.tag){case 0:case 11:case 15:No(R,N,v),Ff(4,N);break;case 1:if(No(R,N,v),S=N,R=S.stateNode,typeof R.componentDidMount=="function")try{R.componentDidMount()}catch(Pt){kn(S,S.return,Pt)}if(S=N,R=S.updateQueue,R!==null){var st=S.stateNode;try{var _t=R.shared.hiddenCallbacks;if(_t!==null)for(R.shared.hiddenCallbacks=null,R=0;R<_t.length;R++)$(_t[R],st)}catch(Pt){kn(S,S.return,Pt)}}v&&J&64&&Z_(N),yr(N,N.return);break;case 26:case 27:case 5:No(R,N,v),v&&S===null&&J&4&&ig(N),yr(N,N.return);break;case 12:No(R,N,v);break;case 13:No(R,N,v),v&&J&4&&Nd(R,N);break;case 22:N.memoizedState===null&&No(R,N,v),yr(N,N.return);break;default:No(R,N,v)}f=f.sibling}}function Ld(c,f){var v=null;c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(v=c.memoizedState.cachePool.pool),c=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(c=f.memoizedState.cachePool.pool),c!==v&&(c!=null&&c.refCount++,v!=null&&If(v))}function Gf(c,f){c=null,f.alternate!==null&&(c=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==c&&(f.refCount++,c!=null&&If(c))}function na(c,f,v,S){if(f.subtreeFlags&10256)for(f=f.child;f!==null;)ug(c,f,v,S),f=f.sibling}function ug(c,f,v,S){var R=f.flags;switch(f.tag){case 0:case 11:case 15:na(c,f,v,S),R&2048&&Ff(9,f);break;case 3:na(c,f,v,S),R&2048&&(c=null,f.alternate!==null&&(c=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==c&&(f.refCount++,c!=null&&If(c)));break;case 12:if(R&2048){na(c,f,v,S),c=f.stateNode;try{var N=f.memoizedProps,J=N.id,st=N.onPostCommit;typeof st=="function"&&st(J,f.alternate===null?"mount":"update",c.passiveEffectDuration,-0)}catch(_t){kn(f,f.return,_t)}}else na(c,f,v,S);break;case 23:break;case 22:N=f.stateNode,f.memoizedState!==null?N._visibility&4?na(c,f,v,S):Ba(c,f):N._visibility&4?na(c,f,v,S):(N._visibility|=4,ya(c,f,v,S,(f.subtreeFlags&10256)!==0)),R&2048&&Ld(f.alternate,f);break;case 24:na(c,f,v,S),R&2048&&Gf(f.alternate,f);break;default:na(c,f,v,S)}}function ya(c,f,v,S,R){for(R=R&&(f.subtreeFlags&10256)!==0,f=f.child;f!==null;){var N=c,J=f,st=v,_t=S,Pt=J.flags;switch(J.tag){case 0:case 11:case 15:ya(N,J,st,_t,R),Ff(8,J);break;case 23:break;case 22:var oe=J.stateNode;J.memoizedState!==null?oe._visibility&4?ya(N,J,st,_t,R):Ba(N,J):(oe._visibility|=4,ya(N,J,st,_t,R)),R&&Pt&2048&&Ld(J.alternate,J);break;case 24:ya(N,J,st,_t,R),R&&Pt&2048&&Gf(J.alternate,J);break;default:ya(N,J,st,_t,R)}f=f.sibling}}function Ba(c,f){if(f.subtreeFlags&10256)for(f=f.child;f!==null;){var v=c,S=f,R=S.flags;switch(S.tag){case 22:Ba(v,S),R&2048&&Ld(S.alternate,S);break;case 24:Ba(v,S),R&2048&&Gf(S.alternate,S);break;default:Ba(v,S)}f=f.sibling}}function js(c){if(c.subtreeFlags&Ds)for(c=c.child;c!==null;)Id(c),c=c.sibling}function Id(c){switch(c.tag){case 26:js(c),c.flags&Ds&&(c.memoizedState!==null?Pv(Si,c.memoizedState,c.memoizedProps):qa(c.type,c.memoizedProps));break;case 5:js(c),c.flags&Ds&&qa(c.type,c.memoizedProps);break;case 3:case 4:if(bs){var f=Si;Si=ip(c.stateNode.containerInfo),js(c),Si=f}else js(c);break;case 22:c.memoizedState===null&&(f=c.alternate,f!==null&&f.memoizedState!==null?(f=Ds,Ds=16777216,js(c),Ds=f):js(c));break;default:js(c)}}function Vf(c){var f=c.alternate;if(f!==null&&(c=f.child,c!==null)){f.child=null;do f=c.sibling,c.sibling=null,c=f;while(c!==null)}}function gl(c){var f=c.deletions;if((c.flags&16)!==0){if(f!==null)for(var v=0;v<f.length;v++){var S=f[v];nn=S,cg(S,c)}Vf(c)}if(c.subtreeFlags&10256)for(c=c.child;c!==null;)Pd(c),c=c.sibling}function Pd(c){switch(c.tag){case 0:case 11:case 15:gl(c),c.flags&2048&&pl(9,c,c.return);break;case 3:gl(c);break;case 12:gl(c);break;case 22:var f=c.stateNode;c.memoizedState!==null&&f._visibility&4&&(c.return===null||c.return.tag!==13)?(f._visibility&=-5,Lo(c)):gl(c);break;default:gl(c)}}function Lo(c){var f=c.deletions;if((c.flags&16)!==0){if(f!==null)for(var v=0;v<f.length;v++){var S=f[v];nn=S,cg(S,c)}Vf(c)}for(c=c.child;c!==null;){switch(f=c,f.tag){case 0:case 11:case 15:pl(8,f,f.return),Lo(f);break;case 22:v=f.stateNode,v._visibility&4&&(v._visibility&=-5,Lo(f));break;default:Lo(f)}c=c.sibling}}function cg(c,f){for(;nn!==null;){var v=nn;switch(v.tag){case 0:case 11:case 15:pl(8,v,f);break;case 23:case 22:if(v.memoizedState!==null&&v.memoizedState.cachePool!==null){var S=v.memoizedState.cachePool.pool;S!=null&&S.refCount++}break;case 24:If(v.memoizedState.cache)}if(S=v.child,S!==null)S.return=v,nn=S;else t:for(v=c;nn!==null;){S=nn;var R=S.sibling,N=S.return;if(og(S),S===v){nn=null;break t}if(R!==null){R.return=N,nn=R;break t}nn=N}}}function fc(c){var f=rv(c);if(f!=null){if(typeof f.memoizedProps["data-testname"]!="string")throw Error(i(364));return f}if(c=Cg(c),c===null)throw Error(i(362));return c.stateNode.current}function _l(c,f){var v=c.tag;switch(f.$$typeof){case Lc:if(c.type===f.value)return!0;break;case rr:t:{for(f=f.value,c=[c,0],v=0;v<c.length;){var S=c[v++],R=S.tag,N=c[v++],J=f[N];if(R!==5&&R!==26&&R!==27||!Mc(S)){for(;J!=null&&_l(S,J);)N++,J=f[N];if(N===f.length){f=!0;break t}else for(S=S.child;S!==null;)c.push(S,N),S=S.sibling}}f=!1}return f;case hi:if((v===5||v===26||v===27)&&cv(c.stateNode,f.value))return!0;break;case lo:if((v===5||v===6||v===26||v===27)&&(c=uv(c),c!==null&&0<=c.indexOf(f.value)))return!0;break;case wr:if((v===5||v===26||v===27)&&(c=c.memoizedProps["data-testname"],typeof c=="string"&&c.toLowerCase()===f.value.toLowerCase()))return!0;break;default:throw Error(i(365))}return!1}function fg(c){switch(c.$$typeof){case Lc:return"<"+(l(c.value)||"Unknown")+">";case rr:return":has("+(fg(c)||"")+")";case hi:return'[role="'+c.value+'"]';case lo:return'"'+c.value+'"';case wr:return'[data-testname="'+c.value+'"]';default:throw Error(i(365))}}function as(c,f){var v=[];c=[c,0];for(var S=0;S<c.length;){var R=c[S++],N=R.tag,J=c[S++],st=f[J];if(N!==5&&N!==26&&N!==27||!Mc(R)){for(;st!=null&&_l(R,st);)J++,st=f[J];if(J===f.length)v.push(R);else for(R=R.child;R!==null;)c.push(R,J),R=R.sibling}}return v}function Xf(c,f){if(!Tl)throw Error(i(363));c=fc(c),c=as(c,f),f=[],c=Array.from(c);for(var v=0;v<c.length;){var S=c[v++],R=S.tag;if(R===5||R===26||R===27)Mc(S)||f.push(S.stateNode);else for(S=S.child;S!==null;)c.push(S),S=S.sibling}return f}function Bi(){if((Nn&2)!==0&&Sn!==0)return Sn&-Sn;if(je.T!==null){var c=Cs;return c!==0?c:Nt()}return ov()}function hg(){Ns===0&&(Ns=(Sn&536870912)===0||Dn?F():536870912);var c=Rs.current;return c!==null&&(c.flags|=32),Ns}function ia(c,f,v){(c===qn&&Zn===2||c.cancelPendingCommit!==null)&&(xa(c,0),ss(c,Sn,Ns,!1)),V(c,v),((Nn&2)===0||c!==qn)&&(c===qn&&((Nn&2)===0&&(Wo|=v),ii===4&&ss(c,Sn,Ns,!1)),jt(c))}function vl(c,f,v){if((Nn&6)!==0)throw Error(i(327));var S=!v&&(f&60)===0&&(f&c.expiredLanes)===0||P(c,f),R=S?pg(c,f):zd(c,f,!0),N=S;do{if(R===0){Os&&!S&&ss(c,f,0,!1);break}else if(R===6)ss(c,f,0,!lr);else{if(v=c.current.alternate,N&&!hc(v)){R=zd(c,f,!1),N=!1;continue}if(R===2){if(N=f,c.errorRecoveryDisabledLanes&N)var J=0;else J=c.pendingLanes&-536870913,J=J!==0?J:J&536870912?536870912:0;if(J!==0){f=J;t:{var st=c;R=bu;var _t=Aa&&st.current.memoizedState.isDehydrated;if(_t&&(xa(st,J).flags|=256),J=zd(st,J,!1),J!==2){if(ji&&!_t){st.errorRecoveryDisabledLanes|=N,Wo|=N,R=4;break t}N=Ti,Ti=R,N!==null&&kf(N)}R=J}if(N=!1,R!==2)continue}}if(R===1){xa(c,0),ss(c,f,0,!0);break}t:{switch(S=c,R){case 0:case 1:throw Error(i(345));case 4:if((f&4194176)===f){ss(S,f,Ns,!lr);break t}break;case 2:Ti=null;break;case 3:case 5:break;default:throw Error(i(329))}if(S.finishedWork=v,S.finishedLanes=f,(f&62914560)===f&&(N=Wa+300-nr(),10<N)){if(ss(S,f,Ns,!lr),L(S,0)!==0)break t;S.timeoutHandle=Hi(Fd.bind(null,S,v,Ti,dh,pp,f,Ns,Wo,uo,lr,2,-0,0),N);break t}Fd(S,v,Ti,dh,pp,f,Ns,Wo,uo,lr,0,-0,0)}}break}while(!0);jt(c)}function kf(c){Ti===null?Ti=c:Ti.push.apply(Ti,c)}function Fd(c,f,v,S,R,N,J,st,_t,Pt,oe,me,Se){var an=f.subtreeFlags;if((an&8192||(an&16785408)===16785408)&&(Eg(),Id(f),f=Gi(),f!==null)){c.cancelPendingCommit=f(xl.bind(null,c,v,S,R,J,st,_t,1,me,Se)),ss(c,N,J,!Pt);return}xl(c,v,S,R,J,st,_t,oe,me,Se)}function hc(c){for(var f=c;;){var v=f.tag;if((v===0||v===11||v===15)&&f.flags&16384&&(v=f.updateQueue,v!==null&&(v=v.stores,v!==null)))for(var S=0;S<v.length;S++){var R=v[S],N=R.getSnapshot;R=R.value;try{if(!os(N(),R))return!1}catch{return!1}}if(v=f.child,f.subtreeFlags&16384&&v!==null)v.return=f,f=v;else{if(f===c)break;for(;f.sibling===null;){if(f.return===null||f.return===c)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function ss(c,f,v,S){f&=~hh,f&=~Wo,c.suspendedLanes|=f,c.pingedLanes&=~f,S&&(c.warmLanes|=f),S=c.expirationTimes;for(var R=f;0<R;){var N=31-Ja(R),J=1<<N;S[N]=-1,R&=~J}v!==0&&et(c,v,f)}function Yf(){return(Nn&6)===0?(de(0),!1):!0}function dc(){if(Xe!==null){if(Zn===0)var c=Xe.return;else c=Xe,Bs=Rr=null,k(c),Ol=null,Ul=0,c=Xe;for(;c!==null;)Q_(c.alternate,c),c=c.return;Xe=null}}function xa(c,f){c.finishedWork=null,c.finishedLanes=0;var v=c.timeoutHandle;v!==bl&&(c.timeoutHandle=bl,Kd(v)),v=c.cancelPendingCommit,v!==null&&(c.cancelPendingCommit=null,v()),dc(),qn=c,Xe=v=Zs(c.current,null),Sn=f,Zn=0,Oa=null,lr=!1,Os=P(c,f),ji=!1,uo=Ns=hh=Wo=Us=ii=0,Ti=bu=null,pp=!1,(f&8)!==0&&(f|=f&32);var S=c.entangledLanes;if(S!==0)for(c=c.entanglements,S&=f;0<S;){var R=31-Ja(S),N=1<<R;f|=c[R],S&=~N}return Ua=f,Ut(),v}function As(c,f){hn=null,je.H=bi,f===Dc?(f=ce(),Zn=3):f===ch?(f=ce(),Zn=4):Zn=f===hp?8:f!==null&&typeof f=="object"&&typeof f.then=="function"?6:1,Oa=f,Xe===null&&(ii=1,ac(c,lt(f,c.current)))}function yl(){var c=Rs.current;return c===null?!0:(Sn&4194176)===Sn?ei===null:(Sn&62914560)===Sn||(Sn&536870912)!==0?c===ei:!1}function jr(){var c=je.H;return je.H=bi,c===null?bi:c}function Qr(){var c=je.A;return je.A=Nc,c}function Io(){ii=4,lr||(Sn&4194176)!==Sn&&Rs.current!==null||(Os=!0),(Us&134217727)===0&&(Wo&134217727)===0||qn===null||ss(qn,Sn,Ns,!1)}function zd(c,f,v){var S=Nn;Nn|=2;var R=jr(),N=Qr();(qn!==c||Sn!==f)&&(dh=null,xa(c,f)),f=!1;var J=ii;t:do try{if(Zn!==0&&Xe!==null){var st=Xe,_t=Oa;switch(Zn){case 8:dc(),J=6;break t;case 3:case 2:case 6:Rs.current===null&&(f=!0);var Pt=Zn;if(Zn=0,Oa=null,Qs(c,st,_t,Pt),v&&Os){J=0;break t}break;default:Pt=Zn,Zn=0,Oa=null,Qs(c,st,_t,Pt)}}dg(),J=ii;break}catch(oe){As(c,oe)}while(!0);return f&&c.shellSuspendCounter++,Bs=Rr=null,Nn=S,je.H=R,je.A=N,Xe===null&&(qn=null,Sn=0,Ut()),J}function dg(){for(;Xe!==null;)Ai(Xe)}function pg(c,f){var v=Nn;Nn|=2;var S=jr(),R=Qr();qn!==c||Sn!==f?(dh=null,Ic=nr()+500,xa(c,f)):Os=P(c,f);t:do try{if(Zn!==0&&Xe!==null){f=Xe;var N=Oa;e:switch(Zn){case 1:Zn=0,Oa=null,Qs(c,f,N,1);break;case 2:if(se(N)){Zn=0,Oa=null,Fn(f);break}f=function(){Zn===2&&qn===c&&(Zn=7),jt(c)},N.then(f,f);break t;case 3:Zn=7;break t;case 4:Zn=5;break t;case 7:se(N)?(Zn=0,Oa=null,Fn(f)):(Zn=0,Oa=null,Qs(c,f,N,7));break;case 5:var J=null;switch(Xe.tag){case 26:J=Xe.memoizedState;case 5:case 27:var st=Xe,_t=st.type,Pt=st.pendingProps;if(J?cu(J):Wd(_t,Pt)){Zn=0,Oa=null;var oe=st.sibling;if(oe!==null)Xe=oe;else{var me=st.return;me!==null?(Xe=me,Ss(me)):Xe=null}break e}}Zn=0,Oa=null,Qs(c,f,N,5);break;case 6:Zn=0,Oa=null,Qs(c,f,N,6);break;case 8:dc(),ii=6;break t;default:throw Error(i(462))}}ka();break}catch(Se){As(c,Se)}while(!0);return Bs=Rr=null,je.H=S,je.A=R,Nn=v,Xe!==null?0:(qn=null,Sn=0,Ut(),ii)}function ka(){for(;Xe!==null&&!Gv();)Ai(Xe)}function Ai(c){var f=K_(c.alternate,c,Ua);c.memoizedProps=c.pendingProps,f===null?Ss(c):Xe=f}function Fn(c){var f=c,v=f.alternate;switch(f.tag){case 15:case 0:f=V_(v,f,f.pendingProps,f.type,void 0,Sn);break;case 11:f=V_(v,f,f.pendingProps,f.type.render,f.ref,Sn);break;case 5:k(f);default:Q_(v,f),f=Xe=Jf(f,Ua),f=K_(v,f,Ua)}c.memoizedProps=c.pendingProps,f===null?Ss(c):Xe=f}function Qs(c,f,v,S){Bs=Rr=null,k(f),Ol=null,Ul=0;var R=f.return;try{if(SS(c,R,f,v,Sn)){ii=1,ac(c,lt(v,c.current)),Xe=null;return}}catch(N){if(R!==null)throw Xe=R,N;ii=1,ac(c,lt(v,c.current)),Xe=null;return}f.flags&32768?(Dn||S===1?c=!0:Os||(Sn&536870912)!==0?c=!1:(lr=c=!0,(S===2||S===3||S===6)&&(S=Rs.current,S!==null&&S.tag===13&&(S.flags|=16384))),Hd(f,c)):Ss(f)}function Ss(c){var f=c;do{if((f.flags&32768)!==0){Hd(f,lr);return}c=f.return;var v=j_(f.alternate,f,Ua);if(v!==null){Xe=v;return}if(f=f.sibling,f!==null){Xe=f;return}Xe=f=c}while(f!==null);ii===0&&(ii=5)}function Hd(c,f){do{var v=bS(c.alternate,c);if(v!==null){v.flags&=32767,Xe=v;return}if(v=c.return,v!==null&&(v.flags|=32768,v.subtreeFlags=0,v.deletions=null),!f&&(c=c.sibling,c!==null)){Xe=c;return}Xe=c=v}while(c!==null);ii=6,Xe=null}function xl(c,f,v,S,R,N,J,st,_t,Pt){var oe=je.T,me=Vo();try{Da(2),je.T=null,ev(c,f,v,S,me,R,N,J,st,_t,Pt)}finally{je.T=oe,Da(me)}}function ev(c,f,v,S,R,N,J,st){do xr();while(co!==null);if((Nn&6)!==0)throw Error(i(327));var _t=c.finishedWork;if(S=c.finishedLanes,_t===null)return null;if(c.finishedWork=null,c.finishedLanes=0,_t===c.current)throw Error(i(177));c.callbackNode=null,c.callbackPriority=0,c.cancelPendingCommit=null;var Pt=_t.lanes|_t.childLanes;if(Pt|=Tr,Q(c,S,Pt,N,J,st),c===qn&&(Xe=qn=null,Sn=0),(_t.subtreeFlags&10256)===0&&(_t.flags&10256)===0||Br||(Br=!0,Fl=Pt,mp=v,Fo(lp,function(){return xr(),null})),v=(_t.flags&15990)!==0,(_t.subtreeFlags&15990)!==0||v?(v=je.T,je.T=null,N=Vo(),Da(2),J=Nn,Nn|=4,Hf(c,_t),lg(_t,c),sv(c.containerInfo),c.current=_t,Ud(c,_t.alternate,_t),rp(),Nn=J,Da(N),je.T=v):c.current=_t,Br?(Br=!1,co=c,Eu=S):mg(c,Pt),Pt=c.pendingLanes,Pt===0&&(Pl=null),G(_t.stateNode),jt(c),f!==null)for(R=c.onRecoverableError,_t=0;_t<f.length;_t++)Pt=f[_t],R(Pt.value,{componentStack:Pt.stack});return(Eu&3)!==0&&xr(),Pt=c.pendingLanes,(S&4194218)!==0&&(Pt&42)!==0?c===gp?Pc++:(Pc=0,gp=c):Pc=0,de(0),null}function mg(c,f){(c.pooledCacheLanes&=f)===0&&(f=c.pooledCache,f!=null&&(c.pooledCache=null,If(f)))}function xr(){if(co!==null){var c=co,f=Fl;Fl=0;var v=ut(Eu),S=32>v?32:v;v=je.T;var R=Vo();try{if(Da(S),je.T=null,co===null)var N=!1;else{S=mp,mp=null;var J=co,st=Eu;if(co=null,Eu=0,(Nn&6)!==0)throw Error(i(331));var _t=Nn;if(Nn|=4,Pd(J.current),ug(J,J.current,st,S),Nn=_t,de(0,!1),rs&&typeof rs.onPostCommitFiberRoot=="function")try{rs.onPostCommitFiberRoot(Ui,J)}catch{}N=!0}return N}finally{Da(R),je.T=v,mg(c,f)}}return!1}function pc(c,f,v){f=lt(v,f),f=rc(c.stateNode,f,2),c=ee(c,f,2),c!==null&&(V(c,2),jt(c))}function kn(c,f,v){if(c.tag===3)pc(c,c,v);else for(;f!==null;){if(f.tag===3){pc(f,c,v);break}else if(f.tag===1){var S=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof S.componentDidCatch=="function"&&(Pl===null||!Pl.has(S))){c=lt(v,c),v=Km(2),S=ee(f,v,2),S!==null&&(P_(v,S,f,c),V(S,2),jt(S));break}}f=f.return}}function ou(c,f,v){var S=c.pingCache;if(S===null){S=c.pingCache=new or;var R=new Set;S.set(f,R)}else R=S.get(f),R===void 0&&(R=new Set,S.set(f,R));R.has(v)||(ji=!0,R.add(v),c=gg.bind(null,c,f,v),f.then(c,c))}function gg(c,f,v){var S=c.pingCache;S!==null&&S.delete(f),c.pingedLanes|=c.suspendedLanes&v,c.warmLanes&=~v,qn===c&&(Sn&v)===v&&(ii===4||ii===3&&(Sn&62914560)===Sn&&300>nr()-Wa?(Nn&2)===0&&xa(c,0):hh|=v,uo===Sn&&(uo=0)),jt(c)}function Al(c,f){f===0&&(f=O()),c=tt(c,f),c!==null&&(V(c,f),jt(c))}function Po(c){var f=c.memoizedState,v=0;f!==null&&(v=f.retryLane),Al(c,v)}function Sl(c,f){var v=0;switch(c.tag){case 13:var S=c.stateNode,R=c.memoizedState;R!==null&&(v=R.retryLane);break;case 19:S=c.stateNode;break;case 22:S=c.stateNode._retryCache;break;default:throw Error(i(314))}S!==null&&S.delete(f),Al(c,v)}function Fo(c,f){return oh(c,f)}function _g(c,f,v,S){this.tag=c,this.key=v,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=S,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qf(c){return c=c.prototype,!(!c||!c.isReactComponent)}function Zs(c,f){var v=c.alternate;return v===null?(v=e(c.tag,f,c.key,c.mode),v.elementType=c.elementType,v.type=c.type,v.stateNode=c.stateNode,v.alternate=c,c.alternate=v):(v.pendingProps=f,v.type=c.type,v.flags=0,v.subtreeFlags=0,v.deletions=null),v.flags=c.flags&31457280,v.childLanes=c.childLanes,v.lanes=c.lanes,v.child=c.child,v.memoizedProps=c.memoizedProps,v.memoizedState=c.memoizedState,v.updateQueue=c.updateQueue,f=c.dependencies,v.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},v.sibling=c.sibling,v.index=c.index,v.ref=c.ref,v.refCleanup=c.refCleanup,v}function Jf(c,f){c.flags&=31457282;var v=c.alternate;return v===null?(c.childLanes=0,c.lanes=f,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=v.childLanes,c.lanes=v.lanes,c.child=v.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=v.memoizedProps,c.memoizedState=v.memoizedState,c.updateQueue=v.updateQueue,c.type=v.type,f=v.dependencies,c.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext}),c}function Zr(c,f,v,S,R,N){var J=0;if(S=c,typeof c=="function")qf(c)&&(J=1);else if(typeof c=="string")J=bs&&ti?ah(c,v,Ki.current)?26:to(c)?27:5:bs?ah(c,v,Ki.current)?26:5:ti&&to(c)?27:5;else t:switch(c){case Ml:return Mi(v.children,R,N,f);case Qf:J=8,R|=24;break;case kd:return c=e(12,v,f,R|2),c.elementType=kd,c.lanes=N,c;case Yd:return c=e(13,v,f,R),c.elementType=Yd,c.lanes=N,c;case vc:return c=e(19,v,f,R),c.elementType=vc,c.lanes=N,c;case xg:return Kf(v,R,N,f);default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case Zf:case Ar:J=10;break t;case yg:J=9;break t;case $f:J=11;break t;case qd:J=14;break t;case tr:J=16,S=null;break t}J=29,v=Error(i(130,c===null?"null":typeof c,"")),S=null}return f=e(J,v,f,R),f.elementType=c,f.type=S,f.lanes=N,f}function Mi(c,f,v,S){return c=e(7,c,S,f),c.lanes=v,c}function Kf(c,f,v,S){c=e(22,c,S,f),c.elementType=xg,c.lanes=v;var R={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var N=R._current;if(N===null)throw Error(i(456));if((R._pendingVisibility&2)===0){var J=tt(N,2);J!==null&&(R._pendingVisibility|=2,ia(J,N,2))}},attach:function(){var N=R._current;if(N===null)throw Error(i(456));if((R._pendingVisibility&2)!==0){var J=tt(N,2);J!==null&&(R._pendingVisibility&=-3,ia(J,N,2))}}};return c.stateNode=R,c}function Gd(c,f,v){return c=e(6,c,null,f),c.lanes=v,c}function vg(c,f,v){return f=e(4,c.children!==null?c.children:[],c.key,f),f.lanes=v,f.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},f}function ES(c,f,v,S,R,N,J,st){this.tag=1,this.containerInfo=c,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=bl,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=U(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=U(0),this.hiddenUpdates=U(null),this.identifierPrefix=S,this.onUncaughtError=R,this.onCaughtError=N,this.onRecoverableError=J,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=st,this.incompleteTransitions=new Map}function nv(c,f,v,S,R,N,J,st,_t,Pt,oe,me){return c=new ES(c,f,v,J,st,_t,Pt,me),f=1,N===!0&&(f|=24),N=e(3,null,null,f),c.current=N,N.stateNode=c,f=dl(),f.refCount++,c.pooledCache=f,f.refCount++,N.memoizedState={element:S,isDehydrated:v,cache:f},ve(N),c}function zi(c){return c?(c=wl,c):wl}function Vd(c){var f=c._reactInternals;if(f===void 0)throw typeof c.render=="function"?Error(i(188)):(c=Object.keys(c).join(","),Error(i(268,c)));return c=x(f),c=c!==null?M(c):null,c===null?null:Ac(c.stateNode)}function mc(c,f,v,S,R,N){R=zi(R),S.context===null?S.context=R:S.pendingContext=R,S=qt(f),S.payload={element:v},N=N===void 0?null:N,N!==null&&(S.callback=N),v=ee(c,S,f),v!==null&&(ia(v,c,f),Ae(v,c,f))}function gc(c,f){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var v=c.retryLane;c.retryLane=v!==0&&v<f?v:f}}function Wf(c,f){gc(c,f),(c=c.alternate)&&gc(c,f)}var on={},_c=md(),Ms=EG(),Xd=Object.assign,TS=Symbol.for("react.element"),jf=Symbol.for("react.transitional.element"),$s=Symbol.for("react.portal"),Ml=Symbol.for("react.fragment"),Qf=Symbol.for("react.strict_mode"),kd=Symbol.for("react.profiler"),Zf=Symbol.for("react.provider"),yg=Symbol.for("react.consumer"),Ar=Symbol.for("react.context"),$f=Symbol.for("react.forward_ref"),Yd=Symbol.for("react.suspense"),vc=Symbol.for("react.suspense_list"),qd=Symbol.for("react.memo"),tr=Symbol.for("react.lazy"),xg=Symbol.for("react.offscreen"),iv=Symbol.for("react.memo_cache_sentinel"),zo=Symbol.iterator,Ag=Symbol.for("react.client.reference"),je=_c.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$r,Ho,lu=!1,yc=Array.isArray,Sg=t.rendererVersion,th=t.rendererPackageName,xc=t.extraDevToolsConfig,Ac=t.getPublicInstance,av=t.getRootHostContext,Sc=t.getChildHostContext,Jd=t.prepareForCommit,sv=t.resetAfterCommit,Mg=t.createInstance,eh=t.appendInitialChild,Go=t.finalizeInitialChildren,ln=t.shouldSetTextContent,Wn=t.createTextInstance,Hi=t.scheduleTimeout,Kd=t.cancelTimeout,bl=t.noTimeout,Ya=t.isPrimaryRenderer;t.warnsIfNotActing;var Ji=t.supportsMutation,er=t.supportsPersistence,Aa=t.supportsHydration,rv=t.getInstanceFromNode;t.beforeActiveInstanceBlur,t.afterActiveInstanceBlur;var Di=t.preparePortalMount;t.prepareScopeUpdate,t.getInstanceFromScope;var Da=t.setCurrentUpdatePriority,Vo=t.getCurrentUpdatePriority,ov=t.resolveUpdatePriority;t.resolveEventType,t.resolveEventTimeStamp;var lv=t.shouldAttemptEagerTransition,CS=t.detachDeletedInstance;t.requestPostPaintCallback;var bg=t.maySuspendCommit,Wd=t.preloadInstance,Eg=t.startSuspendingCommit,qa=t.suspendInstance,Gi=t.waitForCommitToBeReady,El=t.NotPendingTransition,Sr=t.HostTransitionContext,jd=t.resetFormInstance;t.bindToConsole;var Tg=t.supportsMicrotasks,Xo=t.scheduleMicrotask,Tl=t.supportsTestSelectors,Cg=t.findFiberRoot,Rg=t.getBoundingRect,uv=t.getTextContent,Mc=t.isHiddenSubtree,cv=t.matchAccessibilityRole,fv=t.setFocusIfFocusable,hv=t.setupIntersectionObserver,dv=t.appendChild,wg=t.appendChildToContainer,pv=t.commitTextUpdate,RS=t.commitMount,mv=t.commitUpdate,gv=t.insertBefore,_v=t.insertInContainerBefore,Bg=t.removeChild,vv=t.removeChildFromContainer,Dg=t.resetTextContent,yv=t.hideInstance,xv=t.hideTextInstance,Av=t.unhideInstance,wS=t.unhideTextInstance,Sv=t.clearContainer,bc=t.cloneInstance,nh=t.createContainerChildSet,Og=t.appendChildToContainerChildSet,Qd=t.finalizeContainerChildren,Ec=t.replaceContainerChildren,Ug=t.cloneHiddenInstance,Ng=t.cloneHiddenTextInstance,Zd=t.isSuspenseInstancePending,$d=t.isSuspenseInstanceFallback,Mv=t.getSuspenseInstanceFallbackErrorDetails,bv=t.registerSuspenseInstanceRetry,Lg=t.canHydrateFormStateMarker,Ev=t.isFormStateMarkerMatching,Ig=t.getNextHydratableSibling,tp=t.getFirstHydratableChild,Tv=t.getFirstHydratableChildWithinContainer,Cv=t.getFirstHydratableChildWithinSuspenseInstance,BS=t.canHydrateInstance,Pg=t.canHydrateTextInstance,Rv=t.canHydrateSuspenseInstance,wv=t.hydrateInstance,Fg=t.hydrateTextInstance,Bv=t.hydrateSuspenseInstance,Dv=t.getNextHydratableInstanceAfterSuspenseInstance,DS=t.commitHydratedContainer,OS=t.commitHydratedSuspenseInstance,Ov=t.clearSuspenseBoundary,ih=t.clearSuspenseBoundaryFromContainer,ep=t.shouldDeleteUnhydratedTailInstances;t.diffHydratedPropsForDevWarnings,t.diffHydratedTextForDevWarnings,t.describeHydratableInstanceForDevWarnings;var np=t.validateHydratableInstance,Uv=t.validateHydratableTextInstance,bs=t.supportsResources,ah=t.isHostHoistableType,ip=t.getHoistableRoot,zg=t.getResource,Nv=t.acquireResource,uu=t.releaseResource,sh=t.hydrateHoistable,rh=t.mountHoistable,Tc=t.unmountHoistable,ap=t.createHoistableInstance,Lv=t.prepareToCommitHoistables,Iv=t.mayResourceSuspendCommit,cu=t.preloadResource,Pv=t.suspendResource,ti=t.supportsSingletons,Mr=t.resolveSingletonInstance,Cl=t.clearSingleton,Fv=t.acquireSingletonInstance,Rl=t.releaseSingletonInstance,to=t.isHostSingletonType,Oi=[],ko=-1,wl={},Ja=Math.clz32?Math.clz32:D,zv=Math.log,Hv=Math.LN2,eo=128,fu=4194304,oh=Ms.unstable_scheduleCallback,sp=Ms.unstable_cancelCallback,Gv=Ms.unstable_shouldYield,rp=Ms.unstable_requestPaint,nr=Ms.unstable_now,op=Ms.unstable_ImmediatePriority,Vv=Ms.unstable_UserBlockingPriority,lp=Ms.unstable_NormalPriority,US=Ms.unstable_IdlePriority,Xv=Ms.log,aa=Ms.unstable_setDisableYieldValue,Ui=null,rs=null,os=typeof Object.is=="function"?Object.is:K,Hg=new WeakMap,hu=[],du=0,pu=null,Cc=0,Es=[],Ts=0,Bl=null,br=1,Er="",Ki=E(null),Rc=E(null),no=E(null),mu=E(null),Sa=null,Ma=null,Dn=!1,ir=null,sa=!1,lh=Error(i(519)),ar=[],gu=0,Tr=0,uh=null,Yo=null,_u=!1,si=!1,Gg=!1,wc=0,Bc=null,vu=0,Cs=0,yu=null,qo=!1,xu=!1,io=Object.prototype.hasOwnProperty,Dc=Error(i(460)),ch=Error(i(474)),fh={then:function(){}},Dl=null,Ol=null,Ul=0,Nl=Le(!0),ao=Le(!1),ri=E(null),Oc=E(0),Rs=E(null),ei=null,Wi=E(0),Jo=0,hn=null,Ve=null,Un=null,sr=!1,Au=!1,Ll=!1,up=0,Su=0,ra=null,Cr=0,cp=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}},bi={readContext:_a,use:dt,useCallback:Je,useContext:Je,useEffect:Je,useImperativeHandle:Je,useLayoutEffect:Je,useInsertionEffect:Je,useMemo:Je,useReducer:Je,useRef:Je,useState:Je,useDebugValue:Je,useDeferredValue:Je,useTransition:Je,useSyncExternalStore:Je,useId:Je};bi.useCacheRefresh=Je,bi.useMemoCache=Je,bi.useHostTransitionStatus=Je,bi.useFormState=Je,bi.useActionState=Je,bi.useOptimistic=Je;var Il={readContext:_a,use:dt,useCallback:function(c,f){return ot().memoizedState=[c,f===void 0?null:f],c},useContext:_a,useEffect:Ad,useImperativeHandle:function(c,f,v){v=v!=null?v.concat([c]):null,bf(4194308,4,Sd.bind(null,f,c),v)},useLayoutEffect:function(c,f){return bf(4194308,4,c,f)},useInsertionEffect:function(c,f){bf(4,2,c,f)},useMemo:function(c,f){var v=ot();f=f===void 0?null:f;var S=c();if(Ll){q(!0);try{c()}finally{q(!1)}}return v.memoizedState=[S,f],S},useReducer:function(c,f,v){var S=ot();if(v!==void 0){var R=v(f);if(Ll){q(!0);try{v(f)}finally{q(!1)}}}else R=f;return S.memoizedState=S.baseState=R,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:R},S.queue=c,c=c.dispatch=bd.bind(null,hn,c),[S.memoizedState,c]},useRef:function(c){var f=ot();return c={current:c},f.memoizedState=c},useState:function(c){c=rn(c);var f=c.queue,v=Jm.bind(null,hn,f);return f.dispatch=v,[c.memoizedState,v]},useDebugValue:ll,useDeferredValue:function(c,f){var v=ot();return Cf(v,c,f)},useTransition:function(){var c=rn(!1);return c=$u.bind(null,hn,c.queue,!0,!1),ot().memoizedState=c,[!1,c]},useSyncExternalStore:function(c,f,v){var S=hn,R=ot();if(Dn){if(v===void 0)throw Error(i(407));v=v()}else{if(v=f(),qn===null)throw Error(i(349));(Sn&60)!==0||Ce(S,f,v)}R.memoizedState=v;var N={value:v,getSnapshot:f};return R.queue=N,Ad(sn.bind(null,S,N,c),[c]),S.flags|=2048,qi(9,tn.bind(null,S,N,v,f),{destroy:void 0},null),v},useId:function(){var c=ot(),f=qn.identifierPrefix;if(Dn){var v=Er,S=br;v=(S&~(1<<32-Ja(S)-1)).toString(32)+v,f=":"+f+"R"+v,v=up++,0<v&&(f+="H"+v.toString(32)),f+=":"}else v=Cr++,f=":"+f+"r"+v.toString(32)+":";return c.memoizedState=f},useCacheRefresh:function(){return ot().memoizedState=qm.bind(null,hn)}};Il.useMemoCache=kt,Il.useHostTransitionStatus=Rf,Il.useFormState=wa,Il.useActionState=wa,Il.useOptimistic=function(c){var f=ot();f.memoizedState=f.baseState=c;var v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return f.queue=v,f=ec.bind(null,hn,!0,v),v.dispatch=f,[c,f]};var Ka={readContext:_a,use:dt,useCallback:au,useContext:_a,useEffect:Xm,useImperativeHandle:Md,useInsertionEffect:L_,useLayoutEffect:Tf,useMemo:km,useReducer:ye,useRef:N_,useState:function(){return ye(ne)},useDebugValue:ll,useDeferredValue:function(c,f){var v=yt();return Ym(v,Ve.memoizedState,c,f)},useTransition:function(){var c=ye(ne)[0],f=yt().memoizedState;return[typeof c=="boolean"?c:Tt(c),f]},useSyncExternalStore:Be,useId:tc};Ka.useCacheRefresh=Co,Ka.useMemoCache=kt,Ka.useHostTransitionStatus=Rf,Ka.useFormState=pa,Ka.useActionState=pa,Ka.useOptimistic=function(c,f){var v=yt();return ze(v,Ve,c,f)};var ws={readContext:_a,use:dt,useCallback:au,useContext:_a,useEffect:Xm,useImperativeHandle:Md,useInsertionEffect:L_,useLayoutEffect:Tf,useMemo:km,useReducer:Ue,useRef:N_,useState:function(){return Ue(ne)},useDebugValue:ll,useDeferredValue:function(c,f){var v=yt();return Ve===null?Cf(v,c,f):Ym(v,Ve.memoizedState,c,f)},useTransition:function(){var c=Ue(ne)[0],f=yt().memoizedState;return[typeof c=="boolean"?c:Tt(c),f]},useSyncExternalStore:Be,useId:tc};ws.useCacheRefresh=Co,ws.useMemoCache=kt,ws.useHostTransitionStatus=Rf,ws.useFormState=iu,ws.useActionState=iu,ws.useOptimistic=function(c,f){var v=yt();return Ve!==null?ze(v,Ve,c,f):(v.baseState=c,[c,v.queue.dispatch])};var so={isMounted:function(c){return(c=c._reactInternals)?_(c)===c:!1},enqueueSetState:function(c,f,v){c=c._reactInternals;var S=Bi(),R=qt(S);R.payload=f,v!=null&&(R.callback=v),f=ee(c,R,S),f!==null&&(ia(f,c,S),Ae(f,c,S))},enqueueReplaceState:function(c,f,v){c=c._reactInternals;var S=Bi(),R=qt(S);R.tag=1,R.payload=f,v!=null&&(R.callback=v),f=ee(c,R,S),f!==null&&(ia(f,c,S),Ae(f,c,S))},enqueueForceUpdate:function(c,f){c=c._reactInternals;var v=Bi(),S=qt(v);S.tag=2,f!=null&&(S.callback=f),f=ee(c,S,v),f!==null&&(ia(f,c,v),Ae(f,c,v))}},fp=typeof reportError=="function"?reportError:function(c){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var f=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof c=="object"&&c!==null&&typeof c.message=="string"?String(c.message):String(c),error:c});if(!window.dispatchEvent(f))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",c);return}console.error(c)},hp=Error(i(461)),ni=!1,dp={dehydrated:null,treeContext:null,retryLane:0},Ko=E(null),Rr=null,Bs=null,Uc=typeof AbortController<"u"?AbortController:function(){var c=[],f=this.signal={aborted:!1,addEventListener:function(v,S){c.push(S)}};this.abort=function(){f.aborted=!0,c.forEach(function(v){return v()})}},kv=Ms.unstable_scheduleCallback,Yv=Ms.unstable_NormalPriority,oi={$$typeof:Ar,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},Vg=je.S;je.S=function(c,f){typeof f=="object"&&f!==null&&typeof f.then=="function"&&Ct(c,f),Vg!==null&&Vg(c,f)};var ro=E(null),oo=!1,Ei=!1,Xg=!1,Yn=typeof WeakSet=="function"?WeakSet:Set,nn=null,vn=!1,Ge=null,cn=!1,Si=null,Ds=8192,Nc={getCacheForType:function(c){var f=_a(oi),v=f.data.get(c);return v===void 0&&(v=c(),f.data.set(c,v)),v}},Lc=0,rr=1,hi=2,wr=3,lo=4;if(typeof Symbol=="function"&&Symbol.for){var Mu=Symbol.for;Lc=Mu("selector.component"),rr=Mu("selector.has_pseudo_class"),hi=Mu("selector.role"),wr=Mu("selector.test_id"),lo=Mu("selector.text")}var or=typeof WeakMap=="function"?WeakMap:Map,Nn=0,qn=null,Xe=null,Sn=0,Zn=0,Oa=null,lr=!1,Os=!1,ji=!1,Ua=0,ii=0,Us=0,Wo=0,hh=0,Ns=0,uo=0,bu=null,Ti=null,pp=!1,Wa=0,Ic=1/0,dh=null,Pl=null,Br=!1,co=null,Eu=0,Fl=0,mp=null,Pc=0,gp=null;return on.attemptContinuousHydration=function(c){if(c.tag===13){var f=tt(c,67108864);f!==null&&ia(f,c,67108864),Wf(c,67108864)}},on.attemptHydrationAtCurrentPriority=function(c){if(c.tag===13){var f=Bi(),v=tt(c,f);v!==null&&ia(v,c,f),Wf(c,f)}},on.attemptSynchronousHydration=function(c){switch(c.tag){case 3:if(c=c.stateNode,c.current.memoizedState.isDehydrated){var f=B(c.pendingLanes);if(f!==0){for(c.pendingLanes|=2,c.entangledLanes|=2;f;){var v=1<<31-Ja(f);c.entanglements[1]|=v,f&=~v}jt(c),(Nn&6)===0&&(Ic=nr()+500,de(0))}}break;case 13:f=tt(c,2),f!==null&&ia(f,c,2),Yf(),Wf(c,2)}},on.batchedUpdates=function(c,f){return c(f)},on.createComponentSelector=function(c){return{$$typeof:Lc,value:c}},on.createContainer=function(c,f,v,S,R,N,J,st,_t,Pt){return nv(c,f,!1,null,v,S,N,J,st,_t,Pt,null)},on.createHasPseudoClassSelector=function(c){return{$$typeof:rr,value:c}},on.createHydrationContainer=function(c,f,v,S,R,N,J,st,_t,Pt,oe,me,Se){return c=nv(v,S,!0,c,R,N,st,_t,Pt,oe,me,Se),c.context=zi(null),v=c.current,S=Bi(),R=qt(S),R.callback=f??null,ee(v,R,S),c.current.lanes=S,V(c,S),jt(c),c},on.createPortal=function(c,f,v){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$s,key:S==null?null:""+S,children:c,containerInfo:f,implementation:v}},on.createRoleSelector=function(c){return{$$typeof:hi,value:c}},on.createTestNameSelector=function(c){return{$$typeof:wr,value:c}},on.createTextSelector=function(c){return{$$typeof:lo,value:c}},on.defaultOnCaughtError=function(c){console.error(c)},on.defaultOnRecoverableError=function(c){fp(c)},on.defaultOnUncaughtError=function(c){fp(c)},on.deferredUpdates=function(c){var f=je.T,v=Vo();try{return Da(32),je.T=null,c()}finally{Da(v),je.T=f}},on.discreteUpdates=function(c,f,v,S,R){var N=je.T,J=Vo();try{return Da(2),je.T=null,c(f,v,S,R)}finally{Da(J),je.T=N,Nn===0&&(Ic=nr()+500)}},on.findAllNodes=Xf,on.findBoundingRects=function(c,f){if(!Tl)throw Error(i(363));f=Xf(c,f),c=[];for(var v=0;v<f.length;v++)c.push(Rg(f[v]));for(f=c.length-1;0<f;f--){v=c[f];for(var S=v.x,R=S+v.width,N=v.y,J=N+v.height,st=f-1;0<=st;st--)if(f!==st){var _t=c[st],Pt=_t.x,oe=Pt+_t.width,me=_t.y,Se=me+_t.height;if(S>=Pt&&N>=me&&R<=oe&&J<=Se){c.splice(f,1);break}else if(S!==Pt||v.width!==_t.width||Se<N||me>J){if(!(N!==me||v.height!==_t.height||oe<S||Pt>R)){Pt>S&&(_t.width+=Pt-S,_t.x=S),oe<R&&(_t.width=R-Pt),c.splice(f,1);break}}else{me>N&&(_t.height+=me-N,_t.y=N),Se<J&&(_t.height=J-me),c.splice(f,1);break}}}return c},on.findHostInstance=Vd,on.findHostInstanceWithNoPortals=function(c){return c=x(c),c=c!==null?T(c):null,c===null?null:Ac(c.stateNode)},on.findHostInstanceWithWarning=function(c){return Vd(c)},on.flushPassiveEffects=xr,on.flushSyncFromReconciler=function(c){var f=Nn;Nn|=1;var v=je.T,S=Vo();try{if(Da(2),je.T=null,c)return c()}finally{Da(S),je.T=v,Nn=f,(Nn&6)===0&&de(0)}},on.flushSyncWork=Yf,on.focusWithin=function(c,f){if(!Tl)throw Error(i(363));for(c=fc(c),f=as(c,f),f=Array.from(f),c=0;c<f.length;){var v=f[c++],S=v.tag;if(!Mc(v)){if((S===5||S===26||S===27)&&fv(v.stateNode))return!0;for(v=v.child;v!==null;)f.push(v),v=v.sibling}}return!1},on.getFindAllNodesFailureDescription=function(c,f){if(!Tl)throw Error(i(363));var v=0,S=[];c=[fc(c),0];for(var R=0;R<c.length;){var N=c[R++],J=N.tag,st=c[R++],_t=f[st];if((J!==5&&J!==26&&J!==27||!Mc(N))&&(_l(N,_t)&&(S.push(fg(_t)),st++,st>v&&(v=st)),st<f.length))for(N=N.child;N!==null;)c.push(N,st),N=N.sibling}if(v<f.length){for(c=[];v<f.length;v++)c.push(fg(f[v]));return`findAllNodes was able to match part of the selector:
  `+(S.join(" > ")+`

No matching component was found for:
  `)+c.join(" > ")}return null},on.getPublicRootInstance=function(c){if(c=c.current,!c.child)return null;switch(c.child.tag){case 27:case 5:return Ac(c.child.stateNode);default:return c.child.stateNode}},on.injectIntoDevTools=function(){var c={bundleType:0,version:Sg,rendererPackageName:th,currentDispatcherRef:je,findFiberByHostInstance:rv,reconcilerVersion:"19.0.0"};if(xc!==null&&(c.rendererConfig=xc),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")c=!1;else{var f=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(f.isDisabled||!f.supportsFiber)c=!0;else{try{Ui=f.inject(c),rs=f}catch{}c=!!f.checkDCE}}return c},on.isAlreadyRendering=function(){return!1},on.observeVisibleRects=function(c,f,v,S){if(!Tl)throw Error(i(363));c=Xf(c,f);var R=hv(c,v,S).disconnect;return{disconnect:function(){R()}}},on.shouldError=function(){return null},on.shouldSuspend=function(){return!1},on.startHostTransition=function(c,f,v,S){if(c.tag!==5)throw Error(i(476));var R=Wr(c).queue;$u(c,R,f,El,v===null?n:function(){var N=Wr(c).next.queue;return ul(c,N,{},Bi()),v(S)})},on.updateContainer=function(c,f,v,S){var R=f.current,N=Bi();return mc(R,N,c,f,v,S),N},on.updateContainerSync=function(c,f,v,S){return f.tag===0&&xr(),mc(f.current,2,c,f,v,S),2},on},r.exports.default=r.exports,Object.defineProperty(r.exports,"__esModule",{value:!0})}(rb)),rb.exports}var VR;function CG(){return VR||(VR=1,sb.exports=TG()),sb.exports}var RG=CG();const wG=Nm(RG);var ub={exports:{}},cb={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XR;function BG(){return XR||(XR=1,function(r){function t(G,q){var K=G.length;G.push(q);t:for(;0<K;){var lt=K-1>>>1,I=G[lt];if(0<i(I,q))G[lt]=q,G[K]=I,K=lt;else break t}}function e(G){return G.length===0?null:G[0]}function n(G){if(G.length===0)return null;var q=G[0],K=G.pop();if(K!==q){G[0]=K;t:for(var lt=0,I=G.length,nt=I>>>1;lt<nt;){var gt=2*(lt+1)-1,bt=G[gt],St=gt+1,ft=G[St];if(0>i(bt,K))St<I&&0>i(ft,bt)?(G[lt]=ft,G[St]=K,lt=St):(G[lt]=bt,G[gt]=K,lt=gt);else if(St<I&&0>i(ft,K))G[lt]=ft,G[St]=K,lt=St;else break t}}return q}function i(G,q){var K=G.sortIndex-q.sortIndex;return K!==0?K:G.id-q.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;r.unstable_now=function(){return s.now()}}else{var l=Date,u=l.now();r.unstable_now=function(){return l.now()-u}}var d=[],p=[],g=1,_=null,y=3,x=!1,M=!1,T=!1,E=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;function D(G){for(var q=e(p);q!==null;){if(q.callback===null)n(p);else if(q.startTime<=G)n(p),q.sortIndex=q.expirationTime,t(d,q);else break;q=e(p)}}function B(G){if(T=!1,D(G),!M)if(e(d)!==null)M=!0,rt();else{var q=e(p);q!==null&&ut(B,q.startTime-G)}}var L=!1,P=-1,H=5,F=-1;function O(){return!(r.unstable_now()-F<H)}function U(){if(L){var G=r.unstable_now();F=G;var q=!0;try{t:{M=!1,T&&(T=!1,b(P),P=-1),x=!0;var K=y;try{e:{for(D(G),_=e(d);_!==null&&!(_.expirationTime>G&&O());){var lt=_.callback;if(typeof lt=="function"){_.callback=null,y=_.priorityLevel;var I=lt(_.expirationTime<=G);if(G=r.unstable_now(),typeof I=="function"){_.callback=I,D(G),q=!0;break e}_===e(d)&&n(d),D(G)}else n(d);_=e(d)}if(_!==null)q=!0;else{var nt=e(p);nt!==null&&ut(B,nt.startTime-G),q=!1}}break t}finally{_=null,y=K,x=!1}q=void 0}}finally{q?V():L=!1}}}var V;if(typeof w=="function")V=function(){w(U)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,et=Q.port2;Q.port1.onmessage=U,V=function(){et.postMessage(null)}}else V=function(){E(U,0)};function rt(){L||(L=!0,V())}function ut(G,q){P=E(function(){G(r.unstable_now())},q)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(G){G.callback=null},r.unstable_continueExecution=function(){M||x||(M=!0,rt())},r.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<G?Math.floor(1e3/G):5},r.unstable_getCurrentPriorityLevel=function(){return y},r.unstable_getFirstCallbackNode=function(){return e(d)},r.unstable_next=function(G){switch(y){case 1:case 2:case 3:var q=3;break;default:q=y}var K=y;y=q;try{return G()}finally{y=K}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(G,q){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var K=y;y=G;try{return q()}finally{y=K}},r.unstable_scheduleCallback=function(G,q,K){var lt=r.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?lt+K:lt):K=lt,G){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=K+I,G={id:g++,callback:q,priorityLevel:G,startTime:K,expirationTime:I,sortIndex:-1},K>lt?(G.sortIndex=K,t(p,G),e(d)===null&&G===e(p)&&(T?(b(P),P=-1):T=!0,ut(B,K-lt))):(G.sortIndex=I,t(d,G),M||x||(M=!0,rt())),G},r.unstable_shouldYield=O,r.unstable_wrapCallback=function(G){var q=y;return function(){var K=y;y=q;try{return G.apply(this,arguments)}finally{y=K}}}}(cb)),cb}var kR;function DG(){return kR||(kR=1,ub.exports=BG()),ub.exports}var YR=DG();function D1(r,t,e){if(!r)return;if(e(r)===!0)return r;let n=t?r.return:r.child;for(;n;){const i=D1(n,t,e);if(i)return i;n=t?null:n.sibling}}function tD(r){try{return Object.defineProperties(r,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return r}}const O1=tD(xe.createContext(null));class eD extends xe.Component{render(){return xe.createElement(O1.Provider,{value:this._reactInternals},this.props.children)}}function nD(){const r=xe.useContext(O1);if(r===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const t=xe.useId();return xe.useMemo(()=>{for(const e of[r,r?.alternate]){if(!e)continue;const n=D1(e,!1,i=>{let s=i.memoizedState;for(;s;){if(s.memoizedState===t)return!0;s=s.next}});if(n)return n}},[r,t])}const OG=Symbol.for("react.context"),UG=r=>r!==null&&typeof r=="object"&&"$$typeof"in r&&r.$$typeof===OG;function NG(){const r=nD(),[t]=xe.useState(()=>new Map);t.clear();let e=r;for(;e;){const n=e.type;UG(n)&&n!==O1&&!t.has(n)&&t.set(n,xe.use(tD(n))),e=e.return}return t}function LG(){const r=NG();return xe.useMemo(()=>Array.from(r.keys()).reduce((t,e)=>n=>xe.createElement(t,null,xe.createElement(e.Provider,{...n,value:r.get(e)})),t=>xe.createElement(eD,{...t})),[r])}function iD(r){let t=r.root;for(;t.getState().previousRoot;)t=t.getState().previousRoot;return t}const aD=r=>r&&r.isOrthographicCamera,IG=r=>r&&r.hasOwnProperty("current"),PG=r=>r!=null&&(typeof r=="string"||typeof r=="number"||r.isColor),D_=((r,t)=>typeof window<"u"&&(((r=window.document)==null?void 0:r.createElement)||((t=window.navigator)==null?void 0:t.product)==="ReactNative"))()?xe.useLayoutEffect:xe.useEffect;function sD(r){const t=xe.useRef(r);return D_(()=>void(t.current=r),[r]),t}function FG(){const r=nD(),t=LG();return xe.useMemo(()=>({children:e})=>{const i=!!D1(r,!0,s=>s.type===xe.StrictMode)?xe.StrictMode:xe.Fragment;return fe.jsx(i,{children:fe.jsx(t,{children:e})})},[r,t])}function zG({set:r}){return D_(()=>(r(new Promise(()=>null)),()=>r(!1)),[r]),null}const HG=(r=>(r=class extends xe.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}},r.getDerivedStateFromError=()=>({error:!0}),r))();function rD(r){var t;const e=typeof window<"u"?(t=window.devicePixelRatio)!=null?t:2:1;return Array.isArray(r)?Math.min(Math.max(r[0],e),r[1]):r}function Xp(r){var t;return(t=r.__r3f)==null?void 0:t.root.getState()}const Ci={obj:r=>r===Object(r)&&!Ci.arr(r)&&typeof r!="function",fun:r=>typeof r=="function",str:r=>typeof r=="string",num:r=>typeof r=="number",boo:r=>typeof r=="boolean",und:r=>r===void 0,nul:r=>r===null,arr:r=>Array.isArray(r),equ(r,t,{arrays:e="shallow",objects:n="reference",strict:i=!0}={}){if(typeof r!=typeof t||!!r!=!!t)return!1;if(Ci.str(r)||Ci.num(r)||Ci.boo(r))return r===t;const s=Ci.obj(r);if(s&&n==="reference")return r===t;const l=Ci.arr(r);if(l&&e==="reference")return r===t;if((l||s)&&r===t)return!0;let u;for(u in r)if(!(u in t))return!1;if(s&&e==="shallow"&&n==="shallow"){for(u in i?t:r)if(!Ci.equ(r[u],t[u],{strict:i,objects:"reference"}))return!1}else for(u in i?t:r)if(r[u]!==t[u])return!1;if(Ci.und(u)){if(l&&r.length===0&&t.length===0||s&&Object.keys(r).length===0&&Object.keys(t).length===0)return!0;if(r!==t)return!1}return!0}};function GG(r){const t={nodes:{},materials:{},meshes:{}};return r&&r.traverse(e=>{e.name&&(t.nodes[e.name]=e),e.material&&!t.materials[e.material.name]&&(t.materials[e.material.name]=e.material),e.isMesh&&!t.meshes[e.name]&&(t.meshes[e.name]=e)}),t}function VG(r){r.type!=="Scene"&&(r.dispose==null||r.dispose());for(const t in r){const e=r[t];e?.type!=="Scene"&&(e==null||e.dispose==null||e.dispose())}}const oD=["children","key","ref"];function XG(r){const t={};for(const e in r)oD.includes(e)||(t[e]=r[e]);return t}function yA(r,t,e,n){const i=r;let s=i?.__r3f;return s||(s={root:t,type:e,parent:null,children:[],props:XG(n),object:i,eventCount:0,handlers:{},isHidden:!1},i&&(i.__r3f=s)),s}function c_(r,t){let e=r[t];if(!t.includes("-"))return{root:r,key:t,target:e};e=r;for(const i of t.split("-")){var n;t=i,r=e,e=(n=e)==null?void 0:n[t]}return{root:r,key:t,target:e}}const qR=/-\d+$/;function xA(r,t){if(Ci.str(t.props.attach)){if(qR.test(t.props.attach)){const i=t.props.attach.replace(qR,""),{root:s,key:l}=c_(r.object,i);Array.isArray(s[l])||(s[l]=[])}const{root:e,key:n}=c_(r.object,t.props.attach);t.previousAttach=e[n],e[n]=t.object}else Ci.fun(t.props.attach)&&(t.previousAttach=t.props.attach(r.object,t.object))}function AA(r,t){if(Ci.str(t.props.attach)){const{root:e,key:n}=c_(r.object,t.props.attach),i=t.previousAttach;i===void 0?delete e[n]:e[n]=i}else t.previousAttach==null||t.previousAttach(r.object,t.object);delete t.previousAttach}const rE=[...oD,"args","dispose","attach","object","onUpdate","dispose"],JR=new Map;function kG(r){let t=JR.get(r.constructor);try{t||(t=new r.constructor,JR.set(r.constructor,t))}catch{}return t}function YG(r,t){const e={};for(const n in t)if(!rE.includes(n)&&!Ci.equ(t[n],r.props[n])){e[n]=t[n];for(const i in t)i.startsWith(`${n}-`)&&(e[i]=t[i])}for(const n in r.props){if(rE.includes(n)||t.hasOwnProperty(n))continue;const{root:i,key:s}=c_(r.object,n);if(i.constructor&&i.constructor.length===0){const l=kG(i);Ci.und(l)||(e[s]=l[s])}else e[s]=0}return e}const qG=["map","emissiveMap","sheenColorMap","specularColorMap","envMap"],JG=/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/;function ef(r,t){var e;const n=r.__r3f,i=n&&iD(n).getState(),s=n?.eventCount;for(const u in t){let d=t[u];if(rE.includes(u))continue;if(n&&JG.test(u)){typeof d=="function"?n.handlers[u]=d:delete n.handlers[u],n.eventCount=Object.keys(n.handlers).length;continue}if(d===void 0)continue;let{root:p,key:g,target:_}=c_(r,u);if(_ instanceof Am&&d instanceof Am)_.mask=d.mask;else if(_ instanceof pe&&PG(d))_.set(d);else if(_!==null&&typeof _=="object"&&typeof _.set=="function"&&typeof _.copy=="function"&&d!=null&&d.constructor&&_.constructor===d.constructor)_.copy(d);else if(_!==null&&typeof _=="object"&&typeof _.set=="function"&&Array.isArray(d))typeof _.fromArray=="function"?_.fromArray(d):_.set(...d);else if(_!==null&&typeof _=="object"&&typeof _.set=="function"&&typeof d=="number")typeof _.setScalar=="function"?_.setScalar(d):_.set(d);else{var l;p[g]=d,i&&!i.linear&&qG.includes(g)&&(l=p[g])!=null&&l.isTexture&&p[g].format===_s&&p[g].type===bo&&(p[g].colorSpace=ps)}}if(n!=null&&n.parent&&i!=null&&i.internal&&(e=n.object)!=null&&e.isObject3D&&s!==n.eventCount){const u=n.object,d=i.internal.interaction.indexOf(u);d>-1&&i.internal.interaction.splice(d,1),n.eventCount&&u.raycast!==null&&i.internal.interaction.push(u)}return n&&n.props.attach===void 0&&(n.object.isBufferGeometry?n.props.attach="geometry":n.object.isMaterial&&(n.props.attach="material")),n&&Gm(n),r}function Gm(r){var t;if(!r.parent)return;r.props.onUpdate==null||r.props.onUpdate(r.object);const e=(t=r.root)==null||t.getState==null?void 0:t.getState();e&&e.internal.frames===0&&e.invalidate()}function KG(r,t){r.manual||(aD(r)?(r.left=t.width/-2,r.right=t.width/2,r.top=t.height/2,r.bottom=t.height/-2):r.aspect=t.width/t.height,r.updateProjectionMatrix())}const ks=r=>r?.isObject3D;function $y(r){return(r.eventObject||r.object).uuid+"/"+r.index+r.instanceId}function lD(r,t,e,n){const i=e.get(t);i&&(e.delete(t),e.size===0&&(r.delete(n),i.target.releasePointerCapture(n)))}function WG(r,t){const{internal:e}=r.getState();e.interaction=e.interaction.filter(n=>n!==t),e.initialHits=e.initialHits.filter(n=>n!==t),e.hovered.forEach((n,i)=>{(n.eventObject===t||n.object===t)&&e.hovered.delete(i)}),e.capturedMap.forEach((n,i)=>{lD(e.capturedMap,t,n,i)})}function jG(r){function t(d){const{internal:p}=r.getState(),g=d.offsetX-p.initialClick[0],_=d.offsetY-p.initialClick[1];return Math.round(Math.sqrt(g*g+_*_))}function e(d){return d.filter(p=>["Move","Over","Enter","Out","Leave"].some(g=>{var _;return(_=p.__r3f)==null?void 0:_.handlers["onPointer"+g]}))}function n(d,p){const g=r.getState(),_=new Set,y=[],x=p?p(g.internal.interaction):g.internal.interaction;for(let b=0;b<x.length;b++){const w=Xp(x[b]);w&&(w.raycaster.camera=void 0)}g.previousRoot||g.events.compute==null||g.events.compute(d,g);function M(b){const w=Xp(b);if(!w||!w.events.enabled||w.raycaster.camera===null)return[];if(w.raycaster.camera===void 0){var D;w.events.compute==null||w.events.compute(d,w,(D=w.previousRoot)==null?void 0:D.getState()),w.raycaster.camera===void 0&&(w.raycaster.camera=null)}return w.raycaster.camera?w.raycaster.intersectObject(b,!0):[]}let T=x.flatMap(M).sort((b,w)=>{const D=Xp(b.object),B=Xp(w.object);return!D||!B?b.distance-w.distance:B.events.priority-D.events.priority||b.distance-w.distance}).filter(b=>{const w=$y(b);return _.has(w)?!1:(_.add(w),!0)});g.events.filter&&(T=g.events.filter(T,g));for(const b of T){let w=b.object;for(;w;){var E;(E=w.__r3f)!=null&&E.eventCount&&y.push({...b,eventObject:w}),w=w.parent}}if("pointerId"in d&&g.internal.capturedMap.has(d.pointerId))for(let b of g.internal.capturedMap.get(d.pointerId).values())_.has($y(b.intersection))||y.push(b.intersection);return y}function i(d,p,g,_){if(d.length){const y={stopped:!1};for(const x of d){let M=Xp(x.object);if(M||x.object.traverseAncestors(T=>{const E=Xp(T);if(E)return M=E,!1}),M){const{raycaster:T,pointer:E,camera:b,internal:w}=M,D=new W(E.x,E.y,0).unproject(b),B=O=>{var U,V;return(U=(V=w.capturedMap.get(O))==null?void 0:V.has(x.eventObject))!=null?U:!1},L=O=>{const U={intersection:x,target:p.target};w.capturedMap.has(O)?w.capturedMap.get(O).set(x.eventObject,U):w.capturedMap.set(O,new Map([[x.eventObject,U]])),p.target.setPointerCapture(O)},P=O=>{const U=w.capturedMap.get(O);U&&lD(w.capturedMap,x.eventObject,U,O)};let H={};for(let O in p){let U=p[O];typeof U!="function"&&(H[O]=U)}let F={...x,...H,pointer:E,intersections:d,stopped:y.stopped,delta:g,unprojectedPoint:D,ray:T.ray,camera:b,stopPropagation(){const O="pointerId"in p&&w.capturedMap.get(p.pointerId);if((!O||O.has(x.eventObject))&&(F.stopped=y.stopped=!0,w.hovered.size&&Array.from(w.hovered.values()).find(U=>U.eventObject===x.eventObject))){const U=d.slice(0,d.indexOf(x));s([...U,x])}},target:{hasPointerCapture:B,setPointerCapture:L,releasePointerCapture:P},currentTarget:{hasPointerCapture:B,setPointerCapture:L,releasePointerCapture:P},nativeEvent:p};if(_(F),y.stopped===!0)break}}}return d}function s(d){const{internal:p}=r.getState();for(const g of p.hovered.values())if(!d.length||!d.find(_=>_.object===g.object&&_.index===g.index&&_.instanceId===g.instanceId)){const y=g.eventObject.__r3f;if(p.hovered.delete($y(g)),y!=null&&y.eventCount){const x=y.handlers,M={...g,intersections:d};x.onPointerOut==null||x.onPointerOut(M),x.onPointerLeave==null||x.onPointerLeave(M)}}}function l(d,p){for(let g=0;g<p.length;g++){const _=p[g].__r3f;_==null||_.handlers.onPointerMissed==null||_.handlers.onPointerMissed(d)}}function u(d){switch(d){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return p=>{const{internal:g}=r.getState();"pointerId"in p&&g.capturedMap.has(p.pointerId)&&requestAnimationFrame(()=>{g.capturedMap.has(p.pointerId)&&(g.capturedMap.delete(p.pointerId),s([]))})}}return function(g){const{onPointerMissed:_,internal:y}=r.getState();y.lastEvent.current=g;const x=d==="onPointerMove",M=d==="onClick"||d==="onContextMenu"||d==="onDoubleClick",E=n(g,x?e:void 0),b=M?t(g):0;d==="onPointerDown"&&(y.initialClick=[g.offsetX,g.offsetY],y.initialHits=E.map(D=>D.eventObject)),M&&!E.length&&b<=2&&(l(g,y.interaction),_&&_(g)),x&&s(E);function w(D){const B=D.eventObject,L=B.__r3f;if(!(L!=null&&L.eventCount))return;const P=L.handlers;if(x){if(P.onPointerOver||P.onPointerEnter||P.onPointerOut||P.onPointerLeave){const H=$y(D),F=y.hovered.get(H);F?F.stopped&&D.stopPropagation():(y.hovered.set(H,D),P.onPointerOver==null||P.onPointerOver(D),P.onPointerEnter==null||P.onPointerEnter(D))}P.onPointerMove==null||P.onPointerMove(D)}else{const H=P[d];H?(!M||y.initialHits.includes(B))&&(l(g,y.interaction.filter(F=>!y.initialHits.includes(F))),H(D)):M&&y.initialHits.includes(B)&&l(g,y.interaction.filter(F=>!y.initialHits.includes(F)))}}i(E,g,b,w)}}return{handlePointer:u}}const KR=r=>!!(r!=null&&r.render),uD=xe.createContext(null),QG=(r,t)=>{const e=yG((u,d)=>{const p=new W,g=new W,_=new W;function y(b=d().camera,w=g,D=d().size){const{width:B,height:L,top:P,left:H}=D,F=B/L;w.isVector3?_.copy(w):_.set(...w);const O=b.getWorldPosition(p).distanceTo(_);if(aD(b))return{width:B/b.zoom,height:L/b.zoom,top:P,left:H,factor:1,distance:O,aspect:F};{const U=b.fov*Math.PI/180,V=2*Math.tan(U/2)*O,Q=V*(B/L);return{width:Q,height:V,top:P,left:H,factor:B/Q,distance:O,aspect:F}}}let x;const M=b=>u(w=>({performance:{...w.performance,current:b}})),T=new Ht;return{set:u,get:d,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},scene:null,xr:null,invalidate:(b=1)=>r(d(),b),advance:(b,w)=>t(b,w,d()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new E1,pointer:T,mouse:T,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const b=d();x&&clearTimeout(x),b.performance.current!==b.performance.min&&M(b.performance.min),x=setTimeout(()=>M(d().performance.max),b.performance.debounce)}},size:{width:0,height:0,top:0,left:0},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:y},setEvents:b=>u(w=>({...w,events:{...w.events,...b}})),setSize:(b,w,D=0,B=0)=>{const L=d().camera,P={width:b,height:w,top:D,left:B};u(H=>({size:P,viewport:{...H.viewport,...y(L,g,P)}}))},setDpr:b=>u(w=>{const D=rD(b);return{viewport:{...w.viewport,dpr:D,initialDpr:w.viewport.initialDpr||D}}}),setFrameloop:(b="always")=>{const w=d().clock;w.stop(),w.elapsedTime=0,b!=="never"&&(w.start(),w.elapsedTime=0),u(()=>({frameloop:b}))},previousRoot:void 0,internal:{interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,lastEvent:xe.createRef(),active:!1,frames:0,priority:0,subscribe:(b,w,D)=>{const B=d().internal;return B.priority=B.priority+(w>0?1:0),B.subscribers.push({ref:b,priority:w,store:D}),B.subscribers=B.subscribers.sort((L,P)=>L.priority-P.priority),()=>{const L=d().internal;L!=null&&L.subscribers&&(L.priority=L.priority-(w>0?1:0),L.subscribers=L.subscribers.filter(P=>P.ref!==b))}}}}}),n=e.getState();let i=n.size,s=n.viewport.dpr,l=n.camera;return e.subscribe(()=>{const{camera:u,size:d,viewport:p,gl:g,set:_}=e.getState();if(d.width!==i.width||d.height!==i.height||p.dpr!==s){i=d,s=p.dpr,KG(u,d),p.dpr>0&&g.setPixelRatio(p.dpr);const y=typeof HTMLCanvasElement<"u"&&g.domElement instanceof HTMLCanvasElement;g.setSize(d.width,d.height,y)}u!==l&&(l=u,_(y=>({viewport:{...y.viewport,...y.viewport.getCurrentViewport(u)}})))}),e.subscribe(u=>r(u)),e};function cD(){const r=xe.useContext(uD);if(!r)throw new Error("R3F: Hooks can only be used within the Canvas component!");return r}function Qc(r=e=>e,t){return cD()(r,t)}function fD(r,t=0){const e=cD(),n=e.getState().internal.subscribe,i=sD(r);return D_(()=>n(i,t,e),[t,n,e]),null}const WR=new WeakMap,ZG=r=>{var t;return typeof r=="function"&&(r==null||(t=r.prototype)==null?void 0:t.constructor)===r};function hD(r,t){return function(e,...n){let i;return ZG(e)?(i=WR.get(e),i||(i=new e,WR.set(e,i))):i=e,r&&r(i),Promise.all(n.map(s=>new Promise((l,u)=>i.load(s,d=>{ks(d?.scene)&&Object.assign(d,GG(d.scene)),l(d)},t,d=>u(new Error(`Could not load ${s}: ${d?.message}`))))))}}function O_(r,t,e,n){const i=Array.isArray(t)?t:[t],s=AG(hD(e,n),[r,...i],{equal:Ci.equ});return Array.isArray(t)?s:s[0]}O_.preload=function(r,t,e){const n=Array.isArray(t)?t:[t];return SG(hD(e),[r,...n])};O_.clear=function(r,t){const e=Array.isArray(t)?t:[t];return MG([r,...e])};function $G(r){const t=wG(r);return t.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:xe.version}),t}const dD=0,Em={},t4=/^three(?=[A-Z])/,gS=r=>`${r[0].toUpperCase()}${r.slice(1)}`;let e4=0;const n4=r=>typeof r=="function";function i4(r){if(n4(r)){const t=`${e4++}`;return Em[t]=r,t}else Object.assign(Em,r)}function pD(r,t){const e=gS(r),n=Em[e];if(r!=="primitive"&&!n)throw new Error(`R3F: ${e} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(r==="primitive"&&!t.object)throw new Error("R3F: Primitives without 'object' are invalid!");if(t.args!==void 0&&!Array.isArray(t.args))throw new Error("R3F: The args prop must be an array!")}function a4(r,t,e){var n;return r=gS(r)in Em?r:r.replace(t4,""),pD(r,t),r==="primitive"&&(n=t.object)!=null&&n.__r3f&&delete t.object.__r3f,yA(t.object,e,r,t)}function s4(r){if(!r.isHidden){var t;r.props.attach&&(t=r.parent)!=null&&t.object?AA(r.parent,r):ks(r.object)&&(r.object.visible=!1),r.isHidden=!0,Gm(r)}}function mD(r){if(r.isHidden){var t;r.props.attach&&(t=r.parent)!=null&&t.object?xA(r.parent,r):ks(r.object)&&r.props.visible!==!1&&(r.object.visible=!0),r.isHidden=!1,Gm(r)}}function U1(r,t,e){const n=t.root.getState();if(!(!r.parent&&r.object!==n.scene)){if(!t.object){var i,s;const l=Em[gS(t.type)];t.object=(i=t.props.object)!=null?i:new l(...(s=t.props.args)!=null?s:[]),t.object.__r3f=t}if(ef(t.object,t.props),t.props.attach)xA(r,t);else if(ks(t.object)&&ks(r.object)){const l=r.object.children.indexOf(e?.object);if(e&&l!==-1){const u=r.object.children.indexOf(t.object);if(u!==-1){r.object.children.splice(u,1);const d=u<l?l-1:l;r.object.children.splice(d,0,t.object)}else t.object.parent=r.object,r.object.children.splice(l,0,t.object),t.object.dispatchEvent({type:"added"}),r.object.dispatchEvent({type:"childadded",child:t.object})}else r.object.add(t.object)}for(const l of t.children)U1(t,l);Gm(t)}}function fb(r,t){t&&(t.parent=r,r.children.push(t),U1(r,t))}function jR(r,t,e){if(!t||!e)return;t.parent=r;const n=r.children.indexOf(e);n!==-1?r.children.splice(n,0,t):r.children.push(t),U1(r,t,e)}function gD(r){if(typeof r.dispose=="function"){const t=()=>{try{r.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT<"u"?t():YR.unstable_scheduleCallback(YR.unstable_IdlePriority,t)}}function oE(r,t,e){if(!t)return;t.parent=null;const n=r.children.indexOf(t);n!==-1&&r.children.splice(n,1),t.props.attach?AA(r,t):ks(t.object)&&ks(r.object)&&(r.object.remove(t.object),WG(iD(t),t.object));const i=t.props.dispose!==null&&e!==!1;for(let s=t.children.length-1;s>=0;s--){const l=t.children[s];oE(t,l,i)}t.children.length=0,delete t.object.__r3f,i&&t.type!=="primitive"&&t.object.type!=="Scene"&&gD(t.object),e===void 0&&Gm(t)}function r4(r,t){for(const e of[r,r.alternate])if(e!==null)if(typeof e.ref=="function"){e.refCleanup==null||e.refCleanup();const n=e.ref(t);typeof n=="function"&&(e.refCleanup=n)}else e.ref&&(e.ref.current=t)}const Mx=[];function o4(){for(const[e]of Mx){const n=e.parent;if(n){e.props.attach?AA(n,e):ks(e.object)&&ks(n.object)&&n.object.remove(e.object);for(const i of e.children)i.props.attach?AA(e,i):ks(i.object)&&ks(e.object)&&e.object.remove(i.object)}e.isHidden&&mD(e),e.object.__r3f&&delete e.object.__r3f,e.type!=="primitive"&&gD(e.object)}for(const[e,n,i]of Mx){e.props=n;const s=e.parent;if(s){var r,t;const l=Em[gS(e.type)];e.object=(r=e.props.object)!=null?r:new l(...(t=e.props.args)!=null?t:[]),e.object.__r3f=e,r4(i,e.object),ef(e.object,e.props),e.props.attach?xA(s,e):ks(e.object)&&ks(s.object)&&s.object.add(e.object);for(const u of e.children)u.props.attach?xA(e,u):ks(u.object)&&ks(e.object)&&e.object.add(u.object);Gm(e)}}Mx.length=0}const hb=()=>{},QR={};let tx=dD;const l4=0,u4=4,lE=$G({isPrimaryRenderer:!1,warnsIfNotActing:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,createInstance:a4,removeChild:oE,appendChild:fb,appendInitialChild:fb,insertBefore:jR,appendChildToContainer(r,t){const e=r.getState().scene.__r3f;!t||!e||fb(e,t)},removeChildFromContainer(r,t){const e=r.getState().scene.__r3f;!t||!e||oE(e,t)},insertInContainerBefore(r,t,e){const n=r.getState().scene.__r3f;!t||!e||!n||jR(n,t,e)},getRootHostContext:()=>QR,getChildHostContext:()=>QR,commitUpdate(r,t,e,n,i){var s,l,u;pD(t,n);let d=!1;if((r.type==="primitive"&&e.object!==n.object||((s=n.args)==null?void 0:s.length)!==((l=e.args)==null?void 0:l.length)||(u=n.args)!=null&&u.some((g,_)=>{var y;return g!==((y=e.args)==null?void 0:y[_])}))&&(d=!0),d)Mx.push([r,{...n},i]);else{const g=YG(r,n);Object.keys(g).length&&(Object.assign(r.props,g),ef(r.object,g))}(i.sibling===null||(i.flags&u4)===l4)&&o4()},finalizeInitialChildren:()=>!1,commitMount(){},getPublicInstance:r=>r?.object,prepareForCommit:()=>null,preparePortalMount:r=>yA(r.getState().scene,r,"",{}),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance:s4,unhideInstance:mD,createTextInstance:hb,hideTextInstance:hb,unhideTextInstance:hb,scheduleTimeout:typeof setTimeout=="function"?setTimeout:void 0,cancelTimeout:typeof clearTimeout=="function"?clearTimeout:void 0,noTimeout:-1,getInstanceFromNode:()=>null,beforeActiveInstanceBlur(){},afterActiveInstanceBlur(){},detachDeletedInstance(){},prepareScopeUpdate(){},getInstanceFromScope:()=>null,shouldAttemptEagerTransition:()=>!1,trackSchedulerEvent:()=>{},resolveEventType:()=>null,resolveEventTimeStamp:()=>-1.1,requestPostPaintCallback(){},maySuspendCommit:()=>!1,preloadInstance:()=>!0,startSuspendingCommit(){},suspendInstance(){},waitForCommitToBeReady:()=>null,NotPendingTransition:null,HostTransitionContext:xe.createContext(null),setCurrentUpdatePriority(r){tx=r},getCurrentUpdatePriority(){return tx},resolveUpdatePriority(){var r;if(tx!==dD)return tx;switch(typeof window<"u"&&((r=window.event)==null?void 0:r.type)){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Sx.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Sx.ContinuousEventPriority;default:return Sx.DefaultEventPriority}},resetFormInstance(){}}),cd=new Map,kp={objects:"shallow",strict:!1};function c4(r,t){if(!t&&typeof HTMLCanvasElement<"u"&&r instanceof HTMLCanvasElement&&r.parentElement){const{width:e,height:n,top:i,left:s}=r.parentElement.getBoundingClientRect();return{width:e,height:n,top:i,left:s}}else if(!t&&typeof OffscreenCanvas<"u"&&r instanceof OffscreenCanvas)return{width:r.width,height:r.height,top:0,left:0};return{width:0,height:0,top:0,left:0,...t}}function f4(r){const t=cd.get(r),e=t?.fiber,n=t?.store;t&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,s=n||QG(fE,$R),l=e||lE.createContainer(s,Sx.ConcurrentRoot,null,!1,null,"",i,i,i,null);t||cd.set(r,{fiber:l,store:s});let u,d,p=!1,g=null;return{async configure(_={}){let y;g=new Promise(nt=>y=nt);let{gl:x,size:M,scene:T,events:E,onCreated:b,shadows:w=!1,linear:D=!1,flat:B=!1,legacy:L=!1,orthographic:P=!1,frameloop:H="always",dpr:F=[1,2],performance:O,raycaster:U,camera:V,onPointerMissed:Q}=_,et=s.getState(),rt=et.gl;if(!et.gl){const nt={canvas:r,powerPreference:"high-performance",antialias:!0,alpha:!0},gt=typeof x=="function"?await x(nt):x;KR(gt)?rt=gt:rt=new QB({...nt,...x}),et.set({gl:rt})}let ut=et.raycaster;ut||et.set({raycaster:ut=new VB});const{params:G,...q}=U||{};if(Ci.equ(q,ut,kp)||ef(ut,{...q}),Ci.equ(G,ut.params,kp)||ef(ut,{params:{...ut.params,...G}}),!et.camera||et.camera===d&&!Ci.equ(d,V,kp)){d=V;const nt=V?.isCamera,gt=nt?V:P?new Yu(0,0,0,0,.1,1e3):new Xi(75,0,.1,1e3);nt||(gt.position.z=5,V&&(ef(gt,V),gt.manual||("aspect"in V||"left"in V||"right"in V||"bottom"in V||"top"in V)&&(gt.manual=!0,gt.updateProjectionMatrix())),!et.camera&&!(V!=null&&V.rotation)&&gt.lookAt(0,0,0)),et.set({camera:gt}),ut.camera=gt}if(!et.scene){let nt;T!=null&&T.isScene?(nt=T,yA(nt,s,"",{})):(nt=new t1,yA(nt,s,"",{}),T&&ef(nt,T)),et.set({scene:nt})}E&&!et.events.handlers&&et.set({events:E(s)});const K=c4(r,M);if(Ci.equ(K,et.size,kp)||et.setSize(K.width,K.height,K.top,K.left),F&&et.viewport.dpr!==rD(F)&&et.setDpr(F),et.frameloop!==H&&et.setFrameloop(H),et.onPointerMissed||et.set({onPointerMissed:Q}),O&&!Ci.equ(O,et.performance,kp)&&et.set(nt=>({performance:{...nt.performance,...O}})),!et.xr){var lt;const nt=(St,ft)=>{const Mt=s.getState();Mt.frameloop!=="never"&&$R(St,!0,Mt,ft)},gt=()=>{const St=s.getState();St.gl.xr.enabled=St.gl.xr.isPresenting,St.gl.xr.setAnimationLoop(St.gl.xr.isPresenting?nt:null),St.gl.xr.isPresenting||fE(St)},bt={connect(){const St=s.getState().gl;St.xr.addEventListener("sessionstart",gt),St.xr.addEventListener("sessionend",gt)},disconnect(){const St=s.getState().gl;St.xr.removeEventListener("sessionstart",gt),St.xr.removeEventListener("sessionend",gt)}};typeof((lt=rt.xr)==null?void 0:lt.addEventListener)=="function"&&bt.connect(),et.set({xr:bt})}if(rt.shadowMap){const nt=rt.shadowMap.enabled,gt=rt.shadowMap.type;if(rt.shadowMap.enabled=!!w,Ci.boo(w))rt.shadowMap.type=O0;else if(Ci.str(w)){var I;const bt={basic:iw,percentage:IA,soft:O0,variance:el};rt.shadowMap.type=(I=bt[w])!=null?I:O0}else Ci.obj(w)&&Object.assign(rt.shadowMap,w);(nt!==rt.shadowMap.enabled||gt!==rt.shadowMap.type)&&(rt.shadowMap.needsUpdate=!0)}return Ln.enabled=!L,p||(rt.outputColorSpace=D?mf:ps,rt.toneMapping=B?jl:zE),et.legacy!==L&&et.set(()=>({legacy:L})),et.linear!==D&&et.set(()=>({linear:D})),et.flat!==B&&et.set(()=>({flat:B})),x&&!Ci.fun(x)&&!KR(x)&&!Ci.equ(x,rt,kp)&&ef(rt,x),u=b,p=!0,y(),this},render(_){return!p&&!g&&this.configure(),g.then(()=>{lE.updateContainer(fe.jsx(h4,{store:s,children:_,onCreated:u,rootElement:r}),l,null,()=>{})}),s},unmount(){_D(r)}}}function h4({store:r,children:t,onCreated:e,rootElement:n}){return D_(()=>{const i=r.getState();i.set(s=>({internal:{...s.internal,active:!0}})),e&&e(i),r.getState().events.connected||i.events.connect==null||i.events.connect(n)},[]),fe.jsx(uD.Provider,{value:r,children:t})}function _D(r,t){const e=cd.get(r),n=e?.fiber;if(n){const i=e?.store.getState();i&&(i.internal.active=!1),lE.updateContainer(null,n,null,()=>{i&&setTimeout(()=>{try{var s,l,u,d;i.events.disconnect==null||i.events.disconnect(),(s=i.gl)==null||(l=s.renderLists)==null||l.dispose==null||l.dispose(),(u=i.gl)==null||u.forceContextLoss==null||u.forceContextLoss(),(d=i.gl)!=null&&d.xr&&i.xr.disconnect(),VG(i.scene),cd.delete(r)}catch{}},500)})}}const d4=new Set,p4=new Set,m4=new Set;function db(r,t){if(r.size)for(const{callback:e}of r.values())e(t)}function G0(r,t){switch(r){case"before":return db(d4,t);case"after":return db(p4,t);case"tail":return db(m4,t)}}let pb,mb;function uE(r,t,e){let n=t.clock.getDelta();t.frameloop==="never"&&typeof r=="number"&&(n=r-t.clock.elapsedTime,t.clock.oldTime=t.clock.elapsedTime,t.clock.elapsedTime=r),pb=t.internal.subscribers;for(let i=0;i<pb.length;i++)mb=pb[i],mb.ref.current(mb.store.getState(),n,e);return!t.internal.priority&&t.gl.render&&t.gl.render(t.scene,t.camera),t.internal.frames=Math.max(0,t.internal.frames-1),t.frameloop==="always"?1:t.internal.frames}let SA=!1,cE=!1,gb,ZR,Yp;function vD(r){ZR=requestAnimationFrame(vD),SA=!0,gb=0,G0("before",r),cE=!0;for(const e of cd.values()){var t;Yp=e.store.getState(),Yp.internal.active&&(Yp.frameloop==="always"||Yp.internal.frames>0)&&!((t=Yp.gl.xr)!=null&&t.isPresenting)&&(gb+=uE(r,Yp))}if(cE=!1,G0("after",r),gb===0)return G0("tail",r),SA=!1,cancelAnimationFrame(ZR)}function fE(r,t=1){var e;if(!r)return cd.forEach(n=>fE(n.store.getState(),t));(e=r.gl.xr)!=null&&e.isPresenting||!r.internal.active||r.frameloop==="never"||(t>1?r.internal.frames=Math.min(60,r.internal.frames+t):cE?r.internal.frames=2:r.internal.frames=1,SA||(SA=!0,requestAnimationFrame(vD)))}function $R(r,t=!0,e,n){if(t&&G0("before",r),e)uE(r,e,n);else for(const i of cd.values())uE(r,i.store.getState());t&&G0("after",r)}const _b={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function g4(r){const{handlePointer:t}=jG(r);return{priority:1,enabled:!0,compute(e,n,i){n.pointer.set(e.offsetX/n.size.width*2-1,-(e.offsetY/n.size.height)*2+1),n.raycaster.setFromCamera(n.pointer,n.camera)},connected:void 0,handlers:Object.keys(_b).reduce((e,n)=>({...e,[n]:t(n)}),{}),update:()=>{var e;const{events:n,internal:i}=r.getState();(e=i.lastEvent)!=null&&e.current&&n.handlers&&n.handlers.onPointerMove(i.lastEvent.current)},connect:e=>{const{set:n,events:i}=r.getState();if(i.disconnect==null||i.disconnect(),n(s=>({events:{...s.events,connected:e}})),i.handlers)for(const s in i.handlers){const l=i.handlers[s],[u,d]=_b[s];e.addEventListener(u,l,{passive:d})}},disconnect:()=>{const{set:e,events:n}=r.getState();if(n.connected){if(n.handlers)for(const i in n.handlers){const s=n.handlers[i],[l]=_b[i];n.connected.removeEventListener(l,s)}e(i=>({events:{...i.events,connected:void 0}}))}}}}function t2(r,t){let e;return(...n)=>{window.clearTimeout(e),e=window.setTimeout(()=>r(...n),t)}}function _4({debounce:r,scroll:t,polyfill:e,offsetSize:n}={debounce:0,scroll:!1,offsetSize:!1}){const i=e||(typeof window>"u"?class{}:window.ResizeObserver);if(!i)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[s,l]=xe.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),u=xe.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:s,orientationHandler:null}),d=r?typeof r=="number"?r:r.scroll:null,p=r?typeof r=="number"?r:r.resize:null,g=xe.useRef(!1);xe.useEffect(()=>(g.current=!0,()=>void(g.current=!1)));const[_,y,x]=xe.useMemo(()=>{const b=()=>{if(!u.current.element)return;const{left:w,top:D,width:B,height:L,bottom:P,right:H,x:F,y:O}=u.current.element.getBoundingClientRect(),U={left:w,top:D,width:B,height:L,bottom:P,right:H,x:F,y:O};u.current.element instanceof HTMLElement&&n&&(U.height=u.current.element.offsetHeight,U.width=u.current.element.offsetWidth),Object.freeze(U),g.current&&!A4(u.current.lastBounds,U)&&l(u.current.lastBounds=U)};return[b,p?t2(b,p):b,d?t2(b,d):b]},[l,n,d,p]);function M(){u.current.scrollContainers&&(u.current.scrollContainers.forEach(b=>b.removeEventListener("scroll",x,!0)),u.current.scrollContainers=null),u.current.resizeObserver&&(u.current.resizeObserver.disconnect(),u.current.resizeObserver=null),u.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",u.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",u.current.orientationHandler))}function T(){u.current.element&&(u.current.resizeObserver=new i(x),u.current.resizeObserver.observe(u.current.element),t&&u.current.scrollContainers&&u.current.scrollContainers.forEach(b=>b.addEventListener("scroll",x,{capture:!0,passive:!0})),u.current.orientationHandler=()=>{x()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",u.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",u.current.orientationHandler))}const E=b=>{!b||b===u.current.element||(M(),u.current.element=b,u.current.scrollContainers=yD(b),T())};return y4(x,!!t),v4(y),xe.useEffect(()=>{M(),T()},[t,x,y]),xe.useEffect(()=>M,[]),[E,s,_]}function v4(r){xe.useEffect(()=>{const t=r;return window.addEventListener("resize",t),()=>void window.removeEventListener("resize",t)},[r])}function y4(r,t){xe.useEffect(()=>{if(t){const e=r;return window.addEventListener("scroll",e,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",e,!0)}},[r,t])}function yD(r){const t=[];if(!r||r===document.body)return t;const{overflow:e,overflowX:n,overflowY:i}=window.getComputedStyle(r);return[e,n,i].some(s=>s==="auto"||s==="scroll")&&t.push(r),[...t,...yD(r.parentElement)]}const x4=["x","y","top","bottom","left","right","width","height"],A4=(r,t)=>x4.every(e=>r[e]===t[e]);function S4({ref:r,children:t,fallback:e,resize:n,style:i,gl:s,events:l=g4,eventSource:u,eventPrefix:d,shadows:p,linear:g,flat:_,legacy:y,orthographic:x,frameloop:M,dpr:T,performance:E,raycaster:b,camera:w,scene:D,onPointerMissed:B,onCreated:L,...P}){xe.useMemo(()=>i4(rG),[]);const H=FG(),[F,O]=_4({scroll:!0,debounce:{scroll:50,resize:0},...n}),U=xe.useRef(null),V=xe.useRef(null);xe.useImperativeHandle(r,()=>U.current);const Q=sD(B),[et,rt]=xe.useState(!1),[ut,G]=xe.useState(!1);if(et)throw et;if(ut)throw ut;const q=xe.useRef(null);D_(()=>{const lt=U.current;if(O.width>0&&O.height>0&&lt){q.current||(q.current=f4(lt));async function I(){await q.current.configure({gl:s,scene:D,events:l,shadows:p,linear:g,flat:_,legacy:y,orthographic:x,frameloop:M,dpr:T,performance:E,raycaster:b,camera:w,size:O,onPointerMissed:(...nt)=>Q.current==null?void 0:Q.current(...nt),onCreated:nt=>{nt.events.connect==null||nt.events.connect(u?IG(u)?u.current:u:V.current),d&&nt.setEvents({compute:(gt,bt)=>{const St=gt[d+"X"],ft=gt[d+"Y"];bt.pointer.set(St/bt.size.width*2-1,-(ft/bt.size.height)*2+1),bt.raycaster.setFromCamera(bt.pointer,bt.camera)}}),L?.(nt)}}),q.current.render(fe.jsx(H,{children:fe.jsx(HG,{set:G,children:fe.jsx(xe.Suspense,{fallback:fe.jsx(zG,{set:rt}),children:t??null})})}))}I()}}),xe.useEffect(()=>{const lt=U.current;if(lt)return()=>_D(lt)},[]);const K=u?"none":"auto";return fe.jsx("div",{ref:V,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:K,...i},...P,children:fe.jsx("div",{ref:F,style:{width:"100%",height:"100%"},children:fe.jsx("canvas",{ref:U,style:{display:"block"},children:e})})})}function M4(r){return fe.jsx(eD,{children:fe.jsx(S4,{...r})})}const b4=parseInt(x_.replace(/\D+/g,""));function e2(r,t){if(t===Nw)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),r;if(t===pA||t===KE){let e=r.getIndex();if(e===null){const l=[],u=r.getAttribute("position");if(u!==void 0){for(let d=0;d<u.count;d++)l.push(d);r.setIndex(l),e=r.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),r}const n=e.count-2,i=[];if(e)if(t===pA)for(let l=1;l<=n;l++)i.push(e.getX(0)),i.push(e.getX(l)),i.push(e.getX(l+1));else for(let l=0;l<n;l++)l%2===0?(i.push(e.getX(l)),i.push(e.getX(l+1)),i.push(e.getX(l+2))):(i.push(e.getX(l+2)),i.push(e.getX(l+1)),i.push(e.getX(l)));i.length/3!==n&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=r.clone();return s.setIndex(i),s.clearGroups(),s}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",t),r}var E4=Object.defineProperty,T4=(r,t,e)=>t in r?E4(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e,C4=(r,t,e)=>(T4(r,t+"",e),e);class R4{constructor(){C4(this,"_listeners")}addEventListener(t,e){this._listeners===void 0&&(this._listeners={});const n=this._listeners;n[t]===void 0&&(n[t]=[]),n[t].indexOf(e)===-1&&n[t].push(e)}hasEventListener(t,e){if(this._listeners===void 0)return!1;const n=this._listeners;return n[t]!==void 0&&n[t].indexOf(e)!==-1}removeEventListener(t,e){if(this._listeners===void 0)return;const i=this._listeners[t];if(i!==void 0){const s=i.indexOf(e);s!==-1&&i.splice(s,1)}}dispatchEvent(t){if(this._listeners===void 0)return;const n=this._listeners[t.type];if(n!==void 0){t.target=this;const i=n.slice(0);for(let s=0,l=i.length;s<l;s++)i[s].call(this,t);t.target=null}}}var w4=Object.defineProperty,B4=(r,t,e)=>t in r?w4(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e,ke=(r,t,e)=>(B4(r,typeof t!="symbol"?t+"":t,e),e);const ex=new gd,n2=new Iu,D4=Math.cos(70*(Math.PI/180)),i2=(r,t)=>(r%t+t)%t;let O4=class extends R4{constructor(t,e){super(),ke(this,"object"),ke(this,"domElement"),ke(this,"enabled",!0),ke(this,"target",new W),ke(this,"minDistance",0),ke(this,"maxDistance",1/0),ke(this,"minZoom",0),ke(this,"maxZoom",1/0),ke(this,"minPolarAngle",0),ke(this,"maxPolarAngle",Math.PI),ke(this,"minAzimuthAngle",-1/0),ke(this,"maxAzimuthAngle",1/0),ke(this,"enableDamping",!1),ke(this,"dampingFactor",.05),ke(this,"enableZoom",!0),ke(this,"zoomSpeed",1),ke(this,"enableRotate",!0),ke(this,"rotateSpeed",1),ke(this,"enablePan",!0),ke(this,"panSpeed",1),ke(this,"screenSpacePanning",!0),ke(this,"keyPanSpeed",7),ke(this,"zoomToCursor",!1),ke(this,"autoRotate",!1),ke(this,"autoRotateSpeed",2),ke(this,"reverseOrbit",!1),ke(this,"reverseHorizontalOrbit",!1),ke(this,"reverseVerticalOrbit",!1),ke(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),ke(this,"mouseButtons",{LEFT:Oh.ROTATE,MIDDLE:Oh.DOLLY,RIGHT:Oh.PAN}),ke(this,"touches",{ONE:Uh.ROTATE,TWO:Uh.DOLLY_PAN}),ke(this,"target0"),ke(this,"position0"),ke(this,"zoom0"),ke(this,"_domElementKeyEvents",null),ke(this,"getPolarAngle"),ke(this,"getAzimuthalAngle"),ke(this,"setPolarAngle"),ke(this,"setAzimuthalAngle"),ke(this,"getDistance"),ke(this,"getZoomScale"),ke(this,"listenToKeyEvents"),ke(this,"stopListenToKeyEvents"),ke(this,"saveState"),ke(this,"reset"),ke(this,"update"),ke(this,"connect"),ke(this,"dispose"),ke(this,"dollyIn"),ke(this,"dollyOut"),ke(this,"getScale"),ke(this,"setScale"),this.object=t,this.domElement=e,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>g.phi,this.getAzimuthalAngle=()=>g.theta,this.setPolarAngle=it=>{let vt=i2(it,2*Math.PI),Qt=g.phi;Qt<0&&(Qt+=2*Math.PI),vt<0&&(vt+=2*Math.PI);let $=Math.abs(vt-Qt);2*Math.PI-$<$&&(vt<Qt?vt+=2*Math.PI:Qt+=2*Math.PI),_.phi=vt-Qt,n.update()},this.setAzimuthalAngle=it=>{let vt=i2(it,2*Math.PI),Qt=g.theta;Qt<0&&(Qt+=2*Math.PI),vt<0&&(vt+=2*Math.PI);let $=Math.abs(vt-Qt);2*Math.PI-$<$&&(vt<Qt?vt+=2*Math.PI:Qt+=2*Math.PI),_.theta=vt-Qt,n.update()},this.getDistance=()=>n.object.position.distanceTo(n.target),this.listenToKeyEvents=it=>{it.addEventListener("keydown",Ct),this._domElementKeyEvents=it},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",Ct),this._domElementKeyEvents=null},this.saveState=()=>{n.target0.copy(n.target),n.position0.copy(n.object.position),n.zoom0=n.object.zoom},this.reset=()=>{n.target.copy(n.target0),n.object.position.copy(n.position0),n.object.zoom=n.zoom0,n.object.updateProjectionMatrix(),n.dispatchEvent(i),n.update(),d=u.NONE},this.update=(()=>{const it=new W,vt=new W(0,1,0),Qt=new za().setFromUnitVectors(t.up,vt),$=Qt.clone().invert(),zt=new W,Wt=new za,se=2*Math.PI;return function(){const It=n.object.position;Qt.setFromUnitVectors(t.up,vt),$.copy(Qt).invert(),it.copy(It).sub(n.target),it.applyQuaternion(Qt),g.setFromVector3(it),n.autoRotate&&d===u.NONE&&rt(Q()),n.enableDamping?(g.theta+=_.theta*n.dampingFactor,g.phi+=_.phi*n.dampingFactor):(g.theta+=_.theta,g.phi+=_.phi);let ce=n.minAzimuthAngle,be=n.maxAzimuthAngle;isFinite(ce)&&isFinite(be)&&(ce<-Math.PI?ce+=se:ce>Math.PI&&(ce-=se),be<-Math.PI?be+=se:be>Math.PI&&(be-=se),ce<=be?g.theta=Math.max(ce,Math.min(be,g.theta)):g.theta=g.theta>(ce+be)/2?Math.max(ce,g.theta):Math.min(be,g.theta)),g.phi=Math.max(n.minPolarAngle,Math.min(n.maxPolarAngle,g.phi)),g.makeSafe(),n.enableDamping===!0?n.target.addScaledVector(x,n.dampingFactor):n.target.add(x),n.zoomToCursor&&O||n.object.isOrthographicCamera?g.radius=bt(g.radius):g.radius=bt(g.radius*y),it.setFromSpherical(g),it.applyQuaternion($),It.copy(n.target).add(it),n.object.matrixAutoUpdate||n.object.updateMatrix(),n.object.lookAt(n.target),n.enableDamping===!0?(_.theta*=1-n.dampingFactor,_.phi*=1-n.dampingFactor,x.multiplyScalar(1-n.dampingFactor)):(_.set(0,0,0),x.set(0,0,0));let $e=!1;if(n.zoomToCursor&&O){let ue=null;if(n.object instanceof Xi&&n.object.isPerspectiveCamera){const Ee=it.length();ue=bt(Ee*y);const Le=Ee-ue;n.object.position.addScaledVector(H,Le),n.object.updateMatrixWorld()}else if(n.object.isOrthographicCamera){const Ee=new W(F.x,F.y,0);Ee.unproject(n.object),n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/y)),n.object.updateProjectionMatrix(),$e=!0;const Le=new W(F.x,F.y,0);Le.unproject(n.object),n.object.position.sub(Le).add(Ee),n.object.updateMatrixWorld(),ue=it.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),n.zoomToCursor=!1;ue!==null&&(n.screenSpacePanning?n.target.set(0,0,-1).transformDirection(n.object.matrix).multiplyScalar(ue).add(n.object.position):(ex.origin.copy(n.object.position),ex.direction.set(0,0,-1).transformDirection(n.object.matrix),Math.abs(n.object.up.dot(ex.direction))<D4?t.lookAt(n.target):(n2.setFromNormalAndCoplanarPoint(n.object.up,n.target),ex.intersectPlane(n2,n.target))))}else n.object instanceof Yu&&n.object.isOrthographicCamera&&($e=y!==1,$e&&(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/y)),n.object.updateProjectionMatrix()));return y=1,O=!1,$e||zt.distanceToSquared(n.object.position)>p||8*(1-Wt.dot(n.object.quaternion))>p?(n.dispatchEvent(i),zt.copy(n.object.position),Wt.copy(n.object.quaternion),$e=!1,!0):!1}})(),this.connect=it=>{n.domElement=it,n.domElement.style.touchAction="none",n.domElement.addEventListener("contextmenu",ve),n.domElement.addEventListener("pointerdown",Ne),n.domElement.addEventListener("pointercancel",X),n.domElement.addEventListener("wheel",Nt)},this.dispose=()=>{var it,vt,Qt,$,zt,Wt;n.domElement&&(n.domElement.style.touchAction="auto"),(it=n.domElement)==null||it.removeEventListener("contextmenu",ve),(vt=n.domElement)==null||vt.removeEventListener("pointerdown",Ne),(Qt=n.domElement)==null||Qt.removeEventListener("pointercancel",X),($=n.domElement)==null||$.removeEventListener("wheel",Nt),(zt=n.domElement)==null||zt.ownerDocument.removeEventListener("pointermove",j),(Wt=n.domElement)==null||Wt.ownerDocument.removeEventListener("pointerup",X),n._domElementKeyEvents!==null&&n._domElementKeyEvents.removeEventListener("keydown",Ct)};const n=this,i={type:"change"},s={type:"start"},l={type:"end"},u={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let d=u.NONE;const p=1e-6,g=new nE,_=new nE;let y=1;const x=new W,M=new Ht,T=new Ht,E=new Ht,b=new Ht,w=new Ht,D=new Ht,B=new Ht,L=new Ht,P=new Ht,H=new W,F=new Ht;let O=!1;const U=[],V={};function Q(){return 2*Math.PI/60/60*n.autoRotateSpeed}function et(){return Math.pow(.95,n.zoomSpeed)}function rt(it){n.reverseOrbit||n.reverseHorizontalOrbit?_.theta+=it:_.theta-=it}function ut(it){n.reverseOrbit||n.reverseVerticalOrbit?_.phi+=it:_.phi-=it}const G=(()=>{const it=new W;return function(Qt,$){it.setFromMatrixColumn($,0),it.multiplyScalar(-Qt),x.add(it)}})(),q=(()=>{const it=new W;return function(Qt,$){n.screenSpacePanning===!0?it.setFromMatrixColumn($,1):(it.setFromMatrixColumn($,0),it.crossVectors(n.object.up,it)),it.multiplyScalar(Qt),x.add(it)}})(),K=(()=>{const it=new W;return function(Qt,$){const zt=n.domElement;if(zt&&n.object instanceof Xi&&n.object.isPerspectiveCamera){const Wt=n.object.position;it.copy(Wt).sub(n.target);let se=it.length();se*=Math.tan(n.object.fov/2*Math.PI/180),G(2*Qt*se/zt.clientHeight,n.object.matrix),q(2*$*se/zt.clientHeight,n.object.matrix)}else zt&&n.object instanceof Yu&&n.object.isOrthographicCamera?(G(Qt*(n.object.right-n.object.left)/n.object.zoom/zt.clientWidth,n.object.matrix),q($*(n.object.top-n.object.bottom)/n.object.zoom/zt.clientHeight,n.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),n.enablePan=!1)}})();function lt(it){n.object instanceof Xi&&n.object.isPerspectiveCamera||n.object instanceof Yu&&n.object.isOrthographicCamera?y=it:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function I(it){lt(y/it)}function nt(it){lt(y*it)}function gt(it){if(!n.zoomToCursor||!n.domElement)return;O=!0;const vt=n.domElement.getBoundingClientRect(),Qt=it.clientX-vt.left,$=it.clientY-vt.top,zt=vt.width,Wt=vt.height;F.x=Qt/zt*2-1,F.y=-($/Wt)*2+1,H.set(F.x,F.y,1).unproject(n.object).sub(n.object.position).normalize()}function bt(it){return Math.max(n.minDistance,Math.min(n.maxDistance,it))}function St(it){M.set(it.clientX,it.clientY)}function ft(it){gt(it),B.set(it.clientX,it.clientY)}function Mt(it){b.set(it.clientX,it.clientY)}function Lt(it){T.set(it.clientX,it.clientY),E.subVectors(T,M).multiplyScalar(n.rotateSpeed);const vt=n.domElement;vt&&(rt(2*Math.PI*E.x/vt.clientHeight),ut(2*Math.PI*E.y/vt.clientHeight)),M.copy(T),n.update()}function Yt(it){L.set(it.clientX,it.clientY),P.subVectors(L,B),P.y>0?I(et()):P.y<0&&nt(et()),B.copy(L),n.update()}function $t(it){w.set(it.clientX,it.clientY),D.subVectors(w,b).multiplyScalar(n.panSpeed),K(D.x,D.y),b.copy(w),n.update()}function Me(it){gt(it),it.deltaY<0?nt(et()):it.deltaY>0&&I(et()),n.update()}function Pe(it){let vt=!1;switch(it.code){case n.keys.UP:K(0,n.keyPanSpeed),vt=!0;break;case n.keys.BOTTOM:K(0,-n.keyPanSpeed),vt=!0;break;case n.keys.LEFT:K(n.keyPanSpeed,0),vt=!0;break;case n.keys.RIGHT:K(-n.keyPanSpeed,0),vt=!0;break}vt&&(it.preventDefault(),n.update())}function _e(){if(U.length==1)M.set(U[0].pageX,U[0].pageY);else{const it=.5*(U[0].pageX+U[1].pageX),vt=.5*(U[0].pageY+U[1].pageY);M.set(it,vt)}}function Z(){if(U.length==1)b.set(U[0].pageX,U[0].pageY);else{const it=.5*(U[0].pageX+U[1].pageX),vt=.5*(U[0].pageY+U[1].pageY);b.set(it,vt)}}function Ut(){const it=U[0].pageX-U[1].pageX,vt=U[0].pageY-U[1].pageY,Qt=Math.sqrt(it*it+vt*vt);B.set(0,Qt)}function Ot(){n.enableZoom&&Ut(),n.enablePan&&Z()}function Gt(){n.enableZoom&&Ut(),n.enableRotate&&_e()}function tt(it){if(U.length==1)T.set(it.pageX,it.pageY);else{const Qt=Ae(it),$=.5*(it.pageX+Qt.x),zt=.5*(it.pageY+Qt.y);T.set($,zt)}E.subVectors(T,M).multiplyScalar(n.rotateSpeed);const vt=n.domElement;vt&&(rt(2*Math.PI*E.x/vt.clientHeight),ut(2*Math.PI*E.y/vt.clientHeight)),M.copy(T)}function Zt(it){if(U.length==1)w.set(it.pageX,it.pageY);else{const vt=Ae(it),Qt=.5*(it.pageX+vt.x),$=.5*(it.pageY+vt.y);w.set(Qt,$)}D.subVectors(w,b).multiplyScalar(n.panSpeed),K(D.x,D.y),b.copy(w)}function Xt(it){const vt=Ae(it),Qt=it.pageX-vt.x,$=it.pageY-vt.y,zt=Math.sqrt(Qt*Qt+$*$);L.set(0,zt),P.set(0,Math.pow(L.y/B.y,n.zoomSpeed)),I(P.y),B.copy(L)}function jt(it){n.enableZoom&&Xt(it),n.enablePan&&Zt(it)}function de(it){n.enableZoom&&Xt(it),n.enableRotate&&tt(it)}function Ne(it){var vt,Qt;n.enabled!==!1&&(U.length===0&&((vt=n.domElement)==null||vt.ownerDocument.addEventListener("pointermove",j),(Qt=n.domElement)==null||Qt.ownerDocument.addEventListener("pointerup",X)),le(it),it.pointerType==="touch"?re(it):pt(it))}function j(it){n.enabled!==!1&&(it.pointerType==="touch"?te(it):wt(it))}function X(it){var vt,Qt,$;qt(it),U.length===0&&((vt=n.domElement)==null||vt.releasePointerCapture(it.pointerId),(Qt=n.domElement)==null||Qt.ownerDocument.removeEventListener("pointermove",j),($=n.domElement)==null||$.ownerDocument.removeEventListener("pointerup",X)),n.dispatchEvent(l),d=u.NONE}function pt(it){let vt;switch(it.button){case 0:vt=n.mouseButtons.LEFT;break;case 1:vt=n.mouseButtons.MIDDLE;break;case 2:vt=n.mouseButtons.RIGHT;break;default:vt=-1}switch(vt){case Oh.DOLLY:if(n.enableZoom===!1)return;ft(it),d=u.DOLLY;break;case Oh.ROTATE:if(it.ctrlKey||it.metaKey||it.shiftKey){if(n.enablePan===!1)return;Mt(it),d=u.PAN}else{if(n.enableRotate===!1)return;St(it),d=u.ROTATE}break;case Oh.PAN:if(it.ctrlKey||it.metaKey||it.shiftKey){if(n.enableRotate===!1)return;St(it),d=u.ROTATE}else{if(n.enablePan===!1)return;Mt(it),d=u.PAN}break;default:d=u.NONE}d!==u.NONE&&n.dispatchEvent(s)}function wt(it){if(n.enabled!==!1)switch(d){case u.ROTATE:if(n.enableRotate===!1)return;Lt(it);break;case u.DOLLY:if(n.enableZoom===!1)return;Yt(it);break;case u.PAN:if(n.enablePan===!1)return;$t(it);break}}function Nt(it){n.enabled===!1||n.enableZoom===!1||d!==u.NONE&&d!==u.ROTATE||(it.preventDefault(),n.dispatchEvent(s),Me(it),n.dispatchEvent(l))}function Ct(it){n.enabled===!1||n.enablePan===!1||Pe(it)}function re(it){switch(ee(it),U.length){case 1:switch(n.touches.ONE){case Uh.ROTATE:if(n.enableRotate===!1)return;_e(),d=u.TOUCH_ROTATE;break;case Uh.PAN:if(n.enablePan===!1)return;Z(),d=u.TOUCH_PAN;break;default:d=u.NONE}break;case 2:switch(n.touches.TWO){case Uh.DOLLY_PAN:if(n.enableZoom===!1&&n.enablePan===!1)return;Ot(),d=u.TOUCH_DOLLY_PAN;break;case Uh.DOLLY_ROTATE:if(n.enableZoom===!1&&n.enableRotate===!1)return;Gt(),d=u.TOUCH_DOLLY_ROTATE;break;default:d=u.NONE}break;default:d=u.NONE}d!==u.NONE&&n.dispatchEvent(s)}function te(it){switch(ee(it),d){case u.TOUCH_ROTATE:if(n.enableRotate===!1)return;tt(it),n.update();break;case u.TOUCH_PAN:if(n.enablePan===!1)return;Zt(it),n.update();break;case u.TOUCH_DOLLY_PAN:if(n.enableZoom===!1&&n.enablePan===!1)return;jt(it),n.update();break;case u.TOUCH_DOLLY_ROTATE:if(n.enableZoom===!1&&n.enableRotate===!1)return;de(it),n.update();break;default:d=u.NONE}}function ve(it){n.enabled!==!1&&it.preventDefault()}function le(it){U.push(it)}function qt(it){delete V[it.pointerId];for(let vt=0;vt<U.length;vt++)if(U[vt].pointerId==it.pointerId){U.splice(vt,1);return}}function ee(it){let vt=V[it.pointerId];vt===void 0&&(vt=new Ht,V[it.pointerId]=vt),vt.set(it.pageX,it.pageY)}function Ae(it){const vt=it.pointerId===U[0].pointerId?U[1]:U[0];return V[vt.pointerId]}this.dollyIn=(it=et())=>{nt(it),n.update()},this.dollyOut=(it=et())=>{I(it),n.update()},this.getScale=()=>y,this.setScale=it=>{lt(it),n.update()},this.getZoomScale=()=>et(),e!==void 0&&this.connect(e),this.update()}};function MA(r){if(typeof TextDecoder<"u")return new TextDecoder().decode(r);let t="";for(let e=0,n=r.length;e<n;e++)t+=String.fromCharCode(r[e]);try{return decodeURIComponent(escape(t))}catch{return t}}const Yh="srgb",qu="srgb-linear",a2=3001,U4=3e3;class N1 extends xs{constructor(t){super(t),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(e){return new F4(e)}),this.register(function(e){return new z4(e)}),this.register(function(e){return new K4(e)}),this.register(function(e){return new W4(e)}),this.register(function(e){return new j4(e)}),this.register(function(e){return new G4(e)}),this.register(function(e){return new V4(e)}),this.register(function(e){return new X4(e)}),this.register(function(e){return new k4(e)}),this.register(function(e){return new P4(e)}),this.register(function(e){return new Y4(e)}),this.register(function(e){return new H4(e)}),this.register(function(e){return new J4(e)}),this.register(function(e){return new q4(e)}),this.register(function(e){return new L4(e)}),this.register(function(e){return new Q4(e)}),this.register(function(e){return new Z4(e)})}load(t,e,n,i){const s=this;let l;if(this.resourcePath!=="")l=this.resourcePath;else if(this.path!==""){const p=uf.extractUrlBase(t);l=uf.resolveURL(p,this.path)}else l=uf.extractUrlBase(t);this.manager.itemStart(t);const u=function(p){i?i(p):console.error(p),s.manager.itemError(t),s.manager.itemEnd(t)},d=new qr(this.manager);d.setPath(this.path),d.setResponseType("arraybuffer"),d.setRequestHeader(this.requestHeader),d.setWithCredentials(this.withCredentials),d.load(t,function(p){try{s.parse(p,l,function(g){e(g),s.manager.itemEnd(t)},u)}catch(g){u(g)}},n,u)}setDRACOLoader(t){return this.dracoLoader=t,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(t){return this.ktx2Loader=t,this}setMeshoptDecoder(t){return this.meshoptDecoder=t,this}register(t){return this.pluginCallbacks.indexOf(t)===-1&&this.pluginCallbacks.push(t),this}unregister(t){return this.pluginCallbacks.indexOf(t)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(t),1),this}parse(t,e,n,i){let s;const l={},u={};if(typeof t=="string")s=JSON.parse(t);else if(t instanceof ArrayBuffer)if(MA(new Uint8Array(t.slice(0,4)))===xD){try{l[Rn.KHR_BINARY_GLTF]=new $4(t)}catch(g){i&&i(g);return}s=JSON.parse(l[Rn.KHR_BINARY_GLTF].content)}else s=JSON.parse(MA(new Uint8Array(t)));else s=t;if(s.asset===void 0||s.asset.version[0]<2){i&&i(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const d=new hV(s,{path:e||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});d.fileLoader.setRequestHeader(this.requestHeader);for(let p=0;p<this.pluginCallbacks.length;p++){const g=this.pluginCallbacks[p](d);g.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),u[g.name]=g,l[g.name]=!0}if(s.extensionsUsed)for(let p=0;p<s.extensionsUsed.length;++p){const g=s.extensionsUsed[p],_=s.extensionsRequired||[];switch(g){case Rn.KHR_MATERIALS_UNLIT:l[g]=new I4;break;case Rn.KHR_DRACO_MESH_COMPRESSION:l[g]=new tV(s,this.dracoLoader);break;case Rn.KHR_TEXTURE_TRANSFORM:l[g]=new eV;break;case Rn.KHR_MESH_QUANTIZATION:l[g]=new nV;break;default:_.indexOf(g)>=0&&u[g]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+g+'".')}}d.setExtensions(l),d.setPlugins(u),d.parse(n,i)}parseAsync(t,e){const n=this;return new Promise(function(i,s){n.parse(t,e,i,s)})}}function N4(){let r={};return{get:function(t){return r[t]},add:function(t,e){r[t]=e},remove:function(t){delete r[t]},removeAll:function(){r={}}}}const Rn={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class L4{constructor(t){this.parser=t,this.name=Rn.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const t=this.parser,e=this.parser.json.nodes||[];for(let n=0,i=e.length;n<i;n++){const s=e[n];s.extensions&&s.extensions[this.name]&&s.extensions[this.name].light!==void 0&&t._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(t){const e=this.parser,n="light:"+t;let i=e.cache.get(n);if(i)return i;const s=e.json,d=((s.extensions&&s.extensions[this.name]||{}).lights||[])[t];let p;const g=new pe(16777215);d.color!==void 0&&g.setRGB(d.color[0],d.color[1],d.color[2],qu);const _=d.range!==void 0?d.range:0;switch(d.type){case"directional":p=new S1(g),p.target.position.set(0,0,-1),p.add(p.target);break;case"point":p=new A1(g),p.distance=_;break;case"spot":p=new x1(g),p.distance=_,d.spot=d.spot||{},d.spot.innerConeAngle=d.spot.innerConeAngle!==void 0?d.spot.innerConeAngle:0,d.spot.outerConeAngle=d.spot.outerConeAngle!==void 0?d.spot.outerConeAngle:Math.PI/4,p.angle=d.spot.outerConeAngle,p.penumbra=1-d.spot.innerConeAngle/d.spot.outerConeAngle,p.target.position.set(0,0,-1),p.add(p.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+d.type)}return p.position.set(0,0,0),p.decay=2,Nu(p,d),d.intensity!==void 0&&(p.intensity=d.intensity),p.name=e.createUniqueName(d.name||"light_"+t),i=Promise.resolve(p),e.cache.add(n,i),i}getDependency(t,e){if(t==="light")return this._loadLight(e)}createNodeAttachment(t){const e=this,n=this.parser,s=n.json.nodes[t],u=(s.extensions&&s.extensions[this.name]||{}).light;return u===void 0?null:this._loadLight(u).then(function(d){return n._getNodeRef(e.cache,u,d)})}}class I4{constructor(){this.name=Rn.KHR_MATERIALS_UNLIT}getMaterialType(){return Gr}extendParams(t,e,n){const i=[];t.color=new pe(1,1,1),t.opacity=1;const s=e.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){const l=s.baseColorFactor;t.color.setRGB(l[0],l[1],l[2],qu),t.opacity=l[3]}s.baseColorTexture!==void 0&&i.push(n.assignTexture(t,"map",s.baseColorTexture,Yh))}return Promise.all(i)}}class P4{constructor(t){this.parser=t,this.name=Rn.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(t,e){const i=this.parser.json.materials[t];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name].emissiveStrength;return s!==void 0&&(e.emissiveIntensity=s),Promise.resolve()}}class F4{constructor(t){this.parser=t,this.name=Rn.KHR_MATERIALS_CLEARCOAT}getMaterialType(t){const n=this.parser.json.materials[t];return!n.extensions||!n.extensions[this.name]?null:Eo}extendMaterialParams(t,e){const n=this.parser,i=n.json.materials[t];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],l=i.extensions[this.name];if(l.clearcoatFactor!==void 0&&(e.clearcoat=l.clearcoatFactor),l.clearcoatTexture!==void 0&&s.push(n.assignTexture(e,"clearcoatMap",l.clearcoatTexture)),l.clearcoatRoughnessFactor!==void 0&&(e.clearcoatRoughness=l.clearcoatRoughnessFactor),l.clearcoatRoughnessTexture!==void 0&&s.push(n.assignTexture(e,"clearcoatRoughnessMap",l.clearcoatRoughnessTexture)),l.clearcoatNormalTexture!==void 0&&(s.push(n.assignTexture(e,"clearcoatNormalMap",l.clearcoatNormalTexture)),l.clearcoatNormalTexture.scale!==void 0)){const u=l.clearcoatNormalTexture.scale;e.clearcoatNormalScale=new Ht(u,u)}return Promise.all(s)}}class z4{constructor(t){this.parser=t,this.name=Rn.KHR_MATERIALS_DISPERSION}getMaterialType(t){const n=this.parser.json.materials[t];return!n.extensions||!n.extensions[this.name]?null:Eo}extendMaterialParams(t,e){const i=this.parser.json.materials[t];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name];return e.dispersion=s.dispersion!==void 0?s.dispersion:0,Promise.resolve()}}class H4{constructor(t){this.parser=t,this.name=Rn.KHR_MATERIALS_IRIDESCENCE}getMaterialType(t){const n=this.parser.json.materials[t];return!n.extensions||!n.extensions[this.name]?null:Eo}extendMaterialParams(t,e){const n=this.parser,i=n.json.materials[t];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],l=i.extensions[this.name];return l.iridescenceFactor!==void 0&&(e.iridescence=l.iridescenceFactor),l.iridescenceTexture!==void 0&&s.push(n.assignTexture(e,"iridescenceMap",l.iridescenceTexture)),l.iridescenceIor!==void 0&&(e.iridescenceIOR=l.iridescenceIor),e.iridescenceThicknessRange===void 0&&(e.iridescenceThicknessRange=[100,400]),l.iridescenceThicknessMinimum!==void 0&&(e.iridescenceThicknessRange[0]=l.iridescenceThicknessMinimum),l.iridescenceThicknessMaximum!==void 0&&(e.iridescenceThicknessRange[1]=l.iridescenceThicknessMaximum),l.iridescenceThicknessTexture!==void 0&&s.push(n.assignTexture(e,"iridescenceThicknessMap",l.iridescenceThicknessTexture)),Promise.all(s)}}class G4{constructor(t){this.parser=t,this.name=Rn.KHR_MATERIALS_SHEEN}getMaterialType(t){const n=this.parser.json.materials[t];return!n.extensions||!n.extensions[this.name]?null:Eo}extendMaterialParams(t,e){const n=this.parser,i=n.json.materials[t];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[];e.sheenColor=new pe(0,0,0),e.sheenRoughness=0,e.sheen=1;const l=i.extensions[this.name];if(l.sheenColorFactor!==void 0){const u=l.sheenColorFactor;e.sheenColor.setRGB(u[0],u[1],u[2],qu)}return l.sheenRoughnessFactor!==void 0&&(e.sheenRoughness=l.sheenRoughnessFactor),l.sheenColorTexture!==void 0&&s.push(n.assignTexture(e,"sheenColorMap",l.sheenColorTexture,Yh)),l.sheenRoughnessTexture!==void 0&&s.push(n.assignTexture(e,"sheenRoughnessMap",l.sheenRoughnessTexture)),Promise.all(s)}}class V4{constructor(t){this.parser=t,this.name=Rn.KHR_MATERIALS_TRANSMISSION}getMaterialType(t){const n=this.parser.json.materials[t];return!n.extensions||!n.extensions[this.name]?null:Eo}extendMaterialParams(t,e){const n=this.parser,i=n.json.materials[t];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],l=i.extensions[this.name];return l.transmissionFactor!==void 0&&(e.transmission=l.transmissionFactor),l.transmissionTexture!==void 0&&s.push(n.assignTexture(e,"transmissionMap",l.transmissionTexture)),Promise.all(s)}}class X4{constructor(t){this.parser=t,this.name=Rn.KHR_MATERIALS_VOLUME}getMaterialType(t){const n=this.parser.json.materials[t];return!n.extensions||!n.extensions[this.name]?null:Eo}extendMaterialParams(t,e){const n=this.parser,i=n.json.materials[t];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],l=i.extensions[this.name];e.thickness=l.thicknessFactor!==void 0?l.thicknessFactor:0,l.thicknessTexture!==void 0&&s.push(n.assignTexture(e,"thicknessMap",l.thicknessTexture)),e.attenuationDistance=l.attenuationDistance||1/0;const u=l.attenuationColor||[1,1,1];return e.attenuationColor=new pe().setRGB(u[0],u[1],u[2],qu),Promise.all(s)}}class k4{constructor(t){this.parser=t,this.name=Rn.KHR_MATERIALS_IOR}getMaterialType(t){const n=this.parser.json.materials[t];return!n.extensions||!n.extensions[this.name]?null:Eo}extendMaterialParams(t,e){const i=this.parser.json.materials[t];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name];return e.ior=s.ior!==void 0?s.ior:1.5,Promise.resolve()}}class Y4{constructor(t){this.parser=t,this.name=Rn.KHR_MATERIALS_SPECULAR}getMaterialType(t){const n=this.parser.json.materials[t];return!n.extensions||!n.extensions[this.name]?null:Eo}extendMaterialParams(t,e){const n=this.parser,i=n.json.materials[t];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],l=i.extensions[this.name];e.specularIntensity=l.specularFactor!==void 0?l.specularFactor:1,l.specularTexture!==void 0&&s.push(n.assignTexture(e,"specularIntensityMap",l.specularTexture));const u=l.specularColorFactor||[1,1,1];return e.specularColor=new pe().setRGB(u[0],u[1],u[2],qu),l.specularColorTexture!==void 0&&s.push(n.assignTexture(e,"specularColorMap",l.specularColorTexture,Yh)),Promise.all(s)}}class q4{constructor(t){this.parser=t,this.name=Rn.EXT_MATERIALS_BUMP}getMaterialType(t){const n=this.parser.json.materials[t];return!n.extensions||!n.extensions[this.name]?null:Eo}extendMaterialParams(t,e){const n=this.parser,i=n.json.materials[t];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],l=i.extensions[this.name];return e.bumpScale=l.bumpFactor!==void 0?l.bumpFactor:1,l.bumpTexture!==void 0&&s.push(n.assignTexture(e,"bumpMap",l.bumpTexture)),Promise.all(s)}}class J4{constructor(t){this.parser=t,this.name=Rn.KHR_MATERIALS_ANISOTROPY}getMaterialType(t){const n=this.parser.json.materials[t];return!n.extensions||!n.extensions[this.name]?null:Eo}extendMaterialParams(t,e){const n=this.parser,i=n.json.materials[t];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],l=i.extensions[this.name];return l.anisotropyStrength!==void 0&&(e.anisotropy=l.anisotropyStrength),l.anisotropyRotation!==void 0&&(e.anisotropyRotation=l.anisotropyRotation),l.anisotropyTexture!==void 0&&s.push(n.assignTexture(e,"anisotropyMap",l.anisotropyTexture)),Promise.all(s)}}class K4{constructor(t){this.parser=t,this.name=Rn.KHR_TEXTURE_BASISU}loadTexture(t){const e=this.parser,n=e.json,i=n.textures[t];if(!i.extensions||!i.extensions[this.name])return null;const s=i.extensions[this.name],l=e.options.ktx2Loader;if(!l){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return e.loadTextureImage(t,s.source,l)}}class W4{constructor(t){this.parser=t,this.name=Rn.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(t){const e=this.name,n=this.parser,i=n.json,s=i.textures[t];if(!s.extensions||!s.extensions[e])return null;const l=s.extensions[e],u=i.images[l.source];let d=n.textureLoader;if(u.uri){const p=n.options.manager.getHandler(u.uri);p!==null&&(d=p)}return this.detectSupport().then(function(p){if(p)return n.loadTextureImage(t,l.source,d);if(i.extensionsRequired&&i.extensionsRequired.indexOf(e)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return n.loadTexture(t)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(t){const e=new Image;e.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",e.onload=e.onerror=function(){t(e.height===1)}})),this.isSupported}}class j4{constructor(t){this.parser=t,this.name=Rn.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(t){const e=this.name,n=this.parser,i=n.json,s=i.textures[t];if(!s.extensions||!s.extensions[e])return null;const l=s.extensions[e],u=i.images[l.source];let d=n.textureLoader;if(u.uri){const p=n.options.manager.getHandler(u.uri);p!==null&&(d=p)}return this.detectSupport().then(function(p){if(p)return n.loadTextureImage(t,l.source,d);if(i.extensionsRequired&&i.extensionsRequired.indexOf(e)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return n.loadTexture(t)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(t){const e=new Image;e.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",e.onload=e.onerror=function(){t(e.height===1)}})),this.isSupported}}class Q4{constructor(t){this.name=Rn.EXT_MESHOPT_COMPRESSION,this.parser=t}loadBufferView(t){const e=this.parser.json,n=e.bufferViews[t];if(n.extensions&&n.extensions[this.name]){const i=n.extensions[this.name],s=this.parser.getDependency("buffer",i.buffer),l=this.parser.options.meshoptDecoder;if(!l||!l.supported){if(e.extensionsRequired&&e.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return s.then(function(u){const d=i.byteOffset||0,p=i.byteLength||0,g=i.count,_=i.byteStride,y=new Uint8Array(u,d,p);return l.decodeGltfBufferAsync?l.decodeGltfBufferAsync(g,_,y,i.mode,i.filter).then(function(x){return x.buffer}):l.ready.then(function(){const x=new ArrayBuffer(g*_);return l.decodeGltfBuffer(new Uint8Array(x),g,_,y,i.mode,i.filter),x})})}else return null}}class Z4{constructor(t){this.name=Rn.EXT_MESH_GPU_INSTANCING,this.parser=t}createNodeMesh(t){const e=this.parser.json,n=e.nodes[t];if(!n.extensions||!n.extensions[this.name]||n.mesh===void 0)return null;const i=e.meshes[n.mesh];for(const p of i.primitives)if(p.mode!==go.TRIANGLES&&p.mode!==go.TRIANGLE_STRIP&&p.mode!==go.TRIANGLE_FAN&&p.mode!==void 0)return null;const l=n.extensions[this.name].attributes,u=[],d={};for(const p in l)u.push(this.parser.getDependency("accessor",l[p]).then(g=>(d[p]=g,d[p])));return u.length<1?null:(u.push(this.parser.createNodeMesh(t)),Promise.all(u).then(p=>{const g=p.pop(),_=g.isGroup?g.children:[g],y=p[0].count,x=[];for(const M of _){const T=new Ye,E=new W,b=new za,w=new W(1,1,1),D=new i1(M.geometry,M.material,y);for(let B=0;B<y;B++)d.TRANSLATION&&E.fromBufferAttribute(d.TRANSLATION,B),d.ROTATION&&b.fromBufferAttribute(d.ROTATION,B),d.SCALE&&w.fromBufferAttribute(d.SCALE,B),D.setMatrixAt(B,T.compose(E,b,w));for(const B in d)if(B==="_COLOR_0"){const L=d[B];D.instanceColor=new sd(L.array,L.itemSize,L.normalized)}else B!=="TRANSLATION"&&B!=="ROTATION"&&B!=="SCALE"&&M.geometry.setAttribute(B,d[B]);Pn.prototype.copy.call(D,M),this.parser.assignFinalMaterial(D),x.push(D)}return g.isGroup?(g.clear(),g.add(...x),g):x[0]}))}}const xD="glTF",g0=12,s2={JSON:1313821514,BIN:5130562};class $4{constructor(t){this.name=Rn.KHR_BINARY_GLTF,this.content=null,this.body=null;const e=new DataView(t,0,g0);if(this.header={magic:MA(new Uint8Array(t.slice(0,4))),version:e.getUint32(4,!0),length:e.getUint32(8,!0)},this.header.magic!==xD)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const n=this.header.length-g0,i=new DataView(t,g0);let s=0;for(;s<n;){const l=i.getUint32(s,!0);s+=4;const u=i.getUint32(s,!0);if(s+=4,u===s2.JSON){const d=new Uint8Array(t,g0+s,l);this.content=MA(d)}else if(u===s2.BIN){const d=g0+s;this.body=t.slice(d,d+l)}s+=l}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class tV{constructor(t,e){if(!e)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=Rn.KHR_DRACO_MESH_COMPRESSION,this.json=t,this.dracoLoader=e,this.dracoLoader.preload()}decodePrimitive(t,e){const n=this.json,i=this.dracoLoader,s=t.extensions[this.name].bufferView,l=t.extensions[this.name].attributes,u={},d={},p={};for(const g in l){const _=hE[g]||g.toLowerCase();u[_]=l[g]}for(const g in t.attributes){const _=hE[g]||g.toLowerCase();if(l[g]!==void 0){const y=n.accessors[t.attributes[g]],x=sm[y.componentType];p[_]=x.name,d[_]=y.normalized===!0}}return e.getDependency("bufferView",s).then(function(g){return new Promise(function(_,y){i.decodeDracoFile(g,function(x){for(const M in x.attributes){const T=x.attributes[M],E=d[M];E!==void 0&&(T.normalized=E)}_(x)},u,p,qu,y)})})}}class eV{constructor(){this.name=Rn.KHR_TEXTURE_TRANSFORM}extendTexture(t,e){return(e.texCoord===void 0||e.texCoord===t.channel)&&e.offset===void 0&&e.rotation===void 0&&e.scale===void 0||(t=t.clone(),e.texCoord!==void 0&&(t.channel=e.texCoord),e.offset!==void 0&&t.offset.fromArray(e.offset),e.rotation!==void 0&&(t.rotation=e.rotation),e.scale!==void 0&&t.repeat.fromArray(e.scale),t.needsUpdate=!0),t}}class nV{constructor(){this.name=Rn.KHR_MESH_QUANTIZATION}}class AD extends zm{constructor(t,e,n,i){super(t,e,n,i)}copySampleValue_(t){const e=this.resultBuffer,n=this.sampleValues,i=this.valueSize,s=t*i*3+i;for(let l=0;l!==i;l++)e[l]=n[s+l];return e}interpolate_(t,e,n,i){const s=this.resultBuffer,l=this.sampleValues,u=this.valueSize,d=u*2,p=u*3,g=i-e,_=(n-e)/g,y=_*_,x=y*_,M=t*p,T=M-p,E=-2*x+3*y,b=x-y,w=1-E,D=b-y+_;for(let B=0;B!==u;B++){const L=l[T+B+u],P=l[T+B+d]*g,H=l[M+B+u],F=l[M+B]*g;s[B]=w*L+D*P+E*H+b*F}return s}}const iV=new za;class aV extends AD{interpolate_(t,e,n,i){const s=super.interpolate_(t,e,n,i);return iV.fromArray(s).normalize().toArray(s),s}}const go={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},sm={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},r2={9728:Fa,9729:$i,9984:FA,9985:nm,9986:Hh,9987:yo},o2={33071:zr,33648:hm,10497:pf},vb={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},hE={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...b4>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},Zc={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},sV={CUBICSPLINE:void 0,LINEAR:vm,STEP:_m},yb={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function rV(r){return r.DefaultMaterial===void 0&&(r.DefaultMaterial=new B_({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:$l})),r.DefaultMaterial}function wh(r,t,e){for(const n in e.extensions)r[n]===void 0&&(t.userData.gltfExtensions=t.userData.gltfExtensions||{},t.userData.gltfExtensions[n]=e.extensions[n])}function Nu(r,t){t.extras!==void 0&&(typeof t.extras=="object"?Object.assign(r.userData,t.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+t.extras))}function oV(r,t,e){let n=!1,i=!1,s=!1;for(let p=0,g=t.length;p<g;p++){const _=t[p];if(_.POSITION!==void 0&&(n=!0),_.NORMAL!==void 0&&(i=!0),_.COLOR_0!==void 0&&(s=!0),n&&i&&s)break}if(!n&&!i&&!s)return Promise.resolve(r);const l=[],u=[],d=[];for(let p=0,g=t.length;p<g;p++){const _=t[p];if(n){const y=_.POSITION!==void 0?e.getDependency("accessor",_.POSITION):r.attributes.position;l.push(y)}if(i){const y=_.NORMAL!==void 0?e.getDependency("accessor",_.NORMAL):r.attributes.normal;u.push(y)}if(s){const y=_.COLOR_0!==void 0?e.getDependency("accessor",_.COLOR_0):r.attributes.color;d.push(y)}}return Promise.all([Promise.all(l),Promise.all(u),Promise.all(d)]).then(function(p){const g=p[0],_=p[1],y=p[2];return n&&(r.morphAttributes.position=g),i&&(r.morphAttributes.normal=_),s&&(r.morphAttributes.color=y),r.morphTargetsRelative=!0,r})}function lV(r,t){if(r.updateMorphTargets(),t.weights!==void 0)for(let e=0,n=t.weights.length;e<n;e++)r.morphTargetInfluences[e]=t.weights[e];if(t.extras&&Array.isArray(t.extras.targetNames)){const e=t.extras.targetNames;if(r.morphTargetInfluences.length===e.length){r.morphTargetDictionary={};for(let n=0,i=e.length;n<i;n++)r.morphTargetDictionary[e[n]]=n}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function uV(r){let t;const e=r.extensions&&r.extensions[Rn.KHR_DRACO_MESH_COMPRESSION];if(e?t="draco:"+e.bufferView+":"+e.indices+":"+xb(e.attributes):t=r.indices+":"+xb(r.attributes)+":"+r.mode,r.targets!==void 0)for(let n=0,i=r.targets.length;n<i;n++)t+=":"+xb(r.targets[n]);return t}function xb(r){let t="";const e=Object.keys(r).sort();for(let n=0,i=e.length;n<i;n++)t+=e[n]+":"+r[e[n]]+";";return t}function dE(r){switch(r){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function cV(r){return r.search(/\.jpe?g($|\?)/i)>0||r.search(/^data\:image\/jpeg/)===0?"image/jpeg":r.search(/\.webp($|\?)/i)>0||r.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const fV=new Ye;class hV{constructor(t={},e={}){this.json=t,this.extensions={},this.plugins={},this.options=e,this.cache=new N4,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let n=!1,i=!1,s=-1;typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(n=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,i=navigator.userAgent.indexOf("Firefox")>-1,s=i?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||n||i&&s<98?this.textureLoader=new BB(this.options.manager):this.textureLoader=new PB(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new qr(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(t){this.extensions=t}setPlugins(t){this.plugins=t}parse(t,e){const n=this,i=this.json,s=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(l){return l._markDefs&&l._markDefs()}),Promise.all(this._invokeAll(function(l){return l.beforeRoot&&l.beforeRoot()})).then(function(){return Promise.all([n.getDependencies("scene"),n.getDependencies("animation"),n.getDependencies("camera")])}).then(function(l){const u={scene:l[0][i.scene||0],scenes:l[0],animations:l[1],cameras:l[2],asset:i.asset,parser:n,userData:{}};return wh(s,u,i),Nu(u,i),Promise.all(n._invokeAll(function(d){return d.afterRoot&&d.afterRoot(u)})).then(function(){for(const d of u.scenes)d.updateMatrixWorld();t(u)})}).catch(e)}_markDefs(){const t=this.json.nodes||[],e=this.json.skins||[],n=this.json.meshes||[];for(let i=0,s=e.length;i<s;i++){const l=e[i].joints;for(let u=0,d=l.length;u<d;u++)t[l[u]].isBone=!0}for(let i=0,s=t.length;i<s;i++){const l=t[i];l.mesh!==void 0&&(this._addNodeRef(this.meshCache,l.mesh),l.skin!==void 0&&(n[l.mesh].isSkinnedMesh=!0)),l.camera!==void 0&&this._addNodeRef(this.cameraCache,l.camera)}}_addNodeRef(t,e){e!==void 0&&(t.refs[e]===void 0&&(t.refs[e]=t.uses[e]=0),t.refs[e]++)}_getNodeRef(t,e,n){if(t.refs[e]<=1)return n;const i=n.clone(),s=(l,u)=>{const d=this.associations.get(l);d!=null&&this.associations.set(u,d);for(const[p,g]of l.children.entries())s(g,u.children[p])};return s(n,i),i.name+="_instance_"+t.uses[e]++,i}_invokeOne(t){const e=Object.values(this.plugins);e.push(this);for(let n=0;n<e.length;n++){const i=t(e[n]);if(i)return i}return null}_invokeAll(t){const e=Object.values(this.plugins);e.unshift(this);const n=[];for(let i=0;i<e.length;i++){const s=t(e[i]);s&&n.push(s)}return n}getDependency(t,e){const n=t+":"+e;let i=this.cache.get(n);if(!i){switch(t){case"scene":i=this.loadScene(e);break;case"node":i=this._invokeOne(function(s){return s.loadNode&&s.loadNode(e)});break;case"mesh":i=this._invokeOne(function(s){return s.loadMesh&&s.loadMesh(e)});break;case"accessor":i=this.loadAccessor(e);break;case"bufferView":i=this._invokeOne(function(s){return s.loadBufferView&&s.loadBufferView(e)});break;case"buffer":i=this.loadBuffer(e);break;case"material":i=this._invokeOne(function(s){return s.loadMaterial&&s.loadMaterial(e)});break;case"texture":i=this._invokeOne(function(s){return s.loadTexture&&s.loadTexture(e)});break;case"skin":i=this.loadSkin(e);break;case"animation":i=this._invokeOne(function(s){return s.loadAnimation&&s.loadAnimation(e)});break;case"camera":i=this.loadCamera(e);break;default:if(i=this._invokeOne(function(s){return s!=this&&s.getDependency&&s.getDependency(t,e)}),!i)throw new Error("Unknown type: "+t);break}this.cache.add(n,i)}return i}getDependencies(t){let e=this.cache.get(t);if(!e){const n=this,i=this.json[t+(t==="mesh"?"es":"s")]||[];e=Promise.all(i.map(function(s,l){return n.getDependency(t,l)})),this.cache.add(t,e)}return e}loadBuffer(t){const e=this.json.buffers[t],n=this.fileLoader;if(e.type&&e.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+e.type+" buffer type is not supported.");if(e.uri===void 0&&t===0)return Promise.resolve(this.extensions[Rn.KHR_BINARY_GLTF].body);const i=this.options;return new Promise(function(s,l){n.load(uf.resolveURL(e.uri,i.path),s,void 0,function(){l(new Error('THREE.GLTFLoader: Failed to load buffer "'+e.uri+'".'))})})}loadBufferView(t){const e=this.json.bufferViews[t];return this.getDependency("buffer",e.buffer).then(function(n){const i=e.byteLength||0,s=e.byteOffset||0;return n.slice(s,s+i)})}loadAccessor(t){const e=this,n=this.json,i=this.json.accessors[t];if(i.bufferView===void 0&&i.sparse===void 0){const l=vb[i.type],u=sm[i.componentType],d=i.normalized===!0,p=new u(i.count*l);return Promise.resolve(new Vn(p,l,d))}const s=[];return i.bufferView!==void 0?s.push(this.getDependency("bufferView",i.bufferView)):s.push(null),i.sparse!==void 0&&(s.push(this.getDependency("bufferView",i.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",i.sparse.values.bufferView))),Promise.all(s).then(function(l){const u=l[0],d=vb[i.type],p=sm[i.componentType],g=p.BYTES_PER_ELEMENT,_=g*d,y=i.byteOffset||0,x=i.bufferView!==void 0?n.bufferViews[i.bufferView].byteStride:void 0,M=i.normalized===!0;let T,E;if(x&&x!==_){const b=Math.floor(y/x),w="InterleavedBuffer:"+i.bufferView+":"+i.componentType+":"+b+":"+i.count;let D=e.cache.get(w);D||(T=new p(u,b*x,i.count*x/g),D=new b_(T,x/g),e.cache.add(w,D)),E=new gf(D,d,y%x/g,M)}else u===null?T=new p(i.count*d):T=new p(u,y,i.count*d),E=new Vn(T,d,M);if(i.sparse!==void 0){const b=vb.SCALAR,w=sm[i.sparse.indices.componentType],D=i.sparse.indices.byteOffset||0,B=i.sparse.values.byteOffset||0,L=new w(l[1],D,i.sparse.count*b),P=new p(l[2],B,i.sparse.count*d);u!==null&&(E=new Vn(E.array.slice(),E.itemSize,E.normalized));for(let H=0,F=L.length;H<F;H++){const O=L[H];if(E.setX(O,P[H*d]),d>=2&&E.setY(O,P[H*d+1]),d>=3&&E.setZ(O,P[H*d+2]),d>=4&&E.setW(O,P[H*d+3]),d>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return E})}loadTexture(t){const e=this.json,n=this.options,s=e.textures[t].source,l=e.images[s];let u=this.textureLoader;if(l.uri){const d=n.manager.getHandler(l.uri);d!==null&&(u=d)}return this.loadTextureImage(t,s,u)}loadTextureImage(t,e,n){const i=this,s=this.json,l=s.textures[t],u=s.images[e],d=(u.uri||u.bufferView)+":"+l.sampler;if(this.textureCache[d])return this.textureCache[d];const p=this.loadImageSource(e,n).then(function(g){g.flipY=!1,g.name=l.name||u.name||"",g.name===""&&typeof u.uri=="string"&&u.uri.startsWith("data:image/")===!1&&(g.name=u.uri);const y=(s.samplers||{})[l.sampler]||{};return g.magFilter=r2[y.magFilter]||$i,g.minFilter=r2[y.minFilter]||yo,g.wrapS=o2[y.wrapS]||pf,g.wrapT=o2[y.wrapT]||pf,i.associations.set(g,{textures:t}),g}).catch(function(){return null});return this.textureCache[d]=p,p}loadImageSource(t,e){const n=this,i=this.json,s=this.options;if(this.sourceCache[t]!==void 0)return this.sourceCache[t].then(_=>_.clone());const l=i.images[t],u=self.URL||self.webkitURL;let d=l.uri||"",p=!1;if(l.bufferView!==void 0)d=n.getDependency("bufferView",l.bufferView).then(function(_){p=!0;const y=new Blob([_],{type:l.mimeType});return d=u.createObjectURL(y),d});else if(l.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+t+" is missing URI and bufferView");const g=Promise.resolve(d).then(function(_){return new Promise(function(y,x){let M=y;e.isImageBitmapLoader===!0&&(M=function(T){const E=new wi(T);E.needsUpdate=!0,y(E)}),e.load(uf.resolveURL(_,s.path),M,void 0,x)})}).then(function(_){return p===!0&&u.revokeObjectURL(d),Nu(_,l),_.userData.mimeType=l.mimeType||cV(l.uri),_}).catch(function(_){throw console.error("THREE.GLTFLoader: Couldn't load texture",d),_});return this.sourceCache[t]=g,g}assignTexture(t,e,n,i){const s=this;return this.getDependency("texture",n.index).then(function(l){if(!l)return null;if(n.texCoord!==void 0&&n.texCoord>0&&(l=l.clone(),l.channel=n.texCoord),s.extensions[Rn.KHR_TEXTURE_TRANSFORM]){const u=n.extensions!==void 0?n.extensions[Rn.KHR_TEXTURE_TRANSFORM]:void 0;if(u){const d=s.associations.get(l);l=s.extensions[Rn.KHR_TEXTURE_TRANSFORM].extendTexture(l,u),s.associations.set(l,d)}}return i!==void 0&&(typeof i=="number"&&(i=i===a2?Yh:qu),"colorSpace"in l?l.colorSpace=i:l.encoding=i===Yh?a2:U4),t[e]=l,l})}assignFinalMaterial(t){const e=t.geometry;let n=t.material;const i=e.attributes.tangent===void 0,s=e.attributes.color!==void 0,l=e.attributes.normal===void 0;if(t.isPoints){const u="PointsMaterial:"+n.uuid;let d=this.cache.get(u);d||(d=new $A,Ta.prototype.copy.call(d,n),d.color.copy(n.color),d.map=n.map,d.sizeAttenuation=!1,this.cache.add(u,d)),n=d}else if(t.isLine){const u="LineBasicMaterial:"+n.uuid;let d=this.cache.get(u);d||(d=new ys,Ta.prototype.copy.call(d,n),d.color.copy(n.color),d.map=n.map,this.cache.add(u,d)),n=d}if(i||s||l){let u="ClonedMaterial:"+n.uuid+":";i&&(u+="derivative-tangents:"),s&&(u+="vertex-colors:"),l&&(u+="flat-shading:");let d=this.cache.get(u);d||(d=n.clone(),s&&(d.vertexColors=!0),l&&(d.flatShading=!0),i&&(d.normalScale&&(d.normalScale.y*=-1),d.clearcoatNormalScale&&(d.clearcoatNormalScale.y*=-1)),this.cache.add(u,d),this.associations.set(d,this.associations.get(n))),n=d}t.material=n}getMaterialType(){return B_}loadMaterial(t){const e=this,n=this.json,i=this.extensions,s=n.materials[t];let l;const u={},d=s.extensions||{},p=[];if(d[Rn.KHR_MATERIALS_UNLIT]){const _=i[Rn.KHR_MATERIALS_UNLIT];l=_.getMaterialType(),p.push(_.extendParams(u,s,e))}else{const _=s.pbrMetallicRoughness||{};if(u.color=new pe(1,1,1),u.opacity=1,Array.isArray(_.baseColorFactor)){const y=_.baseColorFactor;u.color.setRGB(y[0],y[1],y[2],qu),u.opacity=y[3]}_.baseColorTexture!==void 0&&p.push(e.assignTexture(u,"map",_.baseColorTexture,Yh)),u.metalness=_.metallicFactor!==void 0?_.metallicFactor:1,u.roughness=_.roughnessFactor!==void 0?_.roughnessFactor:1,_.metallicRoughnessTexture!==void 0&&(p.push(e.assignTexture(u,"metalnessMap",_.metallicRoughnessTexture)),p.push(e.assignTexture(u,"roughnessMap",_.metallicRoughnessTexture))),l=this._invokeOne(function(y){return y.getMaterialType&&y.getMaterialType(t)}),p.push(Promise.all(this._invokeAll(function(y){return y.extendMaterialParams&&y.extendMaterialParams(t,u)})))}s.doubleSided===!0&&(u.side=il);const g=s.alphaMode||yb.OPAQUE;if(g===yb.BLEND?(u.transparent=!0,u.depthWrite=!1):(u.transparent=!1,g===yb.MASK&&(u.alphaTest=s.alphaCutoff!==void 0?s.alphaCutoff:.5)),s.normalTexture!==void 0&&l!==Gr&&(p.push(e.assignTexture(u,"normalMap",s.normalTexture)),u.normalScale=new Ht(1,1),s.normalTexture.scale!==void 0)){const _=s.normalTexture.scale;u.normalScale.set(_,_)}if(s.occlusionTexture!==void 0&&l!==Gr&&(p.push(e.assignTexture(u,"aoMap",s.occlusionTexture)),s.occlusionTexture.strength!==void 0&&(u.aoMapIntensity=s.occlusionTexture.strength)),s.emissiveFactor!==void 0&&l!==Gr){const _=s.emissiveFactor;u.emissive=new pe().setRGB(_[0],_[1],_[2],qu)}return s.emissiveTexture!==void 0&&l!==Gr&&p.push(e.assignTexture(u,"emissiveMap",s.emissiveTexture,Yh)),Promise.all(p).then(function(){const _=new l(u);return s.name&&(_.name=s.name),Nu(_,s),e.associations.set(_,{materials:t}),s.extensions&&wh(i,_,s),_})}createUniqueName(t){const e=Hn.sanitizeNodeName(t||"");return e in this.nodeNamesUsed?e+"_"+ ++this.nodeNamesUsed[e]:(this.nodeNamesUsed[e]=0,e)}loadGeometries(t){const e=this,n=this.extensions,i=this.primitiveCache;function s(u){return n[Rn.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(u,e).then(function(d){return l2(d,u,e)})}const l=[];for(let u=0,d=t.length;u<d;u++){const p=t[u],g=uV(p),_=i[g];if(_)l.push(_.promise);else{let y;p.extensions&&p.extensions[Rn.KHR_DRACO_MESH_COMPRESSION]?y=s(p):y=l2(new un,p,e),i[g]={primitive:p,promise:y},l.push(y)}}return Promise.all(l)}loadMesh(t){const e=this,n=this.json,i=this.extensions,s=n.meshes[t],l=s.primitives,u=[];for(let d=0,p=l.length;d<p;d++){const g=l[d].material===void 0?rV(this.cache):this.getDependency("material",l[d].material);u.push(g)}return u.push(e.loadGeometries(l)),Promise.all(u).then(function(d){const p=d.slice(0,d.length-1),g=d[d.length-1],_=[];for(let x=0,M=g.length;x<M;x++){const T=g[x],E=l[x];let b;const w=p[x];if(E.mode===go.TRIANGLES||E.mode===go.TRIANGLE_STRIP||E.mode===go.TRIANGLE_FAN||E.mode===void 0)b=s.isSkinnedMesh===!0?new n1(T,w):new ta(T,w),b.isSkinnedMesh===!0&&b.normalizeSkinWeights(),E.mode===go.TRIANGLE_STRIP?b.geometry=e2(b.geometry,KE):E.mode===go.TRIANGLE_FAN&&(b.geometry=e2(b.geometry,pA));else if(E.mode===go.LINES)b=new rl(T,w);else if(E.mode===go.LINE_STRIP)b=new ju(T,w);else if(E.mode===go.LINE_LOOP)b=new a1(T,w);else if(E.mode===go.POINTS)b=new s1(T,w);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+E.mode);Object.keys(b.geometry.morphAttributes).length>0&&lV(b,s),b.name=e.createUniqueName(s.name||"mesh_"+t),Nu(b,s),E.extensions&&wh(i,b,E),e.assignFinalMaterial(b),_.push(b)}for(let x=0,M=_.length;x<M;x++)e.associations.set(_[x],{meshes:t,primitives:x});if(_.length===1)return s.extensions&&wh(i,_[0],s),_[0];const y=new Gu;s.extensions&&wh(i,y,s),e.associations.set(y,{meshes:t});for(let x=0,M=_.length;x<M;x++)y.add(_[x]);return y})}loadCamera(t){let e;const n=this.json.cameras[t],i=n[n.type];if(!i){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return n.type==="perspective"?e=new Xi(Yw.radToDeg(i.yfov),i.aspectRatio||1,i.znear||1,i.zfar||2e6):n.type==="orthographic"&&(e=new Yu(-i.xmag,i.xmag,i.ymag,-i.ymag,i.znear,i.zfar)),n.name&&(e.name=this.createUniqueName(n.name)),Nu(e,n),Promise.resolve(e)}loadSkin(t){const e=this.json.skins[t],n=[];for(let i=0,s=e.joints.length;i<s;i++)n.push(this._loadNodeShallow(e.joints[i]));return e.inverseBindMatrices!==void 0?n.push(this.getDependency("accessor",e.inverseBindMatrices)):n.push(null),Promise.all(n).then(function(i){const s=i.pop(),l=i,u=[],d=[];for(let p=0,g=l.length;p<g;p++){const _=l[p];if(_){u.push(_);const y=new Ye;s!==null&&y.fromArray(s.array,p*16),d.push(y)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',e.joints[p])}return new E_(u,d)})}loadAnimation(t){const e=this.json,n=this,i=e.animations[t],s=i.name?i.name:"animation_"+t,l=[],u=[],d=[],p=[],g=[];for(let _=0,y=i.channels.length;_<y;_++){const x=i.channels[_],M=i.samplers[x.sampler],T=x.target,E=T.node,b=i.parameters!==void 0?i.parameters[M.input]:M.input,w=i.parameters!==void 0?i.parameters[M.output]:M.output;T.node!==void 0&&(l.push(this.getDependency("node",E)),u.push(this.getDependency("accessor",b)),d.push(this.getDependency("accessor",w)),p.push(M),g.push(T))}return Promise.all([Promise.all(l),Promise.all(u),Promise.all(d),Promise.all(p),Promise.all(g)]).then(function(_){const y=_[0],x=_[1],M=_[2],T=_[3],E=_[4],b=[];for(let w=0,D=y.length;w<D;w++){const B=y[w],L=x[w],P=M[w],H=T[w],F=E[w];if(B===void 0)continue;B.updateMatrix&&B.updateMatrix();const O=n._createAnimationTracks(B,L,P,H,F);if(O)for(let U=0;U<O.length;U++)b.push(O[U])}return new bm(s,void 0,b)})}createNodeMesh(t){const e=this.json,n=this,i=e.nodes[t];return i.mesh===void 0?null:n.getDependency("mesh",i.mesh).then(function(s){const l=n._getNodeRef(n.meshCache,i.mesh,s);return i.weights!==void 0&&l.traverse(function(u){if(u.isMesh)for(let d=0,p=i.weights.length;d<p;d++)u.morphTargetInfluences[d]=i.weights[d]}),l})}loadNode(t){const e=this.json,n=this,i=e.nodes[t],s=n._loadNodeShallow(t),l=[],u=i.children||[];for(let p=0,g=u.length;p<g;p++)l.push(n.getDependency("node",u[p]));const d=i.skin===void 0?Promise.resolve(null):n.getDependency("skin",i.skin);return Promise.all([s,Promise.all(l),d]).then(function(p){const g=p[0],_=p[1],y=p[2];y!==null&&g.traverse(function(x){x.isSkinnedMesh&&x.bind(y,fV)});for(let x=0,M=_.length;x<M;x++)g.add(_[x]);return g})}_loadNodeShallow(t){const e=this.json,n=this.extensions,i=this;if(this.nodeCache[t]!==void 0)return this.nodeCache[t];const s=e.nodes[t],l=s.name?i.createUniqueName(s.name):"",u=[],d=i._invokeOne(function(p){return p.createNodeMesh&&p.createNodeMesh(t)});return d&&u.push(d),s.camera!==void 0&&u.push(i.getDependency("camera",s.camera).then(function(p){return i._getNodeRef(i.cameraCache,s.camera,p)})),i._invokeAll(function(p){return p.createNodeAttachment&&p.createNodeAttachment(t)}).forEach(function(p){u.push(p)}),this.nodeCache[t]=Promise.all(u).then(function(p){let g;if(s.isBone===!0?g=new QA:p.length>1?g=new Gu:p.length===1?g=p[0]:g=new Pn,g!==p[0])for(let _=0,y=p.length;_<y;_++)g.add(p[_]);if(s.name&&(g.userData.name=s.name,g.name=l),Nu(g,s),s.extensions&&wh(n,g,s),s.matrix!==void 0){const _=new Ye;_.fromArray(s.matrix),g.applyMatrix4(_)}else s.translation!==void 0&&g.position.fromArray(s.translation),s.rotation!==void 0&&g.quaternion.fromArray(s.rotation),s.scale!==void 0&&g.scale.fromArray(s.scale);return i.associations.has(g)||i.associations.set(g,{}),i.associations.get(g).nodes=t,g}),this.nodeCache[t]}loadScene(t){const e=this.extensions,n=this.json.scenes[t],i=this,s=new Gu;n.name&&(s.name=i.createUniqueName(n.name)),Nu(s,n),n.extensions&&wh(e,s,n);const l=n.nodes||[],u=[];for(let d=0,p=l.length;d<p;d++)u.push(i.getDependency("node",l[d]));return Promise.all(u).then(function(d){for(let g=0,_=d.length;g<_;g++)s.add(d[g]);const p=g=>{const _=new Map;for(const[y,x]of i.associations)(y instanceof Ta||y instanceof wi)&&_.set(y,x);return g.traverse(y=>{const x=i.associations.get(y);x!=null&&_.set(y,x)}),_};return i.associations=p(s),s})}_createAnimationTracks(t,e,n,i,s){const l=[],u=t.name?t.name:t.uuid,d=[];Zc[s.path]===Zc.weights?t.traverse(function(y){y.morphTargetInfluences&&d.push(y.name?y.name:y.uuid)}):d.push(u);let p;switch(Zc[s.path]){case Zc.weights:p=od;break;case Zc.rotation:p=ld;break;case Zc.position:case Zc.scale:p=ud;break;default:switch(n.itemSize){case 1:p=od;break;case 2:case 3:default:p=ud;break}break}const g=i.interpolation!==void 0?sV[i.interpolation]:vm,_=this._getArrayFromAccessor(n);for(let y=0,x=d.length;y<x;y++){const M=new p(d[y]+"."+Zc[s.path],e.array,_,g);i.interpolation==="CUBICSPLINE"&&this._createCubicSplineTrackInterpolant(M),l.push(M)}return l}_getArrayFromAccessor(t){let e=t.array;if(t.normalized){const n=dE(e.constructor),i=new Float32Array(e.length);for(let s=0,l=e.length;s<l;s++)i[s]=e[s]*n;e=i}return e}_createCubicSplineTrackInterpolant(t){t.createInterpolant=function(n){const i=this instanceof ld?aV:AD;return new i(this.times,this.values,this.getValueSize()/3,n)},t.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function dV(r,t,e){const n=t.attributes,i=new Za;if(n.POSITION!==void 0){const u=e.json.accessors[n.POSITION],d=u.min,p=u.max;if(d!==void 0&&p!==void 0){if(i.set(new W(d[0],d[1],d[2]),new W(p[0],p[1],p[2])),u.normalized){const g=dE(sm[u.componentType]);i.min.multiplyScalar(g),i.max.multiplyScalar(g)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const s=t.targets;if(s!==void 0){const u=new W,d=new W;for(let p=0,g=s.length;p<g;p++){const _=s[p];if(_.POSITION!==void 0){const y=e.json.accessors[_.POSITION],x=y.min,M=y.max;if(x!==void 0&&M!==void 0){if(d.setX(Math.max(Math.abs(x[0]),Math.abs(M[0]))),d.setY(Math.max(Math.abs(x[1]),Math.abs(M[1]))),d.setZ(Math.max(Math.abs(x[2]),Math.abs(M[2]))),y.normalized){const T=dE(sm[y.componentType]);d.multiplyScalar(T)}u.max(d)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}i.expandByVector(u)}r.boundingBox=i;const l=new Ha;i.getCenter(l.center),l.radius=i.min.distanceTo(i.max)/2,r.boundingSphere=l}function l2(r,t,e){const n=t.attributes,i=[];function s(l,u){return e.getDependency("accessor",l).then(function(d){r.setAttribute(u,d)})}for(const l in n){const u=hE[l]||l.toLowerCase();u in r.attributes||i.push(s(n[l],u))}if(t.indices!==void 0&&!r.index){const l=e.getDependency("accessor",t.indices).then(function(u){r.setIndex(u)});i.push(l)}return Nu(r,t),dV(r,t,e),Promise.all(i).then(function(){return t.targets!==void 0?oV(r,t.targets,e):r})}const Ab=new WeakMap;class pV extends xs{constructor(t){super(t),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(t){return this.decoderPath=t,this}setDecoderConfig(t){return this.decoderConfig=t,this}setWorkerLimit(t){return this.workerLimit=t,this}load(t,e,n,i){const s=new qr(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(t,l=>{const u={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(l,u).then(e).catch(i)},n,i)}decodeDracoFile(t,e,n,i){const s={attributeIDs:n||this.defaultAttributeIDs,attributeTypes:i||this.defaultAttributeTypes,useUniqueIDs:!!n};this.decodeGeometry(t,s).then(e)}decodeGeometry(t,e){for(const d in e.attributeTypes){const p=e.attributeTypes[d];p.BYTES_PER_ELEMENT!==void 0&&(e.attributeTypes[d]=p.name)}const n=JSON.stringify(e);if(Ab.has(t)){const d=Ab.get(t);if(d.key===n)return d.promise;if(t.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let i;const s=this.workerNextTaskID++,l=t.byteLength,u=this._getWorker(s,l).then(d=>(i=d,new Promise((p,g)=>{i._callbacks[s]={resolve:p,reject:g},i.postMessage({type:"decode",id:s,taskConfig:e,buffer:t},[t])}))).then(d=>this._createGeometry(d.geometry));return u.catch(()=>!0).then(()=>{i&&s&&this._releaseTask(i,s)}),Ab.set(t,{key:n,promise:u}),u}_createGeometry(t){const e=new un;t.index&&e.setIndex(new Vn(t.index.array,1));for(let n=0;n<t.attributes.length;n++){const i=t.attributes[n],s=i.name,l=i.array,u=i.itemSize;e.setAttribute(s,new Vn(l,u))}return e}_loadLibrary(t,e){const n=new qr(this.manager);return n.setPath(this.decoderPath),n.setResponseType(e),n.setWithCredentials(this.withCredentials),new Promise((i,s)=>{n.load(t,i,void 0,s)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const t=typeof WebAssembly!="object"||this.decoderConfig.type==="js",e=[];return t?e.push(this._loadLibrary("draco_decoder.js","text")):(e.push(this._loadLibrary("draco_wasm_wrapper.js","text")),e.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(e).then(n=>{const i=n[0];t||(this.decoderConfig.wasmBinary=n[1]);const s=mV.toString(),l=["/* draco decoder */",i,"","/* worker */",s.substring(s.indexOf("{")+1,s.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([l]))}),this.decoderPending}_getWorker(t,e){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const i=new Worker(this.workerSourceURL);i._callbacks={},i._taskCosts={},i._taskLoad=0,i.postMessage({type:"init",decoderConfig:this.decoderConfig}),i.onmessage=function(s){const l=s.data;switch(l.type){case"decode":i._callbacks[l.id].resolve(l);break;case"error":i._callbacks[l.id].reject(l);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+l.type+'"')}},this.workerPool.push(i)}else this.workerPool.sort(function(i,s){return i._taskLoad>s._taskLoad?-1:1});const n=this.workerPool[this.workerPool.length-1];return n._taskCosts[t]=e,n._taskLoad+=e,n})}_releaseTask(t,e){t._taskLoad-=t._taskCosts[e],delete t._callbacks[e],delete t._taskCosts[e]}debug(){console.log("Task load: ",this.workerPool.map(t=>t._taskLoad))}dispose(){for(let t=0;t<this.workerPool.length;++t)this.workerPool[t].terminate();return this.workerPool.length=0,this}}function mV(){let r,t;onmessage=function(l){const u=l.data;switch(u.type){case"init":r=u.decoderConfig,t=new Promise(function(g){r.onModuleLoaded=function(_){g({draco:_})},DracoDecoderModule(r)});break;case"decode":const d=u.buffer,p=u.taskConfig;t.then(g=>{const _=g.draco,y=new _.Decoder,x=new _.DecoderBuffer;x.Init(new Int8Array(d),d.byteLength);try{const M=e(_,y,x,p),T=M.attributes.map(E=>E.array.buffer);M.index&&T.push(M.index.array.buffer),self.postMessage({type:"decode",id:u.id,geometry:M},T)}catch(M){console.error(M),self.postMessage({type:"error",id:u.id,error:M.message})}finally{_.destroy(x),_.destroy(y)}});break}};function e(l,u,d,p){const g=p.attributeIDs,_=p.attributeTypes;let y,x;const M=u.GetEncodedGeometryType(d);if(M===l.TRIANGULAR_MESH)y=new l.Mesh,x=u.DecodeBufferToMesh(d,y);else if(M===l.POINT_CLOUD)y=new l.PointCloud,x=u.DecodeBufferToPointCloud(d,y);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!x.ok()||y.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+x.error_msg());const T={index:null,attributes:[]};for(const E in g){const b=self[_[E]];let w,D;if(p.useUniqueIDs)D=g[E],w=u.GetAttributeByUniqueId(y,D);else{if(D=u.GetAttributeId(y,l[g[E]]),D===-1)continue;w=u.GetAttribute(y,D)}T.attributes.push(i(l,u,y,E,b,w))}return M===l.TRIANGULAR_MESH&&(T.index=n(l,u,y)),l.destroy(y),T}function n(l,u,d){const g=d.num_faces()*3,_=g*4,y=l._malloc(_);u.GetTrianglesUInt32Array(d,_,y);const x=new Uint32Array(l.HEAPF32.buffer,y,g).slice();return l._free(y),{array:x,itemSize:1}}function i(l,u,d,p,g,_){const y=_.num_components(),M=d.num_points()*y,T=M*g.BYTES_PER_ELEMENT,E=s(l,g),b=l._malloc(T);u.GetAttributeDataArrayForAllPoints(d,_,E,T,b);const w=new g(l.HEAPF32.buffer,b,M).slice();return l._free(b),{name:p,array:w,itemSize:y}}function s(l,u){switch(u){case Float32Array:return l.DT_FLOAT32;case Int8Array:return l.DT_INT8;case Int16Array:return l.DT_INT16;case Int32Array:return l.DT_INT32;case Uint8Array:return l.DT_UINT8;case Uint16Array:return l.DT_UINT16;case Uint32Array:return l.DT_UINT32}}}let nx;const Sb=()=>{if(nx)return nx;const r="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",t="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",e=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),n=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let i=r;WebAssembly.validate(e)&&(i=t);let s;const l=WebAssembly.instantiate(u(i),{}).then(_=>{s=_.instance,s.exports.__wasm_call_ctors()});function u(_){const y=new Uint8Array(_.length);for(let M=0;M<_.length;++M){const T=_.charCodeAt(M);y[M]=T>96?T-71:T>64?T-65:T>47?T+4:T>46?63:62}let x=0;for(let M=0;M<_.length;++M)y[x++]=y[M]<60?n[y[M]]:(y[M]-60)*64+y[++M];return y.buffer.slice(0,x)}function d(_,y,x,M,T,E){const b=s.exports.sbrk,w=x+3&-4,D=b(w*M),B=b(T.length),L=new Uint8Array(s.exports.memory.buffer);L.set(T,B);const P=_(D,x,M,B,T.length);if(P===0&&E&&E(D,w,M),y.set(L.subarray(D,D+x*M)),b(D-b(0)),P!==0)throw new Error(`Malformed buffer data: ${P}`)}const p={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},g={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return nx={ready:l,supported:!0,decodeVertexBuffer(_,y,x,M,T){d(s.exports.meshopt_decodeVertexBuffer,_,y,x,M,s.exports[p[T]])},decodeIndexBuffer(_,y,x,M){d(s.exports.meshopt_decodeIndexBuffer,_,y,x,M)},decodeIndexSequence(_,y,x,M){d(s.exports.meshopt_decodeIndexSequence,_,y,x,M)},decodeGltfBuffer(_,y,x,M,T,E){d(s.exports[g[T]],_,y,x,M,s.exports[p[E]])}},nx};let ix=null,SD="https://www.gstatic.com/draco/versioned/decoders/1.5.5/";function MD(r=!0,t=!0,e){return n=>{e&&e(n),r&&(ix||(ix=new pV),ix.setDecoderPath(typeof r=="string"?r:SD),n.setDRACOLoader(ix)),t&&n.setMeshoptDecoder(typeof Sb=="function"?Sb():Sb)}}const Vm=(r,t,e,n)=>O_(N1,r,MD(t,e,n));Vm.preload=(r,t,e,n)=>O_.preload(N1,r,MD(t,e,n));Vm.clear=r=>O_.clear(N1,r);Vm.setDecoderPath=r=>{SD=r};const gV=xe.forwardRef(({makeDefault:r,camera:t,regress:e,domElement:n,enableDamping:i=!0,keyEvents:s=!1,onChange:l,onStart:u,onEnd:d,...p},g)=>{const _=Qc(P=>P.invalidate),y=Qc(P=>P.camera),x=Qc(P=>P.gl),M=Qc(P=>P.events),T=Qc(P=>P.setEvents),E=Qc(P=>P.set),b=Qc(P=>P.get),w=Qc(P=>P.performance),D=t||y,B=n||M.connected||x.domElement,L=xe.useMemo(()=>new O4(D),[D]);return fD(()=>{L.enabled&&L.update()},-1),xe.useEffect(()=>(s&&L.connect(s===!0?B:s),L.connect(B),()=>void L.dispose()),[s,B,e,L,_]),xe.useEffect(()=>{const P=O=>{_(),e&&w.regress(),l&&l(O)},H=O=>{u&&u(O)},F=O=>{d&&d(O)};return L.addEventListener("change",P),L.addEventListener("start",H),L.addEventListener("end",F),()=>{L.removeEventListener("start",H),L.removeEventListener("end",F),L.removeEventListener("change",P)}},[l,u,d,L,_,T]),xe.useEffect(()=>{if(r){const P=b().controls;return E({controls:L}),()=>E({controls:P})}},[r,L]),xe.createElement("primitive",Xb({ref:g,object:L,enableDamping:i},p))});var ax={},u2;function _V(){if(u2)return ax;u2=1,ax.match=s,ax.parse=l;var r=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,t=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,e=/^(?:(min|max)-)?(.+)/,n=/(em|rem|px|cm|mm|in|pt|pc)?$/,i=/(dpi|dpcm|dppx)?$/;function s(g,_){return l(g).some(function(y){var x=y.inverse,M=y.type==="all"||_.type===y.type;if(M&&x||!(M||x))return!1;var T=y.expressions.every(function(E){var b=E.feature,w=E.modifier,D=E.value,B=_[b];if(!B)return!1;switch(b){case"orientation":case"scan":return B.toLowerCase()===D.toLowerCase();case"width":case"height":case"device-width":case"device-height":D=p(D),B=p(B);break;case"resolution":D=d(D),B=d(B);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":D=u(D),B=u(B);break;case"grid":case"color":case"color-index":case"monochrome":D=parseInt(D,10)||1,B=parseInt(B,10)||0;break}switch(w){case"min":return B>=D;case"max":return B<=D;default:return B===D}});return T&&!x||!T&&x})}function l(g){return g.split(",").map(function(_){_=_.trim();var y=_.match(r),x=y[1],M=y[2],T=y[3]||"",E={};return E.inverse=!!x&&x.toLowerCase()==="not",E.type=M?M.toLowerCase():"all",T=T.match(/\([^\)]+\)/g)||[],E.expressions=T.map(function(b){var w=b.match(t),D=w[1].toLowerCase().match(e);return{modifier:D[1],feature:D[2],value:w[2]}}),E})}function u(g){var _=Number(g),y;return _||(y=g.match(/^(\d+)\s*\/\s*(\d+)$/),_=y[1]/y[2]),_}function d(g){var _=parseFloat(g),y=String(g).match(i)[1];switch(y){case"dpcm":return _/2.54;case"dppx":return _*96;default:return _}}function p(g){var _=parseFloat(g),y=String(g).match(n)[1];switch(y){case"em":return _*16;case"rem":return _*16;case"cm":return _*96/2.54;case"mm":return _*96/2.54/10;case"in":return _*96;case"pt":return _*72;case"pc":return _*72/12;default:return _}}return ax}var Mb,c2;function vV(){if(c2)return Mb;c2=1;var r=_V().match,t=typeof window<"u"?window.matchMedia:null;function e(i,s,l){var u=this,d;t&&!l&&(d=t.call(window,i)),d?(this.matches=d.matches,this.media=d.media,d.addListener(_)):(this.matches=r(i,s),this.media=i),this.addListener=p,this.removeListener=g,this.dispose=y;function p(x){d&&d.addListener(x)}function g(x){d&&d.removeListener(x)}function _(x){u.matches=x.matches,u.media=x.media}function y(){d&&d.removeListener(_)}}function n(i,s,l){return new e(i,s,l)}return Mb=n,Mb}var yV=vV();const xV=Nm(yV);var AV=/[A-Z]/g,SV=/^ms-/,bb={};function MV(r){return"-"+r.toLowerCase()}function bD(r){if(bb.hasOwnProperty(r))return bb[r];var t=r.replace(AV,MV);return bb[r]=SV.test(t)?"-"+t:t}function bV(r,t){if(r===t)return!0;if(!r||!t)return!1;const e=Object.keys(r),n=Object.keys(t),i=e.length;if(n.length!==i)return!1;for(let s=0;s<i;s++){const l=e[s];if(r[l]!==t[l]||!Object.prototype.hasOwnProperty.call(t,l))return!1}return!0}var Eb={exports:{}},Tb,f2;function EV(){if(f2)return Tb;f2=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Tb=r,Tb}var Cb,h2;function TV(){if(h2)return Cb;h2=1;var r=EV();function t(){}function e(){}return e.resetWarningCache=t,Cb=function(){function n(l,u,d,p,g,_){if(_!==r){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}n.isRequired=n;function i(){return n}var s={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:e,resetWarningCache:t};return s.PropTypes=s,s},Cb}var d2;function CV(){return d2||(d2=1,Eb.exports=TV()()),Eb.exports}var RV=CV();const jn=Nm(RV),Hs=jn.oneOfType([jn.string,jn.number]),ED={all:jn.bool,grid:jn.bool,aural:jn.bool,braille:jn.bool,handheld:jn.bool,print:jn.bool,projection:jn.bool,screen:jn.bool,tty:jn.bool,tv:jn.bool,embossed:jn.bool},wV={orientation:jn.oneOf(["portrait","landscape"]),scan:jn.oneOf(["progressive","interlace"]),aspectRatio:jn.string,deviceAspectRatio:jn.string,height:Hs,deviceHeight:Hs,width:Hs,deviceWidth:Hs,color:jn.bool,colorIndex:jn.bool,monochrome:jn.bool,resolution:Hs,type:Object.keys(ED)},{type:z8,...BV}=wV,DV={minAspectRatio:jn.string,maxAspectRatio:jn.string,minDeviceAspectRatio:jn.string,maxDeviceAspectRatio:jn.string,minHeight:Hs,maxHeight:Hs,minDeviceHeight:Hs,maxDeviceHeight:Hs,minWidth:Hs,maxWidth:Hs,minDeviceWidth:Hs,maxDeviceWidth:Hs,minColor:jn.number,maxColor:jn.number,minColorIndex:jn.number,maxColorIndex:jn.number,minMonochrome:jn.number,maxMonochrome:jn.number,minResolution:Hs,maxResolution:Hs,...BV},OV={...ED,...DV};var UV={all:OV};const NV=r=>`not ${r}`,LV=(r,t)=>{const e=bD(r);return typeof t=="number"&&(t=`${t}px`),t===!0?e:t===!1?NV(e):`(${e}: ${t})`},IV=r=>r.join(" and "),PV=r=>{const t=[];return Object.keys(UV.all).forEach(e=>{const n=r[e];n!=null&&t.push(LV(e,n))}),IV(t)},FV=xe.createContext(void 0),zV=r=>r.query||PV(r),p2=r=>r?Object.keys(r).reduce((e,n)=>(e[bD(n)]=r[n],e),{}):void 0,TD=()=>{const r=xe.useRef(!1);return xe.useEffect(()=>{r.current=!0},[]),r.current},HV=r=>{const t=xe.useContext(FV),e=()=>p2(r)||p2(t),[n,i]=xe.useState(e);return xe.useEffect(()=>{const s=e();bV(n,s)||i(s)},[r,t]),n},GV=r=>{const t=()=>zV(r),[e,n]=xe.useState(t);return xe.useEffect(()=>{const i=t();e!==i&&n(i)},[r]),e},VV=(r,t)=>{const e=()=>xV(r,t||{},!!t),[n,i]=xe.useState(e),s=TD();return xe.useEffect(()=>{if(s){const l=e();return i(l),()=>{l&&l.dispose()}}},[r,t]),n},XV=r=>{const[t,e]=xe.useState(r.matches);return xe.useEffect(()=>{const n=i=>{e(i.matches)};return r.addListener(n),e(r.matches),()=>{r.removeListener(n)}},[r]),t},m2=(r,t,e)=>{const n=HV(t),i=GV(r);if(!i)throw new Error("Invalid or missing MediaQuery!");const s=VV(i,n),l=XV(s);return TD(),xe.useEffect(()=>{},[l]),xe.useEffect(()=>()=>{s&&s.dispose()},[]),l};function kV(r){const{nodes:t,materials:e}=Vm("/models/data_center.glb");return fe.jsx("group",{...r,dispose:null,children:fe.jsxs("group",{scale:.01,children:[fe.jsxs("group",{position:[-.389,590.103,-1600.034],rotation:[-Math.PI/2,0,0],scale:100,children:[fe.jsx("mesh",{geometry:t.Cluster_MetalCase_0.geometry,material:e.MetalCase}),fe.jsx("mesh",{geometry:t.Cluster_Frente_0.geometry,material:e.Frente}),fe.jsx("mesh",{geometry:t.Cluster_Verde_0.geometry,material:e.Verde}),fe.jsx("mesh",{geometry:t.Cluster_Amarelo_0.geometry,material:e.Amarelo})]}),fe.jsxs("group",{position:[1.92,1790,-1700],rotation:[-Math.PI/2,0,0],scale:100,children:[fe.jsx("mesh",{geometry:t.LampTeto003_LampCase_0.geometry,material:e.LampCase}),fe.jsx("mesh",{geometry:t.LampTeto003_LampTeto_0.geometry,material:e.LampTeto})]}),fe.jsx("mesh",{geometry:t.Plane_PisoPreto_0.geometry,material:e.PisoPreto,rotation:[-Math.PI/2,0,0],scale:2200}),fe.jsx("mesh",{geometry:t.Plane001_PisoBranco_0.geometry,material:e.PisoBranco,rotation:[-Math.PI/2,0,0],scale:2200})]})})}Vm.preload("/models/data_center.glb");const YV=()=>fe.jsxs(fe.Fragment,{children:[fe.jsx("spotLight",{position:[2,5,6],angle:.15,penumbra:.2,intensity:100,color:"white"}),fe.jsx("spotLight",{position:[4,5,4],angle:.3,penumbra:.5,intensity:40,color:"#4cc9f0"}),fe.jsx("spotLight",{position:[-3,5,5],angle:.4,penumbra:1,intensity:60,color:"#9d4edd"}),fe.jsx("primitive",{object:new M1("#a259ff",8,3,2),position:[1,3,4],rotation:[-Math.PI/4,Math.PI/4,0],intensity:15}),fe.jsx("pointLight",{position:[0,1,0],intensity:10,color:"#7209b7"}),fe.jsx("pointLight",{position:[1,2,-2],intensity:10,color:"#0d00a4"})]}),qV=({count:r=200})=>{const t=xe.useRef(),e=xe.useMemo(()=>{const i=[];for(let s=0;s<r;s++)i.push({position:[(Math.random()-.5)*10,Math.random()*10+5,(Math.random()-.5)*10],speed:.005+Math.random()*.001});return i},[r]);fD(()=>{const i=t.current.geometry.attributes.position.array;for(let s=0;s<r;s++){let l=i[s*3+1];l-=e[s].speed,l<-2&&(l=Math.random()*10+5),i[s*3+1]=l}t.current.geometry.attributes.position.needsUpdate=!0});const n=new Float32Array(r*3);return e.forEach((i,s)=>{n[s*3]=i.position[0],n[s*3+1]=i.position[1],n[s*3+2]=i.position[2]}),fe.jsxs("points",{ref:t,children:[fe.jsx("bufferGeometry",{children:fe.jsx("bufferAttribute",{attach:"attributes-position",count:r,array:n,itemSize:3})}),fe.jsx("pointsMaterial",{color:"#ffffff",size:.05,transparent:!0,opacity:.9,depthWrite:!1})]})};Vm.preload("/models/optimized-room.glb");const JV=()=>{const r=m2({query:"(max-width: 768px)"}),t=m2({query:"(max-width: 1024px)"});return fe.jsxs(M4,{camera:{position:[0,0,15],fov:45},children:[fe.jsx("ambientLight",{intensity:.2,color:"#1a1a40"}),fe.jsx(gV,{enablePan:!1,enableZoom:!t,maxDistance:20,minDistance:5,minPolarAngle:Math.PI/5,maxPolarAngle:Math.PI/2}),fe.jsxs(xe.Suspense,{fallback:null,children:[fe.jsx(YV,{}),fe.jsx(qV,{}),fe.jsx("group",{scale:r?.18:.2,position:[0,-3.5,0],rotation:[-Math.PI/28,Math.PI/7,0],children:fe.jsx(kV,{})})]})]})};function Lu(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function CD(r,t){r.prototype=Object.create(t.prototype),r.prototype.constructor=r,r.__proto__=t}/*!
 * GSAP 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var kr={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},Tm={duration:.5,overwrite:!1,delay:0},L1,$a,Ri,xo=1e8,mi=1/xo,pE=Math.PI*2,KV=pE/4,WV=0,RD=Math.sqrt,jV=Math.cos,QV=Math.sin,Ga=function(t){return typeof t=="string"},ki=function(t){return typeof t=="function"},Qu=function(t){return typeof t=="number"},I1=function(t){return typeof t>"u"},eu=function(t){return typeof t=="object"},pr=function(t){return t!==!1},P1=function(){return typeof window<"u"},sx=function(t){return ki(t)||Ga(t)},wD=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},vs=Array.isArray,mE=/(?:-?\.?\d|\.)+/gi,BD=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,$p=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,Rb=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,DD=/[+-]=-?[.\d]+/,OD=/[^,'"\[\]\s]+/gi,ZV=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,Li,kl,gE,F1,Jr={},bA={},UD,ND=function(t){return(bA=Cm(t,Jr))&&vr},z1=function(t,e){return console.warn("Invalid property",t,"set to",e,"Missing plugin? gsap.registerPlugin()")},f_=function(t,e){return!e&&console.warn(t)},LD=function(t,e){return t&&(Jr[t]=e)&&bA&&(bA[t]=e)||Jr},h_=function(){return 0},$V={suppressEvents:!0,isStart:!0,kill:!1},bx={suppressEvents:!0,kill:!1},t9={suppressEvents:!0},H1={},cf=[],_E={},ID,Lr={},wb={},g2=30,Ex=[],G1="",V1=function(t){var e=t[0],n,i;if(eu(e)||ki(e)||(t=[t]),!(n=(e._gsap||{}).harness)){for(i=Ex.length;i--&&!Ex[i].targetTest(e););n=Ex[i]}for(i=t.length;i--;)t[i]&&(t[i]._gsap||(t[i]._gsap=new r3(t[i],n)))||t.splice(i,1);return t},Qh=function(t){return t._gsap||V1(Ao(t))[0]._gsap},PD=function(t,e,n){return(n=t[e])&&ki(n)?t[e]():I1(n)&&t.getAttribute&&t.getAttribute(e)||n},mr=function(t,e){return(t=t.split(",")).forEach(e)||t},Zi=function(t){return Math.round(t*1e5)/1e5||0},ca=function(t){return Math.round(t*1e7)/1e7||0},rm=function(t,e){var n=e.charAt(0),i=parseFloat(e.substr(2));return t=parseFloat(t),n==="+"?t+i:n==="-"?t-i:n==="*"?t*i:t/i},e9=function(t,e){for(var n=e.length,i=0;t.indexOf(e[i])<0&&++i<n;);return i<n},EA=function(){var t=cf.length,e=cf.slice(0),n,i;for(_E={},cf.length=0,n=0;n<t;n++)i=e[n],i&&i._lazy&&(i.render(i._lazy[0],i._lazy[1],!0)._lazy=0)},X1=function(t){return!!(t._initted||t._startAt||t.add)},FD=function(t,e,n,i){cf.length&&!$a&&EA(),t.render(e,n,!!($a&&e<0&&X1(t))),cf.length&&!$a&&EA()},zD=function(t){var e=parseFloat(t);return(e||e===0)&&(t+"").match(OD).length<2?e:Ga(t)?t.trim():t},HD=function(t){return t},Kr=function(t,e){for(var n in e)n in t||(t[n]=e[n]);return t},n9=function(t){return function(e,n){for(var i in n)i in e||i==="duration"&&t||i==="ease"||(e[i]=n[i])}},Cm=function(t,e){for(var n in e)t[n]=e[n];return t},_2=function r(t,e){for(var n in e)n!=="__proto__"&&n!=="constructor"&&n!=="prototype"&&(t[n]=eu(e[n])?r(t[n]||(t[n]={}),e[n]):e[n]);return t},TA=function(t,e){var n={},i;for(i in t)i in e||(n[i]=t[i]);return n},V0=function(t){var e=t.parent||Li,n=t.keyframes?n9(vs(t.keyframes)):Kr;if(pr(t.inherit))for(;e;)n(t,e.vars.defaults),e=e.parent||e._dp;return t},i9=function(t,e){for(var n=t.length,i=n===e.length;i&&n--&&t[n]===e[n];);return n<0},GD=function(t,e,n,i,s){var l=t[i],u;if(s)for(u=e[s];l&&l[s]>u;)l=l._prev;return l?(e._next=l._next,l._next=e):(e._next=t[n],t[n]=e),e._next?e._next._prev=e:t[i]=e,e._prev=l,e.parent=e._dp=t,e},_S=function(t,e,n,i){n===void 0&&(n="_first"),i===void 0&&(i="_last");var s=e._prev,l=e._next;s?s._next=l:t[n]===e&&(t[n]=l),l?l._prev=s:t[i]===e&&(t[i]=s),e._next=e._prev=e.parent=null},_f=function(t,e){t.parent&&(!e||t.parent.autoRemoveChildren)&&t.parent.remove&&t.parent.remove(t),t._act=0},Zh=function(t,e){if(t&&(!e||e._end>t._dur||e._start<0))for(var n=t;n;)n._dirty=1,n=n.parent;return t},a9=function(t){for(var e=t.parent;e&&e.parent;)e._dirty=1,e.totalDuration(),e=e.parent;return t},vE=function(t,e,n,i){return t._startAt&&($a?t._startAt.revert(bx):t.vars.immediateRender&&!t.vars.autoRevert||t._startAt.render(e,!0,i))},s9=function r(t){return!t||t._ts&&r(t.parent)},v2=function(t){return t._repeat?Rm(t._tTime,t=t.duration()+t._rDelay)*t:0},Rm=function(t,e){var n=Math.floor(t=ca(t/e));return t&&n===t?n-1:n},CA=function(t,e){return(t-e._start)*e._ts+(e._ts>=0?0:e._dirty?e.totalDuration():e._tDur)},vS=function(t){return t._end=ca(t._start+(t._tDur/Math.abs(t._ts||t._rts||mi)||0))},yS=function(t,e){var n=t._dp;return n&&n.smoothChildTiming&&t._ts&&(t._start=ca(n._time-(t._ts>0?e/t._ts:((t._dirty?t.totalDuration():t._tDur)-e)/-t._ts)),vS(t),n._dirty||Zh(n,t)),t},VD=function(t,e){var n;if((e._time||!e._dur&&e._initted||e._start<t._time&&(e._dur||!e.add))&&(n=CA(t.rawTime(),e),(!e._dur||U_(0,e.totalDuration(),n)-e._tTime>mi)&&e.render(n,!0)),Zh(t,e)._dp&&t._initted&&t._time>=t._dur&&t._ts){if(t._dur<t.duration())for(n=t;n._dp;)n.rawTime()>=0&&n.totalTime(n._tTime),n=n._dp;t._zTime=-mi}},ql=function(t,e,n,i){return e.parent&&_f(e),e._start=ca((Qu(n)?n:n||t!==Li?mo(t,n,e):t._time)+e._delay),e._end=ca(e._start+(e.totalDuration()/Math.abs(e.timeScale())||0)),GD(t,e,"_first","_last",t._sort?"_start":0),yE(e)||(t._recent=e),i||VD(t,e),t._ts<0&&yS(t,t._tTime),t},XD=function(t,e){return(Jr.ScrollTrigger||z1("scrollTrigger",e))&&Jr.ScrollTrigger.create(e,t)},kD=function(t,e,n,i,s){if(Y1(t,e,s),!t._initted)return 1;if(!n&&t._pt&&!$a&&(t._dur&&t.vars.lazy!==!1||!t._dur&&t.vars.lazy)&&ID!==Pr.frame)return cf.push(t),t._lazy=[s,i],1},r9=function r(t){var e=t.parent;return e&&e._ts&&e._initted&&!e._lock&&(e.rawTime()<0||r(e))},yE=function(t){var e=t.data;return e==="isFromStart"||e==="isStart"},o9=function(t,e,n,i){var s=t.ratio,l=e<0||!e&&(!t._start&&r9(t)&&!(!t._initted&&yE(t))||(t._ts<0||t._dp._ts<0)&&!yE(t))?0:1,u=t._rDelay,d=0,p,g,_;if(u&&t._repeat&&(d=U_(0,t._tDur,e),g=Rm(d,u),t._yoyo&&g&1&&(l=1-l),g!==Rm(t._tTime,u)&&(s=1-l,t.vars.repeatRefresh&&t._initted&&t.invalidate())),l!==s||$a||i||t._zTime===mi||!e&&t._zTime){if(!t._initted&&kD(t,e,i,n,d))return;for(_=t._zTime,t._zTime=e||(n?mi:0),n||(n=e&&!_),t.ratio=l,t._from&&(l=1-l),t._time=0,t._tTime=d,p=t._pt;p;)p.r(l,p.d),p=p._next;e<0&&vE(t,e,n,!0),t._onUpdate&&!n&&Vr(t,"onUpdate"),d&&t._repeat&&!n&&t.parent&&Vr(t,"onRepeat"),(e>=t._tDur||e<0)&&t.ratio===l&&(l&&_f(t,1),!n&&!$a&&(Vr(t,l?"onComplete":"onReverseComplete",!0),t._prom&&t._prom()))}else t._zTime||(t._zTime=e)},l9=function(t,e,n){var i;if(n>e)for(i=t._first;i&&i._start<=n;){if(i.data==="isPause"&&i._start>e)return i;i=i._next}else for(i=t._last;i&&i._start>=n;){if(i.data==="isPause"&&i._start<e)return i;i=i._prev}},wm=function(t,e,n,i){var s=t._repeat,l=ca(e)||0,u=t._tTime/t._tDur;return u&&!i&&(t._time*=l/t._dur),t._dur=l,t._tDur=s?s<0?1e10:ca(l*(s+1)+t._rDelay*s):l,u>0&&!i&&yS(t,t._tTime=t._tDur*u),t.parent&&vS(t),n||Zh(t.parent,t),t},y2=function(t){return t instanceof qs?Zh(t):wm(t,t._dur)},u9={_start:0,endTime:h_,totalDuration:h_},mo=function r(t,e,n){var i=t.labels,s=t._recent||u9,l=t.duration()>=xo?s.endTime(!1):t._dur,u,d,p;return Ga(e)&&(isNaN(e)||e in i)?(d=e.charAt(0),p=e.substr(-1)==="%",u=e.indexOf("="),d==="<"||d===">"?(u>=0&&(e=e.replace(/=/,"")),(d==="<"?s._start:s.endTime(s._repeat>=0))+(parseFloat(e.substr(1))||0)*(p?(u<0?s:n).totalDuration()/100:1)):u<0?(e in i||(i[e]=l),i[e]):(d=parseFloat(e.charAt(u-1)+e.substr(u+1)),p&&n&&(d=d/100*(vs(n)?n[0]:n).totalDuration()),u>1?r(t,e.substr(0,u-1),n)+d:l+d)):e==null?l:+e},X0=function(t,e,n){var i=Qu(e[1]),s=(i?2:1)+(t<2?0:1),l=e[s],u,d;if(i&&(l.duration=e[1]),l.parent=n,t){for(u=l,d=n;d&&!("immediateRender"in u);)u=d.vars.defaults||{},d=pr(d.vars.inherit)&&d.parent;l.immediateRender=pr(u.immediateRender),t<2?l.runBackwards=1:l.startAt=e[s-1]}return new ua(e[0],l,e[s+1])},Mf=function(t,e){return t||t===0?e(t):e},U_=function(t,e,n){return n<t?t:n>e?e:n},ms=function(t,e){return!Ga(t)||!(e=ZV.exec(t))?"":e[1]},c9=function(t,e,n){return Mf(n,function(i){return U_(t,e,i)})},xE=[].slice,YD=function(t,e){return t&&eu(t)&&"length"in t&&(!e&&!t.length||t.length-1 in t&&eu(t[0]))&&!t.nodeType&&t!==kl},f9=function(t,e,n){return n===void 0&&(n=[]),t.forEach(function(i){var s;return Ga(i)&&!e||YD(i,1)?(s=n).push.apply(s,Ao(i)):n.push(i)})||n},Ao=function(t,e,n){return Ri&&!e&&Ri.selector?Ri.selector(t):Ga(t)&&!n&&(gE||!Bm())?xE.call((e||F1).querySelectorAll(t),0):vs(t)?f9(t,n):YD(t)?xE.call(t,0):t?[t]:[]},AE=function(t){return t=Ao(t)[0]||f_("Invalid scope")||{},function(e){var n=t.current||t.nativeElement||t;return Ao(e,n.querySelectorAll?n:n===t?f_("Invalid scope")||F1.createElement("div"):t)}},qD=function(t){return t.sort(function(){return .5-Math.random()})},JD=function(t){if(ki(t))return t;var e=eu(t)?t:{each:t},n=$h(e.ease),i=e.from||0,s=parseFloat(e.base)||0,l={},u=i>0&&i<1,d=isNaN(i)||u,p=e.axis,g=i,_=i;return Ga(i)?g=_={center:.5,edges:.5,end:1}[i]||0:!u&&d&&(g=i[0],_=i[1]),function(y,x,M){var T=(M||e).length,E=l[T],b,w,D,B,L,P,H,F,O;if(!E){if(O=e.grid==="auto"?0:(e.grid||[1,xo])[1],!O){for(H=-xo;H<(H=M[O++].getBoundingClientRect().left)&&O<T;);O<T&&O--}for(E=l[T]=[],b=d?Math.min(O,T)*g-.5:i%O,w=O===xo?0:d?T*_/O-.5:i/O|0,H=0,F=xo,P=0;P<T;P++)D=P%O-b,B=w-(P/O|0),E[P]=L=p?Math.abs(p==="y"?B:D):RD(D*D+B*B),L>H&&(H=L),L<F&&(F=L);i==="random"&&qD(E),E.max=H-F,E.min=F,E.v=T=(parseFloat(e.amount)||parseFloat(e.each)*(O>T?T-1:p?p==="y"?T/O:O:Math.max(O,T/O))||0)*(i==="edges"?-1:1),E.b=T<0?s-T:s,E.u=ms(e.amount||e.each)||0,n=n&&T<0?i3(n):n}return T=(E[y]-E.min)/E.max||0,ca(E.b+(n?n(T):T)*E.v)+E.u}},SE=function(t){var e=Math.pow(10,((t+"").split(".")[1]||"").length);return function(n){var i=ca(Math.round(parseFloat(n)/t)*t*e);return(i-i%1)/e+(Qu(n)?0:ms(n))}},KD=function(t,e){var n=vs(t),i,s;return!n&&eu(t)&&(i=n=t.radius||xo,t.values?(t=Ao(t.values),(s=!Qu(t[0]))&&(i*=i)):t=SE(t.increment)),Mf(e,n?ki(t)?function(l){return s=t(l),Math.abs(s-l)<=i?s:l}:function(l){for(var u=parseFloat(s?l.x:l),d=parseFloat(s?l.y:0),p=xo,g=0,_=t.length,y,x;_--;)s?(y=t[_].x-u,x=t[_].y-d,y=y*y+x*x):y=Math.abs(t[_]-u),y<p&&(p=y,g=_);return g=!i||p<=i?t[g]:l,s||g===l||Qu(l)?g:g+ms(l)}:SE(t))},WD=function(t,e,n,i){return Mf(vs(t)?!e:n===!0?!!(n=0):!i,function(){return vs(t)?t[~~(Math.random()*t.length)]:(n=n||1e-5)&&(i=n<1?Math.pow(10,(n+"").length-2):1)&&Math.floor(Math.round((t-n/2+Math.random()*(e-t+n*.99))/n)*n*i)/i})},h9=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(i){return e.reduce(function(s,l){return l(s)},i)}},d9=function(t,e){return function(n){return t(parseFloat(n))+(e||ms(n))}},p9=function(t,e,n){return QD(t,e,0,1,n)},jD=function(t,e,n){return Mf(n,function(i){return t[~~e(i)]})},m9=function r(t,e,n){var i=e-t;return vs(t)?jD(t,r(0,t.length),e):Mf(n,function(s){return(i+(s-t)%i)%i+t})},g9=function r(t,e,n){var i=e-t,s=i*2;return vs(t)?jD(t,r(0,t.length-1),e):Mf(n,function(l){return l=(s+(l-t)%s)%s||0,t+(l>i?s-l:l)})},d_=function(t){for(var e=0,n="",i,s,l,u;~(i=t.indexOf("random(",e));)l=t.indexOf(")",i),u=t.charAt(i+7)==="[",s=t.substr(i+7,l-i-7).match(u?OD:mE),n+=t.substr(e,i-e)+WD(u?s:+s[0],u?0:+s[1],+s[2]||1e-5),e=l+1;return n+t.substr(e,t.length-e)},QD=function(t,e,n,i,s){var l=e-t,u=i-n;return Mf(s,function(d){return n+((d-t)/l*u||0)})},_9=function r(t,e,n,i){var s=isNaN(t+e)?0:function(x){return(1-x)*t+x*e};if(!s){var l=Ga(t),u={},d,p,g,_,y;if(n===!0&&(i=1)&&(n=null),l)t={p:t},e={p:e};else if(vs(t)&&!vs(e)){for(g=[],_=t.length,y=_-2,p=1;p<_;p++)g.push(r(t[p-1],t[p]));_--,s=function(M){M*=_;var T=Math.min(y,~~M);return g[T](M-T)},n=e}else i||(t=Cm(vs(t)?[]:{},t));if(!g){for(d in e)k1.call(u,t,d,"get",e[d]);s=function(M){return K1(M,u)||(l?t.p:t)}}}return Mf(n,s)},x2=function(t,e,n){var i=t.labels,s=xo,l,u,d;for(l in i)u=i[l]-e,u<0==!!n&&u&&s>(u=Math.abs(u))&&(d=l,s=u);return d},Vr=function(t,e,n){var i=t.vars,s=i[e],l=Ri,u=t._ctx,d,p,g;if(s)return d=i[e+"Params"],p=i.callbackScope||t,n&&cf.length&&EA(),u&&(Ri=u),g=d?s.apply(p,d):s.call(p),Ri=l,g},b0=function(t){return _f(t),t.scrollTrigger&&t.scrollTrigger.kill(!!$a),t.progress()<1&&Vr(t,"onInterrupt"),t},tm,ZD=[],$D=function(t){if(t)if(t=!t.name&&t.default||t,P1()||t.headless){var e=t.name,n=ki(t),i=e&&!n&&t.init?function(){this._props=[]}:t,s={init:h_,render:K1,add:k1,kill:U9,modifier:O9,rawVars:0},l={targetTest:0,get:0,getSetter:J1,aliases:{},register:0};if(Bm(),t!==i){if(Lr[e])return;Kr(i,Kr(TA(t,s),l)),Cm(i.prototype,Cm(s,TA(t,l))),Lr[i.prop=e]=i,t.targetTest&&(Ex.push(i),H1[e]=1),e=(e==="css"?"CSS":e.charAt(0).toUpperCase()+e.substr(1))+"Plugin"}LD(e,i),t.register&&t.register(vr,i,gr)}else ZD.push(t)},pi=255,E0={aqua:[0,pi,pi],lime:[0,pi,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,pi],navy:[0,0,128],white:[pi,pi,pi],olive:[128,128,0],yellow:[pi,pi,0],orange:[pi,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[pi,0,0],pink:[pi,192,203],cyan:[0,pi,pi],transparent:[pi,pi,pi,0]},Bb=function(t,e,n){return t+=t<0?1:t>1?-1:0,(t*6<1?e+(n-e)*t*6:t<.5?n:t*3<2?e+(n-e)*(2/3-t)*6:e)*pi+.5|0},t3=function(t,e,n){var i=t?Qu(t)?[t>>16,t>>8&pi,t&pi]:0:E0.black,s,l,u,d,p,g,_,y,x,M;if(!i){if(t.substr(-1)===","&&(t=t.substr(0,t.length-1)),E0[t])i=E0[t];else if(t.charAt(0)==="#"){if(t.length<6&&(s=t.charAt(1),l=t.charAt(2),u=t.charAt(3),t="#"+s+s+l+l+u+u+(t.length===5?t.charAt(4)+t.charAt(4):"")),t.length===9)return i=parseInt(t.substr(1,6),16),[i>>16,i>>8&pi,i&pi,parseInt(t.substr(7),16)/255];t=parseInt(t.substr(1),16),i=[t>>16,t>>8&pi,t&pi]}else if(t.substr(0,3)==="hsl"){if(i=M=t.match(mE),!e)d=+i[0]%360/360,p=+i[1]/100,g=+i[2]/100,l=g<=.5?g*(p+1):g+p-g*p,s=g*2-l,i.length>3&&(i[3]*=1),i[0]=Bb(d+1/3,s,l),i[1]=Bb(d,s,l),i[2]=Bb(d-1/3,s,l);else if(~t.indexOf("="))return i=t.match(BD),n&&i.length<4&&(i[3]=1),i}else i=t.match(mE)||E0.transparent;i=i.map(Number)}return e&&!M&&(s=i[0]/pi,l=i[1]/pi,u=i[2]/pi,_=Math.max(s,l,u),y=Math.min(s,l,u),g=(_+y)/2,_===y?d=p=0:(x=_-y,p=g>.5?x/(2-_-y):x/(_+y),d=_===s?(l-u)/x+(l<u?6:0):_===l?(u-s)/x+2:(s-l)/x+4,d*=60),i[0]=~~(d+.5),i[1]=~~(p*100+.5),i[2]=~~(g*100+.5)),n&&i.length<4&&(i[3]=1),i},e3=function(t){var e=[],n=[],i=-1;return t.split(ff).forEach(function(s){var l=s.match($p)||[];e.push.apply(e,l),n.push(i+=l.length+1)}),e.c=n,e},A2=function(t,e,n){var i="",s=(t+i).match(ff),l=e?"hsla(":"rgba(",u=0,d,p,g,_;if(!s)return t;if(s=s.map(function(y){return(y=t3(y,e,1))&&l+(e?y[0]+","+y[1]+"%,"+y[2]+"%,"+y[3]:y.join(","))+")"}),n&&(g=e3(t),d=n.c,d.join(i)!==g.c.join(i)))for(p=t.replace(ff,"1").split($p),_=p.length-1;u<_;u++)i+=p[u]+(~d.indexOf(u)?s.shift()||l+"0,0,0,0)":(g.length?g:s.length?s:n).shift());if(!p)for(p=t.split(ff),_=p.length-1;u<_;u++)i+=p[u]+s[u];return i+p[_]},ff=function(){var r="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",t;for(t in E0)r+="|"+t+"\\b";return new RegExp(r+")","gi")}(),v9=/hsl[a]?\(/,n3=function(t){var e=t.join(" "),n;if(ff.lastIndex=0,ff.test(e))return n=v9.test(e),t[1]=A2(t[1],n),t[0]=A2(t[0],n,e3(t[1])),!0},p_,Pr=function(){var r=Date.now,t=500,e=33,n=r(),i=n,s=1e3/240,l=s,u=[],d,p,g,_,y,x,M=function T(E){var b=r()-i,w=E===!0,D,B,L,P;if((b>t||b<0)&&(n+=b-e),i+=b,L=i-n,D=L-l,(D>0||w)&&(P=++_.frame,y=L-_.time*1e3,_.time=L=L/1e3,l+=D+(D>=s?4:s-D),B=1),w||(d=p(T)),B)for(x=0;x<u.length;x++)u[x](L,y,P,E)};return _={time:0,frame:0,tick:function(){M(!0)},deltaRatio:function(E){return y/(1e3/(E||60))},wake:function(){UD&&(!gE&&P1()&&(kl=gE=window,F1=kl.document||{},Jr.gsap=vr,(kl.gsapVersions||(kl.gsapVersions=[])).push(vr.version),ND(bA||kl.GreenSockGlobals||!kl.gsap&&kl||{}),ZD.forEach($D)),g=typeof requestAnimationFrame<"u"&&requestAnimationFrame,d&&_.sleep(),p=g||function(E){return setTimeout(E,l-_.time*1e3+1|0)},p_=1,M(2))},sleep:function(){(g?cancelAnimationFrame:clearTimeout)(d),p_=0,p=h_},lagSmoothing:function(E,b){t=E||1/0,e=Math.min(b||33,t)},fps:function(E){s=1e3/(E||240),l=_.time*1e3+s},add:function(E,b,w){var D=b?function(B,L,P,H){E(B,L,P,H),_.remove(D)}:E;return _.remove(E),u[w?"unshift":"push"](D),Bm(),D},remove:function(E,b){~(b=u.indexOf(E))&&u.splice(b,1)&&x>=b&&x--},_listeners:u},_}(),Bm=function(){return!p_&&Pr.wake()},In={},y9=/^[\d.\-M][\d.\-,\s]/,x9=/["']/g,A9=function(t){for(var e={},n=t.substr(1,t.length-3).split(":"),i=n[0],s=1,l=n.length,u,d,p;s<l;s++)d=n[s],u=s!==l-1?d.lastIndexOf(","):d.length,p=d.substr(0,u),e[i]=isNaN(p)?p.replace(x9,"").trim():+p,i=d.substr(u+1).trim();return e},S9=function(t){var e=t.indexOf("(")+1,n=t.indexOf(")"),i=t.indexOf("(",e);return t.substring(e,~i&&i<n?t.indexOf(")",n+1):n)},M9=function(t){var e=(t+"").split("("),n=In[e[0]];return n&&e.length>1&&n.config?n.config.apply(null,~t.indexOf("{")?[A9(e[1])]:S9(t).split(",").map(zD)):In._CE&&y9.test(t)?In._CE("",t):n},i3=function(t){return function(e){return 1-t(1-e)}},a3=function r(t,e){for(var n=t._first,i;n;)n instanceof qs?r(n,e):n.vars.yoyoEase&&(!n._yoyo||!n._repeat)&&n._yoyo!==e&&(n.timeline?r(n.timeline,e):(i=n._ease,n._ease=n._yEase,n._yEase=i,n._yoyo=e)),n=n._next},$h=function(t,e){return t&&(ki(t)?t:In[t]||M9(t))||e},xd=function(t,e,n,i){n===void 0&&(n=function(d){return 1-e(1-d)}),i===void 0&&(i=function(d){return d<.5?e(d*2)/2:1-e((1-d)*2)/2});var s={easeIn:e,easeOut:n,easeInOut:i},l;return mr(t,function(u){In[u]=Jr[u]=s,In[l=u.toLowerCase()]=n;for(var d in s)In[l+(d==="easeIn"?".in":d==="easeOut"?".out":".inOut")]=In[u+"."+d]=s[d]}),s},s3=function(t){return function(e){return e<.5?(1-t(1-e*2))/2:.5+t((e-.5)*2)/2}},Db=function r(t,e,n){var i=e>=1?e:1,s=(n||(t?.3:.45))/(e<1?e:1),l=s/pE*(Math.asin(1/i)||0),u=function(g){return g===1?1:i*Math.pow(2,-10*g)*QV((g-l)*s)+1},d=t==="out"?u:t==="in"?function(p){return 1-u(1-p)}:s3(u);return s=pE/s,d.config=function(p,g){return r(t,p,g)},d},Ob=function r(t,e){e===void 0&&(e=1.70158);var n=function(l){return l?--l*l*((e+1)*l+e)+1:0},i=t==="out"?n:t==="in"?function(s){return 1-n(1-s)}:s3(n);return i.config=function(s){return r(t,s)},i};mr("Linear,Quad,Cubic,Quart,Quint,Strong",function(r,t){var e=t<5?t+1:t;xd(r+",Power"+(e-1),t?function(n){return Math.pow(n,e)}:function(n){return n},function(n){return 1-Math.pow(1-n,e)},function(n){return n<.5?Math.pow(n*2,e)/2:1-Math.pow((1-n)*2,e)/2})});In.Linear.easeNone=In.none=In.Linear.easeIn;xd("Elastic",Db("in"),Db("out"),Db());(function(r,t){var e=1/t,n=2*e,i=2.5*e,s=function(u){return u<e?r*u*u:u<n?r*Math.pow(u-1.5/t,2)+.75:u<i?r*(u-=2.25/t)*u+.9375:r*Math.pow(u-2.625/t,2)+.984375};xd("Bounce",function(l){return 1-s(1-l)},s)})(7.5625,2.75);xd("Expo",function(r){return Math.pow(2,10*(r-1))*r+r*r*r*r*r*r*(1-r)});xd("Circ",function(r){return-(RD(1-r*r)-1)});xd("Sine",function(r){return r===1?1:-jV(r*KV)+1});xd("Back",Ob("in"),Ob("out"),Ob());In.SteppedEase=In.steps=Jr.SteppedEase={config:function(t,e){t===void 0&&(t=1);var n=1/t,i=t+(e?0:1),s=e?1:0,l=1-mi;return function(u){return((i*U_(0,l,u)|0)+s)*n}}};Tm.ease=In["quad.out"];mr("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(r){return G1+=r+","+r+"Params,"});var r3=function(t,e){this.id=WV++,t._gsap=this,this.target=t,this.harness=e,this.get=e?e.get:PD,this.set=e?e.getSetter:J1},m_=function(){function r(e){this.vars=e,this._delay=+e.delay||0,(this._repeat=e.repeat===1/0?-2:e.repeat||0)&&(this._rDelay=e.repeatDelay||0,this._yoyo=!!e.yoyo||!!e.yoyoEase),this._ts=1,wm(this,+e.duration,1,1),this.data=e.data,Ri&&(this._ctx=Ri,Ri.data.push(this)),p_||Pr.wake()}var t=r.prototype;return t.delay=function(n){return n||n===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+n-this._delay),this._delay=n,this):this._delay},t.duration=function(n){return arguments.length?this.totalDuration(this._repeat>0?n+(n+this._rDelay)*this._repeat:n):this.totalDuration()&&this._dur},t.totalDuration=function(n){return arguments.length?(this._dirty=0,wm(this,this._repeat<0?n:(n-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},t.totalTime=function(n,i){if(Bm(),!arguments.length)return this._tTime;var s=this._dp;if(s&&s.smoothChildTiming&&this._ts){for(yS(this,n),!s._dp||s.parent||VD(s,this);s&&s.parent;)s.parent._time!==s._start+(s._ts>=0?s._tTime/s._ts:(s.totalDuration()-s._tTime)/-s._ts)&&s.totalTime(s._tTime,!0),s=s.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&n<this._tDur||this._ts<0&&n>0||!this._tDur&&!n)&&ql(this._dp,this,this._start-this._delay)}return(this._tTime!==n||!this._dur&&!i||this._initted&&Math.abs(this._zTime)===mi||!n&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=n),FD(this,n,i)),this},t.time=function(n,i){return arguments.length?this.totalTime(Math.min(this.totalDuration(),n+v2(this))%(this._dur+this._rDelay)||(n?this._dur:0),i):this._time},t.totalProgress=function(n,i){return arguments.length?this.totalTime(this.totalDuration()*n,i):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},t.progress=function(n,i){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-n:n)+v2(this),i):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},t.iteration=function(n,i){var s=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(n-1)*s,i):this._repeat?Rm(this._tTime,s)+1:1},t.timeScale=function(n,i){if(!arguments.length)return this._rts===-mi?0:this._rts;if(this._rts===n)return this;var s=this.parent&&this._ts?CA(this.parent._time,this):this._tTime;return this._rts=+n||0,this._ts=this._ps||n===-mi?0:this._rts,this.totalTime(U_(-Math.abs(this._delay),this.totalDuration(),s),i!==!1),vS(this),a9(this)},t.paused=function(n){return arguments.length?(this._ps!==n&&(this._ps=n,n?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Bm(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==mi&&(this._tTime-=mi)))),this):this._ps},t.startTime=function(n){if(arguments.length){this._start=n;var i=this.parent||this._dp;return i&&(i._sort||!this.parent)&&ql(i,this,n-this._delay),this}return this._start},t.endTime=function(n){return this._start+(pr(n)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},t.rawTime=function(n){var i=this.parent||this._dp;return i?n&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?CA(i.rawTime(n),this):this._tTime:this._tTime},t.revert=function(n){n===void 0&&(n=t9);var i=$a;return $a=n,X1(this)&&(this.timeline&&this.timeline.revert(n),this.totalTime(-.01,n.suppressEvents)),this.data!=="nested"&&n.kill!==!1&&this.kill(),$a=i,this},t.globalTime=function(n){for(var i=this,s=arguments.length?n:i.rawTime();i;)s=i._start+s/(Math.abs(i._ts)||1),i=i._dp;return!this.parent&&this._sat?this._sat.globalTime(n):s},t.repeat=function(n){return arguments.length?(this._repeat=n===1/0?-2:n,y2(this)):this._repeat===-2?1/0:this._repeat},t.repeatDelay=function(n){if(arguments.length){var i=this._time;return this._rDelay=n,y2(this),i?this.time(i):this}return this._rDelay},t.yoyo=function(n){return arguments.length?(this._yoyo=n,this):this._yoyo},t.seek=function(n,i){return this.totalTime(mo(this,n),pr(i))},t.restart=function(n,i){return this.play().totalTime(n?-this._delay:0,pr(i)),this._dur||(this._zTime=-mi),this},t.play=function(n,i){return n!=null&&this.seek(n,i),this.reversed(!1).paused(!1)},t.reverse=function(n,i){return n!=null&&this.seek(n||this.totalDuration(),i),this.reversed(!0).paused(!1)},t.pause=function(n,i){return n!=null&&this.seek(n,i),this.paused(!0)},t.resume=function(){return this.paused(!1)},t.reversed=function(n){return arguments.length?(!!n!==this.reversed()&&this.timeScale(-this._rts||(n?-mi:0)),this):this._rts<0},t.invalidate=function(){return this._initted=this._act=0,this._zTime=-mi,this},t.isActive=function(){var n=this.parent||this._dp,i=this._start,s;return!!(!n||this._ts&&this._initted&&n.isActive()&&(s=n.rawTime(!0))>=i&&s<this.endTime(!0)-mi)},t.eventCallback=function(n,i,s){var l=this.vars;return arguments.length>1?(i?(l[n]=i,s&&(l[n+"Params"]=s),n==="onUpdate"&&(this._onUpdate=i)):delete l[n],this):l[n]},t.then=function(n){var i=this;return new Promise(function(s){var l=ki(n)?n:HD,u=function(){var p=i.then;i.then=null,ki(l)&&(l=l(i))&&(l.then||l===i)&&(i.then=p),s(l),i.then=p};i._initted&&i.totalProgress()===1&&i._ts>=0||!i._tTime&&i._ts<0?u():i._prom=u})},t.kill=function(){b0(this)},r}();Kr(m_.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-mi,_prom:0,_ps:!1,_rts:1});var qs=function(r){CD(t,r);function t(n,i){var s;return n===void 0&&(n={}),s=r.call(this,n)||this,s.labels={},s.smoothChildTiming=!!n.smoothChildTiming,s.autoRemoveChildren=!!n.autoRemoveChildren,s._sort=pr(n.sortChildren),Li&&ql(n.parent||Li,Lu(s),i),n.reversed&&s.reverse(),n.paused&&s.paused(!0),n.scrollTrigger&&XD(Lu(s),n.scrollTrigger),s}var e=t.prototype;return e.to=function(i,s,l){return X0(0,arguments,this),this},e.from=function(i,s,l){return X0(1,arguments,this),this},e.fromTo=function(i,s,l,u){return X0(2,arguments,this),this},e.set=function(i,s,l){return s.duration=0,s.parent=this,V0(s).repeatDelay||(s.repeat=0),s.immediateRender=!!s.immediateRender,new ua(i,s,mo(this,l),1),this},e.call=function(i,s,l){return ql(this,ua.delayedCall(0,i,s),l)},e.staggerTo=function(i,s,l,u,d,p,g){return l.duration=s,l.stagger=l.stagger||u,l.onComplete=p,l.onCompleteParams=g,l.parent=this,new ua(i,l,mo(this,d)),this},e.staggerFrom=function(i,s,l,u,d,p,g){return l.runBackwards=1,V0(l).immediateRender=pr(l.immediateRender),this.staggerTo(i,s,l,u,d,p,g)},e.staggerFromTo=function(i,s,l,u,d,p,g,_){return u.startAt=l,V0(u).immediateRender=pr(u.immediateRender),this.staggerTo(i,s,u,d,p,g,_)},e.render=function(i,s,l){var u=this._time,d=this._dirty?this.totalDuration():this._tDur,p=this._dur,g=i<=0?0:ca(i),_=this._zTime<0!=i<0&&(this._initted||!p),y,x,M,T,E,b,w,D,B,L,P,H;if(this!==Li&&g>d&&i>=0&&(g=d),g!==this._tTime||l||_){if(u!==this._time&&p&&(g+=this._time-u,i+=this._time-u),y=g,B=this._start,D=this._ts,b=!D,_&&(p||(u=this._zTime),(i||!s)&&(this._zTime=i)),this._repeat){if(P=this._yoyo,E=p+this._rDelay,this._repeat<-1&&i<0)return this.totalTime(E*100+i,s,l);if(y=ca(g%E),g===d?(T=this._repeat,y=p):(L=ca(g/E),T=~~L,T&&T===L&&(y=p,T--),y>p&&(y=p)),L=Rm(this._tTime,E),!u&&this._tTime&&L!==T&&this._tTime-L*E-this._dur<=0&&(L=T),P&&T&1&&(y=p-y,H=1),T!==L&&!this._lock){var F=P&&L&1,O=F===(P&&T&1);if(T<L&&(F=!F),u=F?0:g%p?p:g,this._lock=1,this.render(u||(H?0:ca(T*E)),s,!p)._lock=0,this._tTime=g,!s&&this.parent&&Vr(this,"onRepeat"),this.vars.repeatRefresh&&!H&&(this.invalidate()._lock=1),u&&u!==this._time||b!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(p=this._dur,d=this._tDur,O&&(this._lock=2,u=F?p:-1e-4,this.render(u,!0),this.vars.repeatRefresh&&!H&&this.invalidate()),this._lock=0,!this._ts&&!b)return this;a3(this,H)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(w=l9(this,ca(u),ca(y)),w&&(g-=y-(y=w._start))),this._tTime=g,this._time=y,this._act=!D,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=i,u=0),!u&&g&&!s&&!L&&(Vr(this,"onStart"),this._tTime!==g))return this;if(y>=u&&i>=0)for(x=this._first;x;){if(M=x._next,(x._act||y>=x._start)&&x._ts&&w!==x){if(x.parent!==this)return this.render(i,s,l);if(x.render(x._ts>0?(y-x._start)*x._ts:(x._dirty?x.totalDuration():x._tDur)+(y-x._start)*x._ts,s,l),y!==this._time||!this._ts&&!b){w=0,M&&(g+=this._zTime=-mi);break}}x=M}else{x=this._last;for(var U=i<0?i:y;x;){if(M=x._prev,(x._act||U<=x._end)&&x._ts&&w!==x){if(x.parent!==this)return this.render(i,s,l);if(x.render(x._ts>0?(U-x._start)*x._ts:(x._dirty?x.totalDuration():x._tDur)+(U-x._start)*x._ts,s,l||$a&&X1(x)),y!==this._time||!this._ts&&!b){w=0,M&&(g+=this._zTime=U?-mi:mi);break}}x=M}}if(w&&!s&&(this.pause(),w.render(y>=u?0:-mi)._zTime=y>=u?1:-1,this._ts))return this._start=B,vS(this),this.render(i,s,l);this._onUpdate&&!s&&Vr(this,"onUpdate",!0),(g===d&&this._tTime>=this.totalDuration()||!g&&u)&&(B===this._start||Math.abs(D)!==Math.abs(this._ts))&&(this._lock||((i||!p)&&(g===d&&this._ts>0||!g&&this._ts<0)&&_f(this,1),!s&&!(i<0&&!u)&&(g||u||!d)&&(Vr(this,g===d&&i>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(g<d&&this.timeScale()>0)&&this._prom())))}return this},e.add=function(i,s){var l=this;if(Qu(s)||(s=mo(this,s,i)),!(i instanceof m_)){if(vs(i))return i.forEach(function(u){return l.add(u,s)}),this;if(Ga(i))return this.addLabel(i,s);if(ki(i))i=ua.delayedCall(0,i);else return this}return this!==i?ql(this,i,s):this},e.getChildren=function(i,s,l,u){i===void 0&&(i=!0),s===void 0&&(s=!0),l===void 0&&(l=!0),u===void 0&&(u=-xo);for(var d=[],p=this._first;p;)p._start>=u&&(p instanceof ua?s&&d.push(p):(l&&d.push(p),i&&d.push.apply(d,p.getChildren(!0,s,l)))),p=p._next;return d},e.getById=function(i){for(var s=this.getChildren(1,1,1),l=s.length;l--;)if(s[l].vars.id===i)return s[l]},e.remove=function(i){return Ga(i)?this.removeLabel(i):ki(i)?this.killTweensOf(i):(i.parent===this&&_S(this,i),i===this._recent&&(this._recent=this._last),Zh(this))},e.totalTime=function(i,s){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=ca(Pr.time-(this._ts>0?i/this._ts:(this.totalDuration()-i)/-this._ts))),r.prototype.totalTime.call(this,i,s),this._forcing=0,this):this._tTime},e.addLabel=function(i,s){return this.labels[i]=mo(this,s),this},e.removeLabel=function(i){return delete this.labels[i],this},e.addPause=function(i,s,l){var u=ua.delayedCall(0,s||h_,l);return u.data="isPause",this._hasPause=1,ql(this,u,mo(this,i))},e.removePause=function(i){var s=this._first;for(i=mo(this,i);s;)s._start===i&&s.data==="isPause"&&_f(s),s=s._next},e.killTweensOf=function(i,s,l){for(var u=this.getTweensOf(i,l),d=u.length;d--;)af!==u[d]&&u[d].kill(i,s);return this},e.getTweensOf=function(i,s){for(var l=[],u=Ao(i),d=this._first,p=Qu(s),g;d;)d instanceof ua?e9(d._targets,u)&&(p?(!af||d._initted&&d._ts)&&d.globalTime(0)<=s&&d.globalTime(d.totalDuration())>s:!s||d.isActive())&&l.push(d):(g=d.getTweensOf(u,s)).length&&l.push.apply(l,g),d=d._next;return l},e.tweenTo=function(i,s){s=s||{};var l=this,u=mo(l,i),d=s,p=d.startAt,g=d.onStart,_=d.onStartParams,y=d.immediateRender,x,M=ua.to(l,Kr({ease:s.ease||"none",lazy:!1,immediateRender:!1,time:u,overwrite:"auto",duration:s.duration||Math.abs((u-(p&&"time"in p?p.time:l._time))/l.timeScale())||mi,onStart:function(){if(l.pause(),!x){var E=s.duration||Math.abs((u-(p&&"time"in p?p.time:l._time))/l.timeScale());M._dur!==E&&wm(M,E,0,1).render(M._time,!0,!0),x=1}g&&g.apply(M,_||[])}},s));return y?M.render(0):M},e.tweenFromTo=function(i,s,l){return this.tweenTo(s,Kr({startAt:{time:mo(this,i)}},l))},e.recent=function(){return this._recent},e.nextLabel=function(i){return i===void 0&&(i=this._time),x2(this,mo(this,i))},e.previousLabel=function(i){return i===void 0&&(i=this._time),x2(this,mo(this,i),1)},e.currentLabel=function(i){return arguments.length?this.seek(i,!0):this.previousLabel(this._time+mi)},e.shiftChildren=function(i,s,l){l===void 0&&(l=0);for(var u=this._first,d=this.labels,p;u;)u._start>=l&&(u._start+=i,u._end+=i),u=u._next;if(s)for(p in d)d[p]>=l&&(d[p]+=i);return Zh(this)},e.invalidate=function(i){var s=this._first;for(this._lock=0;s;)s.invalidate(i),s=s._next;return r.prototype.invalidate.call(this,i)},e.clear=function(i){i===void 0&&(i=!0);for(var s=this._first,l;s;)l=s._next,this.remove(s),s=l;return this._dp&&(this._time=this._tTime=this._pTime=0),i&&(this.labels={}),Zh(this)},e.totalDuration=function(i){var s=0,l=this,u=l._last,d=xo,p,g,_;if(arguments.length)return l.timeScale((l._repeat<0?l.duration():l.totalDuration())/(l.reversed()?-i:i));if(l._dirty){for(_=l.parent;u;)p=u._prev,u._dirty&&u.totalDuration(),g=u._start,g>d&&l._sort&&u._ts&&!l._lock?(l._lock=1,ql(l,u,g-u._delay,1)._lock=0):d=g,g<0&&u._ts&&(s-=g,(!_&&!l._dp||_&&_.smoothChildTiming)&&(l._start+=g/l._ts,l._time-=g,l._tTime-=g),l.shiftChildren(-g,!1,-1/0),d=0),u._end>s&&u._ts&&(s=u._end),u=p;wm(l,l===Li&&l._time>s?l._time:s,1,1),l._dirty=0}return l._tDur},t.updateRoot=function(i){if(Li._ts&&(FD(Li,CA(i,Li)),ID=Pr.frame),Pr.frame>=g2){g2+=kr.autoSleep||120;var s=Li._first;if((!s||!s._ts)&&kr.autoSleep&&Pr._listeners.length<2){for(;s&&!s._ts;)s=s._next;s||Pr.sleep()}}},t}(m_);Kr(qs.prototype,{_lock:0,_hasPause:0,_forcing:0});var b9=function(t,e,n,i,s,l,u){var d=new gr(this._pt,t,e,0,1,h3,null,s),p=0,g=0,_,y,x,M,T,E,b,w;for(d.b=n,d.e=i,n+="",i+="",(b=~i.indexOf("random("))&&(i=d_(i)),l&&(w=[n,i],l(w,t,e),n=w[0],i=w[1]),y=n.match(Rb)||[];_=Rb.exec(i);)M=_[0],T=i.substring(p,_.index),x?x=(x+1)%5:T.substr(-5)==="rgba("&&(x=1),M!==y[g++]&&(E=parseFloat(y[g-1])||0,d._pt={_next:d._pt,p:T||g===1?T:",",s:E,c:M.charAt(1)==="="?rm(E,M)-E:parseFloat(M)-E,m:x&&x<4?Math.round:0},p=Rb.lastIndex);return d.c=p<i.length?i.substring(p,i.length):"",d.fp=u,(DD.test(i)||b)&&(d.e=0),this._pt=d,d},k1=function(t,e,n,i,s,l,u,d,p,g){ki(i)&&(i=i(s||0,t,l));var _=t[e],y=n!=="get"?n:ki(_)?p?t[e.indexOf("set")||!ki(t["get"+e.substr(3)])?e:"get"+e.substr(3)](p):t[e]():_,x=ki(_)?p?w9:c3:q1,M;if(Ga(i)&&(~i.indexOf("random(")&&(i=d_(i)),i.charAt(1)==="="&&(M=rm(y,i)+(ms(y)||0),(M||M===0)&&(i=M))),!g||y!==i||ME)return!isNaN(y*i)&&i!==""?(M=new gr(this._pt,t,e,+y||0,i-(y||0),typeof _=="boolean"?D9:f3,0,x),p&&(M.fp=p),u&&M.modifier(u,this,t),this._pt=M):(!_&&!(e in t)&&z1(e,i),b9.call(this,t,e,y,i,x,d||kr.stringFilter,p))},E9=function(t,e,n,i,s){if(ki(t)&&(t=k0(t,s,e,n,i)),!eu(t)||t.style&&t.nodeType||vs(t)||wD(t))return Ga(t)?k0(t,s,e,n,i):t;var l={},u;for(u in t)l[u]=k0(t[u],s,e,n,i);return l},o3=function(t,e,n,i,s,l){var u,d,p,g;if(Lr[t]&&(u=new Lr[t]).init(s,u.rawVars?e[t]:E9(e[t],i,s,l,n),n,i,l)!==!1&&(n._pt=d=new gr(n._pt,s,t,0,1,u.render,u,0,u.priority),n!==tm))for(p=n._ptLookup[n._targets.indexOf(s)],g=u._props.length;g--;)p[u._props[g]]=d;return u},af,ME,Y1=function r(t,e,n){var i=t.vars,s=i.ease,l=i.startAt,u=i.immediateRender,d=i.lazy,p=i.onUpdate,g=i.runBackwards,_=i.yoyoEase,y=i.keyframes,x=i.autoRevert,M=t._dur,T=t._startAt,E=t._targets,b=t.parent,w=b&&b.data==="nested"?b.vars.targets:E,D=t._overwrite==="auto"&&!L1,B=t.timeline,L,P,H,F,O,U,V,Q,et,rt,ut,G,q;if(B&&(!y||!s)&&(s="none"),t._ease=$h(s,Tm.ease),t._yEase=_?i3($h(_===!0?s:_,Tm.ease)):0,_&&t._yoyo&&!t._repeat&&(_=t._yEase,t._yEase=t._ease,t._ease=_),t._from=!B&&!!i.runBackwards,!B||y&&!i.stagger){if(Q=E[0]?Qh(E[0]).harness:0,G=Q&&i[Q.prop],L=TA(i,H1),T&&(T._zTime<0&&T.progress(1),e<0&&g&&u&&!x?T.render(-1,!0):T.revert(g&&M?bx:$V),T._lazy=0),l){if(_f(t._startAt=ua.set(E,Kr({data:"isStart",overwrite:!1,parent:b,immediateRender:!0,lazy:!T&&pr(d),startAt:null,delay:0,onUpdate:p&&function(){return Vr(t,"onUpdate")},stagger:0},l))),t._startAt._dp=0,t._startAt._sat=t,e<0&&($a||!u&&!x)&&t._startAt.revert(bx),u&&M&&e<=0&&n<=0){e&&(t._zTime=e);return}}else if(g&&M&&!T){if(e&&(u=!1),H=Kr({overwrite:!1,data:"isFromStart",lazy:u&&!T&&pr(d),immediateRender:u,stagger:0,parent:b},L),G&&(H[Q.prop]=G),_f(t._startAt=ua.set(E,H)),t._startAt._dp=0,t._startAt._sat=t,e<0&&($a?t._startAt.revert(bx):t._startAt.render(-1,!0)),t._zTime=e,!u)r(t._startAt,mi,mi);else if(!e)return}for(t._pt=t._ptCache=0,d=M&&pr(d)||d&&!M,P=0;P<E.length;P++){if(O=E[P],V=O._gsap||V1(E)[P]._gsap,t._ptLookup[P]=rt={},_E[V.id]&&cf.length&&EA(),ut=w===E?P:w.indexOf(O),Q&&(et=new Q).init(O,G||L,t,ut,w)!==!1&&(t._pt=F=new gr(t._pt,O,et.name,0,1,et.render,et,0,et.priority),et._props.forEach(function(K){rt[K]=F}),et.priority&&(U=1)),!Q||G)for(H in L)Lr[H]&&(et=o3(H,L,t,ut,O,w))?et.priority&&(U=1):rt[H]=F=k1.call(t,O,H,"get",L[H],ut,w,0,i.stringFilter);t._op&&t._op[P]&&t.kill(O,t._op[P]),D&&t._pt&&(af=t,Li.killTweensOf(O,rt,t.globalTime(e)),q=!t.parent,af=0),t._pt&&d&&(_E[V.id]=1)}U&&d3(t),t._onInit&&t._onInit(t)}t._onUpdate=p,t._initted=(!t._op||t._pt)&&!q,y&&e<=0&&B.render(xo,!0,!0)},T9=function(t,e,n,i,s,l,u,d){var p=(t._pt&&t._ptCache||(t._ptCache={}))[e],g,_,y,x;if(!p)for(p=t._ptCache[e]=[],y=t._ptLookup,x=t._targets.length;x--;){if(g=y[x][e],g&&g.d&&g.d._pt)for(g=g.d._pt;g&&g.p!==e&&g.fp!==e;)g=g._next;if(!g)return ME=1,t.vars[e]="+=0",Y1(t,u),ME=0,d?f_(e+" not eligible for reset"):1;p.push(g)}for(x=p.length;x--;)_=p[x],g=_._pt||_,g.s=(i||i===0)&&!s?i:g.s+(i||0)+l*g.c,g.c=n-g.s,_.e&&(_.e=Zi(n)+ms(_.e)),_.b&&(_.b=g.s+ms(_.b))},C9=function(t,e){var n=t[0]?Qh(t[0]).harness:0,i=n&&n.aliases,s,l,u,d;if(!i)return e;s=Cm({},e);for(l in i)if(l in s)for(d=i[l].split(","),u=d.length;u--;)s[d[u]]=s[l];return s},R9=function(t,e,n,i){var s=e.ease||i||"power1.inOut",l,u;if(vs(e))u=n[t]||(n[t]=[]),e.forEach(function(d,p){return u.push({t:p/(e.length-1)*100,v:d,e:s})});else for(l in e)u=n[l]||(n[l]=[]),l==="ease"||u.push({t:parseFloat(t),v:e[l],e:s})},k0=function(t,e,n,i,s){return ki(t)?t.call(e,n,i,s):Ga(t)&&~t.indexOf("random(")?d_(t):t},l3=G1+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",u3={};mr(l3+",id,stagger,delay,duration,paused,scrollTrigger",function(r){return u3[r]=1});var ua=function(r){CD(t,r);function t(n,i,s,l){var u;typeof i=="number"&&(s.duration=i,i=s,s=null),u=r.call(this,l?i:V0(i))||this;var d=u.vars,p=d.duration,g=d.delay,_=d.immediateRender,y=d.stagger,x=d.overwrite,M=d.keyframes,T=d.defaults,E=d.scrollTrigger,b=d.yoyoEase,w=i.parent||Li,D=(vs(n)||wD(n)?Qu(n[0]):"length"in i)?[n]:Ao(n),B,L,P,H,F,O,U,V;if(u._targets=D.length?V1(D):f_("GSAP target "+n+" not found. https://gsap.com",!kr.nullTargetWarn)||[],u._ptLookup=[],u._overwrite=x,M||y||sx(p)||sx(g)){if(i=u.vars,B=u.timeline=new qs({data:"nested",defaults:T||{},targets:w&&w.data==="nested"?w.vars.targets:D}),B.kill(),B.parent=B._dp=Lu(u),B._start=0,y||sx(p)||sx(g)){if(H=D.length,U=y&&JD(y),eu(y))for(F in y)~l3.indexOf(F)&&(V||(V={}),V[F]=y[F]);for(L=0;L<H;L++)P=TA(i,u3),P.stagger=0,b&&(P.yoyoEase=b),V&&Cm(P,V),O=D[L],P.duration=+k0(p,Lu(u),L,O,D),P.delay=(+k0(g,Lu(u),L,O,D)||0)-u._delay,!y&&H===1&&P.delay&&(u._delay=g=P.delay,u._start+=g,P.delay=0),B.to(O,P,U?U(L,O,D):0),B._ease=In.none;B.duration()?p=g=0:u.timeline=0}else if(M){V0(Kr(B.vars.defaults,{ease:"none"})),B._ease=$h(M.ease||i.ease||"none");var Q=0,et,rt,ut;if(vs(M))M.forEach(function(G){return B.to(D,G,">")}),B.duration();else{P={};for(F in M)F==="ease"||F==="easeEach"||R9(F,M[F],P,M.easeEach);for(F in P)for(et=P[F].sort(function(G,q){return G.t-q.t}),Q=0,L=0;L<et.length;L++)rt=et[L],ut={ease:rt.e,duration:(rt.t-(L?et[L-1].t:0))/100*p},ut[F]=rt.v,B.to(D,ut,Q),Q+=ut.duration;B.duration()<p&&B.to({},{duration:p-B.duration()})}}p||u.duration(p=B.duration())}else u.timeline=0;return x===!0&&!L1&&(af=Lu(u),Li.killTweensOf(D),af=0),ql(w,Lu(u),s),i.reversed&&u.reverse(),i.paused&&u.paused(!0),(_||!p&&!M&&u._start===ca(w._time)&&pr(_)&&s9(Lu(u))&&w.data!=="nested")&&(u._tTime=-mi,u.render(Math.max(0,-g)||0)),E&&XD(Lu(u),E),u}var e=t.prototype;return e.render=function(i,s,l){var u=this._time,d=this._tDur,p=this._dur,g=i<0,_=i>d-mi&&!g?d:i<mi?0:i,y,x,M,T,E,b,w,D,B;if(!p)o9(this,i,s,l);else if(_!==this._tTime||!i||l||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==g||this._lazy){if(y=_,D=this.timeline,this._repeat){if(T=p+this._rDelay,this._repeat<-1&&g)return this.totalTime(T*100+i,s,l);if(y=ca(_%T),_===d?(M=this._repeat,y=p):(E=ca(_/T),M=~~E,M&&M===E?(y=p,M--):y>p&&(y=p)),b=this._yoyo&&M&1,b&&(B=this._yEase,y=p-y),E=Rm(this._tTime,T),y===u&&!l&&this._initted&&M===E)return this._tTime=_,this;M!==E&&(D&&this._yEase&&a3(D,b),this.vars.repeatRefresh&&!b&&!this._lock&&y!==T&&this._initted&&(this._lock=l=1,this.render(ca(T*M),!0).invalidate()._lock=0))}if(!this._initted){if(kD(this,g?i:y,l,s,_))return this._tTime=0,this;if(u!==this._time&&!(l&&this.vars.repeatRefresh&&M!==E))return this;if(p!==this._dur)return this.render(i,s,l)}if(this._tTime=_,this._time=y,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=w=(B||this._ease)(y/p),this._from&&(this.ratio=w=1-w),!u&&_&&!s&&!E&&(Vr(this,"onStart"),this._tTime!==_))return this;for(x=this._pt;x;)x.r(w,x.d),x=x._next;D&&D.render(i<0?i:D._dur*D._ease(y/this._dur),s,l)||this._startAt&&(this._zTime=i),this._onUpdate&&!s&&(g&&vE(this,i,s,l),Vr(this,"onUpdate")),this._repeat&&M!==E&&this.vars.onRepeat&&!s&&this.parent&&Vr(this,"onRepeat"),(_===this._tDur||!_)&&this._tTime===_&&(g&&!this._onUpdate&&vE(this,i,!0,!0),(i||!p)&&(_===this._tDur&&this._ts>0||!_&&this._ts<0)&&_f(this,1),!s&&!(g&&!u)&&(_||u||b)&&(Vr(this,_===d?"onComplete":"onReverseComplete",!0),this._prom&&!(_<d&&this.timeScale()>0)&&this._prom()))}return this},e.targets=function(){return this._targets},e.invalidate=function(i){return(!i||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(i),r.prototype.invalidate.call(this,i)},e.resetTo=function(i,s,l,u,d){p_||Pr.wake(),this._ts||this.play();var p=Math.min(this._dur,(this._dp._time-this._start)*this._ts),g;return this._initted||Y1(this,p),g=this._ease(p/this._dur),T9(this,i,s,l,u,g,p,d)?this.resetTo(i,s,l,u,1):(yS(this,0),this.parent||GD(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},e.kill=function(i,s){if(s===void 0&&(s="all"),!i&&(!s||s==="all"))return this._lazy=this._pt=0,this.parent?b0(this):this.scrollTrigger&&this.scrollTrigger.kill(!!$a),this;if(this.timeline){var l=this.timeline.totalDuration();return this.timeline.killTweensOf(i,s,af&&af.vars.overwrite!==!0)._first||b0(this),this.parent&&l!==this.timeline.totalDuration()&&wm(this,this._dur*this.timeline._tDur/l,0,1),this}var u=this._targets,d=i?Ao(i):u,p=this._ptLookup,g=this._pt,_,y,x,M,T,E,b;if((!s||s==="all")&&i9(u,d))return s==="all"&&(this._pt=0),b0(this);for(_=this._op=this._op||[],s!=="all"&&(Ga(s)&&(T={},mr(s,function(w){return T[w]=1}),s=T),s=C9(u,s)),b=u.length;b--;)if(~d.indexOf(u[b])){y=p[b],s==="all"?(_[b]=s,M=y,x={}):(x=_[b]=_[b]||{},M=s);for(T in M)E=y&&y[T],E&&((!("kill"in E.d)||E.d.kill(T)===!0)&&_S(this,E,"_pt"),delete y[T]),x!=="all"&&(x[T]=1)}return this._initted&&!this._pt&&g&&b0(this),this},t.to=function(i,s){return new t(i,s,arguments[2])},t.from=function(i,s){return X0(1,arguments)},t.delayedCall=function(i,s,l,u){return new t(s,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:i,onComplete:s,onReverseComplete:s,onCompleteParams:l,onReverseCompleteParams:l,callbackScope:u})},t.fromTo=function(i,s,l){return X0(2,arguments)},t.set=function(i,s){return s.duration=0,s.repeatDelay||(s.repeat=0),new t(i,s)},t.killTweensOf=function(i,s,l){return Li.killTweensOf(i,s,l)},t}(m_);Kr(ua.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});mr("staggerTo,staggerFrom,staggerFromTo",function(r){ua[r]=function(){var t=new qs,e=xE.call(arguments,0);return e.splice(r==="staggerFromTo"?5:4,0,0),t[r].apply(t,e)}});var q1=function(t,e,n){return t[e]=n},c3=function(t,e,n){return t[e](n)},w9=function(t,e,n,i){return t[e](i.fp,n)},B9=function(t,e,n){return t.setAttribute(e,n)},J1=function(t,e){return ki(t[e])?c3:I1(t[e])&&t.setAttribute?B9:q1},f3=function(t,e){return e.set(e.t,e.p,Math.round((e.s+e.c*t)*1e6)/1e6,e)},D9=function(t,e){return e.set(e.t,e.p,!!(e.s+e.c*t),e)},h3=function(t,e){var n=e._pt,i="";if(!t&&e.b)i=e.b;else if(t===1&&e.e)i=e.e;else{for(;n;)i=n.p+(n.m?n.m(n.s+n.c*t):Math.round((n.s+n.c*t)*1e4)/1e4)+i,n=n._next;i+=e.c}e.set(e.t,e.p,i,e)},K1=function(t,e){for(var n=e._pt;n;)n.r(t,n.d),n=n._next},O9=function(t,e,n,i){for(var s=this._pt,l;s;)l=s._next,s.p===i&&s.modifier(t,e,n),s=l},U9=function(t){for(var e=this._pt,n,i;e;)i=e._next,e.p===t&&!e.op||e.op===t?_S(this,e,"_pt"):e.dep||(n=1),e=i;return!n},N9=function(t,e,n,i){i.mSet(t,e,i.m.call(i.tween,n,i.mt),i)},d3=function(t){for(var e=t._pt,n,i,s,l;e;){for(n=e._next,i=s;i&&i.pr>e.pr;)i=i._next;(e._prev=i?i._prev:l)?e._prev._next=e:s=e,(e._next=i)?i._prev=e:l=e,e=n}t._pt=s},gr=function(){function r(e,n,i,s,l,u,d,p,g){this.t=n,this.s=s,this.c=l,this.p=i,this.r=u||f3,this.d=d||this,this.set=p||q1,this.pr=g||0,this._next=e,e&&(e._prev=this)}var t=r.prototype;return t.modifier=function(n,i,s){this.mSet=this.mSet||this.set,this.set=N9,this.m=n,this.mt=s,this.tween=i},r}();mr(G1+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(r){return H1[r]=1});Jr.TweenMax=Jr.TweenLite=ua;Jr.TimelineLite=Jr.TimelineMax=qs;Li=new qs({sortChildren:!1,defaults:Tm,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});kr.stringFilter=n3;var td=[],Tx={},L9=[],S2=0,I9=0,Ub=function(t){return(Tx[t]||L9).map(function(e){return e()})},bE=function(){var t=Date.now(),e=[];t-S2>2&&(Ub("matchMediaInit"),td.forEach(function(n){var i=n.queries,s=n.conditions,l,u,d,p;for(u in i)l=kl.matchMedia(i[u]).matches,l&&(d=1),l!==s[u]&&(s[u]=l,p=1);p&&(n.revert(),d&&e.push(n))}),Ub("matchMediaRevert"),e.forEach(function(n){return n.onMatch(n,function(i){return n.add(null,i)})}),S2=t,Ub("matchMedia"))},p3=function(){function r(e,n){this.selector=n&&AE(n),this.data=[],this._r=[],this.isReverted=!1,this.id=I9++,e&&this.add(e)}var t=r.prototype;return t.add=function(n,i,s){ki(n)&&(s=i,i=n,n=ki);var l=this,u=function(){var p=Ri,g=l.selector,_;return p&&p!==l&&p.data.push(l),s&&(l.selector=AE(s)),Ri=l,_=i.apply(l,arguments),ki(_)&&l._r.push(_),Ri=p,l.selector=g,l.isReverted=!1,_};return l.last=u,n===ki?u(l,function(d){return l.add(null,d)}):n?l[n]=u:u},t.ignore=function(n){var i=Ri;Ri=null,n(this),Ri=i},t.getTweens=function(){var n=[];return this.data.forEach(function(i){return i instanceof r?n.push.apply(n,i.getTweens()):i instanceof ua&&!(i.parent&&i.parent.data==="nested")&&n.push(i)}),n},t.clear=function(){this._r.length=this.data.length=0},t.kill=function(n,i){var s=this;if(n?function(){for(var u=s.getTweens(),d=s.data.length,p;d--;)p=s.data[d],p.data==="isFlip"&&(p.revert(),p.getChildren(!0,!0,!1).forEach(function(g){return u.splice(u.indexOf(g),1)}));for(u.map(function(g){return{g:g._dur||g._delay||g._sat&&!g._sat.vars.immediateRender?g.globalTime(0):-1/0,t:g}}).sort(function(g,_){return _.g-g.g||-1/0}).forEach(function(g){return g.t.revert(n)}),d=s.data.length;d--;)p=s.data[d],p instanceof qs?p.data!=="nested"&&(p.scrollTrigger&&p.scrollTrigger.revert(),p.kill()):!(p instanceof ua)&&p.revert&&p.revert(n);s._r.forEach(function(g){return g(n,s)}),s.isReverted=!0}():this.data.forEach(function(u){return u.kill&&u.kill()}),this.clear(),i)for(var l=td.length;l--;)td[l].id===this.id&&td.splice(l,1)},t.revert=function(n){this.kill(n||{})},r}(),P9=function(){function r(e){this.contexts=[],this.scope=e,Ri&&Ri.data.push(this)}var t=r.prototype;return t.add=function(n,i,s){eu(n)||(n={matches:n});var l=new p3(0,s||this.scope),u=l.conditions={},d,p,g;Ri&&!l.selector&&(l.selector=Ri.selector),this.contexts.push(l),i=l.add("onMatch",i),l.queries=n;for(p in n)p==="all"?g=1:(d=kl.matchMedia(n[p]),d&&(td.indexOf(l)<0&&td.push(l),(u[p]=d.matches)&&(g=1),d.addListener?d.addListener(bE):d.addEventListener("change",bE)));return g&&i(l,function(_){return l.add(null,_)}),this},t.revert=function(n){this.kill(n||{})},t.kill=function(n){this.contexts.forEach(function(i){return i.kill(n,!0)})},r}(),RA={registerPlugin:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e.forEach(function(i){return $D(i)})},timeline:function(t){return new qs(t)},getTweensOf:function(t,e){return Li.getTweensOf(t,e)},getProperty:function(t,e,n,i){Ga(t)&&(t=Ao(t)[0]);var s=Qh(t||{}).get,l=n?HD:zD;return n==="native"&&(n=""),t&&(e?l((Lr[e]&&Lr[e].get||s)(t,e,n,i)):function(u,d,p){return l((Lr[u]&&Lr[u].get||s)(t,u,d,p))})},quickSetter:function(t,e,n){if(t=Ao(t),t.length>1){var i=t.map(function(g){return vr.quickSetter(g,e,n)}),s=i.length;return function(g){for(var _=s;_--;)i[_](g)}}t=t[0]||{};var l=Lr[e],u=Qh(t),d=u.harness&&(u.harness.aliases||{})[e]||e,p=l?function(g){var _=new l;tm._pt=0,_.init(t,n?g+n:g,tm,0,[t]),_.render(1,_),tm._pt&&K1(1,tm)}:u.set(t,d);return l?p:function(g){return p(t,d,n?g+n:g,u,1)}},quickTo:function(t,e,n){var i,s=vr.to(t,Kr((i={},i[e]="+=0.1",i.paused=!0,i.stagger=0,i),n||{})),l=function(d,p,g){return s.resetTo(e,d,p,g)};return l.tween=s,l},isTweening:function(t){return Li.getTweensOf(t,!0).length>0},defaults:function(t){return t&&t.ease&&(t.ease=$h(t.ease,Tm.ease)),_2(Tm,t||{})},config:function(t){return _2(kr,t||{})},registerEffect:function(t){var e=t.name,n=t.effect,i=t.plugins,s=t.defaults,l=t.extendTimeline;(i||"").split(",").forEach(function(u){return u&&!Lr[u]&&!Jr[u]&&f_(e+" effect requires "+u+" plugin.")}),wb[e]=function(u,d,p){return n(Ao(u),Kr(d||{},s),p)},l&&(qs.prototype[e]=function(u,d,p){return this.add(wb[e](u,eu(d)?d:(p=d)&&{},this),p)})},registerEase:function(t,e){In[t]=$h(e)},parseEase:function(t,e){return arguments.length?$h(t,e):In},getById:function(t){return Li.getById(t)},exportRoot:function(t,e){t===void 0&&(t={});var n=new qs(t),i,s;for(n.smoothChildTiming=pr(t.smoothChildTiming),Li.remove(n),n._dp=0,n._time=n._tTime=Li._time,i=Li._first;i;)s=i._next,(e||!(!i._dur&&i instanceof ua&&i.vars.onComplete===i._targets[0]))&&ql(n,i,i._start-i._delay),i=s;return ql(Li,n,0),n},context:function(t,e){return t?new p3(t,e):Ri},matchMedia:function(t){return new P9(t)},matchMediaRefresh:function(){return td.forEach(function(t){var e=t.conditions,n,i;for(i in e)e[i]&&(e[i]=!1,n=1);n&&t.revert()})||bE()},addEventListener:function(t,e){var n=Tx[t]||(Tx[t]=[]);~n.indexOf(e)||n.push(e)},removeEventListener:function(t,e){var n=Tx[t],i=n&&n.indexOf(e);i>=0&&n.splice(i,1)},utils:{wrap:m9,wrapYoyo:g9,distribute:JD,random:WD,snap:KD,normalize:p9,getUnit:ms,clamp:c9,splitColor:t3,toArray:Ao,selector:AE,mapRange:QD,pipe:h9,unitize:d9,interpolate:_9,shuffle:qD},install:ND,effects:wb,ticker:Pr,updateRoot:qs.updateRoot,plugins:Lr,globalTimeline:Li,core:{PropTween:gr,globals:LD,Tween:ua,Timeline:qs,Animation:m_,getCache:Qh,_removeLinkedListItem:_S,reverting:function(){return $a},context:function(t){return t&&Ri&&(Ri.data.push(t),t._ctx=Ri),Ri},suppressOverwrites:function(t){return L1=t}}};mr("to,from,fromTo,delayedCall,set,killTweensOf",function(r){return RA[r]=ua[r]});Pr.add(qs.updateRoot);tm=RA.to({},{duration:0});var F9=function(t,e){for(var n=t._pt;n&&n.p!==e&&n.op!==e&&n.fp!==e;)n=n._next;return n},z9=function(t,e){var n=t._targets,i,s,l;for(i in e)for(s=n.length;s--;)l=t._ptLookup[s][i],l&&(l=l.d)&&(l._pt&&(l=F9(l,i)),l&&l.modifier&&l.modifier(e[i],t,n[s],i))},Nb=function(t,e){return{name:t,headless:1,rawVars:1,init:function(i,s,l){l._onInit=function(u){var d,p;if(Ga(s)&&(d={},mr(s,function(g){return d[g]=1}),s=d),e){d={};for(p in s)d[p]=e(s[p]);s=d}z9(u,s)}}}},vr=RA.registerPlugin({name:"attr",init:function(t,e,n,i,s){var l,u,d;this.tween=n;for(l in e)d=t.getAttribute(l)||"",u=this.add(t,"setAttribute",(d||0)+"",e[l],i,s,0,0,l),u.op=l,u.b=d,this._props.push(l)},render:function(t,e){for(var n=e._pt;n;)$a?n.set(n.t,n.p,n.b,n):n.r(t,n.d),n=n._next}},{name:"endArray",headless:1,init:function(t,e){for(var n=e.length;n--;)this.add(t,n,t[n]||0,e[n],0,0,0,0,0,1)}},Nb("roundProps",SE),Nb("modifiers"),Nb("snap",KD))||RA;ua.version=qs.version=vr.version="3.13.0";UD=1;P1()&&Bm();In.Power0;In.Power1;In.Power2;In.Power3;In.Power4;In.Linear;In.Quad;In.Cubic;In.Quart;In.Quint;In.Strong;In.Elastic;In.Back;In.SteppedEase;In.Bounce;In.Sine;In.Expo;In.Circ;/*!
 * CSSPlugin 3.13.0
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var M2,sf,om,W1,qh,b2,j1,H9=function(){return typeof window<"u"},Zu={},Ih=180/Math.PI,lm=Math.PI/180,qp=Math.atan2,E2=1e8,Q1=/([A-Z])/g,G9=/(left|right|width|margin|padding|x)/i,V9=/[\s,\(]\S/,Kl={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},EE=function(t,e){return e.set(e.t,e.p,Math.round((e.s+e.c*t)*1e4)/1e4+e.u,e)},X9=function(t,e){return e.set(e.t,e.p,t===1?e.e:Math.round((e.s+e.c*t)*1e4)/1e4+e.u,e)},k9=function(t,e){return e.set(e.t,e.p,t?Math.round((e.s+e.c*t)*1e4)/1e4+e.u:e.b,e)},Y9=function(t,e){var n=e.s+e.c*t;e.set(e.t,e.p,~~(n+(n<0?-.5:.5))+e.u,e)},m3=function(t,e){return e.set(e.t,e.p,t?e.e:e.b,e)},g3=function(t,e){return e.set(e.t,e.p,t!==1?e.b:e.e,e)},q9=function(t,e,n){return t.style[e]=n},J9=function(t,e,n){return t.style.setProperty(e,n)},K9=function(t,e,n){return t._gsap[e]=n},W9=function(t,e,n){return t._gsap.scaleX=t._gsap.scaleY=n},j9=function(t,e,n,i,s){var l=t._gsap;l.scaleX=l.scaleY=n,l.renderTransform(s,l)},Q9=function(t,e,n,i,s){var l=t._gsap;l[e]=n,l.renderTransform(s,l)},Pi="transform",_r=Pi+"Origin",Z9=function r(t,e){var n=this,i=this.target,s=i.style,l=i._gsap;if(t in Zu&&s){if(this.tfm=this.tfm||{},t!=="transform")t=Kl[t]||t,~t.indexOf(",")?t.split(",").forEach(function(u){return n.tfm[u]=Pu(i,u)}):this.tfm[t]=l.x?l[t]:Pu(i,t),t===_r&&(this.tfm.zOrigin=l.zOrigin);else return Kl.transform.split(",").forEach(function(u){return r.call(n,u,e)});if(this.props.indexOf(Pi)>=0)return;l.svg&&(this.svgo=i.getAttribute("data-svg-origin"),this.props.push(_r,e,"")),t=Pi}(s||e)&&this.props.push(t,e,s[t])},_3=function(t){t.translate&&(t.removeProperty("translate"),t.removeProperty("scale"),t.removeProperty("rotate"))},$9=function(){var t=this.props,e=this.target,n=e.style,i=e._gsap,s,l;for(s=0;s<t.length;s+=3)t[s+1]?t[s+1]===2?e[t[s]](t[s+2]):e[t[s]]=t[s+2]:t[s+2]?n[t[s]]=t[s+2]:n.removeProperty(t[s].substr(0,2)==="--"?t[s]:t[s].replace(Q1,"-$1").toLowerCase());if(this.tfm){for(l in this.tfm)i[l]=this.tfm[l];i.svg&&(i.renderTransform(),e.setAttribute("data-svg-origin",this.svgo||"")),s=j1(),(!s||!s.isStart)&&!n[Pi]&&(_3(n),i.zOrigin&&n[_r]&&(n[_r]+=" "+i.zOrigin+"px",i.zOrigin=0,i.renderTransform()),i.uncache=1)}},v3=function(t,e){var n={target:t,props:[],revert:$9,save:Z9};return t._gsap||vr.core.getCache(t),e&&t.style&&t.nodeType&&e.split(",").forEach(function(i){return n.save(i)}),n},y3,TE=function(t,e){var n=sf.createElementNS?sf.createElementNS((e||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),t):sf.createElement(t);return n&&n.style?n:sf.createElement(t)},So=function r(t,e,n){var i=getComputedStyle(t);return i[e]||i.getPropertyValue(e.replace(Q1,"-$1").toLowerCase())||i.getPropertyValue(e)||!n&&r(t,Dm(e)||e,1)||""},T2="O,Moz,ms,Ms,Webkit".split(","),Dm=function(t,e,n){var i=e||qh,s=i.style,l=5;if(t in s&&!n)return t;for(t=t.charAt(0).toUpperCase()+t.substr(1);l--&&!(T2[l]+t in s););return l<0?null:(l===3?"ms":l>=0?T2[l]:"")+t},CE=function(){H9()&&window.document&&(M2=window,sf=M2.document,om=sf.documentElement,qh=TE("div")||{style:{}},TE("div"),Pi=Dm(Pi),_r=Pi+"Origin",qh.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",y3=!!Dm("perspective"),j1=vr.core.reverting,W1=1)},C2=function(t){var e=t.ownerSVGElement,n=TE("svg",e&&e.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=t.cloneNode(!0),s;i.style.display="block",n.appendChild(i),om.appendChild(n);try{s=i.getBBox()}catch{}return n.removeChild(i),om.removeChild(n),s},R2=function(t,e){for(var n=e.length;n--;)if(t.hasAttribute(e[n]))return t.getAttribute(e[n])},x3=function(t){var e,n;try{e=t.getBBox()}catch{e=C2(t),n=1}return e&&(e.width||e.height)||n||(e=C2(t)),e&&!e.width&&!e.x&&!e.y?{x:+R2(t,["x","cx","x1"])||0,y:+R2(t,["y","cy","y1"])||0,width:0,height:0}:e},A3=function(t){return!!(t.getCTM&&(!t.parentNode||t.ownerSVGElement)&&x3(t))},fd=function(t,e){if(e){var n=t.style,i;e in Zu&&e!==_r&&(e=Pi),n.removeProperty?(i=e.substr(0,2),(i==="ms"||e.substr(0,6)==="webkit")&&(e="-"+e),n.removeProperty(i==="--"?e:e.replace(Q1,"-$1").toLowerCase())):n.removeAttribute(e)}},rf=function(t,e,n,i,s,l){var u=new gr(t._pt,e,n,0,1,l?g3:m3);return t._pt=u,u.b=i,u.e=s,t._props.push(n),u},w2={deg:1,rad:1,turn:1},t8={grid:1,flex:1},vf=function r(t,e,n,i){var s=parseFloat(n)||0,l=(n+"").trim().substr((s+"").length)||"px",u=qh.style,d=G9.test(e),p=t.tagName.toLowerCase()==="svg",g=(p?"client":"offset")+(d?"Width":"Height"),_=100,y=i==="px",x=i==="%",M,T,E,b;if(i===l||!s||w2[i]||w2[l])return s;if(l!=="px"&&!y&&(s=r(t,e,n,"px")),b=t.getCTM&&A3(t),(x||l==="%")&&(Zu[e]||~e.indexOf("adius")))return M=b?t.getBBox()[d?"width":"height"]:t[g],Zi(x?s/M*_:s/100*M);if(u[d?"width":"height"]=_+(y?l:i),T=i!=="rem"&&~e.indexOf("adius")||i==="em"&&t.appendChild&&!p?t:t.parentNode,b&&(T=(t.ownerSVGElement||{}).parentNode),(!T||T===sf||!T.appendChild)&&(T=sf.body),E=T._gsap,E&&x&&E.width&&d&&E.time===Pr.time&&!E.uncache)return Zi(s/E.width*_);if(x&&(e==="height"||e==="width")){var w=t.style[e];t.style[e]=_+i,M=t[g],w?t.style[e]=w:fd(t,e)}else(x||l==="%")&&!t8[So(T,"display")]&&(u.position=So(t,"position")),T===t&&(u.position="static"),T.appendChild(qh),M=qh[g],T.removeChild(qh),u.position="absolute";return d&&x&&(E=Qh(T),E.time=Pr.time,E.width=T[g]),Zi(y?M*s/_:M&&s?_/M*s:0)},Pu=function(t,e,n,i){var s;return W1||CE(),e in Kl&&e!=="transform"&&(e=Kl[e],~e.indexOf(",")&&(e=e.split(",")[0])),Zu[e]&&e!=="transform"?(s=__(t,i),s=e!=="transformOrigin"?s[e]:s.svg?s.origin:BA(So(t,_r))+" "+s.zOrigin+"px"):(s=t.style[e],(!s||s==="auto"||i||~(s+"").indexOf("calc("))&&(s=wA[e]&&wA[e](t,e,n)||So(t,e)||PD(t,e)||(e==="opacity"?1:0))),n&&!~(s+"").trim().indexOf(" ")?vf(t,e,s,n)+n:s},e8=function(t,e,n,i){if(!n||n==="none"){var s=Dm(e,t,1),l=s&&So(t,s,1);l&&l!==n?(e=s,n=l):e==="borderColor"&&(n=So(t,"borderTopColor"))}var u=new gr(this._pt,t.style,e,0,1,h3),d=0,p=0,g,_,y,x,M,T,E,b,w,D,B,L;if(u.b=n,u.e=i,n+="",i+="",i.substring(0,6)==="var(--"&&(i=So(t,i.substring(4,i.indexOf(")")))),i==="auto"&&(T=t.style[e],t.style[e]=i,i=So(t,e)||i,T?t.style[e]=T:fd(t,e)),g=[n,i],n3(g),n=g[0],i=g[1],y=n.match($p)||[],L=i.match($p)||[],L.length){for(;_=$p.exec(i);)E=_[0],w=i.substring(d,_.index),M?M=(M+1)%5:(w.substr(-5)==="rgba("||w.substr(-5)==="hsla(")&&(M=1),E!==(T=y[p++]||"")&&(x=parseFloat(T)||0,B=T.substr((x+"").length),E.charAt(1)==="="&&(E=rm(x,E)+B),b=parseFloat(E),D=E.substr((b+"").length),d=$p.lastIndex-D.length,D||(D=D||kr.units[e]||B,d===i.length&&(i+=D,u.e+=D)),B!==D&&(x=vf(t,e,T,D)||0),u._pt={_next:u._pt,p:w||p===1?w:",",s:x,c:b-x,m:M&&M<4||e==="zIndex"?Math.round:0});u.c=d<i.length?i.substring(d,i.length):""}else u.r=e==="display"&&i==="none"?g3:m3;return DD.test(i)&&(u.e=0),this._pt=u,u},B2={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},n8=function(t){var e=t.split(" "),n=e[0],i=e[1]||"50%";return(n==="top"||n==="bottom"||i==="left"||i==="right")&&(t=n,n=i,i=t),e[0]=B2[n]||n,e[1]=B2[i]||i,e.join(" ")},i8=function(t,e){if(e.tween&&e.tween._time===e.tween._dur){var n=e.t,i=n.style,s=e.u,l=n._gsap,u,d,p;if(s==="all"||s===!0)i.cssText="",d=1;else for(s=s.split(","),p=s.length;--p>-1;)u=s[p],Zu[u]&&(d=1,u=u==="transformOrigin"?_r:Pi),fd(n,u);d&&(fd(n,Pi),l&&(l.svg&&n.removeAttribute("transform"),i.scale=i.rotate=i.translate="none",__(n,1),l.uncache=1,_3(i)))}},wA={clearProps:function(t,e,n,i,s){if(s.data!=="isFromStart"){var l=t._pt=new gr(t._pt,e,n,0,0,i8);return l.u=i,l.pr=-10,l.tween=s,t._props.push(n),1}}},g_=[1,0,0,1,0,0],S3={},M3=function(t){return t==="matrix(1, 0, 0, 1, 0, 0)"||t==="none"||!t},D2=function(t){var e=So(t,Pi);return M3(e)?g_:e.substr(7).match(BD).map(Zi)},Z1=function(t,e){var n=t._gsap||Qh(t),i=t.style,s=D2(t),l,u,d,p;return n.svg&&t.getAttribute("transform")?(d=t.transform.baseVal.consolidate().matrix,s=[d.a,d.b,d.c,d.d,d.e,d.f],s.join(",")==="1,0,0,1,0,0"?g_:s):(s===g_&&!t.offsetParent&&t!==om&&!n.svg&&(d=i.display,i.display="block",l=t.parentNode,(!l||!t.offsetParent&&!t.getBoundingClientRect().width)&&(p=1,u=t.nextElementSibling,om.appendChild(t)),s=D2(t),d?i.display=d:fd(t,"display"),p&&(u?l.insertBefore(t,u):l?l.appendChild(t):om.removeChild(t))),e&&s.length>6?[s[0],s[1],s[4],s[5],s[12],s[13]]:s)},RE=function(t,e,n,i,s,l){var u=t._gsap,d=s||Z1(t,!0),p=u.xOrigin||0,g=u.yOrigin||0,_=u.xOffset||0,y=u.yOffset||0,x=d[0],M=d[1],T=d[2],E=d[3],b=d[4],w=d[5],D=e.split(" "),B=parseFloat(D[0])||0,L=parseFloat(D[1])||0,P,H,F,O;n?d!==g_&&(H=x*E-M*T)&&(F=B*(E/H)+L*(-T/H)+(T*w-E*b)/H,O=B*(-M/H)+L*(x/H)-(x*w-M*b)/H,B=F,L=O):(P=x3(t),B=P.x+(~D[0].indexOf("%")?B/100*P.width:B),L=P.y+(~(D[1]||D[0]).indexOf("%")?L/100*P.height:L)),i||i!==!1&&u.smooth?(b=B-p,w=L-g,u.xOffset=_+(b*x+w*T)-b,u.yOffset=y+(b*M+w*E)-w):u.xOffset=u.yOffset=0,u.xOrigin=B,u.yOrigin=L,u.smooth=!!i,u.origin=e,u.originIsAbsolute=!!n,t.style[_r]="0px 0px",l&&(rf(l,u,"xOrigin",p,B),rf(l,u,"yOrigin",g,L),rf(l,u,"xOffset",_,u.xOffset),rf(l,u,"yOffset",y,u.yOffset)),t.setAttribute("data-svg-origin",B+" "+L)},__=function(t,e){var n=t._gsap||new r3(t);if("x"in n&&!e&&!n.uncache)return n;var i=t.style,s=n.scaleX<0,l="px",u="deg",d=getComputedStyle(t),p=So(t,_r)||"0",g,_,y,x,M,T,E,b,w,D,B,L,P,H,F,O,U,V,Q,et,rt,ut,G,q,K,lt,I,nt,gt,bt,St,ft;return g=_=y=T=E=b=w=D=B=0,x=M=1,n.svg=!!(t.getCTM&&A3(t)),d.translate&&((d.translate!=="none"||d.scale!=="none"||d.rotate!=="none")&&(i[Pi]=(d.translate!=="none"?"translate3d("+(d.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(d.rotate!=="none"?"rotate("+d.rotate+") ":"")+(d.scale!=="none"?"scale("+d.scale.split(" ").join(",")+") ":"")+(d[Pi]!=="none"?d[Pi]:"")),i.scale=i.rotate=i.translate="none"),H=Z1(t,n.svg),n.svg&&(n.uncache?(K=t.getBBox(),p=n.xOrigin-K.x+"px "+(n.yOrigin-K.y)+"px",q=""):q=!e&&t.getAttribute("data-svg-origin"),RE(t,q||p,!!q||n.originIsAbsolute,n.smooth!==!1,H)),L=n.xOrigin||0,P=n.yOrigin||0,H!==g_&&(V=H[0],Q=H[1],et=H[2],rt=H[3],g=ut=H[4],_=G=H[5],H.length===6?(x=Math.sqrt(V*V+Q*Q),M=Math.sqrt(rt*rt+et*et),T=V||Q?qp(Q,V)*Ih:0,w=et||rt?qp(et,rt)*Ih+T:0,w&&(M*=Math.abs(Math.cos(w*lm))),n.svg&&(g-=L-(L*V+P*et),_-=P-(L*Q+P*rt))):(ft=H[6],bt=H[7],I=H[8],nt=H[9],gt=H[10],St=H[11],g=H[12],_=H[13],y=H[14],F=qp(ft,gt),E=F*Ih,F&&(O=Math.cos(-F),U=Math.sin(-F),q=ut*O+I*U,K=G*O+nt*U,lt=ft*O+gt*U,I=ut*-U+I*O,nt=G*-U+nt*O,gt=ft*-U+gt*O,St=bt*-U+St*O,ut=q,G=K,ft=lt),F=qp(-et,gt),b=F*Ih,F&&(O=Math.cos(-F),U=Math.sin(-F),q=V*O-I*U,K=Q*O-nt*U,lt=et*O-gt*U,St=rt*U+St*O,V=q,Q=K,et=lt),F=qp(Q,V),T=F*Ih,F&&(O=Math.cos(F),U=Math.sin(F),q=V*O+Q*U,K=ut*O+G*U,Q=Q*O-V*U,G=G*O-ut*U,V=q,ut=K),E&&Math.abs(E)+Math.abs(T)>359.9&&(E=T=0,b=180-b),x=Zi(Math.sqrt(V*V+Q*Q+et*et)),M=Zi(Math.sqrt(G*G+ft*ft)),F=qp(ut,G),w=Math.abs(F)>2e-4?F*Ih:0,B=St?1/(St<0?-St:St):0),n.svg&&(q=t.getAttribute("transform"),n.forceCSS=t.setAttribute("transform","")||!M3(So(t,Pi)),q&&t.setAttribute("transform",q))),Math.abs(w)>90&&Math.abs(w)<270&&(s?(x*=-1,w+=T<=0?180:-180,T+=T<=0?180:-180):(M*=-1,w+=w<=0?180:-180)),e=e||n.uncache,n.x=g-((n.xPercent=g&&(!e&&n.xPercent||(Math.round(t.offsetWidth/2)===Math.round(-g)?-50:0)))?t.offsetWidth*n.xPercent/100:0)+l,n.y=_-((n.yPercent=_&&(!e&&n.yPercent||(Math.round(t.offsetHeight/2)===Math.round(-_)?-50:0)))?t.offsetHeight*n.yPercent/100:0)+l,n.z=y+l,n.scaleX=Zi(x),n.scaleY=Zi(M),n.rotation=Zi(T)+u,n.rotationX=Zi(E)+u,n.rotationY=Zi(b)+u,n.skewX=w+u,n.skewY=D+u,n.transformPerspective=B+l,(n.zOrigin=parseFloat(p.split(" ")[2])||!e&&n.zOrigin||0)&&(i[_r]=BA(p)),n.xOffset=n.yOffset=0,n.force3D=kr.force3D,n.renderTransform=n.svg?s8:y3?b3:a8,n.uncache=0,n},BA=function(t){return(t=t.split(" "))[0]+" "+t[1]},Lb=function(t,e,n){var i=ms(e);return Zi(parseFloat(e)+parseFloat(vf(t,"x",n+"px",i)))+i},a8=function(t,e){e.z="0px",e.rotationY=e.rotationX="0deg",e.force3D=0,b3(t,e)},Bh="0deg",_0="0px",Dh=") ",b3=function(t,e){var n=e||this,i=n.xPercent,s=n.yPercent,l=n.x,u=n.y,d=n.z,p=n.rotation,g=n.rotationY,_=n.rotationX,y=n.skewX,x=n.skewY,M=n.scaleX,T=n.scaleY,E=n.transformPerspective,b=n.force3D,w=n.target,D=n.zOrigin,B="",L=b==="auto"&&t&&t!==1||b===!0;if(D&&(_!==Bh||g!==Bh)){var P=parseFloat(g)*lm,H=Math.sin(P),F=Math.cos(P),O;P=parseFloat(_)*lm,O=Math.cos(P),l=Lb(w,l,H*O*-D),u=Lb(w,u,-Math.sin(P)*-D),d=Lb(w,d,F*O*-D+D)}E!==_0&&(B+="perspective("+E+Dh),(i||s)&&(B+="translate("+i+"%, "+s+"%) "),(L||l!==_0||u!==_0||d!==_0)&&(B+=d!==_0||L?"translate3d("+l+", "+u+", "+d+") ":"translate("+l+", "+u+Dh),p!==Bh&&(B+="rotate("+p+Dh),g!==Bh&&(B+="rotateY("+g+Dh),_!==Bh&&(B+="rotateX("+_+Dh),(y!==Bh||x!==Bh)&&(B+="skew("+y+", "+x+Dh),(M!==1||T!==1)&&(B+="scale("+M+", "+T+Dh),w.style[Pi]=B||"translate(0, 0)"},s8=function(t,e){var n=e||this,i=n.xPercent,s=n.yPercent,l=n.x,u=n.y,d=n.rotation,p=n.skewX,g=n.skewY,_=n.scaleX,y=n.scaleY,x=n.target,M=n.xOrigin,T=n.yOrigin,E=n.xOffset,b=n.yOffset,w=n.forceCSS,D=parseFloat(l),B=parseFloat(u),L,P,H,F,O;d=parseFloat(d),p=parseFloat(p),g=parseFloat(g),g&&(g=parseFloat(g),p+=g,d+=g),d||p?(d*=lm,p*=lm,L=Math.cos(d)*_,P=Math.sin(d)*_,H=Math.sin(d-p)*-y,F=Math.cos(d-p)*y,p&&(g*=lm,O=Math.tan(p-g),O=Math.sqrt(1+O*O),H*=O,F*=O,g&&(O=Math.tan(g),O=Math.sqrt(1+O*O),L*=O,P*=O)),L=Zi(L),P=Zi(P),H=Zi(H),F=Zi(F)):(L=_,F=y,P=H=0),(D&&!~(l+"").indexOf("px")||B&&!~(u+"").indexOf("px"))&&(D=vf(x,"x",l,"px"),B=vf(x,"y",u,"px")),(M||T||E||b)&&(D=Zi(D+M-(M*L+T*H)+E),B=Zi(B+T-(M*P+T*F)+b)),(i||s)&&(O=x.getBBox(),D=Zi(D+i/100*O.width),B=Zi(B+s/100*O.height)),O="matrix("+L+","+P+","+H+","+F+","+D+","+B+")",x.setAttribute("transform",O),w&&(x.style[Pi]=O)},r8=function(t,e,n,i,s){var l=360,u=Ga(s),d=parseFloat(s)*(u&&~s.indexOf("rad")?Ih:1),p=d-i,g=i+p+"deg",_,y;return u&&(_=s.split("_")[1],_==="short"&&(p%=l,p!==p%(l/2)&&(p+=p<0?l:-l)),_==="cw"&&p<0?p=(p+l*E2)%l-~~(p/l)*l:_==="ccw"&&p>0&&(p=(p-l*E2)%l-~~(p/l)*l)),t._pt=y=new gr(t._pt,e,n,i,p,X9),y.e=g,y.u="deg",t._props.push(n),y},O2=function(t,e){for(var n in e)t[n]=e[n];return t},o8=function(t,e,n){var i=O2({},n._gsap),s="perspective,force3D,transformOrigin,svgOrigin",l=n.style,u,d,p,g,_,y,x,M;i.svg?(p=n.getAttribute("transform"),n.setAttribute("transform",""),l[Pi]=e,u=__(n,1),fd(n,Pi),n.setAttribute("transform",p)):(p=getComputedStyle(n)[Pi],l[Pi]=e,u=__(n,1),l[Pi]=p);for(d in Zu)p=i[d],g=u[d],p!==g&&s.indexOf(d)<0&&(x=ms(p),M=ms(g),_=x!==M?vf(n,d,p,M):parseFloat(p),y=parseFloat(g),t._pt=new gr(t._pt,u,d,_,y-_,EE),t._pt.u=M||0,t._props.push(d));O2(u,i)};mr("padding,margin,Width,Radius",function(r,t){var e="Top",n="Right",i="Bottom",s="Left",l=(t<3?[e,n,i,s]:[e+s,e+n,i+n,i+s]).map(function(u){return t<2?r+u:"border"+u+r});wA[t>1?"border"+r:r]=function(u,d,p,g,_){var y,x;if(arguments.length<4)return y=l.map(function(M){return Pu(u,M,p)}),x=y.join(" "),x.split(y[0]).length===5?y[0]:x;y=(g+"").split(" "),x={},l.forEach(function(M,T){return x[M]=y[T]=y[T]||y[(T-1)/2|0]}),u.init(d,x,_)}});var E3={name:"css",register:CE,targetTest:function(t){return t.style&&t.nodeType},init:function(t,e,n,i,s){var l=this._props,u=t.style,d=n.vars.startAt,p,g,_,y,x,M,T,E,b,w,D,B,L,P,H,F;W1||CE(),this.styles=this.styles||v3(t),F=this.styles.props,this.tween=n;for(T in e)if(T!=="autoRound"&&(g=e[T],!(Lr[T]&&o3(T,e,n,i,t,s)))){if(x=typeof g,M=wA[T],x==="function"&&(g=g.call(n,i,t,s),x=typeof g),x==="string"&&~g.indexOf("random(")&&(g=d_(g)),M)M(this,t,T,g,n)&&(H=1);else if(T.substr(0,2)==="--")p=(getComputedStyle(t).getPropertyValue(T)+"").trim(),g+="",ff.lastIndex=0,ff.test(p)||(E=ms(p),b=ms(g)),b?E!==b&&(p=vf(t,T,p,b)+b):E&&(g+=E),this.add(u,"setProperty",p,g,i,s,0,0,T),l.push(T),F.push(T,0,u[T]);else if(x!=="undefined"){if(d&&T in d?(p=typeof d[T]=="function"?d[T].call(n,i,t,s):d[T],Ga(p)&&~p.indexOf("random(")&&(p=d_(p)),ms(p+"")||p==="auto"||(p+=kr.units[T]||ms(Pu(t,T))||""),(p+"").charAt(1)==="="&&(p=Pu(t,T))):p=Pu(t,T),y=parseFloat(p),w=x==="string"&&g.charAt(1)==="="&&g.substr(0,2),w&&(g=g.substr(2)),_=parseFloat(g),T in Kl&&(T==="autoAlpha"&&(y===1&&Pu(t,"visibility")==="hidden"&&_&&(y=0),F.push("visibility",0,u.visibility),rf(this,u,"visibility",y?"inherit":"hidden",_?"inherit":"hidden",!_)),T!=="scale"&&T!=="transform"&&(T=Kl[T],~T.indexOf(",")&&(T=T.split(",")[0]))),D=T in Zu,D){if(this.styles.save(T),x==="string"&&g.substring(0,6)==="var(--"&&(g=So(t,g.substring(4,g.indexOf(")"))),_=parseFloat(g)),B||(L=t._gsap,L.renderTransform&&!e.parseTransform||__(t,e.parseTransform),P=e.smoothOrigin!==!1&&L.smooth,B=this._pt=new gr(this._pt,u,Pi,0,1,L.renderTransform,L,0,-1),B.dep=1),T==="scale")this._pt=new gr(this._pt,L,"scaleY",L.scaleY,(w?rm(L.scaleY,w+_):_)-L.scaleY||0,EE),this._pt.u=0,l.push("scaleY",T),T+="X";else if(T==="transformOrigin"){F.push(_r,0,u[_r]),g=n8(g),L.svg?RE(t,g,0,P,0,this):(b=parseFloat(g.split(" ")[2])||0,b!==L.zOrigin&&rf(this,L,"zOrigin",L.zOrigin,b),rf(this,u,T,BA(p),BA(g)));continue}else if(T==="svgOrigin"){RE(t,g,1,P,0,this);continue}else if(T in S3){r8(this,L,T,y,w?rm(y,w+g):g);continue}else if(T==="smoothOrigin"){rf(this,L,"smooth",L.smooth,g);continue}else if(T==="force3D"){L[T]=g;continue}else if(T==="transform"){o8(this,g,t);continue}}else T in u||(T=Dm(T)||T);if(D||(_||_===0)&&(y||y===0)&&!V9.test(g)&&T in u)E=(p+"").substr((y+"").length),_||(_=0),b=ms(g)||(T in kr.units?kr.units[T]:E),E!==b&&(y=vf(t,T,p,b)),this._pt=new gr(this._pt,D?L:u,T,y,(w?rm(y,w+_):_)-y,!D&&(b==="px"||T==="zIndex")&&e.autoRound!==!1?Y9:EE),this._pt.u=b||0,E!==b&&b!=="%"&&(this._pt.b=p,this._pt.r=k9);else if(T in u)e8.call(this,t,T,p,w?w+g:g);else if(T in t)this.add(t,T,p||t[T],w?w+g:g,i,s);else if(T!=="parseTransform"){z1(T,g);continue}D||(T in u?F.push(T,0,u[T]):typeof t[T]=="function"?F.push(T,2,t[T]()):F.push(T,1,p||t[T])),l.push(T)}}H&&d3(this)},render:function(t,e){if(e.tween._time||!j1())for(var n=e._pt;n;)n.r(t,n.d),n=n._next;else e.styles.revert()},get:Pu,aliases:Kl,getSetter:function(t,e,n){var i=Kl[e];return i&&i.indexOf(",")<0&&(e=i),e in Zu&&e!==_r&&(t._gsap.x||Pu(t,"x"))?n&&b2===n?e==="scale"?W9:K9:(b2=n||{})&&(e==="scale"?j9:Q9):t.style&&!I1(t.style[e])?q9:~e.indexOf("-")?J9:J1(t,e)},core:{_removeProperty:fd,_getMatrix:Z1}};vr.utils.checkPrefix=Dm;vr.core.getStyleSaver=v3;(function(r,t,e,n){var i=mr(r+","+t+","+e,function(s){Zu[s]=1});mr(t,function(s){kr.units[s]="deg",S3[s]=1}),Kl[i[13]]=r+","+t,mr(n,function(s){var l=s.split(":");Kl[l[1]]=i[l[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");mr("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(r){kr.units[r]="px"});vr.registerPlugin(E3);var Om=vr.registerPlugin(E3)||vr;Om.core.Tween;/*!
 * @gsap/react 2.1.2
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/let U2=typeof document<"u"?xe.useLayoutEffect:xe.useEffect,N2=r=>r&&!Array.isArray(r)&&typeof r=="object",rx=[],l8={},T3=Om;const xS=(r,t=rx)=>{let e=l8;N2(r)?(e=r,r=null,t="dependencies"in e?e.dependencies:rx):N2(t)&&(e=t,t="dependencies"in e?e.dependencies:rx),r&&typeof r!="function"&&console.warn("First parameter must be a function or config object");const{scope:n,revertOnUpdate:i}=e,s=xe.useRef(!1),l=xe.useRef(T3.context(()=>{},n)),u=xe.useRef(p=>l.current.add(null,p)),d=t&&t.length&&!i;return d&&U2(()=>(s.current=!0,()=>l.current.revert()),rx),U2(()=>{if(r&&l.current.add(r,n),!d||!s.current)return()=>l.current.revert()},t),{context:l.current,contextSafe:u.current}};xS.register=r=>{T3=r};xS.headless=!0;function u8(r,t){for(var e=0;e<t.length;e++){var n=t[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function c8(r,t,e){return t&&u8(r.prototype,t),r}/*!
 * Observer 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var Qa,Cx,Fr,of,lf,um,C3,Ph,Y0,R3,Vu,tl,w3,B3=function(){return Qa||typeof window<"u"&&(Qa=window.gsap)&&Qa.registerPlugin&&Qa},D3=1,em=[],En=[],Zl=[],q0=Date.now,wE=function(t,e){return e},f8=function(){var t=Y0.core,e=t.bridge||{},n=t._scrollers,i=t._proxies;n.push.apply(n,En),i.push.apply(i,Zl),En=n,Zl=i,wE=function(l,u){return e[l](u)}},hf=function(t,e){return~Zl.indexOf(t)&&Zl[Zl.indexOf(t)+1][e]},J0=function(t){return!!~R3.indexOf(t)},Fs=function(t,e,n,i,s){return t.addEventListener(e,n,{passive:i!==!1,capture:!!s})},Ps=function(t,e,n,i){return t.removeEventListener(e,n,!!i)},ox="scrollLeft",lx="scrollTop",BE=function(){return Vu&&Vu.isPressed||En.cache++},DA=function(t,e){var n=function i(s){if(s||s===0){D3&&(Fr.history.scrollRestoration="manual");var l=Vu&&Vu.isPressed;s=i.v=Math.round(s)||(Vu&&Vu.iOS?1:0),t(s),i.cacheID=En.cache,l&&wE("ss",s)}else(e||En.cache!==i.cacheID||wE("ref"))&&(i.cacheID=En.cache,i.v=t());return i.v+i.offset};return n.offset=0,t&&n},Js={s:ox,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:DA(function(r){return arguments.length?Fr.scrollTo(r,Ea.sc()):Fr.pageXOffset||of[ox]||lf[ox]||um[ox]||0})},Ea={s:lx,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:Js,sc:DA(function(r){return arguments.length?Fr.scrollTo(Js.sc(),r):Fr.pageYOffset||of[lx]||lf[lx]||um[lx]||0})},fr=function(t,e){return(e&&e._ctx&&e._ctx.selector||Qa.utils.toArray)(t)[0]||(typeof t=="string"&&Qa.config().nullTargetWarn!==!1?console.warn("Element not found:",t):null)},h8=function(t,e){for(var n=e.length;n--;)if(e[n]===t||e[n].contains(t))return!0;return!1},yf=function(t,e){var n=e.s,i=e.sc;J0(t)&&(t=of.scrollingElement||lf);var s=En.indexOf(t),l=i===Ea.sc?1:2;!~s&&(s=En.push(t)-1),En[s+l]||Fs(t,"scroll",BE);var u=En[s+l],d=u||(En[s+l]=DA(hf(t,n),!0)||(J0(t)?i:DA(function(p){return arguments.length?t[n]=p:t[n]})));return d.target=t,u||(d.smooth=Qa.getProperty(t,"scrollBehavior")==="smooth"),d},DE=function(t,e,n){var i=t,s=t,l=q0(),u=l,d=e||50,p=Math.max(500,d*3),g=function(M,T){var E=q0();T||E-l>d?(s=i,i=M,u=l,l=E):n?i+=M:i=s+(M-s)/(E-u)*(l-u)},_=function(){s=i=n?0:i,u=l=0},y=function(M){var T=u,E=s,b=q0();return(M||M===0)&&M!==i&&g(M),l===u||b-u>p?0:(i+(n?E:-E))/((n?b:l)-T)*1e3};return{update:g,reset:_,getVelocity:y}},v0=function(t,e){return e&&!t._gsapAllow&&t.preventDefault(),t.changedTouches?t.changedTouches[0]:t},L2=function(t){var e=Math.max.apply(Math,t),n=Math.min.apply(Math,t);return Math.abs(e)>=Math.abs(n)?e:n},O3=function(){Y0=Qa.core.globals().ScrollTrigger,Y0&&Y0.core&&f8()},U3=function(t){return Qa=t||B3(),!Cx&&Qa&&typeof document<"u"&&document.body&&(Fr=window,of=document,lf=of.documentElement,um=of.body,R3=[Fr,of,lf,um],Qa.utils.clamp,w3=Qa.core.context||function(){},Ph="onpointerenter"in um?"pointer":"mouse",C3=ea.isTouch=Fr.matchMedia&&Fr.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in Fr||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,tl=ea.eventTypes=("ontouchstart"in lf?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in lf?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout(function(){return D3=0},500),O3(),Cx=1),Cx};Js.op=Ea;En.cache=0;var ea=function(){function r(e){this.init(e)}var t=r.prototype;return t.init=function(n){Cx||U3(Qa)||console.warn("Please gsap.registerPlugin(Observer)"),Y0||O3();var i=n.tolerance,s=n.dragMinimum,l=n.type,u=n.target,d=n.lineHeight,p=n.debounce,g=n.preventDefault,_=n.onStop,y=n.onStopDelay,x=n.ignore,M=n.wheelSpeed,T=n.event,E=n.onDragStart,b=n.onDragEnd,w=n.onDrag,D=n.onPress,B=n.onRelease,L=n.onRight,P=n.onLeft,H=n.onUp,F=n.onDown,O=n.onChangeX,U=n.onChangeY,V=n.onChange,Q=n.onToggleX,et=n.onToggleY,rt=n.onHover,ut=n.onHoverEnd,G=n.onMove,q=n.ignoreCheck,K=n.isNormalizer,lt=n.onGestureStart,I=n.onGestureEnd,nt=n.onWheel,gt=n.onEnable,bt=n.onDisable,St=n.onClick,ft=n.scrollSpeed,Mt=n.capture,Lt=n.allowClicks,Yt=n.lockAxis,$t=n.onLockAxis;this.target=u=fr(u)||lf,this.vars=n,x&&(x=Qa.utils.toArray(x)),i=i||1e-9,s=s||0,M=M||1,ft=ft||1,l=l||"wheel,touch,pointer",p=p!==!1,d||(d=parseFloat(Fr.getComputedStyle(um).lineHeight)||22);var Me,Pe,_e,Z,Ut,Ot,Gt,tt=this,Zt=0,Xt=0,jt=n.passive||!g&&n.passive!==!1,de=yf(u,Js),Ne=yf(u,Ea),j=de(),X=Ne(),pt=~l.indexOf("touch")&&!~l.indexOf("pointer")&&tl[0]==="pointerdown",wt=J0(u),Nt=u.ownerDocument||of,Ct=[0,0,0],re=[0,0,0],te=0,ve=function(){return te=q0()},le=function(Ee,Le){return(tt.event=Ee)&&x&&h8(Ee.target,x)||Le&&pt&&Ee.pointerType!=="touch"||q&&q(Ee,Le)},qt=function(){tt._vx.reset(),tt._vy.reset(),Pe.pause(),_&&_(tt)},ee=function(){var Ee=tt.deltaX=L2(Ct),Le=tt.deltaY=L2(re),ie=Math.abs(Ee)>=i,Te=Math.abs(Le)>=i;V&&(ie||Te)&&V(tt,Ee,Le,Ct,re),ie&&(L&&tt.deltaX>0&&L(tt),P&&tt.deltaX<0&&P(tt),O&&O(tt),Q&&tt.deltaX<0!=Zt<0&&Q(tt),Zt=tt.deltaX,Ct[0]=Ct[1]=Ct[2]=0),Te&&(F&&tt.deltaY>0&&F(tt),H&&tt.deltaY<0&&H(tt),U&&U(tt),et&&tt.deltaY<0!=Xt<0&&et(tt),Xt=tt.deltaY,re[0]=re[1]=re[2]=0),(Z||_e)&&(G&&G(tt),_e&&(E&&_e===1&&E(tt),w&&w(tt),_e=0),Z=!1),Ot&&!(Ot=!1)&&$t&&$t(tt),Ut&&(nt(tt),Ut=!1),Me=0},Ae=function(Ee,Le,ie){Ct[ie]+=Ee,re[ie]+=Le,tt._vx.update(Ee),tt._vy.update(Le),p?Me||(Me=requestAnimationFrame(ee)):ee()},it=function(Ee,Le){Yt&&!Gt&&(tt.axis=Gt=Math.abs(Ee)>Math.abs(Le)?"x":"y",Ot=!0),Gt!=="y"&&(Ct[2]+=Ee,tt._vx.update(Ee,!0)),Gt!=="x"&&(re[2]+=Le,tt._vy.update(Le,!0)),p?Me||(Me=requestAnimationFrame(ee)):ee()},vt=function(Ee){if(!le(Ee,1)){Ee=v0(Ee,g);var Le=Ee.clientX,ie=Ee.clientY,Te=Le-tt.x,Re=ie-tt.y,Ie=tt.isDragging;tt.x=Le,tt.y=ie,(Ie||(Te||Re)&&(Math.abs(tt.startX-Le)>=s||Math.abs(tt.startY-ie)>=s))&&(_e=Ie?2:1,Ie||(tt.isDragging=!0),it(Te,Re))}},Qt=tt.onPress=function(ue){le(ue,1)||ue&&ue.button||(tt.axis=Gt=null,Pe.pause(),tt.isPressed=!0,ue=v0(ue),Zt=Xt=0,tt.startX=tt.x=ue.clientX,tt.startY=tt.y=ue.clientY,tt._vx.reset(),tt._vy.reset(),Fs(K?u:Nt,tl[1],vt,jt,!0),tt.deltaX=tt.deltaY=0,D&&D(tt))},$=tt.onRelease=function(ue){if(!le(ue,1)){Ps(K?u:Nt,tl[1],vt,!0);var Ee=!isNaN(tt.y-tt.startY),Le=tt.isDragging,ie=Le&&(Math.abs(tt.x-tt.startX)>3||Math.abs(tt.y-tt.startY)>3),Te=v0(ue);!ie&&Ee&&(tt._vx.reset(),tt._vy.reset(),g&&Lt&&Qa.delayedCall(.08,function(){if(q0()-te>300&&!ue.defaultPrevented){if(ue.target.click)ue.target.click();else if(Nt.createEvent){var Re=Nt.createEvent("MouseEvents");Re.initMouseEvent("click",!0,!0,Fr,1,Te.screenX,Te.screenY,Te.clientX,Te.clientY,!1,!1,!1,!1,0,null),ue.target.dispatchEvent(Re)}}})),tt.isDragging=tt.isGesturing=tt.isPressed=!1,_&&Le&&!K&&Pe.restart(!0),_e&&ee(),b&&Le&&b(tt),B&&B(tt,ie)}},zt=function(Ee){return Ee.touches&&Ee.touches.length>1&&(tt.isGesturing=!0)&&lt(Ee,tt.isDragging)},Wt=function(){return(tt.isGesturing=!1)||I(tt)},se=function(Ee){if(!le(Ee)){var Le=de(),ie=Ne();Ae((Le-j)*ft,(ie-X)*ft,1),j=Le,X=ie,_&&Pe.restart(!0)}},Kt=function(Ee){if(!le(Ee)){Ee=v0(Ee,g),nt&&(Ut=!0);var Le=(Ee.deltaMode===1?d:Ee.deltaMode===2?Fr.innerHeight:1)*M;Ae(Ee.deltaX*Le,Ee.deltaY*Le,0),_&&!K&&Pe.restart(!0)}},It=function(Ee){if(!le(Ee)){var Le=Ee.clientX,ie=Ee.clientY,Te=Le-tt.x,Re=ie-tt.y;tt.x=Le,tt.y=ie,Z=!0,_&&Pe.restart(!0),(Te||Re)&&it(Te,Re)}},ce=function(Ee){tt.event=Ee,rt(tt)},be=function(Ee){tt.event=Ee,ut(tt)},$e=function(Ee){return le(Ee)||v0(Ee,g)&&St(tt)};Pe=tt._dc=Qa.delayedCall(y||.25,qt).pause(),tt.deltaX=tt.deltaY=0,tt._vx=DE(0,50,!0),tt._vy=DE(0,50,!0),tt.scrollX=de,tt.scrollY=Ne,tt.isDragging=tt.isGesturing=tt.isPressed=!1,w3(this),tt.enable=function(ue){return tt.isEnabled||(Fs(wt?Nt:u,"scroll",BE),l.indexOf("scroll")>=0&&Fs(wt?Nt:u,"scroll",se,jt,Mt),l.indexOf("wheel")>=0&&Fs(u,"wheel",Kt,jt,Mt),(l.indexOf("touch")>=0&&C3||l.indexOf("pointer")>=0)&&(Fs(u,tl[0],Qt,jt,Mt),Fs(Nt,tl[2],$),Fs(Nt,tl[3],$),Lt&&Fs(u,"click",ve,!0,!0),St&&Fs(u,"click",$e),lt&&Fs(Nt,"gesturestart",zt),I&&Fs(Nt,"gestureend",Wt),rt&&Fs(u,Ph+"enter",ce),ut&&Fs(u,Ph+"leave",be),G&&Fs(u,Ph+"move",It)),tt.isEnabled=!0,tt.isDragging=tt.isGesturing=tt.isPressed=Z=_e=!1,tt._vx.reset(),tt._vy.reset(),j=de(),X=Ne(),ue&&ue.type&&Qt(ue),gt&&gt(tt)),tt},tt.disable=function(){tt.isEnabled&&(em.filter(function(ue){return ue!==tt&&J0(ue.target)}).length||Ps(wt?Nt:u,"scroll",BE),tt.isPressed&&(tt._vx.reset(),tt._vy.reset(),Ps(K?u:Nt,tl[1],vt,!0)),Ps(wt?Nt:u,"scroll",se,Mt),Ps(u,"wheel",Kt,Mt),Ps(u,tl[0],Qt,Mt),Ps(Nt,tl[2],$),Ps(Nt,tl[3],$),Ps(u,"click",ve,!0),Ps(u,"click",$e),Ps(Nt,"gesturestart",zt),Ps(Nt,"gestureend",Wt),Ps(u,Ph+"enter",ce),Ps(u,Ph+"leave",be),Ps(u,Ph+"move",It),tt.isEnabled=tt.isPressed=tt.isDragging=!1,bt&&bt(tt))},tt.kill=tt.revert=function(){tt.disable();var ue=em.indexOf(tt);ue>=0&&em.splice(ue,1),Vu===tt&&(Vu=0)},em.push(tt),K&&J0(u)&&(Vu=tt),tt.enable(T)},c8(r,[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}]),r}();ea.version="3.13.0";ea.create=function(r){return new ea(r)};ea.register=U3;ea.getAll=function(){return em.slice()};ea.getById=function(r){return em.filter(function(t){return t.vars.id===r})[0]};B3()&&Qa.registerPlugin(ea);/*!
 * ScrollTrigger 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var we,Wp,bn,yi,Ir,$n,$1,OA,v_,K0,T0,ux,hs,AS,OE,Vs,I2,P2,jp,N3,Ib,L3,Gs,UE,I3,P3,$c,NE,tT,cm,eT,UA,LE,Pb,cx=1,ds=Date.now,Fb=ds(),Mo=0,C0=0,F2=function(t,e,n){var i=Nr(t)&&(t.substr(0,6)==="clamp("||t.indexOf("max")>-1);return n["_"+e+"Clamp"]=i,i?t.substr(6,t.length-7):t},z2=function(t,e){return e&&(!Nr(t)||t.substr(0,6)!=="clamp(")?"clamp("+t+")":t},d8=function r(){return C0&&requestAnimationFrame(r)},H2=function(){return AS=1},G2=function(){return AS=0},Yl=function(t){return t},R0=function(t){return Math.round(t*1e5)/1e5||0},F3=function(){return typeof window<"u"},z3=function(){return we||F3()&&(we=window.gsap)&&we.registerPlugin&&we},hd=function(t){return!!~$1.indexOf(t)},H3=function(t){return(t==="Height"?eT:bn["inner"+t])||Ir["client"+t]||$n["client"+t]},G3=function(t){return hf(t,"getBoundingClientRect")||(hd(t)?function(){return Ox.width=bn.innerWidth,Ox.height=eT,Ox}:function(){return Hu(t)})},p8=function(t,e,n){var i=n.d,s=n.d2,l=n.a;return(l=hf(t,"getBoundingClientRect"))?function(){return l()[i]}:function(){return(e?H3(s):t["client"+s])||0}},m8=function(t,e){return!e||~Zl.indexOf(t)?G3(t):function(){return Ox}},Wl=function(t,e){var n=e.s,i=e.d2,s=e.d,l=e.a;return Math.max(0,(n="scroll"+i)&&(l=hf(t,n))?l()-G3(t)()[s]:hd(t)?(Ir[n]||$n[n])-H3(i):t[n]-t["offset"+i])},fx=function(t,e){for(var n=0;n<jp.length;n+=3)(!e||~e.indexOf(jp[n+1]))&&t(jp[n],jp[n+1],jp[n+2])},Nr=function(t){return typeof t=="string"},gs=function(t){return typeof t=="function"},w0=function(t){return typeof t=="number"},Fh=function(t){return typeof t=="object"},y0=function(t,e,n){return t&&t.progress(e?0:1)&&n&&t.pause()},zb=function(t,e){if(t.enabled){var n=t._ctx?t._ctx.add(function(){return e(t)}):e(t);n&&n.totalTime&&(t.callbackAnimation=n)}},Jp=Math.abs,V3="left",X3="top",nT="right",iT="bottom",ed="width",nd="height",W0="Right",j0="Left",Q0="Top",Z0="Bottom",la="padding",_o="margin",Um="Width",aT="Height",ba="px",vo=function(t){return bn.getComputedStyle(t)},g8=function(t){var e=vo(t).position;t.style.position=e==="absolute"||e==="fixed"?e:"relative"},V2=function(t,e){for(var n in e)n in t||(t[n]=e[n]);return t},Hu=function(t,e){var n=e&&vo(t)[OE]!=="matrix(1, 0, 0, 1, 0, 0)"&&we.to(t,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),i=t.getBoundingClientRect();return n&&n.progress(0).kill(),i},NA=function(t,e){var n=e.d2;return t["offset"+n]||t["client"+n]||0},k3=function(t){var e=[],n=t.labels,i=t.duration(),s;for(s in n)e.push(n[s]/i);return e},_8=function(t){return function(e){return we.utils.snap(k3(t),e)}},sT=function(t){var e=we.utils.snap(t),n=Array.isArray(t)&&t.slice(0).sort(function(i,s){return i-s});return n?function(i,s,l){l===void 0&&(l=.001);var u;if(!s)return e(i);if(s>0){for(i-=l,u=0;u<n.length;u++)if(n[u]>=i)return n[u];return n[u-1]}else for(u=n.length,i+=l;u--;)if(n[u]<=i)return n[u];return n[0]}:function(i,s,l){l===void 0&&(l=.001);var u=e(i);return!s||Math.abs(u-i)<l||u-i<0==s<0?u:e(s<0?i-t:i+t)}},v8=function(t){return function(e,n){return sT(k3(t))(e,n.direction)}},hx=function(t,e,n,i){return n.split(",").forEach(function(s){return t(e,s,i)})},Pa=function(t,e,n,i,s){return t.addEventListener(e,n,{passive:!i,capture:!!s})},Ia=function(t,e,n,i){return t.removeEventListener(e,n,!!i)},dx=function(t,e,n){n=n&&n.wheelHandler,n&&(t(e,"wheel",n),t(e,"touchmove",n))},X2={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},px={toggleActions:"play",anticipatePin:0},LA={top:0,left:0,center:.5,bottom:1,right:1},Rx=function(t,e){if(Nr(t)){var n=t.indexOf("="),i=~n?+(t.charAt(n-1)+1)*parseFloat(t.substr(n+1)):0;~n&&(t.indexOf("%")>n&&(i*=e/100),t=t.substr(0,n-1)),t=i+(t in LA?LA[t]*e:~t.indexOf("%")?parseFloat(t)*e/100:parseFloat(t)||0)}return t},mx=function(t,e,n,i,s,l,u,d){var p=s.startColor,g=s.endColor,_=s.fontSize,y=s.indent,x=s.fontWeight,M=yi.createElement("div"),T=hd(n)||hf(n,"pinType")==="fixed",E=t.indexOf("scroller")!==-1,b=T?$n:n,w=t.indexOf("start")!==-1,D=w?p:g,B="border-color:"+D+";font-size:"+_+";color:"+D+";font-weight:"+x+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return B+="position:"+((E||d)&&T?"fixed;":"absolute;"),(E||d||!T)&&(B+=(i===Ea?nT:iT)+":"+(l+parseFloat(y))+"px;"),u&&(B+="box-sizing:border-box;text-align:left;width:"+u.offsetWidth+"px;"),M._isStart=w,M.setAttribute("class","gsap-marker-"+t+(e?" marker-"+e:"")),M.style.cssText=B,M.innerText=e||e===0?t+"-"+e:t,b.children[0]?b.insertBefore(M,b.children[0]):b.appendChild(M),M._offset=M["offset"+i.op.d2],wx(M,0,i,w),M},wx=function(t,e,n,i){var s={display:"block"},l=n[i?"os2":"p2"],u=n[i?"p2":"os2"];t._isFlipped=i,s[n.a+"Percent"]=i?-100:0,s[n.a]=i?"1px":0,s["border"+l+Um]=1,s["border"+u+Um]=0,s[n.p]=e+"px",we.set(t,s)},xn=[],IE={},y_,k2=function(){return ds()-Mo>34&&(y_||(y_=requestAnimationFrame(Ju)))},Kp=function(){(!Gs||!Gs.isPressed||Gs.startX>$n.clientWidth)&&(En.cache++,Gs?y_||(y_=requestAnimationFrame(Ju)):Ju(),Mo||pd("scrollStart"),Mo=ds())},Hb=function(){P3=bn.innerWidth,I3=bn.innerHeight},B0=function(t){En.cache++,(t===!0||!hs&&!L3&&!yi.fullscreenElement&&!yi.webkitFullscreenElement&&(!UE||P3!==bn.innerWidth||Math.abs(bn.innerHeight-I3)>bn.innerHeight*.25))&&OA.restart(!0)},dd={},y8=[],Y3=function r(){return Ia(wn,"scrollEnd",r)||Jh(!0)},pd=function(t){return dd[t]&&dd[t].map(function(e){return e()})||y8},Ur=[],q3=function(t){for(var e=0;e<Ur.length;e+=5)(!t||Ur[e+4]&&Ur[e+4].query===t)&&(Ur[e].style.cssText=Ur[e+1],Ur[e].getBBox&&Ur[e].setAttribute("transform",Ur[e+2]||""),Ur[e+3].uncache=1)},rT=function(t,e){var n;for(Vs=0;Vs<xn.length;Vs++)n=xn[Vs],n&&(!e||n._ctx===e)&&(t?n.kill(1):n.revert(!0,!0));UA=!0,e&&q3(e),e||pd("revert")},J3=function(t,e){En.cache++,(e||!Xs)&&En.forEach(function(n){return gs(n)&&n.cacheID++&&(n.rec=0)}),Nr(t)&&(bn.history.scrollRestoration=tT=t)},Xs,id=0,Y2,x8=function(){if(Y2!==id){var t=Y2=id;requestAnimationFrame(function(){return t===id&&Jh(!0)})}},K3=function(){$n.appendChild(cm),eT=!Gs&&cm.offsetHeight||bn.innerHeight,$n.removeChild(cm)},q2=function(t){return v_(".gsap-marker-start, .gsap-marker-end, .gsap-marker-scroller-start, .gsap-marker-scroller-end").forEach(function(e){return e.style.display=t?"none":"block"})},Jh=function(t,e){if(Ir=yi.documentElement,$n=yi.body,$1=[bn,yi,Ir,$n],Mo&&!t&&!UA){Pa(wn,"scrollEnd",Y3);return}K3(),Xs=wn.isRefreshing=!0,En.forEach(function(i){return gs(i)&&++i.cacheID&&(i.rec=i())});var n=pd("refreshInit");N3&&wn.sort(),e||rT(),En.forEach(function(i){gs(i)&&(i.smooth&&(i.target.style.scrollBehavior="auto"),i(0))}),xn.slice(0).forEach(function(i){return i.refresh()}),UA=!1,xn.forEach(function(i){if(i._subPinOffset&&i.pin){var s=i.vars.horizontal?"offsetWidth":"offsetHeight",l=i.pin[s];i.revert(!0,1),i.adjustPinSpacing(i.pin[s]-l),i.refresh()}}),LE=1,q2(!0),xn.forEach(function(i){var s=Wl(i.scroller,i._dir),l=i.vars.end==="max"||i._endClamp&&i.end>s,u=i._startClamp&&i.start>=s;(l||u)&&i.setPositions(u?s-1:i.start,l?Math.max(u?s:i.start+1,s):i.end,!0)}),q2(!1),LE=0,n.forEach(function(i){return i&&i.render&&i.render(-1)}),En.forEach(function(i){gs(i)&&(i.smooth&&requestAnimationFrame(function(){return i.target.style.scrollBehavior="smooth"}),i.rec&&i(i.rec))}),J3(tT,1),OA.pause(),id++,Xs=2,Ju(2),xn.forEach(function(i){return gs(i.vars.onRefresh)&&i.vars.onRefresh(i)}),Xs=wn.isRefreshing=!1,pd("refresh")},PE=0,Bx=1,$0,Ju=function(t){if(t===2||!Xs&&!UA){wn.isUpdating=!0,$0&&$0.update(0);var e=xn.length,n=ds(),i=n-Fb>=50,s=e&&xn[0].scroll();if(Bx=PE>s?-1:1,Xs||(PE=s),i&&(Mo&&!AS&&n-Mo>200&&(Mo=0,pd("scrollEnd")),T0=Fb,Fb=n),Bx<0){for(Vs=e;Vs-- >0;)xn[Vs]&&xn[Vs].update(0,i);Bx=1}else for(Vs=0;Vs<e;Vs++)xn[Vs]&&xn[Vs].update(0,i);wn.isUpdating=!1}y_=0},FE=[V3,X3,iT,nT,_o+Z0,_o+W0,_o+Q0,_o+j0,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],Dx=FE.concat([ed,nd,"boxSizing","max"+Um,"max"+aT,"position",_o,la,la+Q0,la+W0,la+Z0,la+j0]),A8=function(t,e,n){fm(n);var i=t._gsap;if(i.spacerIsNative)fm(i.spacerState);else if(t._gsap.swappedIn){var s=e.parentNode;s&&(s.insertBefore(t,e),s.removeChild(e))}t._gsap.swappedIn=!1},Gb=function(t,e,n,i){if(!t._gsap.swappedIn){for(var s=FE.length,l=e.style,u=t.style,d;s--;)d=FE[s],l[d]=n[d];l.position=n.position==="absolute"?"absolute":"relative",n.display==="inline"&&(l.display="inline-block"),u[iT]=u[nT]="auto",l.flexBasis=n.flexBasis||"auto",l.overflow="visible",l.boxSizing="border-box",l[ed]=NA(t,Js)+ba,l[nd]=NA(t,Ea)+ba,l[la]=u[_o]=u[X3]=u[V3]="0",fm(i),u[ed]=u["max"+Um]=n[ed],u[nd]=u["max"+aT]=n[nd],u[la]=n[la],t.parentNode!==e&&(t.parentNode.insertBefore(e,t),e.appendChild(t)),t._gsap.swappedIn=!0}},S8=/([A-Z])/g,fm=function(t){if(t){var e=t.t.style,n=t.length,i=0,s,l;for((t.t._gsap||we.core.getCache(t.t)).uncache=1;i<n;i+=2)l=t[i+1],s=t[i],l?e[s]=l:e[s]&&e.removeProperty(s.replace(S8,"-$1").toLowerCase())}},gx=function(t){for(var e=Dx.length,n=t.style,i=[],s=0;s<e;s++)i.push(Dx[s],n[Dx[s]]);return i.t=t,i},M8=function(t,e,n){for(var i=[],s=t.length,l=n?8:0,u;l<s;l+=2)u=t[l],i.push(u,u in e?e[u]:t[l+1]);return i.t=t.t,i},Ox={left:0,top:0},J2=function(t,e,n,i,s,l,u,d,p,g,_,y,x,M){gs(t)&&(t=t(d)),Nr(t)&&t.substr(0,3)==="max"&&(t=y+(t.charAt(4)==="="?Rx("0"+t.substr(3),n):0));var T=x?x.time():0,E,b,w;if(x&&x.seek(0),isNaN(t)||(t=+t),w0(t))x&&(t=we.utils.mapRange(x.scrollTrigger.start,x.scrollTrigger.end,0,y,t)),u&&wx(u,n,i,!0);else{gs(e)&&(e=e(d));var D=(t||"0").split(" "),B,L,P,H;w=fr(e,d)||$n,B=Hu(w)||{},(!B||!B.left&&!B.top)&&vo(w).display==="none"&&(H=w.style.display,w.style.display="block",B=Hu(w),H?w.style.display=H:w.style.removeProperty("display")),L=Rx(D[0],B[i.d]),P=Rx(D[1]||"0",n),t=B[i.p]-p[i.p]-g+L+s-P,u&&wx(u,P,i,n-P<20||u._isStart&&P>20),n-=n-P}if(M&&(d[M]=t||-.001,t<0&&(t=0)),l){var F=t+n,O=l._isStart;E="scroll"+i.d2,wx(l,F,i,O&&F>20||!O&&(_?Math.max($n[E],Ir[E]):l.parentNode[E])<=F+1),_&&(p=Hu(u),_&&(l.style[i.op.p]=p[i.op.p]-i.op.m-l._offset+ba))}return x&&w&&(E=Hu(w),x.seek(y),b=Hu(w),x._caScrollDist=E[i.p]-b[i.p],t=t/x._caScrollDist*y),x&&x.seek(T),x?t:Math.round(t)},b8=/(webkit|moz|length|cssText|inset)/i,K2=function(t,e,n,i){if(t.parentNode!==e){var s=t.style,l,u;if(e===$n){t._stOrig=s.cssText,u=vo(t);for(l in u)!+l&&!b8.test(l)&&u[l]&&typeof s[l]=="string"&&l!=="0"&&(s[l]=u[l]);s.top=n,s.left=i}else s.cssText=t._stOrig;we.core.getCache(t).uncache=1,e.appendChild(t)}},W3=function(t,e,n){var i=e,s=i;return function(l){var u=Math.round(t());return u!==i&&u!==s&&Math.abs(u-i)>3&&Math.abs(u-s)>3&&(l=u,n&&n()),s=i,i=Math.round(l),i}},_x=function(t,e,n){var i={};i[e.p]="+="+n,we.set(t,i)},W2=function(t,e){var n=yf(t,e),i="_scroll"+e.p2,s=function l(u,d,p,g,_){var y=l.tween,x=d.onComplete,M={};p=p||n();var T=W3(n,p,function(){y.kill(),l.tween=0});return _=g&&_||0,g=g||u-p,y&&y.kill(),d[i]=u,d.inherit=!1,d.modifiers=M,M[i]=function(){return T(p+g*y.ratio+_*y.ratio*y.ratio)},d.onUpdate=function(){En.cache++,l.tween&&Ju()},d.onComplete=function(){l.tween=0,x&&x.call(y)},y=l.tween=we.to(t,d),y};return t[i]=n,n.wheelHandler=function(){return s.tween&&s.tween.kill()&&(s.tween=0)},Pa(t,"wheel",n.wheelHandler),wn.isTouch&&Pa(t,"touchmove",n.wheelHandler),s},wn=function(){function r(e,n){Wp||r.register(we)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),NE(this),this.init(e,n)}var t=r.prototype;return t.init=function(n,i){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),!C0){this.update=this.refresh=this.kill=Yl;return}n=V2(Nr(n)||w0(n)||n.nodeType?{trigger:n}:n,px);var s=n,l=s.onUpdate,u=s.toggleClass,d=s.id,p=s.onToggle,g=s.onRefresh,_=s.scrub,y=s.trigger,x=s.pin,M=s.pinSpacing,T=s.invalidateOnRefresh,E=s.anticipatePin,b=s.onScrubComplete,w=s.onSnapComplete,D=s.once,B=s.snap,L=s.pinReparent,P=s.pinSpacer,H=s.containerAnimation,F=s.fastScrollEnd,O=s.preventOverlaps,U=n.horizontal||n.containerAnimation&&n.horizontal!==!1?Js:Ea,V=!_&&_!==0,Q=fr(n.scroller||bn),et=we.core.getCache(Q),rt=hd(Q),ut=("pinType"in n?n.pinType:hf(Q,"pinType")||rt&&"fixed")==="fixed",G=[n.onEnter,n.onLeave,n.onEnterBack,n.onLeaveBack],q=V&&n.toggleActions.split(" "),K="markers"in n?n.markers:px.markers,lt=rt?0:parseFloat(vo(Q)["border"+U.p2+Um])||0,I=this,nt=n.onRefreshInit&&function(){return n.onRefreshInit(I)},gt=p8(Q,rt,U),bt=m8(Q,rt),St=0,ft=0,Mt=0,Lt=yf(Q,U),Yt,$t,Me,Pe,_e,Z,Ut,Ot,Gt,tt,Zt,Xt,jt,de,Ne,j,X,pt,wt,Nt,Ct,re,te,ve,le,qt,ee,Ae,it,vt,Qt,$,zt,Wt,se,Kt,It,ce,be;if(I._startClamp=I._endClamp=!1,I._dir=U,E*=45,I.scroller=Q,I.scroll=H?H.time.bind(H):Lt,Pe=Lt(),I.vars=n,i=i||n.animation,"refreshPriority"in n&&(N3=1,n.refreshPriority===-9999&&($0=I)),et.tweenScroll=et.tweenScroll||{top:W2(Q,Ea),left:W2(Q,Js)},I.tweenTo=Yt=et.tweenScroll[U.p],I.scrubDuration=function(ie){zt=w0(ie)&&ie,zt?$?$.duration(ie):$=we.to(i,{ease:"expo",totalProgress:"+=0",inherit:!1,duration:zt,paused:!0,onComplete:function(){return b&&b(I)}}):($&&$.progress(1).kill(),$=0)},i&&(i.vars.lazy=!1,i._initted&&!I.isReverted||i.vars.immediateRender!==!1&&n.immediateRender!==!1&&i.duration()&&i.render(0,!0,!0),I.animation=i.pause(),i.scrollTrigger=I,I.scrubDuration(_),vt=0,d||(d=i.vars.id)),B&&((!Fh(B)||B.push)&&(B={snapTo:B}),"scrollBehavior"in $n.style&&we.set(rt?[$n,Ir]:Q,{scrollBehavior:"auto"}),En.forEach(function(ie){return gs(ie)&&ie.target===(rt?yi.scrollingElement||Ir:Q)&&(ie.smooth=!1)}),Me=gs(B.snapTo)?B.snapTo:B.snapTo==="labels"?_8(i):B.snapTo==="labelsDirectional"?v8(i):B.directional!==!1?function(ie,Te){return sT(B.snapTo)(ie,ds()-ft<500?0:Te.direction)}:we.utils.snap(B.snapTo),Wt=B.duration||{min:.1,max:2},Wt=Fh(Wt)?K0(Wt.min,Wt.max):K0(Wt,Wt),se=we.delayedCall(B.delay||zt/2||.1,function(){var ie=Lt(),Te=ds()-ft<500,Re=Yt.tween;if((Te||Math.abs(I.getVelocity())<10)&&!Re&&!AS&&St!==ie){var Ie=(ie-Z)/de,gi=i&&!V?i.totalProgress():Ie,qe=Te?0:(gi-Qt)/(ds()-T0)*1e3||0,Tn=we.utils.clamp(-Ie,1-Ie,Jp(qe/2)*qe/.185),Xn=Ie+(B.inertia===!1?0:Tn),Je,An,gn=B,Fi=gn.onStart,On=gn.onInterrupt,Bn=gn.onComplete;if(Je=Me(Xn,I),w0(Je)||(Je=Xn),An=Math.max(0,Math.round(Z+Je*de)),ie<=Ut&&ie>=Z&&An!==ie){if(Re&&!Re._initted&&Re.data<=Jp(An-ie))return;B.inertia===!1&&(Tn=Je-Ie),Yt(An,{duration:Wt(Jp(Math.max(Jp(Xn-gi),Jp(Je-gi))*.185/qe/.05||0)),ease:B.ease||"power3",data:Jp(An-ie),onInterrupt:function(){return se.restart(!0)&&On&&On(I)},onComplete:function(){I.update(),St=Lt(),i&&!V&&($?$.resetTo("totalProgress",Je,i._tTime/i._tDur):i.progress(Je)),vt=Qt=i&&!V?i.totalProgress():I.progress,w&&w(I),Bn&&Bn(I)}},ie,Tn*de,An-ie-Tn*de),Fi&&Fi(I,Yt.tween)}}else I.isActive&&St!==ie&&se.restart(!0)}).pause()),d&&(IE[d]=I),y=I.trigger=fr(y||x!==!0&&x),be=y&&y._gsap&&y._gsap.stRevert,be&&(be=be(I)),x=x===!0?y:fr(x),Nr(u)&&(u={targets:y,className:u}),x&&(M===!1||M===_o||(M=!M&&x.parentNode&&x.parentNode.style&&vo(x.parentNode).display==="flex"?!1:la),I.pin=x,$t=we.core.getCache(x),$t.spacer?Ne=$t.pinState:(P&&(P=fr(P),P&&!P.nodeType&&(P=P.current||P.nativeElement),$t.spacerIsNative=!!P,P&&($t.spacerState=gx(P))),$t.spacer=pt=P||yi.createElement("div"),pt.classList.add("pin-spacer"),d&&pt.classList.add("pin-spacer-"+d),$t.pinState=Ne=gx(x)),n.force3D!==!1&&we.set(x,{force3D:!0}),I.spacer=pt=$t.spacer,it=vo(x),ve=it[M+U.os2],Nt=we.getProperty(x),Ct=we.quickSetter(x,U.a,ba),Gb(x,pt,it),X=gx(x)),K){Xt=Fh(K)?V2(K,X2):X2,tt=mx("scroller-start",d,Q,U,Xt,0),Zt=mx("scroller-end",d,Q,U,Xt,0,tt),wt=tt["offset"+U.op.d2];var $e=fr(hf(Q,"content")||Q);Ot=this.markerStart=mx("start",d,$e,U,Xt,wt,0,H),Gt=this.markerEnd=mx("end",d,$e,U,Xt,wt,0,H),H&&(ce=we.quickSetter([Ot,Gt],U.a,ba)),!ut&&!(Zl.length&&hf(Q,"fixedMarkers")===!0)&&(g8(rt?$n:Q),we.set([tt,Zt],{force3D:!0}),qt=we.quickSetter(tt,U.a,ba),Ae=we.quickSetter(Zt,U.a,ba))}if(H){var ue=H.vars.onUpdate,Ee=H.vars.onUpdateParams;H.eventCallback("onUpdate",function(){I.update(0,0,1),ue&&ue.apply(H,Ee||[])})}if(I.previous=function(){return xn[xn.indexOf(I)-1]},I.next=function(){return xn[xn.indexOf(I)+1]},I.revert=function(ie,Te){if(!Te)return I.kill(!0);var Re=ie!==!1||!I.enabled,Ie=hs;Re!==I.isReverted&&(Re&&(Kt=Math.max(Lt(),I.scroll.rec||0),Mt=I.progress,It=i&&i.progress()),Ot&&[Ot,Gt,tt,Zt].forEach(function(gi){return gi.style.display=Re?"none":"block"}),Re&&(hs=I,I.update(Re)),x&&(!L||!I.isActive)&&(Re?A8(x,pt,Ne):Gb(x,pt,vo(x),le)),Re||I.update(Re),hs=Ie,I.isReverted=Re)},I.refresh=function(ie,Te,Re,Ie){if(!((hs||!I.enabled)&&!Te)){if(x&&ie&&Mo){Pa(r,"scrollEnd",Y3);return}!Xs&&nt&&nt(I),hs=I,Yt.tween&&!Re&&(Yt.tween.kill(),Yt.tween=0),$&&$.pause(),T&&i&&(i.revert({kill:!1}).invalidate(),i.getChildren&&i.getChildren(!0,!0,!1).forEach(function(sn){return sn.vars.immediateRender&&sn.render(0,!0,!0)})),I.isReverted||I.revert(!0,!0),I._subPinOffset=!1;var gi=gt(),qe=bt(),Tn=H?H.duration():Wl(Q,U),Xn=de<=.01||!de,Je=0,An=Ie||0,gn=Fh(Re)?Re.end:n.end,Fi=n.endTrigger||y,On=Fh(Re)?Re.start:n.start||(n.start===0||!y?0:x?"0 0":"0 100%"),Bn=I.pinnedContainer=n.pinnedContainer&&fr(n.pinnedContainer,I),fa=y&&Math.max(0,xn.indexOf(I))||0,_i=fa,k,ot,yt,Tt,dt,kt,ne,ye,he,Ue,Be,Ce,tn;for(K&&Fh(Re)&&(Ce=we.getProperty(tt,U.p),tn=we.getProperty(Zt,U.p));_i-- >0;)kt=xn[_i],kt.end||kt.refresh(0,1)||(hs=I),ne=kt.pin,ne&&(ne===y||ne===x||ne===Bn)&&!kt.isReverted&&(Ue||(Ue=[]),Ue.unshift(kt),kt.revert(!0,!0)),kt!==xn[_i]&&(fa--,_i--);for(gs(On)&&(On=On(I)),On=F2(On,"start",I),Z=J2(On,y,gi,U,Lt(),Ot,tt,I,qe,lt,ut,Tn,H,I._startClamp&&"_startClamp")||(x?-.001:0),gs(gn)&&(gn=gn(I)),Nr(gn)&&!gn.indexOf("+=")&&(~gn.indexOf(" ")?gn=(Nr(On)?On.split(" ")[0]:"")+gn:(Je=Rx(gn.substr(2),gi),gn=Nr(On)?On:(H?we.utils.mapRange(0,H.duration(),H.scrollTrigger.start,H.scrollTrigger.end,Z):Z)+Je,Fi=y)),gn=F2(gn,"end",I),Ut=Math.max(Z,J2(gn||(Fi?"100% 0":Tn),Fi,gi,U,Lt()+Je,Gt,Zt,I,qe,lt,ut,Tn,H,I._endClamp&&"_endClamp"))||-.001,Je=0,_i=fa;_i--;)kt=xn[_i],ne=kt.pin,ne&&kt.start-kt._pinPush<=Z&&!H&&kt.end>0&&(k=kt.end-(I._startClamp?Math.max(0,kt.start):kt.start),(ne===y&&kt.start-kt._pinPush<Z||ne===Bn)&&isNaN(On)&&(Je+=k*(1-kt.progress)),ne===x&&(An+=k));if(Z+=Je,Ut+=Je,I._startClamp&&(I._startClamp+=Je),I._endClamp&&!Xs&&(I._endClamp=Ut||-.001,Ut=Math.min(Ut,Wl(Q,U))),de=Ut-Z||(Z-=.01)&&.001,Xn&&(Mt=we.utils.clamp(0,1,we.utils.normalize(Z,Ut,Kt))),I._pinPush=An,Ot&&Je&&(k={},k[U.a]="+="+Je,Bn&&(k[U.p]="-="+Lt()),we.set([Ot,Gt],k)),x&&!(LE&&I.end>=Wl(Q,U)))k=vo(x),Tt=U===Ea,yt=Lt(),re=parseFloat(Nt(U.a))+An,!Tn&&Ut>1&&(Be=(rt?yi.scrollingElement||Ir:Q).style,Be={style:Be,value:Be["overflow"+U.a.toUpperCase()]},rt&&vo($n)["overflow"+U.a.toUpperCase()]!=="scroll"&&(Be.style["overflow"+U.a.toUpperCase()]="scroll")),Gb(x,pt,k),X=gx(x),ot=Hu(x,!0),ye=ut&&yf(Q,Tt?Js:Ea)(),M?(le=[M+U.os2,de+An+ba],le.t=pt,_i=M===la?NA(x,U)+de+An:0,_i&&(le.push(U.d,_i+ba),pt.style.flexBasis!=="auto"&&(pt.style.flexBasis=_i+ba)),fm(le),Bn&&xn.forEach(function(sn){sn.pin===Bn&&sn.vars.pinSpacing!==!1&&(sn._subPinOffset=!0)}),ut&&Lt(Kt)):(_i=NA(x,U),_i&&pt.style.flexBasis!=="auto"&&(pt.style.flexBasis=_i+ba)),ut&&(dt={top:ot.top+(Tt?yt-Z:ye)+ba,left:ot.left+(Tt?ye:yt-Z)+ba,boxSizing:"border-box",position:"fixed"},dt[ed]=dt["max"+Um]=Math.ceil(ot.width)+ba,dt[nd]=dt["max"+aT]=Math.ceil(ot.height)+ba,dt[_o]=dt[_o+Q0]=dt[_o+W0]=dt[_o+Z0]=dt[_o+j0]="0",dt[la]=k[la],dt[la+Q0]=k[la+Q0],dt[la+W0]=k[la+W0],dt[la+Z0]=k[la+Z0],dt[la+j0]=k[la+j0],j=M8(Ne,dt,L),Xs&&Lt(0)),i?(he=i._initted,Ib(1),i.render(i.duration(),!0,!0),te=Nt(U.a)-re+de+An,ee=Math.abs(de-te)>1,ut&&ee&&j.splice(j.length-2,2),i.render(0,!0,!0),he||i.invalidate(!0),i.parent||i.totalTime(i.totalTime()),Ib(0)):te=de,Be&&(Be.value?Be.style["overflow"+U.a.toUpperCase()]=Be.value:Be.style.removeProperty("overflow-"+U.a));else if(y&&Lt()&&!H)for(ot=y.parentNode;ot&&ot!==$n;)ot._pinOffset&&(Z-=ot._pinOffset,Ut-=ot._pinOffset),ot=ot.parentNode;Ue&&Ue.forEach(function(sn){return sn.revert(!1,!0)}),I.start=Z,I.end=Ut,Pe=_e=Xs?Kt:Lt(),!H&&!Xs&&(Pe<Kt&&Lt(Kt),I.scroll.rec=0),I.revert(!1,!0),ft=ds(),se&&(St=-1,se.restart(!0)),hs=0,i&&V&&(i._initted||It)&&i.progress()!==It&&i.progress(It||0,!0).render(i.time(),!0,!0),(Xn||Mt!==I.progress||H||T||i&&!i._initted)&&(i&&!V&&(i._initted||Mt||i.vars.immediateRender!==!1)&&i.totalProgress(H&&Z<-.001&&!Mt?we.utils.normalize(Z,Ut,0):Mt,!0),I.progress=Xn||(Pe-Z)/de===Mt?0:Mt),x&&M&&(pt._pinOffset=Math.round(I.progress*te)),$&&$.invalidate(),isNaN(Ce)||(Ce-=we.getProperty(tt,U.p),tn-=we.getProperty(Zt,U.p),_x(tt,U,Ce),_x(Ot,U,Ce-(Ie||0)),_x(Zt,U,tn),_x(Gt,U,tn-(Ie||0))),Xn&&!Xs&&I.update(),g&&!Xs&&!jt&&(jt=!0,g(I),jt=!1)}},I.getVelocity=function(){return(Lt()-_e)/(ds()-T0)*1e3||0},I.endAnimation=function(){y0(I.callbackAnimation),i&&($?$.progress(1):i.paused()?V||y0(i,I.direction<0,1):y0(i,i.reversed()))},I.labelToScroll=function(ie){return i&&i.labels&&(Z||I.refresh()||Z)+i.labels[ie]/i.duration()*de||0},I.getTrailing=function(ie){var Te=xn.indexOf(I),Re=I.direction>0?xn.slice(0,Te).reverse():xn.slice(Te+1);return(Nr(ie)?Re.filter(function(Ie){return Ie.vars.preventOverlaps===ie}):Re).filter(function(Ie){return I.direction>0?Ie.end<=Z:Ie.start>=Ut})},I.update=function(ie,Te,Re){if(!(H&&!Re&&!ie)){var Ie=Xs===!0?Kt:I.scroll(),gi=ie?0:(Ie-Z)/de,qe=gi<0?0:gi>1?1:gi||0,Tn=I.progress,Xn,Je,An,gn,Fi,On,Bn,fa;if(Te&&(_e=Pe,Pe=H?Lt():Ie,B&&(Qt=vt,vt=i&&!V?i.totalProgress():qe)),E&&x&&!hs&&!cx&&Mo&&(!qe&&Z<Ie+(Ie-_e)/(ds()-T0)*E?qe=1e-4:qe===1&&Ut>Ie+(Ie-_e)/(ds()-T0)*E&&(qe=.9999)),qe!==Tn&&I.enabled){if(Xn=I.isActive=!!qe&&qe<1,Je=!!Tn&&Tn<1,On=Xn!==Je,Fi=On||!!qe!=!!Tn,I.direction=qe>Tn?1:-1,I.progress=qe,Fi&&!hs&&(An=qe&&!Tn?0:qe===1?1:Tn===1?2:3,V&&(gn=!On&&q[An+1]!=="none"&&q[An+1]||q[An],fa=i&&(gn==="complete"||gn==="reset"||gn in i))),O&&(On||fa)&&(fa||_||!i)&&(gs(O)?O(I):I.getTrailing(O).forEach(function(yt){return yt.endAnimation()})),V||($&&!hs&&!cx?($._dp._time-$._start!==$._time&&$.render($._dp._time-$._start),$.resetTo?$.resetTo("totalProgress",qe,i._tTime/i._tDur):($.vars.totalProgress=qe,$.invalidate().restart())):i&&i.totalProgress(qe,!!(hs&&(ft||ie)))),x){if(ie&&M&&(pt.style[M+U.os2]=ve),!ut)Ct(R0(re+te*qe));else if(Fi){if(Bn=!ie&&qe>Tn&&Ut+1>Ie&&Ie+1>=Wl(Q,U),L)if(!ie&&(Xn||Bn)){var _i=Hu(x,!0),k=Ie-Z;K2(x,$n,_i.top+(U===Ea?k:0)+ba,_i.left+(U===Ea?0:k)+ba)}else K2(x,pt);fm(Xn||Bn?j:X),ee&&qe<1&&Xn||Ct(re+(qe===1&&!Bn?te:0))}}B&&!Yt.tween&&!hs&&!cx&&se.restart(!0),u&&(On||D&&qe&&(qe<1||!Pb))&&v_(u.targets).forEach(function(yt){return yt.classList[Xn||D?"add":"remove"](u.className)}),l&&!V&&!ie&&l(I),Fi&&!hs?(V&&(fa&&(gn==="complete"?i.pause().totalProgress(1):gn==="reset"?i.restart(!0).pause():gn==="restart"?i.restart(!0):i[gn]()),l&&l(I)),(On||!Pb)&&(p&&On&&zb(I,p),G[An]&&zb(I,G[An]),D&&(qe===1?I.kill(!1,1):G[An]=0),On||(An=qe===1?1:3,G[An]&&zb(I,G[An]))),F&&!Xn&&Math.abs(I.getVelocity())>(w0(F)?F:2500)&&(y0(I.callbackAnimation),$?$.progress(1):y0(i,gn==="reverse"?1:!qe,1))):V&&l&&!hs&&l(I)}if(Ae){var ot=H?Ie/H.duration()*(H._caScrollDist||0):Ie;qt(ot+(tt._isFlipped?1:0)),Ae(ot)}ce&&ce(-Ie/H.duration()*(H._caScrollDist||0))}},I.enable=function(ie,Te){I.enabled||(I.enabled=!0,Pa(Q,"resize",B0),rt||Pa(Q,"scroll",Kp),nt&&Pa(r,"refreshInit",nt),ie!==!1&&(I.progress=Mt=0,Pe=_e=St=Lt()),Te!==!1&&I.refresh())},I.getTween=function(ie){return ie&&Yt?Yt.tween:$},I.setPositions=function(ie,Te,Re,Ie){if(H){var gi=H.scrollTrigger,qe=H.duration(),Tn=gi.end-gi.start;ie=gi.start+Tn*ie/qe,Te=gi.start+Tn*Te/qe}I.refresh(!1,!1,{start:z2(ie,Re&&!!I._startClamp),end:z2(Te,Re&&!!I._endClamp)},Ie),I.update()},I.adjustPinSpacing=function(ie){if(le&&ie){var Te=le.indexOf(U.d)+1;le[Te]=parseFloat(le[Te])+ie+ba,le[1]=parseFloat(le[1])+ie+ba,fm(le)}},I.disable=function(ie,Te){if(I.enabled&&(ie!==!1&&I.revert(!0,!0),I.enabled=I.isActive=!1,Te||$&&$.pause(),Kt=0,$t&&($t.uncache=1),nt&&Ia(r,"refreshInit",nt),se&&(se.pause(),Yt.tween&&Yt.tween.kill()&&(Yt.tween=0)),!rt)){for(var Re=xn.length;Re--;)if(xn[Re].scroller===Q&&xn[Re]!==I)return;Ia(Q,"resize",B0),rt||Ia(Q,"scroll",Kp)}},I.kill=function(ie,Te){I.disable(ie,Te),$&&!Te&&$.kill(),d&&delete IE[d];var Re=xn.indexOf(I);Re>=0&&xn.splice(Re,1),Re===Vs&&Bx>0&&Vs--,Re=0,xn.forEach(function(Ie){return Ie.scroller===I.scroller&&(Re=1)}),Re||Xs||(I.scroll.rec=0),i&&(i.scrollTrigger=null,ie&&i.revert({kill:!1}),Te||i.kill()),Ot&&[Ot,Gt,tt,Zt].forEach(function(Ie){return Ie.parentNode&&Ie.parentNode.removeChild(Ie)}),$0===I&&($0=0),x&&($t&&($t.uncache=1),Re=0,xn.forEach(function(Ie){return Ie.pin===x&&Re++}),Re||($t.spacer=0)),n.onKill&&n.onKill(I)},xn.push(I),I.enable(!1,!1),be&&be(I),i&&i.add&&!de){var Le=I.update;I.update=function(){I.update=Le,En.cache++,Z||Ut||I.refresh()},we.delayedCall(.01,I.update),de=.01,Z=Ut=0}else I.refresh();x&&x8()},r.register=function(n){return Wp||(we=n||z3(),F3()&&window.document&&r.enable(),Wp=C0),Wp},r.defaults=function(n){if(n)for(var i in n)px[i]=n[i];return px},r.disable=function(n,i){C0=0,xn.forEach(function(l){return l[i?"kill":"disable"](n)}),Ia(bn,"wheel",Kp),Ia(yi,"scroll",Kp),clearInterval(ux),Ia(yi,"touchcancel",Yl),Ia($n,"touchstart",Yl),hx(Ia,yi,"pointerdown,touchstart,mousedown",H2),hx(Ia,yi,"pointerup,touchend,mouseup",G2),OA.kill(),fx(Ia);for(var s=0;s<En.length;s+=3)dx(Ia,En[s],En[s+1]),dx(Ia,En[s],En[s+2])},r.enable=function(){if(bn=window,yi=document,Ir=yi.documentElement,$n=yi.body,we&&(v_=we.utils.toArray,K0=we.utils.clamp,NE=we.core.context||Yl,Ib=we.core.suppressOverwrites||Yl,tT=bn.history.scrollRestoration||"auto",PE=bn.pageYOffset||0,we.core.globals("ScrollTrigger",r),$n)){C0=1,cm=document.createElement("div"),cm.style.height="100vh",cm.style.position="absolute",K3(),d8(),ea.register(we),r.isTouch=ea.isTouch,$c=ea.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),UE=ea.isTouch===1,Pa(bn,"wheel",Kp),$1=[bn,yi,Ir,$n],we.matchMedia?(r.matchMedia=function(p){var g=we.matchMedia(),_;for(_ in p)g.add(_,p[_]);return g},we.addEventListener("matchMediaInit",function(){return rT()}),we.addEventListener("matchMediaRevert",function(){return q3()}),we.addEventListener("matchMedia",function(){Jh(0,1),pd("matchMedia")}),we.matchMedia().add("(orientation: portrait)",function(){return Hb(),Hb})):console.warn("Requires GSAP 3.11.0 or later"),Hb(),Pa(yi,"scroll",Kp);var n=$n.hasAttribute("style"),i=$n.style,s=i.borderTopStyle,l=we.core.Animation.prototype,u,d;for(l.revert||Object.defineProperty(l,"revert",{value:function(){return this.time(-.01,!0)}}),i.borderTopStyle="solid",u=Hu($n),Ea.m=Math.round(u.top+Ea.sc())||0,Js.m=Math.round(u.left+Js.sc())||0,s?i.borderTopStyle=s:i.removeProperty("border-top-style"),n||($n.setAttribute("style",""),$n.removeAttribute("style")),ux=setInterval(k2,250),we.delayedCall(.5,function(){return cx=0}),Pa(yi,"touchcancel",Yl),Pa($n,"touchstart",Yl),hx(Pa,yi,"pointerdown,touchstart,mousedown",H2),hx(Pa,yi,"pointerup,touchend,mouseup",G2),OE=we.utils.checkPrefix("transform"),Dx.push(OE),Wp=ds(),OA=we.delayedCall(.2,Jh).pause(),jp=[yi,"visibilitychange",function(){var p=bn.innerWidth,g=bn.innerHeight;yi.hidden?(I2=p,P2=g):(I2!==p||P2!==g)&&B0()},yi,"DOMContentLoaded",Jh,bn,"load",Jh,bn,"resize",B0],fx(Pa),xn.forEach(function(p){return p.enable(0,1)}),d=0;d<En.length;d+=3)dx(Ia,En[d],En[d+1]),dx(Ia,En[d],En[d+2])}},r.config=function(n){"limitCallbacks"in n&&(Pb=!!n.limitCallbacks);var i=n.syncInterval;i&&clearInterval(ux)||(ux=i)&&setInterval(k2,i),"ignoreMobileResize"in n&&(UE=r.isTouch===1&&n.ignoreMobileResize),"autoRefreshEvents"in n&&(fx(Ia)||fx(Pa,n.autoRefreshEvents||"none"),L3=(n.autoRefreshEvents+"").indexOf("resize")===-1)},r.scrollerProxy=function(n,i){var s=fr(n),l=En.indexOf(s),u=hd(s);~l&&En.splice(l,u?6:2),i&&(u?Zl.unshift(bn,i,$n,i,Ir,i):Zl.unshift(s,i))},r.clearMatchMedia=function(n){xn.forEach(function(i){return i._ctx&&i._ctx.query===n&&i._ctx.kill(!0,!0)})},r.isInViewport=function(n,i,s){var l=(Nr(n)?fr(n):n).getBoundingClientRect(),u=l[s?ed:nd]*i||0;return s?l.right-u>0&&l.left+u<bn.innerWidth:l.bottom-u>0&&l.top+u<bn.innerHeight},r.positionInViewport=function(n,i,s){Nr(n)&&(n=fr(n));var l=n.getBoundingClientRect(),u=l[s?ed:nd],d=i==null?u/2:i in LA?LA[i]*u:~i.indexOf("%")?parseFloat(i)*u/100:parseFloat(i)||0;return s?(l.left+d)/bn.innerWidth:(l.top+d)/bn.innerHeight},r.killAll=function(n){if(xn.slice(0).forEach(function(s){return s.vars.id!=="ScrollSmoother"&&s.kill()}),n!==!0){var i=dd.killAll||[];dd={},i.forEach(function(s){return s()})}},r}();wn.version="3.13.0";wn.saveStyles=function(r){return r?v_(r).forEach(function(t){if(t&&t.style){var e=Ur.indexOf(t);e>=0&&Ur.splice(e,5),Ur.push(t,t.style.cssText,t.getBBox&&t.getAttribute("transform"),we.core.getCache(t),NE())}}):Ur};wn.revert=function(r,t){return rT(!r,t)};wn.create=function(r,t){return new wn(r,t)};wn.refresh=function(r){return r?B0(!0):(Wp||wn.register())&&Jh(!0)};wn.update=function(r){return++En.cache&&Ju(r===!0?2:0)};wn.clearScrollMemory=J3;wn.maxScroll=function(r,t){return Wl(r,t?Js:Ea)};wn.getScrollFunc=function(r,t){return yf(fr(r),t?Js:Ea)};wn.getById=function(r){return IE[r]};wn.getAll=function(){return xn.filter(function(r){return r.vars.id!=="ScrollSmoother"})};wn.isScrolling=function(){return!!Mo};wn.snapDirectional=sT;wn.addEventListener=function(r,t){var e=dd[r]||(dd[r]=[]);~e.indexOf(t)||e.push(t)};wn.removeEventListener=function(r,t){var e=dd[r],n=e&&e.indexOf(t);n>=0&&e.splice(n,1)};wn.batch=function(r,t){var e=[],n={},i=t.interval||.016,s=t.batchMax||1e9,l=function(p,g){var _=[],y=[],x=we.delayedCall(i,function(){g(_,y),_=[],y=[]}).pause();return function(M){_.length||x.restart(!0),_.push(M.trigger),y.push(M),s<=_.length&&x.progress(1)}},u;for(u in t)n[u]=u.substr(0,2)==="on"&&gs(t[u])&&u!=="onRefreshInit"?l(u,t[u]):t[u];return gs(s)&&(s=s(),Pa(wn,"refresh",function(){return s=t.batchMax()})),v_(r).forEach(function(d){var p={};for(u in n)p[u]=n[u];p.trigger=d,e.push(wn.create(p))}),e};var j2=function(t,e,n,i){return e>i?t(i):e<0&&t(0),n>i?(i-e)/(n-e):n<0?e/(e-n):1},Vb=function r(t,e){e===!0?t.style.removeProperty("touch-action"):t.style.touchAction=e===!0?"auto":e?"pan-"+e+(ea.isTouch?" pinch-zoom":""):"none",t===Ir&&r($n,e)},vx={auto:1,scroll:1},E8=function(t){var e=t.event,n=t.target,i=t.axis,s=(e.changedTouches?e.changedTouches[0]:e).target,l=s._gsap||we.core.getCache(s),u=ds(),d;if(!l._isScrollT||u-l._isScrollT>2e3){for(;s&&s!==$n&&(s.scrollHeight<=s.clientHeight&&s.scrollWidth<=s.clientWidth||!(vx[(d=vo(s)).overflowY]||vx[d.overflowX]));)s=s.parentNode;l._isScroll=s&&s!==n&&!hd(s)&&(vx[(d=vo(s)).overflowY]||vx[d.overflowX]),l._isScrollT=u}(l._isScroll||i==="x")&&(e.stopPropagation(),e._gsapAllow=!0)},j3=function(t,e,n,i){return ea.create({target:t,capture:!0,debounce:!1,lockAxis:!0,type:e,onWheel:i=i&&E8,onPress:i,onDrag:i,onScroll:i,onEnable:function(){return n&&Pa(yi,ea.eventTypes[0],Z2,!1,!0)},onDisable:function(){return Ia(yi,ea.eventTypes[0],Z2,!0)}})},T8=/(input|label|select|textarea)/i,Q2,Z2=function(t){var e=T8.test(t.target.tagName);(e||Q2)&&(t._gsapAllow=!0,Q2=e)},C8=function(t){Fh(t)||(t={}),t.preventDefault=t.isNormalizer=t.allowClicks=!0,t.type||(t.type="wheel,touch"),t.debounce=!!t.debounce,t.id=t.id||"normalizer";var e=t,n=e.normalizeScrollX,i=e.momentum,s=e.allowNestedScroll,l=e.onRelease,u,d,p=fr(t.target)||Ir,g=we.core.globals().ScrollSmoother,_=g&&g.get(),y=$c&&(t.content&&fr(t.content)||_&&t.content!==!1&&!_.smooth()&&_.content()),x=yf(p,Ea),M=yf(p,Js),T=1,E=(ea.isTouch&&bn.visualViewport?bn.visualViewport.scale*bn.visualViewport.width:bn.outerWidth)/bn.innerWidth,b=0,w=gs(i)?function(){return i(u)}:function(){return i||2.8},D,B,L=j3(p,t.type,!0,s),P=function(){return B=!1},H=Yl,F=Yl,O=function(){d=Wl(p,Ea),F=K0($c?1:0,d),n&&(H=K0(0,Wl(p,Js))),D=id},U=function(){y._gsap.y=R0(parseFloat(y._gsap.y)+x.offset)+"px",y.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(y._gsap.y)+", 0, 1)",x.offset=x.cacheID=0},V=function(){if(B){requestAnimationFrame(P);var K=R0(u.deltaY/2),lt=F(x.v-K);if(y&&lt!==x.v+x.offset){x.offset=lt-x.v;var I=R0((parseFloat(y&&y._gsap.y)||0)-x.offset);y.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+I+", 0, 1)",y._gsap.y=I+"px",x.cacheID=En.cache,Ju()}return!0}x.offset&&U(),B=!0},Q,et,rt,ut,G=function(){O(),Q.isActive()&&Q.vars.scrollY>d&&(x()>d?Q.progress(1)&&x(d):Q.resetTo("scrollY",d))};return y&&we.set(y,{y:"+=0"}),t.ignoreCheck=function(q){return $c&&q.type==="touchmove"&&V()||T>1.05&&q.type!=="touchstart"||u.isGesturing||q.touches&&q.touches.length>1},t.onPress=function(){B=!1;var q=T;T=R0((bn.visualViewport&&bn.visualViewport.scale||1)/E),Q.pause(),q!==T&&Vb(p,T>1.01?!0:n?!1:"x"),et=M(),rt=x(),O(),D=id},t.onRelease=t.onGestureStart=function(q,K){if(x.offset&&U(),!K)ut.restart(!0);else{En.cache++;var lt=w(),I,nt;n&&(I=M(),nt=I+lt*.05*-q.velocityX/.227,lt*=j2(M,I,nt,Wl(p,Js)),Q.vars.scrollX=H(nt)),I=x(),nt=I+lt*.05*-q.velocityY/.227,lt*=j2(x,I,nt,Wl(p,Ea)),Q.vars.scrollY=F(nt),Q.invalidate().duration(lt).play(.01),($c&&Q.vars.scrollY>=d||I>=d-1)&&we.to({},{onUpdate:G,duration:lt})}l&&l(q)},t.onWheel=function(){Q._ts&&Q.pause(),ds()-b>1e3&&(D=0,b=ds())},t.onChange=function(q,K,lt,I,nt){if(id!==D&&O(),K&&n&&M(H(I[2]===K?et+(q.startX-q.x):M()+K-I[1])),lt){x.offset&&U();var gt=nt[2]===lt,bt=gt?rt+q.startY-q.y:x()+lt-nt[1],St=F(bt);gt&&bt!==St&&(rt+=St-bt),x(St)}(lt||K)&&Ju()},t.onEnable=function(){Vb(p,n?!1:"x"),wn.addEventListener("refresh",G),Pa(bn,"resize",G),x.smooth&&(x.target.style.scrollBehavior="auto",x.smooth=M.smooth=!1),L.enable()},t.onDisable=function(){Vb(p,!0),Ia(bn,"resize",G),wn.removeEventListener("refresh",G),L.kill()},t.lockAxis=t.lockAxis!==!1,u=new ea(t),u.iOS=$c,$c&&!x()&&x(1),$c&&we.ticker.add(Yl),ut=u._dc,Q=we.to(u,{ease:"power4",paused:!0,inherit:!1,scrollX:n?"+=0.1":"+=0",scrollY:"+=0.1",modifiers:{scrollY:W3(x,x(),function(){return Q.pause()})},onUpdate:Ju,onComplete:ut.vars.onComplete}),u};wn.sort=function(r){if(gs(r))return xn.sort(r);var t=bn.pageYOffset||0;return wn.getAll().forEach(function(e){return e._sortY=e.trigger?t+e.trigger.getBoundingClientRect().top:e.start+bn.innerHeight}),xn.sort(r||function(e,n){return(e.vars.refreshPriority||0)*-1e6+(e.vars.containerAnimation?1e6:e._sortY)-((n.vars.containerAnimation?1e6:n._sortY)+(n.vars.refreshPriority||0)*-1e6)})};wn.observe=function(r){return new ea(r)};wn.normalizeScroll=function(r){if(typeof r>"u")return Gs;if(r===!0&&Gs)return Gs.enable();if(r===!1){Gs&&Gs.kill(),Gs=r;return}var t=r instanceof ea?r:C8(r);return Gs&&Gs.target===t.target&&Gs.kill(),hd(t.target)&&(Gs=t),t};wn.core={_getVelocityProp:DE,_inputObserver:j3,_scrollers:En,_proxies:Zl,bridge:{ss:function(){Mo||pd("scrollStart"),Mo=ds()},ref:function(){return hs}}};z3()&&we.registerPlugin(wn);var x0={},D0={exports:{}},R8=D0.exports,$2;function w8(){return $2||($2=1,function(r,t){(function(e,n){n(t)})(R8,function(e){var n=function(){return n=Object.assign||function(s){for(var l,u=1,d=arguments.length;u<d;u++)for(var p in l=arguments[u])Object.prototype.hasOwnProperty.call(l,p)&&(s[p]=l[p]);return s},n.apply(this,arguments)},i=function(){function s(l,u,d){var p=this;this.endVal=u,this.options=d,this.version="2.9.0",this.defaults={startVal:0,decimalPlaces:0,duration:2,useEasing:!0,useGrouping:!0,useIndianSeparators:!1,smartEasingThreshold:999,smartEasingAmount:333,separator:",",decimal:".",prefix:"",suffix:"",enableScrollSpy:!1,scrollSpyDelay:200,scrollSpyOnce:!1},this.finalEndVal=null,this.useEasing=!0,this.countDown=!1,this.error="",this.startVal=0,this.paused=!0,this.once=!1,this.count=function(g){p.startTime||(p.startTime=g);var _=g-p.startTime;p.remaining=p.duration-_,p.useEasing?p.countDown?p.frameVal=p.startVal-p.easingFn(_,0,p.startVal-p.endVal,p.duration):p.frameVal=p.easingFn(_,p.startVal,p.endVal-p.startVal,p.duration):p.frameVal=p.startVal+(p.endVal-p.startVal)*(_/p.duration);var y=p.countDown?p.frameVal<p.endVal:p.frameVal>p.endVal;p.frameVal=y?p.endVal:p.frameVal,p.frameVal=Number(p.frameVal.toFixed(p.options.decimalPlaces)),p.printValue(p.frameVal),_<p.duration?p.rAF=requestAnimationFrame(p.count):p.finalEndVal!==null?p.update(p.finalEndVal):p.options.onCompleteCallback&&p.options.onCompleteCallback()},this.formatNumber=function(g){var _,y,x,M,T=g<0?"-":"";_=Math.abs(g).toFixed(p.options.decimalPlaces);var E=(_+="").split(".");if(y=E[0],x=E.length>1?p.options.decimal+E[1]:"",p.options.useGrouping){M="";for(var b=3,w=0,D=0,B=y.length;D<B;++D)p.options.useIndianSeparators&&D===4&&(b=2,w=1),D!==0&&w%b==0&&(M=p.options.separator+M),w++,M=y[B-D-1]+M;y=M}return p.options.numerals&&p.options.numerals.length&&(y=y.replace(/[0-9]/g,function(L){return p.options.numerals[+L]}),x=x.replace(/[0-9]/g,function(L){return p.options.numerals[+L]})),T+p.options.prefix+y+x+p.options.suffix},this.easeOutExpo=function(g,_,y,x){return y*(1-Math.pow(2,-10*g/x))*1024/1023+_},this.options=n(n({},this.defaults),d),this.formattingFn=this.options.formattingFn?this.options.formattingFn:this.formatNumber,this.easingFn=this.options.easingFn?this.options.easingFn:this.easeOutExpo,this.el=typeof l=="string"?document.getElementById(l):l,u=u??this.parse(this.el.innerHTML),this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.endVal=this.validateValue(u),this.options.decimalPlaces=Math.max(this.options.decimalPlaces),this.resetDuration(),this.options.separator=String(this.options.separator),this.useEasing=this.options.useEasing,this.options.separator===""&&(this.options.useGrouping=!1),this.el?this.printValue(this.startVal):this.error="[CountUp] target is null or undefined",typeof window<"u"&&this.options.enableScrollSpy&&(this.error?console.error(this.error,l):(window.onScrollFns=window.onScrollFns||[],window.onScrollFns.push(function(){return p.handleScroll(p)}),window.onscroll=function(){window.onScrollFns.forEach(function(g){return g()})},this.handleScroll(this)))}return s.prototype.handleScroll=function(l){if(l&&window&&!l.once){var u=window.innerHeight+window.scrollY,d=l.el.getBoundingClientRect(),p=d.top+window.pageYOffset,g=d.top+d.height+window.pageYOffset;g<u&&g>window.scrollY&&l.paused?(l.paused=!1,setTimeout(function(){return l.start()},l.options.scrollSpyDelay),l.options.scrollSpyOnce&&(l.once=!0)):(window.scrollY>g||p>u)&&!l.paused&&l.reset()}},s.prototype.determineDirectionAndSmartEasing=function(){var l=this.finalEndVal?this.finalEndVal:this.endVal;this.countDown=this.startVal>l;var u=l-this.startVal;if(Math.abs(u)>this.options.smartEasingThreshold&&this.options.useEasing){this.finalEndVal=l;var d=this.countDown?1:-1;this.endVal=l+d*this.options.smartEasingAmount,this.duration=this.duration/2}else this.endVal=l,this.finalEndVal=null;this.finalEndVal!==null?this.useEasing=!1:this.useEasing=this.options.useEasing},s.prototype.start=function(l){this.error||(this.options.onStartCallback&&this.options.onStartCallback(),l&&(this.options.onCompleteCallback=l),this.duration>0?(this.determineDirectionAndSmartEasing(),this.paused=!1,this.rAF=requestAnimationFrame(this.count)):this.printValue(this.endVal))},s.prototype.pauseResume=function(){this.paused?(this.startTime=null,this.duration=this.remaining,this.startVal=this.frameVal,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count)):cancelAnimationFrame(this.rAF),this.paused=!this.paused},s.prototype.reset=function(){cancelAnimationFrame(this.rAF),this.paused=!0,this.resetDuration(),this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.printValue(this.startVal)},s.prototype.update=function(l){cancelAnimationFrame(this.rAF),this.startTime=null,this.endVal=this.validateValue(l),this.endVal!==this.frameVal&&(this.startVal=this.frameVal,this.finalEndVal==null&&this.resetDuration(),this.finalEndVal=null,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count))},s.prototype.printValue=function(l){var u;if(this.el){var d=this.formattingFn(l);!((u=this.options.plugin)===null||u===void 0)&&u.render?this.options.plugin.render(this.el,d):this.el.tagName==="INPUT"?this.el.value=d:this.el.tagName==="text"||this.el.tagName==="tspan"?this.el.textContent=d:this.el.innerHTML=d}},s.prototype.ensureNumber=function(l){return typeof l=="number"&&!isNaN(l)},s.prototype.validateValue=function(l){var u=Number(l);return this.ensureNumber(u)?u:(this.error="[CountUp] invalid start or end value: ".concat(l),null)},s.prototype.resetDuration=function(){this.startTime=null,this.duration=1e3*Number(this.options.duration),this.remaining=this.duration},s.prototype.parse=function(l){var u=function(_){return _.replace(/([.,' ])/g,"\\$1")},d=u(this.options.separator),p=u(this.options.decimal),g=l.replace(new RegExp(d,"g"),"").replace(new RegExp(p,"g"),".");return parseFloat(g)},s}();e.CountUp=i})}(D0,D0.exports)),D0.exports}var tw;function B8(){if(tw)return x0;tw=1,Object.defineProperty(x0,"__esModule",{value:!0});var r=md(),t=w8();function e(F,O){var U=F==null?null:typeof Symbol<"u"&&F[Symbol.iterator]||F["@@iterator"];if(U!=null){var V,Q,et,rt,ut=[],G=!0,q=!1;try{if(et=(U=U.call(F)).next,O!==0)for(;!(G=(V=et.call(U)).done)&&(ut.push(V.value),ut.length!==O);G=!0);}catch(K){q=!0,Q=K}finally{try{if(!G&&U.return!=null&&(rt=U.return(),Object(rt)!==rt))return}finally{if(q)throw Q}}return ut}}function n(F,O){var U=Object.keys(F);if(Object.getOwnPropertySymbols){var V=Object.getOwnPropertySymbols(F);O&&(V=V.filter(function(Q){return Object.getOwnPropertyDescriptor(F,Q).enumerable})),U.push.apply(U,V)}return U}function i(F){for(var O=1;O<arguments.length;O++){var U=arguments[O]!=null?arguments[O]:{};O%2?n(Object(U),!0).forEach(function(V){u(F,V,U[V])}):Object.getOwnPropertyDescriptors?Object.defineProperties(F,Object.getOwnPropertyDescriptors(U)):n(Object(U)).forEach(function(V){Object.defineProperty(F,V,Object.getOwnPropertyDescriptor(U,V))})}return F}function s(F,O){if(typeof F!="object"||!F)return F;var U=F[Symbol.toPrimitive];if(U!==void 0){var V=U.call(F,O);if(typeof V!="object")return V;throw new TypeError("@@toPrimitive must return a primitive value.")}return(O==="string"?String:Number)(F)}function l(F){var O=s(F,"string");return typeof O=="symbol"?O:String(O)}function u(F,O,U){return O=l(O),O in F?Object.defineProperty(F,O,{value:U,enumerable:!0,configurable:!0,writable:!0}):F[O]=U,F}function d(){return d=Object.assign?Object.assign.bind():function(F){for(var O=1;O<arguments.length;O++){var U=arguments[O];for(var V in U)Object.prototype.hasOwnProperty.call(U,V)&&(F[V]=U[V])}return F},d.apply(this,arguments)}function p(F,O){if(F==null)return{};var U={},V=Object.keys(F),Q,et;for(et=0;et<V.length;et++)Q=V[et],!(O.indexOf(Q)>=0)&&(U[Q]=F[Q]);return U}function g(F,O){if(F==null)return{};var U=p(F,O),V,Q;if(Object.getOwnPropertySymbols){var et=Object.getOwnPropertySymbols(F);for(Q=0;Q<et.length;Q++)V=et[Q],!(O.indexOf(V)>=0)&&Object.prototype.propertyIsEnumerable.call(F,V)&&(U[V]=F[V])}return U}function _(F,O){return y(F)||e(F,O)||x(F,O)||T()}function y(F){if(Array.isArray(F))return F}function x(F,O){if(F){if(typeof F=="string")return M(F,O);var U=Object.prototype.toString.call(F).slice(8,-1);if(U==="Object"&&F.constructor&&(U=F.constructor.name),U==="Map"||U==="Set")return Array.from(F);if(U==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(U))return M(F,O)}}function M(F,O){(O==null||O>F.length)&&(O=F.length);for(var U=0,V=new Array(O);U<O;U++)V[U]=F[U];return V}function T(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var E=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?r.useLayoutEffect:r.useEffect;function b(F){var O=r.useRef(F);return E(function(){O.current=F}),r.useCallback(function(){for(var U=arguments.length,V=new Array(U),Q=0;Q<U;Q++)V[Q]=arguments[Q];return O.current.apply(void 0,V)},[])}var w=function(O,U){var V=U.decimal,Q=U.decimals,et=U.duration,rt=U.easingFn,ut=U.end,G=U.formattingFn,q=U.numerals,K=U.prefix,lt=U.separator,I=U.start,nt=U.suffix,gt=U.useEasing,bt=U.useGrouping,St=U.useIndianSeparators,ft=U.enableScrollSpy,Mt=U.scrollSpyDelay,Lt=U.scrollSpyOnce,Yt=U.plugin;return new t.CountUp(O,ut,{startVal:I,duration:et,decimal:V,decimalPlaces:Q,easingFn:rt,formattingFn:G,numerals:q,separator:lt,prefix:K,suffix:nt,plugin:Yt,useEasing:gt,useIndianSeparators:St,useGrouping:bt,enableScrollSpy:ft,scrollSpyDelay:Mt,scrollSpyOnce:Lt})},D=["ref","startOnMount","enableReinitialize","delay","onEnd","onStart","onPauseResume","onReset","onUpdate"],B={decimal:".",separator:",",delay:null,prefix:"",suffix:"",duration:2,start:0,decimals:0,startOnMount:!0,enableReinitialize:!0,useEasing:!0,useGrouping:!0,useIndianSeparators:!1},L=function(O){var U=Object.fromEntries(Object.entries(O).filter(function(Z){var Ut=_(Z,2),Ot=Ut[1];return Ot!==void 0})),V=r.useMemo(function(){return i(i({},B),U)},[O]),Q=V.ref,et=V.startOnMount,rt=V.enableReinitialize,ut=V.delay,G=V.onEnd,q=V.onStart,K=V.onPauseResume,lt=V.onReset,I=V.onUpdate,nt=g(V,D),gt=r.useRef(),bt=r.useRef(),St=r.useRef(!1),ft=b(function(){return w(typeof Q=="string"?Q:Q.current,nt)}),Mt=b(function(Z){var Ut=gt.current;if(Ut&&!Z)return Ut;var Ot=ft();return gt.current=Ot,Ot}),Lt=b(function(){var Z=function(){return Mt(!0).start(function(){G?.({pauseResume:Yt,reset:$t,start:Pe,update:Me})})};ut&&ut>0?bt.current=setTimeout(Z,ut*1e3):Z(),q?.({pauseResume:Yt,reset:$t,update:Me})}),Yt=b(function(){Mt().pauseResume(),K?.({reset:$t,start:Pe,update:Me})}),$t=b(function(){Mt().el&&(bt.current&&clearTimeout(bt.current),Mt().reset(),lt?.({pauseResume:Yt,start:Pe,update:Me}))}),Me=b(function(Z){Mt().update(Z),I?.({pauseResume:Yt,reset:$t,start:Pe})}),Pe=b(function(){$t(),Lt()}),_e=b(function(Z){et&&(Z&&$t(),Lt())});return r.useEffect(function(){St.current?rt&&_e(!0):(St.current=!0,_e())},[rt,St,_e,ut,O.start,O.suffix,O.prefix,O.duration,O.separator,O.decimals,O.decimal,O.formattingFn]),r.useEffect(function(){return function(){$t()}},[$t]),{start:Pe,pauseResume:Yt,reset:$t,update:Me,getCountUp:Mt}},P=["className","redraw","containerProps","children","style"],H=function(O){var U=O.className,V=O.redraw,Q=O.containerProps,et=O.children,rt=O.style,ut=g(O,P),G=r.useRef(null),q=r.useRef(!1),K=L(i(i({},ut),{},{ref:G,startOnMount:typeof et!="function"||O.delay===0,enableReinitialize:!1})),lt=K.start,I=K.reset,nt=K.update,gt=K.pauseResume,bt=K.getCountUp,St=b(function(){lt()}),ft=b(function(Yt){O.preserveValue||I(),nt(Yt)}),Mt=b(function(){if(typeof O.children=="function"&&!(G.current instanceof Element)){console.error(`Couldn't find attached element to hook the CountUp instance into! Try to attach "containerRef" from the render prop to a an Element, eg. <span ref={containerRef} />.`);return}bt()});r.useEffect(function(){Mt()},[Mt]),r.useEffect(function(){q.current&&ft(O.end)},[O.end,ft]);var Lt=V&&O;return r.useEffect(function(){V&&q.current&&St()},[St,V,Lt]),r.useEffect(function(){!V&&q.current&&St()},[St,V,O.start,O.suffix,O.prefix,O.duration,O.separator,O.decimals,O.decimal,O.className,O.formattingFn]),r.useEffect(function(){q.current=!0},[]),typeof et=="function"?et({countUpRef:G,start:lt,reset:I,update:nt,pauseResume:gt,getCountUp:bt}):r.createElement("span",d({className:U,ref:G,style:rt},Q),typeof O.start<"u"?bt().formattingFn(O.start):"")};return x0.default=H,x0.useCountUp=L,x0}var D8=B8();const O8=Nm(D8);Om.registerPlugin(wn);const U8=()=>{const r=xe.useRef(null),t=xe.useRef([]);return xS(()=>{t.current.forEach((e,n)=>{const i=e.querySelector(".counter-number"),s=tC[n];Om.set(i,{innerText:"0"}),Om.to(i,{innerText:s.value,duration:2.5,ease:"power2.out",snap:{innerText:1},scrollTrigger:{trigger:"#counter",start:"top center"},onComplete:()=>{i.textContent=`${s.value}${s.suffix}`}})},r)},[]),fe.jsx("div",{id:"counter",ref:r,className:"padding-x-lg xl:mt-0 mt-32",children:fe.jsx("div",{className:"mx-auto grid-4-cols",children:tC.map((e,n)=>fe.jsxs("div",{ref:i=>i&&(t.current[n]=i),className:"bg-zinc-900 rounded-lg p-10 flex flex-col justify-center",children:[fe.jsxs("div",{className:"counter-number text-white-50 text-5xl font-bold mb-2",children:["0 ",e.suffix,fe.jsx(O8,{suffix:e.suffix,end:e.value})]}),fe.jsx("div",{className:"text-white-50 text-lg",children:e.label})]},n))})})},N8=()=>(xS(()=>{Om.fromTo(".hero-text h1",{y:50,opacity:0},{y:0,opacity:1,duration:1,ease:"power2.out",stagger:.2})}),fe.jsxs("section",{id:"hero",className:"relative overflow-hidden",children:[fe.jsx("div",{className:"absolute top-0 left-0 z-10",children:fe.jsx("img",{src:"/images/bg.png",alt:"background"})}),fe.jsxs("div",{className:"hero-layout",children:[fe.jsx("header",{className:"flex flex-col justify-center md:w-full w-screen md:px-20 px-5",children:fe.jsxs("div",{className:"flex flex-col gap-7",children:[fe.jsxs("div",{className:"hero-text",children:[fe.jsxs("h1",{children:["Turning",fe.jsx("span",{className:"slide",children:fe.jsx("span",{className:"wrapper",children:JO.map(r=>fe.jsxs("span",{className:"flex items-center md:gap-3 gap-1 pb-2",children:[fe.jsx("img",{src:r.imgPath,alt:r.text,className:"xl:size-12 md:size-10 size-7 md:p-2 p-1 rounded-full bg-white-50"}),fe.jsx("span",{children:r.text})]},r.text))})})]}),fe.jsx("h1",{children:"into Scalable Solutions"}),fe.jsx("h1",{children:"that Deliver Real Impact"})]}),fe.jsx("p",{className:"ttext-white-50 md:text-xl relative z-10",children:"Hi, I'm Tyler. A data enthusiast crafting GenAI tools and scalable data systems."}),fe.jsx(KO,{text:"See My Work",className:"md:w-80 md:h-16 w-60 h-12",id:"counter"})]})}),fe.jsx("figure",{children:fe.jsx("div",{className:"hero-3d-layout",children:fe.jsx(JV,{})})})]}),fe.jsx(U8,{})]})),L8=()=>fe.jsx(fe.Fragment,{children:fe.jsx(N8,{})});qO.createRoot(document.getElementById("root")).render(fe.jsx(xe.StrictMode,{children:fe.jsx(L8,{})}));
